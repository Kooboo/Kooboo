import{_ as E}from"./icon-button.74ccc970.js";import{g as w}from"./i18n.a87944a4.js";import{_ as x}from"./dropdown-input.f2d4a501.js";import{c as O}from"./cloneDeep.c5011aa2.js";import{E as R}from"./index.178b9e08.js";import{E as F}from"./index.9fd79879.js";import{d as D,g as N,i as j,o as p,a as k,F as L,b7 as P,b as c,w as b,aU as V,u as m,j as C,f as q}from"./url.4cb47a7a.js";const z={class:"space-y-4"},T=D({props:{modelValue:null,keyInputAttributes:null,valueInputAttributes:null,defaultOptions:null,keyRules:null,valueRules:null,prop:null},emits:["update:model-value","delete","add"],setup(o,{emit:u}){const y=o,e=N([]);j(()=>y.modelValue,a=>{e.value=a?O(a):[]},{deep:!0,immediate:!0});const{t:d}=w();function A(a){e.value.splice(a,1),u("update:model-value",e.value),u("delete")}function B(){e.value.push({key:"",value:"",options:y.defaultOptions}),u("update:model-value",e.value),u("add")}function f(a,t,v,i){return typeof a=="function"?a(t,v,i):a}return(a,t)=>{const v=R,i=F,$=E;return p(),k("div",z,[(p(!0),k(L,null,P(e.value,(l,n)=>{var g,h;return p(),k("div",{key:n,class:"flex items-center space-x-4 mb-16"},[c(i,{prop:`${(g=o.prop)!=null?g:""}[${n}].key`,class:"flex-1",rules:o.keyRules},{default:b(()=>[c(v,V({modelValue:l.key,"onUpdate:modelValue":s=>l.key=s,placeholder:m(d)("common.key")},f(o.keyInputAttributes,l,n,e.value),{onChange:t[0]||(t[0]=s=>u("update:model-value",e.value))}),null,16,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["prop","rules"]),c(i,{prop:`${(h=o.prop)!=null?h:""}[${n}].value`,class:"flex-1",rules:o.valueRules},{default:b(()=>{var s,I,U;return[(I=(s=l.options)!=null?s:o.defaultOptions)!=null&&I.length?(p(),C(x,V({key:0,modelValue:l.value,"onUpdate:modelValue":r=>l.value=r,options:(U=l.options)!=null?U:o.defaultOptions,class:"w-full",placeholder:m(d)("common.value")},f(o.valueInputAttributes,l,n,e.value),{"onUpdate:modelValue":t[1]||(t[1]=r=>u("update:model-value",e.value))}),null,16,["modelValue","onUpdate:modelValue","options","placeholder"])):(p(),C(v,V({key:1,modelValue:l.value,"onUpdate:modelValue":r=>l.value=r,placeholder:m(d)("common.value")},f(o.valueInputAttributes,l,n,e.value),{onChange:t[2]||(t[2]=r=>u("update:model-value",e.value))}),null,16,["modelValue","onUpdate:modelValue","placeholder"]))]}),_:2},1032,["prop","rules"]),q("div",null,[c($,{circle:"",class:"hover:text-orange text-orange",icon:"icon-delete ",tip:m(d)("common.delete"),onClick:s=>A(n)},null,8,["tip","onClick"])])])}),128)),c($,{circle:"",class:"text-blue",icon:"icon-a-addto ",tip:m(d)("common.add"),onClick:B},null,8,["tip"])])}}});export{T as _};
