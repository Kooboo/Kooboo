var w=(e,c,s)=>new Promise((V,t)=>{var y=i=>{try{l(s.next(i))}catch(m){t(m)}},r=i=>{try{l(s.throw(i))}catch(m){t(m)}},l=i=>i.done?V(i.value):Promise.resolve(i.value).then(y,r);l((s=s.apply(e,c)).next())});import{g as D}from"./i18n.25caaace.js";import{b as A,e as P}from"./discount.9bf30908.js";import{_ as F}from"./condition.7db27095.js";import{n as M}from"./guid.c1a40312.js";import{E as C}from"./index.f571dfc9.js";import{E as N}from"./index.e9f8834a.js";import{d as S,o as v,a as B,b as o,G as R,j as E,w as a,aH as p,t as f,u as n,k as g,g as U,i as G,f as u}from"./url.8f5ec20c.js";import{E as $}from"./index.db6dfc3c.js";import{E as L,a as _}from"./index.94998415.js";import{E as j}from"./index.93cb5a2c.js";import{b as T,a as H}from"./index.5b499f72.js";import{E as q}from"./index.537a2de2.js";const z={class:"flex space-x-4"},J=S({props:{modelValue:null,auto:{type:Boolean}},emits:["update:model-value"],setup(e,{emit:c}){const s=e,{t:V}=D();function t(){c("update:model-value",M().substring(0,6).toUpperCase())}return s.auto&&!s.modelValue&&t(),(y,r)=>{const l=C,i=N;return v(),B("div",z,[o(l,{modelValue:e.modelValue,"onUpdate:modelValue":[r[0]||(r[0]=m=>R(modelValue)?modelValue.value=m:null),r[1]||(r[1]=m=>c("update:model-value",m))],class:"w-280px"},null,8,["modelValue"]),e.auto?g("",!0):(v(),E(i,{key:0,type:"primary",onClick:t},{default:a(()=>[p(f(n(V)("common.generate")),1)]),_:1}))])}}}),K={class:"px-24 pt-0 pb-84px space-y-12"},Q={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},W={class:"grid grid-cols-2 gap-x-8"},X={class:"flex items-center space-x-8"},Y=u("span",{class:"text-l font-bold"},"~",-1),Z={class:"grid grid-cols-2 gap-x-8"},ee={class:"space-y-4"},le={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},oe={class:"space-y-4 w-full"},te={class:"space-y-4"},ae={class:"w-16 h-16 flex items-center justify-center"},de={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},Ee=S({props:{model:null},setup(e){const c=e,s=U([]),V=U(""),{t}=D();function y(r){return w(this,null,function*(){r=="ProductAmountOff"?(V.value=t("commerce.orderLineMustMatch"),s.value=yield A()):(V.value=t("commerce.orderMustMatch"),s.value=yield P())})}return y(c.model.type),G(()=>c.model.type,()=>{s.value=[],c.model.condition.isAny=!1,c.model.condition.items=[],y(c.model.type)}),(r,l)=>{const i=C,m=L,k=j,I=$,b=T,x=H,O=q,h=_;return v(),B("div",K,[u("div",Q,[o(h,{"label-position":"top"},{default:a(()=>[o(m,{label:n(t)("common.title")},{default:a(()=>[o(i,{modelValue:e.model.title,"onUpdate:modelValue":l[0]||(l[0]=d=>e.model.title=d)},null,8,["modelValue"])]),_:1},8,["label"]),u("div",W,[o(m,{label:n(t)("common.activeTime")},{default:a(()=>[u("div",X,[o(k,{modelValue:e.model.startDate,"onUpdate:modelValue":l[1]||(l[1]=d=>e.model.startDate=d),type:"datetime"},null,8,["modelValue"]),Y,o(k,{modelValue:e.model.endDate,"onUpdate:modelValue":l[2]||(l[2]=d=>e.model.endDate=d),type:"datetime"},null,8,["modelValue"])])]),_:1},8,["label"]),o(m,{label:n(t)("common.priority")},{default:a(()=>[o(I,{modelValue:e.model.priority,"onUpdate:modelValue":l[3]||(l[3]=d=>e.model.priority=d),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["label"])]),u("div",Z,[o(m,{label:n(t)("commerce.method")},{default:a(()=>[u("div",ee,[u("div",null,[o(x,{modelValue:e.model.method,"onUpdate:modelValue":l[4]||(l[4]=d=>e.model.method=d)},{default:a(()=>[o(b,{label:"AutomaticDiscount"},{default:a(()=>[p(f(n(t)("commerce.automaticDiscount")),1)]),_:1}),o(b,{label:"DiscountCode"},{default:a(()=>[p(f(n(t)("commerce.discountCode")),1)]),_:1})]),_:1},8,["modelValue"])]),e.model.method=="DiscountCode"?(v(),E(J,{key:0,modelValue:e.model.code,"onUpdate:modelValue":l[5]||(l[5]=d=>e.model.code=d),auto:""},null,8,["modelValue"])):g("",!0)])]),_:1},8,["label"]),o(m,{label:n(t)("commerce.isExclusion")},{default:a(()=>[o(O,{modelValue:e.model.isExclusion,"onUpdate:modelValue":l[6]||(l[6]=d=>e.model.isExclusion=d)},null,8,["modelValue"])]),_:1},8,["label"])])]),_:1})]),u("div",le,[o(h,{"label-position":"top"},{default:a(()=>[o(m,{label:n(t)("common.type")},{default:a(()=>[u("div",oe,[u("div",te,[u("div",null,[o(x,{modelValue:e.model.type,"onUpdate:modelValue":l[7]||(l[7]=d=>e.model.type=d)},{default:a(()=>[o(b,{label:"ProductAmountOff"},{default:a(()=>[p(f(n(t)("commerce.productAmountOff")),1)]),_:1}),o(b,{label:"OrderAmountOff"},{default:a(()=>[p(f(n(t)("commerce.orderAmountOff")),1)]),_:1}),o(b,{label:"FreeShipping"},{default:a(()=>[p(f(n(t)("commerce.freeShipping")),1)]),_:1})]),_:1},8,["modelValue"])])])])]),_:1},8,["label"]),e.model.type!="FreeShipping"?(v(),E(m,{key:0,label:n(t)("commerce.accordingBy")},{default:a(()=>[u("div",null,[u("div",null,[o(x,{modelValue:e.model.isPercent,"onUpdate:modelValue":l[8]||(l[8]=d=>e.model.isPercent=d)},{default:a(()=>[o(b,{label:!1},{default:a(()=>[p(f(n(t)("common.amount")),1)]),_:1}),o(b,{label:!0},{default:a(()=>[p(f(n(t)("common.percent")),1)]),_:1})]),_:1},8,["modelValue"])]),o(i,{modelValue:e.model.value,"onUpdate:modelValue":l[9]||(l[9]=d=>e.model.value=d),modelModifiers:{number:!0},class:"w-280px"},{suffix:a(()=>[u("div",ae,f(e.model.isPercent?"%":"$"),1)]),_:1},8,["modelValue"])])]),_:1},8,["label"])):g("",!0)]),_:1})]),u("div",de,[s.value.length?(v(),E(F,{key:0,condition:e.model.condition,schemas:s.value,title:V.value},null,8,["condition","schemas","title"])):g("",!0)])])}}});export{Ee as _};
