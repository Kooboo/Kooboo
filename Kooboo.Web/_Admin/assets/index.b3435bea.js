var f=(h,e,r)=>new Promise((s,c)=>{var p=t=>{try{a(r.next(t))}catch(n){c(n)}},d=t=>{try{a(r.throw(t))}catch(n){c(n)}},a=t=>t.done?s(t.value):Promise.resolve(t.value).then(p,d);a((r=r.apply(h,e)).next())});import{_ as B}from"./icon-button.a2edb33f.js";import{_ as T}from"./k-table.c1a07faa.js";import{a as C,d as D}from"./content-type.72b7eb4e.js";import{u as v}from"./replace-all.e310d26c.js";import{B as S}from"./breadcrumb.3432b615.js";import{b as I}from"./confirm.f89fa710.js";import{g as N}from"./i18n.0d8cb6d1.js";import{d as V,cd as $,g as P,h as R,N as j,b7 as q,o as u,a as A,b as i,u as o,f as H,e as L,j as y,w as m,aH as M,t as z}from"./url.8f5ec20c.js";import{u as F}from"./main.d919dab0.js";import{E as G}from"./windi.dcba9a95.js";import{E as J}from"./index.c7806af3.js";import{E as K}from"./index.8e0d96d6.js";import{E as O}from"./index.38840738.js";import"./index.36905e5d.js";import"./index.1d64e54f.js";import"./sortable.esm.a99254e8.js";import"./index.17321c3b.js";import"./index.9a7a049b.js";import"./index.97ced36a.js";import"./event.776e7e11.js";import"./index.6e9a6658.js";import"./error.7e8331f1.js";import"./isNil.98bb3b88.js";import"./index.3d638063.js";import"./scroll.9a94de30.js";import"./isEqual.8058d1d5.js";import"./_baseIsEqual.f1f57955.js";import"./debounce.730e1961.js";import"./toNumber.6efebd6a.js";import"./index.6d134d76.js";import"./validator.11bc55c7.js";import"./index.ec3d8ab1.js";import"./index.230671a2.js";/* empty css                                                               */import"./plugin-vue_export-helper.21dcd24c.js";import"./plugin-vue_export-helper.41ffa612.js";import"./logo-transparent.1566007e.js";import"./index.ab7ae43a.js";import"./index.1e651ffe.js";import"./aria.75ec5909.js";import"./event.53b2ad83.js";import"./focus-trap.0c15535f.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";const Q={class:"p-24"},U={class:"flex items-center py-24 space-x-16"},Mt=V({setup(h){const{t:e}=N(),r=$(),s=P([]),c=F();R(()=>{p()});function p(){return f(this,null,function*(){s.value=yield C()})}function d(t){return f(this,null,function*(){yield I(t.length);const n=t.map(l=>l.id);yield D({ids:n}),p()})}function a(){r.push(v({name:"contenttype"}))}return(t,n)=>{const l=G,w=J,_=K,k=O,x=j("router-link"),E=B,g=q("hasPermission");return u(),A("div",Q,[i(S,{name:o(e)("common.contentTypes")},null,8,["name"]),H("div",U,[L((u(),y(w,{round:"","data-cy":"create",onClick:n[0]||(n[0]=b=>a())},{default:m(()=>[i(l,{class:"iconfont icon-a-addto"}),M(" "+z(o(e)("common.create")),1)]),_:1})),[[g,{feature:"contentType",action:"edit"}]])]),i(o(T),{data:s.value,"show-check":"",permission:{feature:"contentType",action:"delete"},onDelete:d},{default:m(()=>[i(_,{label:o(e)("common.name"),prop:"name"},null,8,["label"]),i(_,{label:o(e)("common.fields"),prop:"propertyCount",align:"center"},null,8,["label"]),i(_,{width:"70",align:"right"},{default:m(({row:b})=>[o(c).hasAccess("contentType")?(u(),y(x,{key:0,to:o(v)({name:"contenttype",query:{id:b.id}}),"data-cy":"edit",class:"mx-8"},{default:m(()=>[i(k,{placement:"top",content:o(e)("common.edit")},{default:m(()=>[i(l,{class:"iconfont icon-a-writein hover:text-blue text-l"})]),_:1},8,["content"])]),_:2},1032,["to"])):(u(),y(E,{key:1,permission:{feature:"contentType",action:"view"},icon:"icon-a-writein",tip:o(e)("common.edit")},null,8,["tip"]))]),_:1})]),_:1},8,["data"])])}}});export{Mt as default};
