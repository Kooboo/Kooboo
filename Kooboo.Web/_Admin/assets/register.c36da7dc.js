var v=(g,t,i)=>new Promise((e,u)=>{var n=l=>{try{d(i.next(l))}catch(c){u(c)}},_=l=>{try{d(i.throw(l))}catch(c){u(c)}},d=l=>l.done?e(l.value):Promise.resolve(l.value).then(n,_);d((i=i.apply(g,t)).next())});import{g as U,o as h,w as B}from"./i18n.2d8b30eb.js";import{_ as F}from"./container.dca2910f.js";import{i as T,r as N}from"./index.b3e4ff8e.js";import{d as q,g as P,E as I,cd as S,o as D,a as K,b as a,w as m,u as o,aH as y,t as w,f as V,x as A}from"./url.8f5ec20c.js";import{B as L,e as $,a as E,i as z,E as H,C as M,F as Q}from"./validate.348f94d6.js";import{u as j}from"./use-first-input-focus.0df83e78.js";import{P as G}from"./main.d8c6ef59.js";import{E as J}from"./index.bb5499e2.js";import{E as O,a as W}from"./index.a141884f.js";import{E as X}from"./index.96970839.js";import{E as Y}from"./index.5f2a659f.js";import{E as Z}from"./index.a4ff385c.js";import{E as oo}from"./index.593106e3.js";import"./logo-transparent.1566007e.js";import"./light-switch.0d127fee.js";import"./dark.7c26a0d3.js";import"./plugin-vue_export-helper.41ffa612.js";import"./windi.bf752d69.js";import"./index.37979027.js";import"./index.3dc39d21.js";import"./replace-all.dd6016f2.js";import"./index.832f2769.js";import"./index.5af167df.js";import"./style.ad574a57.js";import"./toNumber.6efebd6a.js";import"./_baseIsEqual.2f38f7c3.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./event.776e7e11.js";import"./index.a595fe6d.js";import"./error.7e8331f1.js";import"./isNil.98bb3b88.js";import"./_baseClone.29a8cd97.js";import"./isEqual.c3e9e9f4.js";import"./index.bf8ed8c6.js";import"./scroll.54c27fbd.js";import"./index.0535d5fe.js";import"./focus-trap.3f074800.js";import"./refs.d2253dd4.js";const eo={class:"h-full overflow-hidden"},to={class:"text-s pt-8 dark:text-fff/50"},ao={class:"text-s pt-8 dark:text-fff/50",href:"https://www.kooboo.com/terms"},so={class:"space-y-16"},jo=q({setup(g){const{t}=U(),i=P(!1);j();const e=I({username:"",password:"",confirmPassword:"",email:"",tel:"",code:""}),u={username:L,email:[$,E(t("common.inputEmailTips")),z(T,t("common.theEmailAlreadyExists"))],password:[E(t("common.inputPasswordTips")),H,M],confirmPassword:[E(t("common.inputConfirmPasswordTips")),Q(e)]},n=P(),_=S(),d=()=>{e.confirmPassword.length>0&&n.value.validateField("confirmPassword")},l=()=>v(this,null,function*(){if(yield n.value.validate(),yield N(e),!e.code){i.value=!0;return}A("vscode-require-auth")?G():_.replace({name:"home"})});return(c,s)=>{const p=J,f=O,k=W,b=X,x=Y,C=Z,R=oo;return D(),K("div",eo,[a(R,null,{default:m(()=>[a(F,{title:o(t)("common.register"),back:"",onKeypress:h(l,["enter"])},{default:m(()=>[a(k,{ref_key:"form",ref:n,"label-position":"top",model:o(e),rules:o(u)},{default:m(()=>[a(f,{label:o(t)("common.username"),prop:"username"},{default:m(()=>[a(p,{modelValue:o(e).username,"onUpdate:modelValue":s[0]||(s[0]=r=>o(e).username=r),"data-cy":"username"},null,8,["modelValue"])]),_:1},8,["label"]),a(f,{label:o(t)("common.email"),prop:"email"},{default:m(()=>[a(p,{modelValue:o(e).email,"onUpdate:modelValue":s[1]||(s[1]=r=>o(e).email=r),"data-cy":"email"},null,8,["modelValue"])]),_:1},8,["label"]),a(f,{ref:"psw",label:o(t)("common.password"),prop:"password"},{default:m(()=>[a(p,{modelValue:o(e).password,"onUpdate:modelValue":s[2]||(s[2]=r=>o(e).password=r),type:"password","data-cy":"password",onBlur:d},null,8,["modelValue"])]),_:1},8,["label"]),a(f,{label:o(t)("common.confirmPassword"),prop:"confirmPassword"},{default:m(()=>[a(p,{modelValue:o(e).confirmPassword,"onUpdate:modelValue":s[3]||(s[3]=r=>o(e).confirmPassword=r),type:"password","data-cy":"confirm-password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"]),a(b,{class:"w-full",round:"",type:"primary",size:"large","data-cy":"register",onClick:B(l,["prevent"])},{default:m(()=>[y(w(o(t)("common.register")),1)]),_:1},8,["onClick"]),V("p",to,[y(w(o(t)("common.registerTips"))+" ",1),V("a",ao,w(o(t)("common.termsandcondition")),1)])]),_:1},8,["title","onKeypress"]),a(C,{modelValue:i.value,"onUpdate:modelValue":s[5]||(s[5]=r=>i.value=r),width:"400px","close-on-click-modal":!1,title:o(t)("common.validation"),onClosed:s[6]||(s[6]=r=>o(e).code="")},{footer:m(()=>[a(b,{type:"primary",class:"w-full",disabled:!o(e).code,onClick:l},{default:m(()=>[y(w(o(t)("common.confirm")),1)]),_:1},8,["disabled"])]),default:m(()=>[V("div",so,[a(x,{title:o(t)("common.registerVerifyCodeSentTip"),type:"info",closable:!1},null,8,["title"]),a(p,{modelValue:o(e).code,"onUpdate:modelValue":s[4]||(s[4]=r=>o(e).code=r),placeholder:o(t)("common.verifyCode")},null,8,["modelValue","placeholder"])])]),_:1},8,["modelValue","title"])]),_:1})])}}});export{jo as default};
