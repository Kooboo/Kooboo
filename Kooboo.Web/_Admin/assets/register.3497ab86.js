var y=(g,r,l)=>new Promise((e,u)=>{var p=a=>{try{d(l.next(a))}catch(n){u(n)}},w=a=>{try{d(l.throw(a))}catch(n){u(n)}},d=a=>a.done?e(a.value):Promise.resolve(a.value).then(p,w);d((l=l.apply(g,r)).next())});import{g as R,o as C,w as U}from"./i18n.97105311.js";import{_ as B}from"./container.897c9065.js";import{i as F,r as T}from"./index.51a59403.js";import{d as N,g as E,E as S,cd as q,o as I,a as $,b as s,w as i,u as o,aH as b,t as _,f as v,x as h}from"./url.2e6a77c4.js";import{B as D,e as K,a as V,i as L,E as z,C as A,F as H}from"./validate.98ddbafd.js";import{u as M}from"./use-first-input-focus.12142181.js";import{S as O}from"./main.52487121.js";import{_ as Q}from"./two-fa-verify-dialog.ea0f9c88.js";import{E as j}from"./index.4587e608.js";import{E as G,a as J}from"./index.317a7f30.js";import{E as W}from"./index.b09a9f00.js";import{E as X}from"./index.f997a738.js";import"./logo-transparent.1566007e.js";import"./light-switch.b8936b7e.js";import"./dark.ea14b486.js";import"./plugin-vue_export-helper.41ffa612.js";import"./windi.539ebeab.js";import"./index.99641a60.js";import"./index.77759eed.js";import"./replace-all.8fa5a83d.js";import"./index.b1fe55d8.js";import"./index.29d7c76d.js";import"./style.f835519e.js";import"./toNumber.574be4f1.js";import"./_baseIsEqual.abb55a3a.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./index.a163a028.js";import"./index.4b289bae.js";import"./index.07e210fb.js";import"./error.7e8331f1.js";import"./scroll.8babc10c.js";import"./index.bc93d068.js";import"./focus-trap.de18cf8f.js";import"./isNil.98bb3b88.js";import"./refs.4001ce17.js";import"./event.776e7e11.js";import"./index.9e96921b.js";import"./_baseClone.f10ff33c.js";import"./isEqual.3700b7f1.js";const Y={class:"h-full overflow-hidden"},Z={class:"text-s pt-8 dark:text-fff/50"},oo={class:"text-s pt-8 dark:text-fff/50",href:"https://www.kooboo.com/terms"},Ho=N({setup(g){const{t:r}=R(),l=E(!1);M();const e=S({username:"",password:"",confirmPassword:"",email:"",tel:"",code:""}),u={username:D,email:[K,V(r("common.inputEmailTips")),L(F,r("common.theEmailAlreadyExists"))],password:[V(r("common.inputPasswordTips")),z,A],confirmPassword:[V(r("common.inputConfirmPasswordTips")),H(e)]},p=E(),w=q(),d=()=>{e.confirmPassword.length>0&&p.value.validateField("confirmPassword")},a=n=>y(this,null,function*(){if(e.code=n,yield p.value.validate(),yield T(e),!e.code){l.value=!0;return}h("vscode-require-auth")?O():w.replace({name:"home"})});return(n,t)=>{const f=j,c=G,P=J,x=W,k=X;return I(),$("div",Y,[s(k,null,{default:i(()=>[s(B,{title:o(r)("common.register"),back:"",onKeypress:t[5]||(t[5]=C(m=>a(),["enter"]))},{default:i(()=>[s(P,{ref_key:"form",ref:p,"label-position":"top",model:o(e),rules:o(u)},{default:i(()=>[s(c,{label:o(r)("common.username"),prop:"username"},{default:i(()=>[s(f,{modelValue:o(e).username,"onUpdate:modelValue":t[0]||(t[0]=m=>o(e).username=m),"data-cy":"username"},null,8,["modelValue"])]),_:1},8,["label"]),s(c,{label:o(r)("common.email"),prop:"email"},{default:i(()=>[s(f,{modelValue:o(e).email,"onUpdate:modelValue":t[1]||(t[1]=m=>o(e).email=m),"data-cy":"email"},null,8,["modelValue"])]),_:1},8,["label"]),s(c,{ref:"psw",label:o(r)("common.password"),prop:"password"},{default:i(()=>[s(f,{modelValue:o(e).password,"onUpdate:modelValue":t[2]||(t[2]=m=>o(e).password=m),type:"password","data-cy":"password",onBlur:d},null,8,["modelValue"])]),_:1},8,["label"]),s(c,{label:o(r)("common.confirmPassword"),prop:"confirmPassword"},{default:i(()=>[s(f,{modelValue:o(e).confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=m=>o(e).confirmPassword=m),type:"password","data-cy":"confirm-password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"]),s(x,{class:"w-full",round:"",type:"primary",size:"large","data-cy":"register",onClick:t[4]||(t[4]=U(m=>a(),["prevent"]))},{default:i(()=>[b(_(o(r)("common.register")),1)]),_:1}),v("p",Z,[b(_(o(r)("common.registerTips"))+" ",1),v("a",oo,_(o(r)("common.termsandcondition")),1)])]),_:1},8,["title"]),s(Q,{modelValue:l.value,"onUpdate:modelValue":t[6]||(t[6]=m=>l.value=m),tip:o(r)("common.registerVerifyCodeSentTip"),onOk:a},null,8,["modelValue","tip"])]),_:1})])}}});export{Ho as default};
