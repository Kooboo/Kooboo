var je=Object.defineProperty,He=Object.defineProperties;var Ke=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var fe=(n,e,t)=>e in n?je(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,J=(n,e)=>{for(var t in e||(e={}))De.call(e,t)&&fe(n,t,e[t]);if(de)for(var t of de(e))Oe.call(e,t)&&fe(n,t,e[t]);return n},me=(n,e)=>He(n,Ke(e));var R=(n,e,t)=>new Promise((o,s)=>{var l=i=>{try{r(t.next(i))}catch(d){s(d)}},a=i=>{try{r(t.throw(i))}catch(d){s(d)}},r=i=>i.done?o(i.value):Promise.resolve(i.value).then(l,a);r((t=t.apply(n,e)).next())});import{d as x,o as u,a as E,f as D,n as Q,u as _,r as H,j as h,w,l as Ue,k as U,aI as Y,t as M,s as Te,g as B,H as T,C as L,c as P,b7 as oe,F,O as Be,b as O,m as Le,aU as ge,b3 as pe,ar as he,bi as Z,B as q,i as X,L as ye,bA as be,aA as Ne}from"./url.4cb47a7a.js";import"./vue.esm-bundler.53c88cf2.js";import{b as Re,i as qe,k as Me,u as Se,E as we,_ as Fe,w as Ge}from"./windi.6360286d.js";import{s as ae,G,g as ee,a as ve}from"./utils.aa7941f8.js";import{E as ne}from"./index.361e2245.js";import{E as Ye}from"./index.6f16842c.js";import{E as Je,a as Qe}from"./index.7c862087.js";import{E as We}from"./index.178b9e08.js";import{E as Xe}from"./index.76f9eac7.js";import{E as $e}from"./index.6918f0a5.js";import{g as ue,w as Ze,C as ie,h as et,m as tt}from"./i18n.a87944a4.js";import{E as ke}from"./index.7df1cda1.js";import{E as ot,a as nt}from"./index.9fd79879.js";import{_ as Ee}from"./plugin-vue_export-helper.21dcd24c.js";import{E as st}from"./index.c6da2706.js";import{E as Ce}from"./index.1b4db5fb.js";import{u as at}from"./index.4d568055.js";import{E as lt}from"./index.fd96ea36.js";import{E as rt}from"./index.1f664aab.js";import{s as ut}from"./confirm.b60b5d2f.js";import{_ as ce}from"./plugin-vue_export-helper.41ffa612.js";import{E as it,a as ct}from"./index.b38edc72.js";import{E as dt}from"./index.c003dfa1.js";import"./index.f2c1b903.js";import"./index.c10802d9.js";import"./error.7e8331f1.js";import"./scroll.16983984.js";import"./aria.75ec5909.js";import"./event.53b2ad83.js";import"./focus-trap.50a00b7f.js";import"./isNil.98bb3b88.js";import"./validator.b5df2420.js";import"./index.7b8c5aef.js";import"./event.776e7e11.js";import"./index.e3f90979.js";import"./index.d96452a6.js";import"./isEqual.4cab74e3.js";import"./_baseIsEqual.dc9e64c4.js";import"./debounce.4e0c106e.js";import"./toNumber.47eea968.js";import"./index.66319a92.js";import"./dayjs.min.ccc40d4f.js";import"./_baseClone.b8903935.js";import"./index.c33743a1.js";import"./browser.aedb6977.js";import"./throttle.1f6a079c.js";import"./position.7590de53.js";import"./logo-transparent.1566007e.js";import"./index.42922617.js";import"./refs.3132cbdb.js";const ft=Re({icon:{type:qe,default:()=>Me},title:String,content:{type:String,default:""}}),mt={back:()=>!0},pt={name:"ElPageHeader"},vt=x(me(J({},pt),{props:ft,emits:mt,setup(n,{emit:e}){const{t}=at(),o=Se("page-header");function s(){e("back")}return(l,a)=>(u(),E("div",{class:Q(_(o).b())},[D("div",{class:Q(_(o).e("left")),onClick:s},[l.icon||l.$slots.icon?(u(),E("div",{key:0,class:Q(_(o).e("icon"))},[H(l.$slots,"icon",{},()=>[l.icon?(u(),h(_(we),{key:0},{default:w(()=>[(u(),h(Ue(l.icon)))]),_:1})):U("v-if",!0)])],2)):U("v-if",!0),D("div",{class:Q(_(o).e("title"))},[H(l.$slots,"title",{},()=>[Y(M(l.title||_(t)("el.pageHeader.title")),1)])],2)],2),D("div",{class:Q(_(o).e("content"))},[H(l.$slots,"content",{},()=>[Y(M(l.content),1)])],2)],2))}}));var _t=Fe(vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const gt=Ge(_t);function ht(){const n=Te({});function e(a,r){const i=o(a);if(!(!i||!i.exposed))return i.exposed[r]}function t(a,r){let i=B(void 0);if(!a)return i;if(r){const d=e(a,r);T(d)&&(i=d)}else{const d=n[a];T(d)&&(i=d)}return i}function o(a){const r=n[a];if(!(!r||T(r)))return r}function s(a,r){const i=o(a);if(!i||!i.exposed)return;const d=i.exposed[r];if(typeof d=="function")return d}function l(a,r){!a||!r||(n[a]=r)}return{pageState:n,getState:t,getExposedAction:s,setState:l}}const N="__page_state__",xe="__page_auth__",yt=x({props:{get:null,post:null,to:null,confirm:null},setup(n){const e=n,t=L(N);function o(){return R(this,null,function*(){if(e.confirm&&(yield ae(e.confirm)),e.get){const s=t==null?void 0:t.getExposedAction(e.get,"get");s&&(yield s())}if(e.post){const s=t==null?void 0:t.getExposedAction(e.post,"post");s&&(yield s())}e.to&&(location.href=G(e.to))})}return(s,l)=>{const a=ne;return u(),h(a,{onClick:o},{default:w(()=>[H(s.$slots,"default")]),_:3})}}}),Ve=x({props:{type:null,data:null,options:null},setup(n){const e=n,t=L(N),o=P({get(){const l=t==null?void 0:t.getState(e.data);return l==null?void 0:l.value},set(l){const a=t==null?void 0:t.getState(e.data);a&&(a.value=l)}}),s=P(()=>{const l=[];if(e.options){const a=t==null?void 0:t.getState(e.options,"mappedResponse").value;if(a&&Array.isArray(a))for(const r of a)typeof r=="object"?l.push(r):l.push({label:r,value:r})}return l});return(l,a)=>{const r=Je,i=Qe,d=We,$=Xe,k=Ye,z=$e;return n.options?(u(),h(i,{key:0,modelValue:_(o),"onUpdate:modelValue":a[0]||(a[0]=m=>T(o)?o.value=m:null),clearable:""},{default:w(()=>[(u(!0),E(F,null,oe(_(s),m=>(u(),h(r,{key:m.value,label:m.label,value:m.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):n.type=="textarea"?(u(),h(d,{key:1,modelValue:_(o),"onUpdate:modelValue":a[1]||(a[1]=m=>T(o)?o.value=m:null),type:"textarea"},null,8,["modelValue"])):n.type=="date"?(u(),h($,{key:2,modelValue:_(o),"onUpdate:modelValue":a[2]||(a[2]=m=>T(o)?o.value=m:null),type:"date","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])):n.type=="number"?(u(),h(k,{key:3,modelValue:_(o),"onUpdate:modelValue":a[3]||(a[3]=m=>T(o)?o.value=m:null)},null,8,["modelValue"])):n.type=="datetime"?(u(),h($,{key:4,modelValue:_(o),"onUpdate:modelValue":a[4]||(a[4]=m=>T(o)?o.value=m:null),type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])):n.type=="switch"?(u(),h(z,{key:5,modelValue:_(o),"onUpdate:modelValue":a[5]||(a[5]=m=>T(o)?o.value=m:null)},null,8,["modelValue"])):(u(),h(d,{key:6,modelValue:_(o),"onUpdate:modelValue":a[6]||(a[6]=m=>T(o)?o.value=m:null),type:n.type},null,8,["modelValue","type"]))}}}),le=x({props:{data:null,schemas:null,to:null},setup(n){const e=n,t=L(N),{t:o}=ue(),s=P(()=>{if(e.schemas)return e.schemas;if(!!e.data)return t==null?void 0:t.getState(e.data,"items").value});function l(){return R(this,null,function*(){if(e.data){const a=t==null?void 0:t.getExposedAction(e.data,"post");a&&(yield a()),e.to?location.href=G(e.to):location.reload()}})}return(a,r)=>{const i=Be("KForm",!0),d=ke,$=ot,k=ne,z=nt;return _(s)?(u(),h(z,{key:0,"label-position":"top",onSubmit:r[0]||(r[0]=Ze(()=>{},["prevent"]))},{default:w(()=>[(u(!0),E(F,null,oe(_(s),m=>{var j;return u(),E(F,{key:m.name},[m.hidden?U("",!0):(u(),h($,{key:0,label:(j=m.label)!=null?j:m.name},{default:w(()=>[m.type=="object"?(u(),h(d,{key:0,shadow:"never",class:"w-full"},{default:w(()=>[O(i,{schemas:m.children},null,8,["schemas"])]),_:2},1024)):(u(),h(Ve,{key:1,modelValue:m.data.value,"onUpdate:modelValue":f=>m.data.value=f,type:m.type,options:m.options},null,8,["modelValue","onUpdate:modelValue","type","options"]))]),_:2},1032,["label"]))],64)}),128)),n.data?(u(),h(k,{key:0,type:"primary",onClick:l},{default:w(()=>[Y(M(_(o)("common.submit")),1)]),_:1})):U("",!0)]),_:1})):U("",!0)}}}),Ae=x({props:{align:{default:"center"}},setup(n){const e=n,t=P(()=>{switch(e.align){case"end":return"flex-end";case"start":return"flex-start";default:return"center"}});return(o,s)=>(u(),E("div",{class:"flex space-x-8",style:Le({alignItems:_(t)})},[H(o.$slots,"default")],4))}}),bt={},wt={class:"flex-1 h-full w-full"};function $t(n,e){return u(),E("div",wt,[H(n.$slots,"default")])}var re=Ee(bt,[["render",$t]]);const kt=x({props:{total:null,pageSize:null,currentPage:null},setup(n){const e=n,t=L(N);function o(r,i){if(!r)return i;if(typeof r=="number")return r;let d=t==null?void 0:t.getState(r).value;return!d||(d=parseInt(d),Number.isNaN(d))?i:d}const s=P(()=>o(e.total,1)),l=P(()=>o(e.pageSize,5)),a=P({get(){return o(e.currentPage,1)},set(r){if(typeof e.currentPage=="string"){var i=t==null?void 0:t.getState(e.currentPage);i&&(i.value=r)}}});return(r,i)=>{const d=st;return u(),h(Ae,null,{default:w(()=>[O(re),O(d,{"current-page":_(a),"onUpdate:current-page":i[0]||(i[0]=$=>T(a)?a.value=$:null),background:"",layout:"prev, pager, next",total:_(s),"page-size":_(l)},null,8,["current-page","total","page-size"]),O(re)]),_:1})}}}),Pe=x({props:{data:{default:void 0},size:{default:16},color:{default:"#303133"}},setup(n){const e=n,t=L(N),o=P(()=>t==null?void 0:t.getState(e.data).value),s=P(()=>{if(typeof e.size=="number")return e.size;switch(e.size.toLowerCase()){case"large":return 24;case"small":return 12;default:return 16}});return(l,a)=>(u(),E("p",ge({class:"whitespace-nowrap"},l.$attrs,{style:{color:n.color,fontSize:_(s)+"px"}}),[H(l.$slots,"default",{},()=>[Y(M(_(o)),1)])],16))}}),Et=["innerHTML"],Ct=x({props:{data:null},setup(n){const e=n,t=L(N),o=P(()=>{const s=t==null?void 0:t.getState(e.data).value;return s!=null?s:e.data});return(s,l)=>(u(),E("div",{innerHTML:_(o)},null,8,Et))}}),xt=x({props:{data:null},setup(n){const e=n,t=L(N),o=P(()=>{const s=t==null?void 0:t.getState(e.data).value;return s!=null?s:e.data});return(s,l)=>{const a=Ce;return u(),h(a,{src:_(o)},null,8,["src"])}}}),Vt={class:"p-24 space-y-8"},At=x({props:{size:null,back:null,title:null,auth:null},setup(n){const e=n,{t}=ue(),o=ht();pe(N,o),pe(xe,e.auth);function s(){!e.back||(location.href=G(e.back))}return(l,a)=>{const r=gt,i=lt,d=rt;return u(),h(d,{size:n.size},{default:w(()=>[O(i,null,{default:w(()=>[D("div",Vt,[n.back?(u(),h(r,{key:0,title:_(t)("common.back"),content:n.title,onBack:s},null,8,["title","content"])):n.title?(u(),h(Pe,{key:1,size:"large"},{default:w(()=>[Y(M(n.title),1)]),_:1})):U("",!0),H(l.$slots,"default")])]),_:3})]),_:3},8,["size"])}}}),Pt={class:"hidden"},zt=x({props:{id:null,get:null,post:null,to:null,initGet:null,initPost:null,from:null,loading:null,confirm:null},setup(n,{expose:e}){const t=n,o=L(N),s=L(xe),l=B({}),a=B([]),r=B({}),i=he([]),d=Z(),$=ee(d);let k=B($?JSON.parse($):void 0);if(t.from){let c=o==null?void 0:o.getState(t.from,"mappedResponse");(!c||!c.value)&&(c=o==null?void 0:o.getState(t.from)),c&&(k=c)}const z=B(k.value);o==null||o.setState(t.id,q());function m(c){if(c.length==1&&!c[0].name)return c[0].data.value;if(c.length>=1){const g={};for(const b of c)!b.name||(se.get(b.type)=="object"&&b.children?b.children&&(g[b.name]=m(b.children)):g[b.name]=b.data.value);return g}}const j=P(()=>m(i.value));function f(){if(!t.to)return;let c=t.to;Object.keys(l.value)&&(c=be(c,l.value),location.href=G(c))}function p(){return R(this,null,function*(){let c=t.initGet||t.get;c&&(t.confirm&&(yield ae(t.confirm)),yield ve(()=>R(this,null,function*(){try{k.value=yield _e(G(c),{query:l.value,headers:r.value,authUrl:s,storages:a.value})}catch(g){console.error(g)}}),t.loading))})}function v(){return R(this,null,function*(){let c=t.initPost||t.post;c&&(t.confirm&&(yield ae(t.confirm)),yield ve(()=>R(this,null,function*(){try{k.value=yield _e(G(c),{method:"POST",query:l.value,body:j.value,authUrl:s,headers:r.value,storages:a.value})}catch(g){console.error(g)}}),t.loading))})}function y(c,g){var I;const b={};for(const A of g)!A.name||(A.source=="code"&&A.from?A.data.value=window[A.from](c):A.data.value=c[(I=A.from)!=null?I:A.name],b[A.name]=A.data.value);return b}function V(c,g){if(Array.isArray(c)){const b=[];for(const I of c)b.push(V(I,g));return b}else if(typeof c=="object")return y(c,g);return c}return X(()=>k.value,()=>{i.value.length?z.value=V(k.value,i.value):z.value=k.value},{immediate:!0,deep:!0}),ye(()=>{t.initGet&&p(),t.initPost&&v()}),e({headers:r,storages:a,query:l,items:i,rawResponse:k,mappedResponse:z,get:t.initGet||t.get?p:void 0,post:t.initPost||t.post?v:void 0,to:t.to?f:void 0}),(c,g)=>(u(),E("div",Pt,[H(c.$slots,"default")]))}}),It={class:"hidden"},jt=x({props:{name:null,id:null,from:null,source:null,getOnChange:{type:Boolean},postOnChange:{type:Boolean}},setup(n){var $,k,z,m,j,f,p,v,y,V,c;const e=n,t=new ie,o=Z(),s=L(N);let l=B(($=ee(o))!=null?$:"");const a=(m=(z=(k=q())==null?void 0:k.parent)==null?void 0:z.exposed)==null?void 0:m.query,r=(p=(f=(j=q())==null?void 0:j.parent)==null?void 0:f.exposed)==null?void 0:p.get,i=(V=(y=(v=q())==null?void 0:v.parent)==null?void 0:y.exposed)==null?void 0:V.post,d=(c=e.from)!=null?c:e.name;if(a&&e.name){const g=P({get(){var b,I,A,C;switch(e.source){case"query":return new URLSearchParams(location.search).get(d);case"cookie":return t.get(d);case"local-storage":return(b=localStorage.getItem(d))!=null?b:"";case"session-storage":return(I=sessionStorage.getItem(d))!=null?I:"";case"id":return(C=(A=s==null?void 0:s.getState(d))==null?void 0:A.value)==null?void 0:C.toString();default:return l.value}},set(b){if(e.source=="id"){const I=s==null?void 0:s.getState(d);I&&(I.value=b)}l.value=b}});a.value[e.name]=g,s==null||s.setState(e.id,g),e.getOnChange&&X(()=>g.value,()=>{r&&r()}),e.postOnChange&&X(()=>g.value,()=>{i&&i()})}return(g,b)=>(u(),E("div",It,[H(g.$slots,"default")]))}}),Ht={class:"hidden"},Kt=x({props:{name:null,id:null,from:null,source:null,getOnChange:{type:Boolean},postOnChange:{type:Boolean}},setup(n){var $,k,z,m,j,f,p,v,y,V,c;const e=n,t=new ie,o=Z(),s=L(N);let l=B(($=ee(o))!=null?$:"");const a=(m=(z=(k=q())==null?void 0:k.parent)==null?void 0:z.exposed)==null?void 0:m.headers,r=(p=(f=(j=q())==null?void 0:j.parent)==null?void 0:f.exposed)==null?void 0:p.get,i=(V=(y=(v=q())==null?void 0:v.parent)==null?void 0:y.exposed)==null?void 0:V.post,d=(c=e.from)!=null?c:e.name;if(a&&e.name){const g=P({get(){var b,I,A,C;switch(e.source){case"query":return new URLSearchParams(location.search).get(d);case"cookie":return t.get(d);case"local-storage":return(b=localStorage.getItem(d))!=null?b:"";case"session-storage":return(I=sessionStorage.getItem(d))!=null?I:"";case"id":return(C=(A=s==null?void 0:s.getState(d))==null?void 0:A.value)==null?void 0:C.toString();default:return l.value}},set(b){if(e.source=="id"){const I=s==null?void 0:s.getState(d);I&&(I.value=b)}l.value=b}});a.value[e.name]=g,s==null||s.setState(e.id,g),e.getOnChange&&X(()=>g.value,()=>{r&&r()}),e.postOnChange&&X(()=>g.value,()=>{i&&i()})}return(g,b)=>(u(),E("div",Ht,[H(g.$slots,"default")]))}}),Dt={class:"hidden"},Ot=x({props:{name:null,type:null,id:null,hidden:{type:Boolean},label:null,from:null,options:null,width:null,source:null,disabled:{type:Boolean}},setup(n,{expose:e}){var f,p,v;const t=n,o=new ie,s=Z(),l=he([]),a=P(()=>t.type?t.type:l.value.length?"object":"string"),r=L(N),i=ee(s),d=B(W(a.value,i)),$=(f=t.from)!=null?f:t.name,k=r==null?void 0:r.getState($),z=P({get(){var y;if(a.value=="object"){const V={};for(const c of l.value)!c.name||(V[c.name]=c.data);return V}else switch(t.source){case"query":return W(a.value,new URLSearchParams(location.search).get($));case"cookie":return W(a.value,o.get($));case"local-storage":return W(a.value,localStorage.getItem($));case"session-storage":return W(a.value,sessionStorage.getItem($));case"id":return(y=r==null?void 0:r.getState($))==null?void 0:y.value;default:return d.value}},set(y){t.source=="id"&&k&&(k.value=y),d.value=y}}),m=P(()=>{let y=t.width;return y&&!Number.isNaN(parseFloat(y))&&(y=y+"px"),{type:a.value,name:t.name,data:z,children:l.value,hidden:t.hidden,label:t.label,from:t.from,options:t.options,width:y,disabled:t.disabled,source:t.source}});t.id&&(r==null||r.setState(t.id,z));const j=(p=q())==null?void 0:p.parent;return(v=j==null?void 0:j.exposed)!=null&&v.items&&j.exposed.items.value.push(m.value),e({items:l}),(y,V)=>(u(),E("div",Dt,[H(y.$slots,"default")]))}}),Ut={class:"hidden"},Tt=x({props:{type:{default:"json"}},setup(n){var l,a,r;const e=n,t=Z(),o=ee(t),s=(r=(a=(l=q())==null?void 0:l.parent)==null?void 0:a.exposed)==null?void 0:r.rawResponse;return s&&o&&ye(()=>{switch(e.type){case"json":s.value=JSON.parse(o);break;default:s.value=o}}),(i,d)=>(u(),E("div",Ut,[H(i.$slots,"default")]))}}),Bt={class:"hidden"},Lt=x({props:{name:null,from:null,to:null},setup(n){var o,s,l;const e=n,t=(l=(s=(o=q())==null?void 0:o.parent)==null?void 0:s.exposed)==null?void 0:l.storages;return t&&T(t)&&t.value.push({name:e.name,from:e.from,to:e.to}),(a,r)=>(u(),E("div",Bt,[H(a.$slots,"default")]))}});var Nt={KData:zt,KDataQuery:jt,KDataHeader:Kt,KDataItem:Ot,KDataInit:Tt,KDataStorage:Lt};function W(n,e){var t,o,s,l;switch(se.get(n)){case"array":return(t=te(e))!=null?t:[];case"boolean":return(o=te(e==null?void 0:e.toLowerCase()))!=null?o:!1;case"number":return(s=te(e))!=null?s:0;case"object":return(l=te(e))!=null?l:{};default:return e!=null?e:""}}function te(n){try{return JSON.parse(n.toLowerCase())}catch(e){}}const K={string:"string",number:"number",boolean:"boolean",array:"array",object:"object"},se={string:K.string,text:K.string,textarea:K.string,html:K.string,image:K.string,date:K.string,time:K.string,datetime:K.string,number:K.number,switch:K.boolean,boolean:K.boolean,bool:K.boolean,array:K.array,list:K.array,object:K.object,get(n){return n?se[n.trim().toLowerCase()]:se.string}};function _e(n,e){return R(this,null,function*(){var o;(e==null?void 0:e.query)&&Object.keys(e.query)&&(n=be(n,e.query));const t=yield fetch(n,{method:(o=e==null?void 0:e.method)!=null?o:"GET",body:e!=null&&e.body?JSON.stringify(e==null?void 0:e.body):void 0,headers:e==null?void 0:e.headers});if(e!=null&&e.storages){for(const s of e.storages)if(s.from=="header"){const l=t.headers.get(s.name);l&&Rt(s.name,l,s.to)}}if(t.status===401&&(e==null?void 0:e.authUrl))throw location.href=G(e.authUrl),Error("auth abort");return yield t.json()})}function Rt(n,e,t){switch(t){case"local-storage":localStorage.setItem(n,e);break;case"session-storage":sessionStorage.setItem(n,e);break}}const qt={},Mt={class:"space-y-8"};function St(n,e){const t=ke;return u(),h(t,{shadow:"never"},{default:w(()=>[D("div",Mt,[H(n.$slots,"default")])]),_:3})}var Ft=Ee(qt,[["render",St]]),Gt={KInline:Ae,KFill:re,KCard:Ft};const Yt=x({name:"Delete"}),Jt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Qt=D("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),Wt=[Qt];function Xt(n,e,t,o,s,l){return u(),E("svg",Jt,Wt)}var Zt=ce(Yt,[["render",Xt]]);const eo=x({name:"Edit"}),to={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oo=D("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),no=D("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),so=[oo,no];function ao(n,e,t,o,s,l){return u(),E("svg",to,so)}var lo=ce(eo,[["render",ao]]);const ro=x({name:"Plus"}),uo={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},io=D("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),co=[io];function fo(n,e,t,o,s,l){return u(),E("svg",uo,co)}var mo=ce(ro,[["render",fo]]);const po={class:"flex items-center justify-end"},vo={class:"whitespace-nowrap"},_o={class:"hidden"},go=x({props:{edit:{default:void 0},data:{default:void 0},remove:{default:void 0},create:{default:void 0}},setup(n,{expose:e}){const t=n,o=L(N),{t:s}=ue(),l=B(!1),a=B(!1),r=B([]),i=P(()=>{var p;let f=o==null?void 0:o.getState(t.data,"mappedResponse");return(!f||!f.value)&&(f=o==null?void 0:o.getState(t.data)),!f||!Array.isArray(f.value)?[]:(p=f.value)!=null?p:[]});function d(){if(o==null?void 0:o.getExposedAction(t.edit,"post"))l.value=!0;else{const p=o==null?void 0:o.getExposedAction(t.edit,"to");p&&p()}}function $(f){if(o==null?void 0:o.getExposedAction(t.edit,"post")){const v=o==null?void 0:o.getState(t.edit,"items");if(v)for(const y of v.value)y.name&&(y.data.value=f[y.name]);a.value=!0}else{const v=o==null?void 0:o.getExposedAction(t.edit,"to");v&&(m(t.edit,f),v())}}function k(f){return R(this,null,function*(){m(t.remove,f);const p=o==null?void 0:o.getExposedAction(t.remove,"post");p&&(yield p()),location.reload()})}function z(f,p){return R(this,null,function*(){if(f.confirm&&(yield ut(f.confirm)),f.get){m(f.get,p);const v=o==null?void 0:o.getExposedAction(f.get,"get");v&&(yield v())}if(f.post){m(f.post,p);const v=o==null?void 0:o.getExposedAction(f.post,"post");v&&(yield v())}if(f.to){m(f.to,p);const v=o==null?void 0:o.getExposedAction(f.to,"to");v&&(yield v())}})}function m(f,p){return R(this,null,function*(){var y;const v=(y=o==null?void 0:o.getState(f,"query"))==null?void 0:y.value;if(!!v&&Object.keys(v).length)for(const V in v)v[V]=p[V]})}const j=P(()=>{var v;const f=[],p=(v=o==null?void 0:o.getState(t.data,"items"))==null?void 0:v.value;if(p!=null&&p.length)f.push(...p);else for(const y of i.value){const V=Object.keys(y);for(const c of V)f.some(g=>g.name==c)||f.push({name:c,label:c,type:"string",data:B()})}return f});return e({actions:r}),(f,p)=>{const v=Ce,y=$e,V=it,c=we,g=ne,b=ne,I=ct,A=dt;return u(),E(F,null,[O(I,ge({data:_(i)},f.$attrs),{default:w(()=>[(u(!0),E(F,null,oe(_(j),C=>(u(),E(F,{key:C.name},[C.hidden?U("",!0):(u(),h(V,{key:0,prop:C.name,label:C.label,width:C.width},{default:w(({row:S})=>[C.type=="image"?(u(),h(v,{key:0,src:S[C.name],class:"w-full h-full"},null,8,["src"])):C.type=="switch"?(u(),h(y,{key:1,"model-value":S[C.name]},null,8,["model-value"])):(u(),E(F,{key:2},[Y(M(S[C.name]),1)],64))]),_:2},1032,["prop","label","width"]))],64))),128)),n.create||n.edit||n.remove||r.value.length?(u(),h(V,{key:0,fixed:"right",align:"right"},{header:w(()=>[D("div",po,[n.create?(u(),h(g,{key:0,type:"primary",onClick:d},{default:w(()=>[O(c,{size:12},{default:w(()=>[O(_(mo))]),_:1}),D("span",null,M(_(s)("common.create")),1)]),_:1})):U("",!0)])]),default:w(({row:C})=>[D("div",vo,[(u(!0),E(F,null,oe(r.value,(S,Ie)=>(u(),h(b,{key:Ie,onClick:bo=>z(S,C)},{default:w(()=>[Y(M(S.label),1)]),_:2},1032,["onClick"]))),128)),n.edit?(u(),h(g,{key:0,type:"success",onClick:S=>$(C)},{default:w(()=>[O(c,{size:12},{default:w(()=>[O(_(lo))]),_:1}),D("span",null,M(_(s)("common.edit")),1)]),_:2},1032,["onClick"])):U("",!0),n.remove?(u(),h(g,{key:1,type:"danger",onClick:S=>k(C)},{default:w(()=>[O(c,{size:12},{default:w(()=>[O(_(Zt))]),_:1}),D("span",null,M(_(s)("common.delete")),1)]),_:2},1032,["onClick"])):U("",!0)])]),_:1})):U("",!0)]),_:1},16,["data"]),D("div",_o,[H(f.$slots,"default")]),(u(),h(Ne,{to:"body"},[a.value&&n.edit?(u(),h(A,{key:0,"model-value":a.value,onClosed:p[0]||(p[0]=C=>a.value=!1)},{default:w(()=>[O(le,{data:n.edit},null,8,["data"])]),_:1},8,["model-value"])):U("",!0),l.value&&n.create?(u(),h(A,{key:1,"model-value":l.value,onClosed:p[1]||(p[1]=C=>l.value=!1)},{default:w(()=>[O(le,{data:n.create},null,8,["data"])]),_:1},8,["model-value"])):U("",!0)]))],64)}}}),ho=x({props:{get:null,post:null,to:null,confirm:null,label:null},setup(n){var o,s,l;const e=n,t=(l=(s=(o=q())==null?void 0:o.parent)==null?void 0:s.exposed)==null?void 0:l.actions;return t&&T(t)&&t.value.push({confirm:e.confirm,get:e.get,post:e.post,to:e.to,label:e.label}),()=>{}}});var yo={KTable:go,KTableAction:ho};const ze=et({components:J(J(J({KButton:yt,KInput:Ve,KPagination:kt,KForm:le,KText:Pe,KPage:At,KHtml:Ct,KImage:xt},yo),Gt),Nt)});tt(ze);ze.mount("#app");
