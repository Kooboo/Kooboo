import{_ as F}from"./icon-button.315b6443.js";import{g as O}from"./i18n.bcd18f8a.js";import{E as R}from"./windi.19264205.js";import{E as S,a as j,b as N}from"./index.8bc4b1d6.js";import{E as U}from"./index.5cbbc5d7.js";import{d as A,o as d,j as g,aF as L,w as m,b as p,a as _,b6 as B,f as I,t as M,F as D,aT as y,g as P,i as T,u as k}from"./url.8f5ec20c.js";import{c as q}from"./cloneDeep.060340c1.js";import{E as z}from"./index.6d63eb53.js";const G={class:"w-16 h-16 flex items-center justify-center"},H=A({props:{options:null},emits:["update:model-value"],setup(l,{emit:n}){function V(e){n("update:model-value",e)}return(e,s)=>{var r;const w=R,E=S,v=j,o=N,a=U;return d(),g(a,y(e.$attrs,{"onUpdate:modelValue":s[0]||(s[0]=u=>n("update:model-value",u))}),L({_:2},[(r=l.options)!=null&&r.length?{name:"suffix",fn:m(()=>[p(o,{trigger:"click",class:"ml-10px",onCommand:V},{dropdown:m(()=>[p(v,null,{default:m(()=>[(d(!0),_(D,null,B(l.options,u=>(d(),g(E,{key:u,command:u},{default:m(()=>[I("span",null,M(u),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:m(()=>[I("div",G,[p(w,{class:"iconfont icon-pull-down text-12px"})])]),_:1})])}:void 0]),1040)}}}),J={class:"space-y-4"},oe=A({props:{modelValue:null,keyInputAttributes:null,valueInputAttributes:null,defaultOptions:null,keyRules:null,valueRules:null,prop:null},emits:["update:model-value","delete","add"],setup(l,{emit:n}){const V=l,e=P([]);T(()=>V.modelValue,o=>{e.value=o?q(o):[]},{deep:!0,immediate:!0});const{t:s}=O();function w(o){e.value.splice(o,1),n("update:model-value",e.value),n("delete")}function E(){e.value.push({key:"",value:"",options:V.defaultOptions}),n("update:model-value",e.value),n("add")}function v(o,a,r,u){return typeof o=="function"?o(a,r,u):o}return(o,a)=>{const r=U,u=z,$=F;return d(),_("div",J,[(d(!0),_(D,null,B(e.value,(t,c)=>{var h,x;return d(),_("div",{key:c,class:"flex items-center space-x-4 mb-16"},[p(u,{prop:`${(h=l.prop)!=null?h:""}[${c}].key`,class:"flex-1",rules:l.keyRules},{default:m(()=>[p(r,y({modelValue:t.key,"onUpdate:modelValue":i=>t.key=i,placeholder:k(s)("common.key")},v(l.keyInputAttributes,t,c,e.value),{onChange:a[0]||(a[0]=i=>n("update:model-value",e.value))}),null,16,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["prop","rules"]),p(u,{prop:`${(x=l.prop)!=null?x:""}[${c}].value`,class:"flex-1",rules:l.valueRules},{default:m(()=>{var i,b,C;return[(b=(i=t.options)!=null?i:l.defaultOptions)!=null&&b.length?(d(),g(H,y({key:0,modelValue:t.value,"onUpdate:modelValue":f=>t.value=f,options:(C=t.options)!=null?C:l.defaultOptions,class:"w-full",placeholder:k(s)("common.value")},v(l.valueInputAttributes,t,c,e.value),{"onUpdate:modelValue":a[1]||(a[1]=f=>n("update:model-value",e.value))}),null,16,["modelValue","onUpdate:modelValue","options","placeholder"])):(d(),g(r,y({key:1,modelValue:t.value,"onUpdate:modelValue":f=>t.value=f,placeholder:k(s)("common.value")},v(l.valueInputAttributes,t,c,e.value),{onChange:a[2]||(a[2]=f=>n("update:model-value",e.value))}),null,16,["modelValue","onUpdate:modelValue","placeholder"]))]}),_:2},1032,["prop","rules"]),I("div",null,[p($,{circle:"",class:"hover:text-orange text-orange",icon:"icon-delete ",tip:k(s)("common.delete"),onClick:i=>w(c)},null,8,["tip","onClick"])])])}),128)),p($,{circle:"",class:"text-blue",icon:"icon-a-addto ",tip:k(s)("common.add"),onClick:E},null,8,["tip"])])}}});export{oe as _,H as a};
