import{_ as $}from"./index.e24e2872.js";import{_ as R}from"./image-cover.dadeb856.js";import{a as B,b as O}from"./index.b3ad0c7f.js";import{_}from"./index.56d91124.js";import{j,u as L}from"./commerce.c633c6e0.js";import{g as M}from"./i18n.97105311.js";import{_ as z}from"./editable-tags.c6ea279e.js";import{u as K}from"./useTag.7902b861.js";import{a as N,r as U,i as Q}from"./validate.98ddbafd.js";import{b as A}from"./useLabels.14342caf.js";import{i as G}from"./string.955a924b.js";import{d as H,g as J,x as P,o as g,a as y,f as W,b as t,w as a,u as b,F as X,b6 as Y,j as Z}from"./url.2e6a77c4.js";import{E as h}from"./index.4587e608.js";import{E as ee,a as le}from"./index.317a7f30.js";import{E as oe,a as te}from"./index.afee24fe.js";import{E as ae}from"./index.00cc1b15.js";const me={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},ne={class:"flex justify-end"},De=H({props:{model:null,fields:null},setup(l,{expose:D}){const n=l,{getFieldDisplayName:x}=A(),{t:f}=M(),E=J();n.model.customData.title||(n.model.customData.title={}),n.model.customData.description||(n.model.customData.description={});const V={title:[N(f("common.fieldRequiredTips")),U(1,50)],seoName:[N(f("common.fieldRequiredTips")),U(1,50),Q(i=>j(i,P("id")),f("common.seoNameExistsTips"))]},v=L();v.loadCategories();const{tags:I,removeTag:S}=K("Category");function m(i){var d,s;const o=(s=(d=n.fields)==null?void 0:d.find(u=>G(u.name,i)))!=null?s:{name:i,displayName:""};return x(o)}return D({form:E}),(i,o)=>{const d=_,s=h,u=O,C=R,r=ee,F=$,k=oe,q=te,w=ae,T=le;return g(),y("div",me,[W("div",ne,[t(d)]),t(T,{ref_key:"form",ref:E,"label-position":"top",rules:V,model:l.model},{default:a(()=>[t(u,{"default-model":l.model.title,"onUpdate:default-model":o[0]||(o[0]=e=>l.model.title=e),label:m("title"),"multilingual-model":l.model.customData.title,rules:V.title,"default-prop":"title","multilingual-prop":"customData.title"},{default:a(({value:e,onchange:c})=>[t(s,{"model-value":e,"onUpdate:modelValue":p=>c(p)},null,8,["model-value","onUpdate:modelValue"])]),_:1},8,["default-model","label","multilingual-model","rules"]),t(B,{"seo-name":l.model.seoName,"onUpdate:seo-name":o[1]||(o[1]=e=>l.model.seoName=e),prop:"seoName",path:"category",title:l.model.title,label:m("seoName")},null,8,["seo-name","title","label"]),t(r,{label:m("image")},{default:a(()=>[t(C,{modelValue:l.model.image,"onUpdate:modelValue":o[2]||(o[2]=e=>l.model.image=e),editable:"",size:"large",folder:"/commerce/category",prefix:new Date().getTime().toString()},null,8,["modelValue","prefix"])]),_:1},8,["label"]),t(u,{"default-model":l.model.description,"onUpdate:default-model":o[3]||(o[3]=e=>l.model.description=e),label:m("description"),"multilingual-model":l.model.customData.description},{default:a(({value:e,onchange:c})=>[t(F,{"model-value":e,"onUpdate:modelValue":p=>c(p)},null,8,["model-value","onUpdate:modelValue"])]),_:1},8,["default-model","label","multilingual-model"]),t(r,{label:m("tags")},{default:a(()=>[t(z,{modelValue:l.model.tags,"onUpdate:modelValue":o[4]||(o[4]=e=>l.model.tags=e),"option-deletable":"",options:b(I),onDeleteOption:b(S)},null,8,["modelValue","options","onDeleteOption"])]),_:1},8,["label"]),t(r,{label:m("parentId")},{default:a(()=>[t(q,{modelValue:l.model.parentId,"onUpdate:modelValue":o[5]||(o[5]=e=>l.model.parentId=e),class:"w-max-400px",clearable:!0},{default:a(()=>[(g(!0),y(X,null,Y(b(v).categories,e=>(g(),Z(k,{key:e.id,label:e.title,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(r,{label:m("active")},{default:a(()=>[t(w,{modelValue:l.model.active,"onUpdate:modelValue":o[6]||(o[6]=e=>l.model.active=e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])])}}});export{De as _};
