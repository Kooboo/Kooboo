var A=(t,v,i)=>new Promise((l,b)=>{var V=d=>{try{x(i.next(d))}catch(r){b(r)}},C=d=>{try{x(i.throw(d))}catch(r){b(r)}},x=d=>d.done?l(d.value):Promise.resolve(d.value).then(V,C);x((i=i.apply(t,v)).next())});import{_ as L}from"./tooltip.66155ff7.js";import{g as N}from"./i18n.a87944a4.js";import{b as R}from"./shipping.703667dc.js";import{_ as z}from"./condition.17b45051.js";import{u as B}from"./commerce.ded2851e.js";import{_ as q}from"./icon-button.74ccc970.js";import{s as G}from"./commerce.f69dd9fe.js";import{E as D}from"./index.6f16842c.js";import{E as H,a as J}from"./index.7c862087.js";import{E as F}from"./index.178b9e08.js";import{d as M,c as K,o as f,a as _,F as U,b7 as $,b as e,w as s,u as o,j as O,f as c,t as y,g as I,n as P,k as S,aI as Q}from"./url.4cb47a7a.js";import{E as W,a as X}from"./index.9fd79879.js";import{E as Y}from"./windi.6360286d.js";import{E as Z}from"./index.d96452a6.js";import{E as ee}from"./index.361e2245.js";const oe={class:"w-840px space-y-8"},le={class:"flex items-center gap-4"},te={class:"dark:text-[#cfd3dc]"},ne={class:"dark:text-[#cfd3dc]"},ae=M({props:{modelValue:null},emits:["update:modelValue"],setup(t,{emit:v}){const i=t,{t:l}=N(),b=B(),V=K(()=>b.countries.filter(d=>!i.modelValue.find(r=>d.code==r.name)));function C(){var r;const d=(r=V.value[0])==null?void 0:r.code;!d||v("update:modelValue",[...i.modelValue,{name:d,display:"",estimatedDaysOfArrival:3}])}function x(d){i.modelValue.splice(d,1)}return(d,r)=>{const a=H,g=J,u=F,h=q;return f(),_("div",oe,[(f(!0),_(U,null,$(t.modelValue,(p,k)=>(f(),_("div",{key:k,class:"flex items-center gap-8"},[e(g,{modelValue:p.name,"onUpdate:modelValue":m=>p.name=m},{default:s(()=>[(f(!0),_(U,null,$(o(b).countries,m=>(f(),O(a,{key:m.code,label:o(G)(m.nameTranslations,m.name),value:m.code},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(u,{modelValue:p.display,"onUpdate:modelValue":m=>p.display=m,class:"w-240px",placeholder:o(l)("common.alias")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),c("div",le,[c("span",te,y(o(l)("common.estimate")),1),e(o(D),{modelValue:p.estimatedDaysOfArrival,"onUpdate:modelValue":m=>p.estimatedDaysOfArrival=m,min:1},null,8,["modelValue","onUpdate:modelValue"]),c("span",ne,y(o(l)("common.daysOfArrival")),1)]),e(h,{circle:"",class:"hover:text-orange text-orange",icon:"icon-delete ",tip:o(l)("common.delete"),onClick:m=>x(k)},null,8,["tip","onClick"])]))),128)),e(h,{circle:"",icon:"icon-a-addto",class:"text-blue hover:text-blue",tip:o(l)("common.add"),onClick:C},null,8,["tip"])])}}}),se={class:"px-24 pt-0 pb-84px space-y-12"},de={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},me={class:"w-16 h-16 flex items-center justify-center transform origin-center scale-75"},ce={class:"grid grid-cols-2 gap-8 mt-8"},ie={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},re={class:"flex gap-x-8"},ue={class:"w-16 h-16 flex items-center justify-center transform origin-center scale-75"},pe={class:"flex items-center"},Ie=M({props:{model:null},setup(t){const v=t,i=I([]),{t:l}=N(),b=B(),V=I(!1);function C(){return A(this,null,function*(){i.value=yield R()})}function x(){v.model.additionalCosts.push({description:"",cost:0,condition:{isAny:!1,items:[]}})}function d(r){v.model.additionalCosts=v.model.additionalCosts.filter(a=>a!=r)}return C(),(r,a)=>{const g=F,u=W,h=D,p=Y,k=Z,m=L,w=X,T=ee;return f(),_("div",se,[c("div",de,[e(w,{"label-position":"top"},{default:s(()=>[e(u,{label:o(l)("common.name")},{default:s(()=>[e(g,{modelValue:t.model.name,"onUpdate:modelValue":a[0]||(a[0]=n=>t.model.name=n)},null,8,["modelValue"])]),_:1},8,["label"]),e(u,{label:o(l)("common.description")},{default:s(()=>[e(g,{modelValue:t.model.description,"onUpdate:modelValue":a[1]||(a[1]=n=>t.model.description=n),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),e(u,{label:`${o(l)("common.baseCost")} (${o(b).settings.currencyCode})`},{default:s(()=>[e(h,{modelValue:t.model.baseCost,"onUpdate:modelValue":a[2]||(a[2]=n=>t.model.baseCost=n),min:0},{suffix:s(()=>[c("div",me,y(o(b).settings.currencyCode),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(k,{placement:"top",content:V.value?o(l)("common.hideAdvanceSettings"):o(l)("common.showAdvanceSettings")},{default:s(()=>[c("div",{class:"flex items-center justify-center h-40px cursor-pointer bg-card dark:bg-444 hover:bg-[#eff6ff] dark:hover:bg-444","data-cy":"show-advance-settings",onClick:a[3]||(a[3]=n=>V.value=!V.value)},[e(p,{class:P(["iconfont icon-pull-down text-s leading-none cursor-pointer transform origin-center transition duration-200 dark:text-fff/86",V.value?"rotate-180":"rotate-0"])},null,8,["class"])])]),_:1},8,["content"]),V.value?(f(),_(U,{key:0},[c("div",ce,[e(u,null,{label:s(()=>[c("span",null,y(o(l)("common.companyCode")),1),e(m,{tip:o(l)("common.expressCompanyCodeTip"),"custom-class":"ml-4"},null,8,["tip"])]),default:s(()=>[e(g,{modelValue:t.model.code,"onUpdate:modelValue":a[4]||(a[4]=n=>t.model.code=n),modelModifiers:{number:!0},class:"max-w-280px",placeholder:"e.g., jtexpress"},null,8,["modelValue"])]),_:1}),e(u,null,{label:s(()=>[c("span",null,y(o(l)("common.trackingNumberMatching")),1),e(m,{tip:o(l)("common.trackingNumberMatchingTip"),"custom-class":"ml-4"},null,8,["tip"])]),default:s(()=>[e(g,{modelValue:t.model.trackingNumberMatching,"onUpdate:modelValue":a[5]||(a[5]=n=>t.model.trackingNumberMatching=n),class:"max-w-280px",placeholder:"e.g., sf.*"},null,8,["modelValue"])]),_:1})]),e(u,{label:o(l)("common.supportCountries")},{default:s(()=>[e(ae,{modelValue:t.model.countries,"onUpdate:modelValue":a[6]||(a[6]=n=>t.model.countries=n)},null,8,["modelValue"])]),_:1},8,["label"])],64)):S("",!0)]),_:1})]),c("div",ie,[e(w,{"label-position":"top"},{default:s(()=>[(f(!0),_(U,null,$(t.model.additionalCosts,(n,j)=>(f(),_("div",{key:j,class:"bg-gray/30 dark:bg-[#252526] px-24 py-16 rounded-normal relative mb-8"},[e(w,{"label-position":"top"},{default:s(()=>[c("div",re,[e(u,{label:o(l)("common.costRule")},{default:s(()=>[e(g,{modelValue:n.cost,"onUpdate:modelValue":E=>n.cost=E,modelModifiers:{number:!0},class:"w-280px"},{suffix:s(()=>[c("div",ue,y(o(b).settings.currencyCode),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),e(u,{label:o(l)("common.description"),class:"flex-1"},{default:s(()=>[e(g,{modelValue:n.description,"onUpdate:modelValue":E=>n.description=E},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])])]),_:2},1024),i.value.length?(f(),O(z,{key:0,condition:n.condition,schemas:i.value,title:o(l)("commerce.order")},null,8,["condition","schemas","title"])):S("",!0),e(p,{class:"text-orange iconfont icon-delete absolute top-12 right-12 cursor-pointer",onClick:E=>d(n)},null,8,["onClick"])]))),128)),e(T,{round:"",onClick:x},{default:s(()=>[c("div",pe,[e(p,{class:"mr-16 iconfont icon-a-addto"}),Q(" "+y(o(l)("common.addCostRule")),1)])]),_:1})]),_:1})])])}}});export{Ie as _};
