import{_ as D}from"./icon-button.74ccc970.js";import{g as G}from"./i18n.a87944a4.js";import{_ as O}from"./dropdown-input.f2d4a501.js";import{c as j,E as L,a as q}from"./index.7c862087.js";import{b as z,a as H}from"./index.f15f695e.js";import{E as J}from"./windi.6360286d.js";import{E as K}from"./index.361e2245.js";import{E as M,a as P}from"./index.9fd79879.js";import{d as Q,o as a,a as i,F as u,f as t,t as l,u as c,b7 as h,b as d,w as m,k as _,j as y,aI as k}from"./url.4cb47a7a.js";const W={key:0,class:"flex items-center gap-4 flex-wrap"},X={class:"dark:text-[#cfd3dc]"},Y={class:"flex items-center space-x-4"},Z={key:0,class:"dark:text-[#cfd3dc]"},I={class:"dark:text-[#cfd3dc]"},ee={class:"space-y-8"},oe={class:"flex gap-8"},ne={class:"space-x-4"},te={class:"dark:text-[#cfd3dc]"},ae={class:"dark:text-[#cfd3dc]"},le={class:"space-y-4"},se={class:"flex items-center"},_e=Q({props:{condition:null,schemas:null,title:null,readonly:{type:Boolean}},setup(o){const f=o,{t:s}=G();function w(v){f.condition.items.splice(v,1)}function F(){f.condition.items.push({option:f.schemas[0].name,method:f.schemas[0].methods[0].name,value:""})}return(v,E)=>{const x=j,V=z,A=H,g=L,b=q,N=D,R=J,$=K,S=M,T=P;return o.readonly&&o.schemas.length?(a(),i("div",W,[o.condition.items.length?(a(),i(u,{key:0},[t("span",X,l(c(s)("common.when")),1),(a(!0),i(u,null,h(o.condition.items,(n,r)=>(a(),i(u,{key:r},[d(x,{type:"success"},{default:m(()=>{var e,C,B,U;return[t("div",Y,[t("span",null,l((e=o.schemas.find(p=>p.name==n.option))==null?void 0:e.display),1),t("span",null,l((U=(B=(C=o.schemas.find(p=>p.name==n.option))==null?void 0:C.methods)==null?void 0:B.find(p=>p.name==n.method))==null?void 0:U.display),1),t("span",null,l(n.value),1)])]}),_:2},1024),r<o.condition.items.length-1?(a(),i("span",Z,l(o.condition.isAny?c(s)("common.or"):c(s)("common.and")),1)):_("",!0)],64))),128)),t("span",I,l(c(s)("common.then")),1)],64)):_("",!0)])):o.schemas.length?(a(),y(T,{key:1,"label-position":"top"},{default:m(()=>[d(S,null,{default:m(()=>[t("div",ee,[t("div",oe,[t("div",ne,[t("span",te,l(c(s)("common.when")),1),o.title?(a(),y(x,{key:0,round:"",type:"success"},{default:m(()=>[k(l(o.title),1)]),_:1})):_("",!0),t("span",ae,l(c(s)("common.match")),1)]),d(A,{modelValue:o.condition.isAny,"onUpdate:modelValue":E[0]||(E[0]=n=>o.condition.isAny=n)},{default:m(()=>[d(V,{label:!1},{default:m(()=>[k(l(c(s)("commerce.allConditions")),1)]),_:1}),d(V,{label:!0},{default:m(()=>[k(l(c(s)("commerce.anyConditions")),1)]),_:1})]),_:1},8,["modelValue"])]),t("div",le,[(a(!0),i(u,null,h(o.condition.items,(n,r)=>(a(),i("div",{key:r,class:"flex items-center space-x-4"},[d(b,{modelValue:n.option,"onUpdate:modelValue":e=>n.option=e,onChange:e=>n.method=""},{default:m(()=>[(a(!0),i(u,null,h(o.schemas,e=>(a(),y(g,{key:e.name,label:e.display,value:e.name},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),d(b,{modelValue:n.method,"onUpdate:modelValue":e=>n.method=e},{default:m(()=>[(a(!0),i(u,null,h(o.schemas.find(e=>e.name==n.option).methods,e=>(a(),y(g,{key:e.name,label:e.display,value:e.name},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),d(O,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,options:o.schemas.find(e=>e.name==n.option).selections,class:"w-200px",placeholder:c(s)("common.value")},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),t("div",null,[d(N,{circle:"",class:"hover:text-orange text-orange",icon:"icon-delete ",tip:c(s)("common.delete"),onClick:e=>w(r)},null,8,["tip","onClick"])])]))),128)),d($,{round:"",type:"primary",onClick:F},{default:m(()=>[t("div",se,[d(R,{class:"mr-16 iconfont icon-a-addto"}),k(" "+l(c(s)("common.addCondition")),1)])]),_:1})])])]),_:1})]),_:1})):_("",!0)}}});export{_e as _};
