import{_ as w}from"./index.f0ea490f.js";import{_}from"./image-cover.b0b3d25c.js";import{a as R,b as B}from"./index.711cccea.js";import{_ as O}from"./index.f154d010.js";import{j,u as L}from"./commerce.ded2851e.js";import{g as M}from"./i18n.a87944a4.js";import{_ as z}from"./editable-tags.1a16bc83.js";import{u as K}from"./useTag.d9e11725.js";import{a as N,r as U,i as Q}from"./validate.bb56f9e3.js";import{b as A}from"./useLabels.aeaf94fa.js";import{i as G}from"./string.955a924b.js";import{d as H,g as J,x as P,o as g,a as y,f as W,b as t,w as a,u as b,F as X,b7 as Y,j as Z}from"./url.4cb47a7a.js";import{E as h}from"./index.178b9e08.js";import{E as ee,a as le}from"./index.9fd79879.js";import{E as oe,a as te}from"./index.7c862087.js";import{E as ae}from"./index.6918f0a5.js";const me={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},ne={class:"flex justify-end"},De=H({props:{model:null,fields:null},setup(l,{expose:D}){const d=l,{getFieldDisplayName:x}=A(),{t:s}=M(),E=J();d.model.customData.title||(d.model.customData.title={}),d.model.customData.description||(d.model.customData.description={});const V={title:[N(s("common.fieldRequiredTips")),U(1,50)],seoName:[N(s("common.fieldRequiredTips")),U(1,50),{validator(i,o){const n=[];return/[[\]\\{}#%^*+=_|~<>.?!'"/:;,()$&@\s\r\n\f]/g.test(o)&&n.push(s("common.seoNameInvalidTip")),n}},Q(i=>j(i,P("id")),s("common.seoNameExistsTips"))]},v=L();v.loadCategories();const{tags:I,removeTag:S}=K("Category");function m(i){var n,u;const o=(u=(n=d.fields)==null?void 0:n.find(r=>G(r.name,i)))!=null?u:{name:i,displayName:""};return x(o)}return D({form:E}),(i,o)=>{const n=O,u=h,r=B,C=_,f=ee,F=w,T=oe,$=te,k=ae,q=le;return g(),y("div",me,[W("div",ne,[t(n)]),t(q,{ref_key:"form",ref:E,"label-position":"top",rules:V,model:l.model},{default:a(()=>[t(r,{"default-model":l.model.title,"onUpdate:default-model":o[0]||(o[0]=e=>l.model.title=e),label:m("title"),"multilingual-model":l.model.customData.title,rules:V.title,"default-prop":"title","multilingual-prop":"customData.title"},{default:a(({value:e,onchange:c})=>[t(u,{"model-value":e,"onUpdate:modelValue":p=>c(p)},null,8,["model-value","onUpdate:modelValue"])]),_:1},8,["default-model","label","multilingual-model","rules"]),t(R,{"seo-name":l.model.seoName,"onUpdate:seo-name":o[1]||(o[1]=e=>l.model.seoName=e),prop:"seoName",path:"category",title:l.model.title,label:m("seoName")},null,8,["seo-name","title","label"]),t(f,{label:m("image")},{default:a(()=>[t(C,{modelValue:l.model.image,"onUpdate:modelValue":o[2]||(o[2]=e=>l.model.image=e),editable:"",size:"large",folder:"/commerce/category",prefix:new Date().getTime().toString()},null,8,["modelValue","prefix"])]),_:1},8,["label"]),t(r,{"default-model":l.model.description,"onUpdate:default-model":o[3]||(o[3]=e=>l.model.description=e),label:m("description"),"multilingual-model":l.model.customData.description},{default:a(({value:e,onchange:c})=>[t(F,{"model-value":e,"onUpdate:modelValue":p=>c(p)},null,8,["model-value","onUpdate:modelValue"])]),_:1},8,["default-model","label","multilingual-model"]),t(f,{label:m("tags")},{default:a(()=>[t(z,{modelValue:l.model.tags,"onUpdate:modelValue":o[4]||(o[4]=e=>l.model.tags=e),"option-deletable":"",options:b(I),onDeleteOption:b(S)},null,8,["modelValue","options","onDeleteOption"])]),_:1},8,["label"]),t(f,{label:m("parentId")},{default:a(()=>[t($,{modelValue:l.model.parentId,"onUpdate:modelValue":o[5]||(o[5]=e=>l.model.parentId=e),class:"w-max-400px",clearable:!0},{default:a(()=>[(g(!0),y(X,null,Y(b(v).categories,e=>(g(),Z(T,{key:e.id,label:e.title,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(f,{label:m("active")},{default:a(()=>[t(k,{modelValue:l.model.active,"onUpdate:modelValue":o[6]||(o[6]=e=>l.model.active=e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])])}}});export{De as _};
