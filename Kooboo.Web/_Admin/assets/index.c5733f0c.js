var tl=Object.defineProperty,ol=Object.defineProperties;var al=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var nl=Object.prototype.hasOwnProperty,sl=Object.prototype.propertyIsEnumerable;var Pe=(e,t,a)=>t in e?tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ve=(e,t)=>{for(var a in t||(t={}))nl.call(t,a)&&Pe(e,a,t[a]);if(Be)for(var a of Be(t))sl.call(t,a)&&Pe(e,a,t[a]);return e},fe=(e,t)=>ol(e,al(t));var z=(e,t,a)=>new Promise((s,i)=>{var u=g=>{try{v(a.next(g))}catch(o){i(o)}},n=g=>{try{v(a.throw(g))}catch(o){i(o)}},v=g=>g.done?s(g.value):Promise.resolve(g.value).then(u,n);v((a=a.apply(e,t)).next())});import{_ as rl}from"./icon-button.74ccc970.js";import{_ as ul}from"./k-table.b1a54b80.js";import{g as il,a as dl,b as ml,p as Ue,c as cl,d as vl,e as fl,f as pl,h as gl,u as yl,i as bl,s as _l,j as Vl,k as Sl,l as wl,m as kl}from"./index.48581690.js";import{_ as _e}from"./index.f0d5f031.js";import{i as he,u as xl,g as de,w as hl}from"./i18n.a87944a4.js";import{a as we,r as Le,b as El,s as Cl}from"./validate.bb56f9e3.js";import{E as Ae,a as Xe,c as Ye}from"./index.7c862087.js";import{E as Ve,a as Se}from"./index.9fd79879.js";import{E as Ke,a as We}from"./index.f15f695e.js";import{E as Il}from"./index.178b9e08.js";import{E as ge}from"./index.c003dfa1.js";import{Z as Nl,g as C,h as $l,L as be,c as U,ar as Bl,C as Pl,i as te,d as ee,G as je,M as Ee,o as b,a as T,b as d,w as f,f as N,t as D,u as l,n as Z,H as Ul,m as ie,p as Te,V as Ll,b3 as Tl,j as L,k as X,F as O,b7 as J,aI as oe,cq as Rl,cd as Ml,O as zl,b8 as Dl,e as ke}from"./url.4cb47a7a.js";import{_ as Ol}from"./alert.d2815716.js";import{E as Fl}from"./index.59551b9a.js";import{E as Re,u as qe,i as Al}from"./main.9fdfea92.js";import{E as Xl}from"./index.6918f0a5.js";import{E as Je}from"./index.361e2245.js";import{u as Me}from"./replace-all.56d2c1f7.js";import{B as Yl}from"./breadcrumb.f4d80c95.js";import{b as Kl}from"./confirm.b60b5d2f.js";import{E as He}from"./index.6f16842c.js";import{c as Ge,E as Ze}from"./index.d96452a6.js";import{b as Ce,d as pe,l as ze,c as Wl,u as Ie,_ as Qe,q as jl,w as ql,E as Jl}from"./windi.6360286d.js";import{U as ye,I as Ne,C as el}from"./event.776e7e11.js";import{d as De}from"./debounce.4e0c106e.js";import{u as Hl}from"./index.4d568055.js";import{u as Gl,a as Zl}from"./index.7b8c5aef.js";import{t as Ql,d as Oe}from"./error.7e8331f1.js";import{g as et}from"./user.fea8bc66.js";import{E as lt}from"./index.76f9eac7.js";import{E as tt}from"./index.99e769ef.js";import{E as ot}from"./index.b38edc72.js";import"./index.4f90a917.js";import"./sortable.esm.a99254e8.js";import"./index.c6da2706.js";import"./isEqual.4cab74e3.js";import"./_baseIsEqual.dc9e64c4.js";import"./index.42922617.js";import"./index.d24a40b9.js";import"./index.f23f1e38.js";import"./index.a24f458a.js";import"./index.1fd72ea8.js";import"./index.abe211fa.js";import"./style.c350d462.js";import"./toNumber.47eea968.js";import"./index.fd96ea36.js";import"./scroll.16983984.js";import"./index.66319a92.js";import"./validator.b5df2420.js";import"./_baseClone.b8903935.js";import"./isNil.98bb3b88.js";import"./index.c10802d9.js";import"./focus-trap.50a00b7f.js";import"./refs.3132cbdb.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";/* empty css                                                               */import"./plugin-vue_export-helper.21dcd24c.js";import"./plugin-vue_export-helper.41ffa612.js";import"./logo-transparent.1566007e.js";import"./index.f2c1b903.js";import"./aria.75ec5909.js";import"./event.53b2ad83.js";import"./index.e3f90979.js";import"./dayjs.min.ccc40d4f.js";import"./index.d878e15f.js";const ll=Symbol("sliderContextKey"),at=Ce({modelValue:{type:pe([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ze,inputSize:ze,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:pe(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:pe(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ge,default:"top"},marks:{type:pe(Object)},validateEvent:{type:Boolean,default:!0}}),xe=e=>he(e)||Nl(e)&&e.every(he),nt={[ye]:xe,[Ne]:xe,[el]:xe},st=(e,t,a)=>{const s=C();return $l(()=>z(void 0,null,function*(){e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),xl(window,"resize",a),yield be(),a()})),{sliderWrapper:s}},rt=e=>U(()=>e.marks?Object.keys(e.marks).map(parseFloat).sort((a,s)=>a-s).filter(a=>a<=e.max&&a>=e.min).map(a=>({point:a,position:(a-e.min)*100/(e.max-e.min),mark:e.marks[a]})):[]),ut=(e,t,a)=>{const{form:s,formItem:i}=Gl(),u=Bl(),n=C(),v=C(),g={firstButton:n,secondButton:v},o=U(()=>e.disabled||(s==null?void 0:s.disabled)||!1),p=U(()=>Math.min(t.firstValue,t.secondValue)),c=U(()=>Math.max(t.firstValue,t.secondValue)),_=U(()=>e.range?`${100*(c.value-p.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),w=U(()=>e.range?`${100*(p.value-e.min)/(e.max-e.min)}%`:"0%"),x=U(()=>e.vertical?{height:e.height}:{}),B=U(()=>e.vertical?{height:_.value,bottom:w.value}:{width:_.value,left:w.value}),h=()=>{u.value&&(t.sliderSize=u.value[`client${e.vertical?"Height":"Width"}`])},r=$=>{const y=e.min+$*(e.max-e.min)/100;if(!e.range)return n;let M;return Math.abs(p.value-y)<Math.abs(c.value-y)?M=t.firstValue<t.secondValue?"firstButton":"secondButton":M=t.firstValue>t.secondValue?"firstButton":"secondButton",g[M]},m=$=>{const y=r($);return y.value.setPosition($),y},P=$=>{t.firstValue=$,k(e.range?[p.value,c.value]:$)},V=$=>{t.secondValue=$,e.range&&k([p.value,c.value])},k=$=>{a(ye,$),a(Ne,$)},F=()=>z(void 0,null,function*(){yield be(),a(el,e.range?[p.value,c.value]:e.modelValue)}),A=$=>{var y,M,se,re,ue,ae;if(o.value||t.dragging)return;h();let Q=0;if(e.vertical){const W=(se=(M=(y=$.touches)==null?void 0:y.item(0))==null?void 0:M.clientY)!=null?se:$.clientY;Q=(u.value.getBoundingClientRect().bottom-W)/t.sliderSize*100}else{const W=(ae=(ue=(re=$.touches)==null?void 0:re.item(0))==null?void 0:ue.clientX)!=null?ae:$.clientX,q=u.value.getBoundingClientRect().left;Q=(W-q)/t.sliderSize*100}if(!(Q<0||Q>100))return m(Q)};return{elFormItem:i,slider:u,firstButton:n,secondButton:v,sliderDisabled:o,minValue:p,maxValue:c,runwayStyle:x,barStyle:B,resetSize:h,setPosition:m,emitChange:F,onSliderWrapperPrevent:$=>{var y,M;(((y=g.firstButton.value)==null?void 0:y.dragging)||((M=g.secondButton.value)==null?void 0:M.dragging))&&$.preventDefault()},onSliderClick:$=>{A($)&&F()},onSliderDown:$=>z(void 0,null,function*(){const y=A($);y&&(yield be(),y.value.onButtonDown($))}),setFirstValue:P,setSecondValue:V}},{left:it,down:dt,right:mt,up:ct,home:vt,end:ft,pageUp:pt,pageDown:gt}=Wl,yt=(e,t,a)=>{const s=C(),i=C(!1),u=U(()=>t.value instanceof Function),n=U(()=>u.value&&t.value(e.modelValue)||e.modelValue),v=De(()=>{a.value&&(i.value=!0)},50),g=De(()=>{a.value&&(i.value=!1)},50);return{tooltip:s,tooltipVisible:i,formatValue:n,displayTooltip:v,hideTooltip:g}},bt=(e,t,a)=>{const{disabled:s,min:i,max:u,step:n,showTooltip:v,precision:g,sliderSize:o,formatTooltip:p,emitChange:c,resetSize:_,updateDragging:w}=Pl(ll),{tooltip:x,tooltipVisible:B,formatValue:h,displayTooltip:r,hideTooltip:m}=yt(e,p,v),P=C(),V=U(()=>`${(e.modelValue-i.value)/(u.value-i.value)*100}%`),k=U(()=>e.vertical?{bottom:V.value}:{left:V.value}),F=()=>{t.hovering=!0,r()},A=()=>{t.hovering=!1,t.dragging||m()},j=E=>{s.value||(E.preventDefault(),Q(E),window.addEventListener("mousemove",W),window.addEventListener("touchmove",W),window.addEventListener("mouseup",q),window.addEventListener("touchend",q),window.addEventListener("contextmenu",q),P.value.focus())},K=E=>{s.value||(t.newPosition=Number.parseFloat(V.value)+E/(u.value-i.value)*100,le(t.newPosition),c())},S=()=>{K(-n.value)},$=()=>{K(n.value)},y=()=>{K(-n.value*4)},M=()=>{K(n.value*4)},se=()=>{s.value||(le(0),c())},re=()=>{s.value||(le(100),c())},ue=E=>{let R=!0;[it,dt].includes(E.key)?S():[mt,ct].includes(E.key)?$():E.key===vt?se():E.key===ft?re():E.key===gt?y():E.key===pt?M():R=!1,R&&E.preventDefault()},ae=E=>{let R,H;return E.type.startsWith("touch")?(H=E.touches[0].clientY,R=E.touches[0].clientX):(H=E.clientY,R=E.clientX),{clientX:R,clientY:H}},Q=E=>{t.dragging=!0,t.isClick=!0;const{clientX:R,clientY:H}=ae(E);e.vertical?t.startY=H:t.startX=R,t.startPosition=Number.parseFloat(V.value),t.newPosition=t.startPosition},W=E=>{if(t.dragging){t.isClick=!1,r(),_();let R;const{clientX:H,clientY:ne}=ae(E);e.vertical?(t.currentY=ne,R=(t.startY-t.currentY)/o.value*100):(t.currentX=H,R=(t.currentX-t.startX)/o.value*100),t.newPosition=t.startPosition+R,le(t.newPosition)}},q=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||m(),t.isClick||(le(t.newPosition),c())},0),window.removeEventListener("mousemove",W),window.removeEventListener("touchmove",W),window.removeEventListener("mouseup",q),window.removeEventListener("touchend",q),window.removeEventListener("contextmenu",q))},le=E=>z(void 0,null,function*(){if(E===null||Number.isNaN(+E))return;E<0?E=0:E>100&&(E=100);const R=100/((u.value-i.value)/n.value);let ne=Math.round(E/R)*R*(u.value-i.value)*.01+i.value;ne=Number.parseFloat(ne.toFixed(g.value)),a(ye,ne),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),yield be(),t.dragging&&r(),x.value.updatePopper()});return te(()=>t.dragging,E=>{w(E)}),{button:P,tooltip:x,tooltipVisible:B,showTooltip:v,wrapperStyle:k,formatValue:h,handleMouseEnter:F,handleMouseLeave:A,onButtonDown:j,onKeyDown:ue,setPosition:le}},_t=(e,t,a,s)=>({stops:U(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const n=(e.max-e.min)/e.step,v=100*e.step/(e.max-e.min),g=Array.from({length:n-1}).map((o,p)=>(p+1)*v);return e.range?g.filter(o=>o<100*(a.value-e.min)/(e.max-e.min)||o>100*(s.value-e.min)/(e.max-e.min)):g.filter(o=>o>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:n=>e.vertical?{bottom:`${n}%`}:{left:`${n}%`}}),Vt=(e,t,a,s,i,u)=>{const n=o=>{i(ye,o),i(Ne,o)},v=()=>e.range?![a.value,s.value].every((o,p)=>o===t.oldValue[p]):e.modelValue!==t.oldValue,g=()=>{var o,p;if(e.min>e.max){Ql("Slider","min should not be greater than max.");return}const c=e.modelValue;e.range&&Array.isArray(c)?c[1]<e.min?n([e.min,e.min]):c[0]>e.max?n([e.max,e.max]):c[0]<e.min?n([e.min,c[1]]):c[1]>e.max?n([c[0],e.max]):(t.firstValue=c[0],t.secondValue=c[1],v()&&(e.validateEvent&&((o=u==null?void 0:u.validate)==null||o.call(u,"change").catch(_=>Oe())),t.oldValue=c.slice())):!e.range&&typeof c=="number"&&!Number.isNaN(c)&&(c<e.min?n(e.min):c>e.max?n(e.max):(t.firstValue=c,v()&&(e.validateEvent&&((p=u==null?void 0:u.validate)==null||p.call(u,"change").catch(_=>Oe())),t.oldValue=c)))};g(),te(()=>t.dragging,o=>{o||g()}),te(()=>e.modelValue,(o,p)=>{t.dragging||Array.isArray(o)&&Array.isArray(p)&&o.every((c,_)=>c===p[_])&&t.firstValue===o[0]&&t.secondValue===o[1]||g()},{deep:!0}),te(()=>[e.min,e.max],()=>{g()})},St=Ce({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ge,default:"top"}}),wt={[ye]:e=>he(e)},kt={name:"ElSliderButton"},xt=ee(fe(ve({},kt),{props:St,emits:wt,setup(e,{expose:t,emit:a}){const s=e,i=Ie("slider"),u=je({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:s.modelValue}),{button:n,tooltip:v,showTooltip:g,tooltipVisible:o,wrapperStyle:p,formatValue:c,handleMouseEnter:_,handleMouseLeave:w,onButtonDown:x,onKeyDown:B,setPosition:h}=bt(s,u,a),{hovering:r,dragging:m}=Ee(u);return t({onButtonDown:x,onKeyDown:B,setPosition:h,hovering:r,dragging:m}),(P,V)=>(b(),T("div",{ref_key:"button",ref:n,class:Z([l(i).e("button-wrapper"),{hover:l(r),dragging:l(m)}]),style:ie(l(p)),tabindex:"0",onMouseenter:V[1]||(V[1]=(...k)=>l(_)&&l(_)(...k)),onMouseleave:V[2]||(V[2]=(...k)=>l(w)&&l(w)(...k)),onMousedown:V[3]||(V[3]=(...k)=>l(x)&&l(x)(...k)),onTouchstart:V[4]||(V[4]=(...k)=>l(x)&&l(x)(...k)),onFocus:V[5]||(V[5]=(...k)=>l(_)&&l(_)(...k)),onBlur:V[6]||(V[6]=(...k)=>l(w)&&l(w)(...k)),onKeydown:V[7]||(V[7]=(...k)=>l(B)&&l(B)(...k))},[d(l(Ze),{ref_key:"tooltip",ref:v,visible:l(o),"onUpdate:visible":V[0]||(V[0]=k=>Ul(o)?o.value=k:null),placement:P.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":P.tooltipClass,disabled:!l(g),persistent:""},{content:f(()=>[N("span",null,D(l(c)),1)]),default:f(()=>[N("div",{class:Z([l(i).e("button"),{hover:l(r),dragging:l(m)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],38))}}));var Fe=Qe(xt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const ht=Ce({mark:{type:pe([String,Object]),default:void 0}});var Et=ee({name:"ElSliderMarker",props:ht,setup(e){const t=Ie("slider"),a=U(()=>Te(e.mark)?e.mark:e.mark.label),s=U(()=>Te(e.mark)?void 0:e.mark.style);return()=>Ll("div",{class:t.e("marks-text"),style:s},a.value)}});const Ct=["id","role","aria-label","aria-labelledby"],It={key:1},Nt={name:"ElSlider"},$t=ee(fe(ve({},Nt),{props:at,emits:nt,setup(e,{expose:t,emit:a}){const s=e,i=Ie("slider"),{t:u}=Hl(),n=je({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:v,slider:g,firstButton:o,secondButton:p,sliderDisabled:c,minValue:_,maxValue:w,runwayStyle:x,barStyle:B,resetSize:h,emitChange:r,onSliderWrapperPrevent:m,onSliderClick:P,onSliderDown:V,setFirstValue:k,setSecondValue:F}=ut(s,n,a),{stops:A,getStopStyle:j}=_t(s,n,_,w),{inputId:K,isLabeledByFormItem:S}=Zl(s,{formItemContext:v}),$=jl(),y=U(()=>s.inputSize||$.value),M=U(()=>s.label||u("el.slider.defaultLabel",{min:s.min,max:s.max})),se=U(()=>s.range?s.rangeStartLabel||u("el.slider.defaultRangeStartLabel"):M.value),re=U(()=>s.formatValueText?s.formatValueText(E.value):`${E.value}`),ue=U(()=>s.rangeEndLabel||u("el.slider.defaultRangeEndLabel")),ae=U(()=>s.formatValueText?s.formatValueText(R.value):`${R.value}`),Q=U(()=>[i.b(),i.m($.value),i.is("vertical",s.vertical),{[i.m("with-input")]:s.showInput}]),W=rt(s);Vt(s,n,_,w,a,v);const q=U(()=>{const I=[s.min,s.max,s.step].map(G=>{const me=`${G}`.split(".")[1];return me?me.length:0});return Math.max.apply(null,I)}),{sliderWrapper:le}=st(s,n,h),{firstValue:E,secondValue:R,sliderSize:H}=Ee(n),ne=I=>{n.dragging=I};return Tl(ll,fe(ve({},Ee(s)),{sliderSize:H,disabled:c,precision:q,emitChange:r,resetSize:h,updateDragging:ne})),t({onSliderClick:P}),(I,G)=>{var me,$e;return b(),T("div",{id:I.range?l(K):void 0,ref_key:"sliderWrapper",ref:le,class:Z(l(Q)),role:I.range?"group":void 0,"aria-label":I.range&&!l(S)?l(M):void 0,"aria-labelledby":I.range&&l(S)?(me=l(v))==null?void 0:me.labelId:void 0,onTouchstart:G[2]||(G[2]=(...Y)=>l(m)&&l(m)(...Y)),onTouchmove:G[3]||(G[3]=(...Y)=>l(m)&&l(m)(...Y))},[N("div",{ref_key:"slider",ref:g,class:Z([l(i).e("runway"),{"show-input":I.showInput&&!I.range},l(i).is("disabled",l(c))]),style:ie(l(x)),onMousedown:G[0]||(G[0]=(...Y)=>l(V)&&l(V)(...Y)),onTouchstart:G[1]||(G[1]=(...Y)=>l(V)&&l(V)(...Y))},[N("div",{class:Z(l(i).e("bar")),style:ie(l(B))},null,6),d(Fe,{id:I.range?void 0:l(K),ref_key:"firstButton",ref:o,"model-value":l(E),vertical:I.vertical,"tooltip-class":I.tooltipClass,placement:I.placement,role:"slider","aria-label":I.range||!l(S)?l(se):void 0,"aria-labelledby":!I.range&&l(S)?($e=l(v))==null?void 0:$e.labelId:void 0,"aria-valuemin":I.min,"aria-valuemax":I.range?l(R):I.max,"aria-valuenow":l(E),"aria-valuetext":l(re),"aria-orientation":I.vertical?"vertical":"horizontal","aria-disabled":l(c),"onUpdate:modelValue":l(k)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),I.range?(b(),L(Fe,{key:0,ref_key:"secondButton",ref:p,"model-value":l(R),vertical:I.vertical,"tooltip-class":I.tooltipClass,placement:I.placement,role:"slider","aria-label":l(ue),"aria-valuemin":l(E),"aria-valuemax":I.max,"aria-valuenow":l(R),"aria-valuetext":l(ae),"aria-orientation":I.vertical?"vertical":"horizontal","aria-disabled":l(c),"onUpdate:modelValue":l(F)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):X("v-if",!0),I.showStops?(b(),T("div",It,[(b(!0),T(O,null,J(l(A),(Y,ce)=>(b(),T("div",{key:ce,class:Z(l(i).e("stop")),style:ie(l(j)(Y))},null,6))),128))])):X("v-if",!0),l(W).length>0?(b(),T(O,{key:2},[N("div",null,[(b(!0),T(O,null,J(l(W),(Y,ce)=>(b(),T("div",{key:ce,style:ie(l(j)(Y.position)),class:Z([l(i).e("stop"),l(i).e("marks-stop")])},null,6))),128))]),N("div",{class:Z(l(i).e("marks"))},[(b(!0),T(O,null,J(l(W),(Y,ce)=>(b(),L(l(Et),{key:ce,mark:Y.mark,style:ie(l(j)(Y.position))},null,8,["mark","style"]))),128))],2)],64)):X("v-if",!0)],38),I.showInput&&!I.range?(b(),L(l(He),{key:0,ref:"input","model-value":l(E),class:Z(l(i).e("input")),step:I.step,disabled:l(c),controls:I.showInputControls,min:I.min,max:I.max,debounce:I.debounce,size:l(y),"onUpdate:modelValue":l(k),onChange:l(r)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):X("v-if",!0)],42,Ct)}}}));var Bt=Qe($t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const Pt=ql(Bt),Ut={class:"flex items-center space-x-8 w-full"},Lt={class:"flex items-center space-x-4"},Tt={class:"flex-1"},Rt=ee({props:{modelValue:{type:Boolean}},emits:["update:modelValue","reload"],setup(e,{emit:t}){const{t:a}=de(),s=C(!0),i=C([]),u=C(),n=C(!1),v=C(!1),g=C([{key:"exist",value:a("common.existingSite")},{key:"new",value:a("common.newSite")}]),o=C({serverId:"",to:g.value[0].key,siteId:"",rootDomain:"",siteName:"",subDomain:""}),p=C();(()=>z(this,null,function*(){i.value=yield il()}))();const _=U(()=>{var h={serverId:[{type:"string",required:!0}]};return o.value.serverId&&(o.value.to=="exist"?Object.assign(h,{siteId:[{type:"string",required:!0}]}):Object.assign(h,{subDomain:[we(a("common.subDomainRequiredTips")),Le(1,63),El],rootDomain:we(a("common.rootDomainRequiredTips")),siteName:[Le(1,50),we(a("common.nameRequiredTips")),Cl()]})),h}),w=()=>z(this,null,function*(){var r;if(!o.value.serverId)return;const h=i.value.find(m=>m.id==o.value.serverId);try{u.value=yield dl(h.serverUrl,h.orgId),x.value=yield ml(h.serverUrl,h.orgId),o.value.rootDomain=(r=x.value[0])==null?void 0:r.value}catch(m){u.value=void 0}}),x=C([]),B=()=>z(this,null,function*(){yield p.value.validate();const h=i.value.find(r=>r.id==o.value.serverId);if(o.value.to==="exist"){const r=u.value.find(m=>m.key==o.value.siteId);yield Ue({remoteServerUrl:h.serverUrl,remoteWebSiteId:r.key,remoteSiteName:r.value,orgId:h.orgId,serverName:h.name})}else yield Ue({remoteServerUrl:h.serverUrl,SubDomain:o.value.subDomain,RootDomain:o.value.rootDomain,FullDomain:`${o.value.subDomain}-${o.value.rootDomain}`,SiteName:o.value.siteName,orgId:h.orgId,serverName:h.name});t("reload"),s.value=!1});return te(()=>o.value.subDomain,()=>{v.value||(o.value.siteName=o.value.subDomain)}),te(()=>o.value.rootDomain,()=>{var h,r,m;o.value.sudDomainUseDash=(m=(r=(h=x.value)==null?void 0:h.find(P=>P.value==o.value.rootDomain))==null?void 0:r.sudDomainUseDash)!=null?m:!1}),te(()=>o.value.siteName,()=>{n.value||(o.value.subDomain=o.value.siteName)}),(h,r)=>{const m=Ae,P=Xe,V=Ve,k=Ke,F=We,A=Il,j=Se,K=ge;return b(),L(K,{"model-value":s.value,width:"600px","close-on-click-modal":!1,title:l(a)("common.newSync"),onClosed:r[9]||(r[9]=S=>t("update:modelValue",!1))},{footer:f(()=>[d(_e,{disabled:!u.value,onConfirm:B,onCancel:r[8]||(r[8]=S=>s.value=!1)},null,8,["disabled"])]),default:f(()=>[d(j,{ref_key:"form",ref:p,"label-position":"top",model:o.value,rules:l(_),"validate-on-rule-change":!1},{default:f(()=>[d(V,{label:l(a)("common.server"),prop:"serverId"},{default:f(()=>[N("div",Ut,[d(P,{modelValue:o.value.serverId,"onUpdate:modelValue":r[0]||(r[0]=S=>o.value.serverId=S),class:"w-full","data-cy":"servers",onChange:w},{default:f(()=>[(b(!0),T(O,null,J(i.value,S=>(b(),L(m,{key:S.id,label:`${S.name} (${S.serverUrl})`,value:S.id,"data-cy":"server-opt"},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["label"]),o.value.serverId&&u.value?(b(),T(O,{key:0},[d(V,null,{default:f(()=>[d(F,{modelValue:o.value.to,"onUpdate:modelValue":r[1]||(r[1]=S=>o.value.to=S),class:"el-radio-group--rounded h-38px"},{default:f(()=>[(b(!0),T(O,null,J(g.value,S=>(b(),L(k,{key:S.key,label:S.key},{default:f(()=>[oe(D(S.value),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o.value.to=="exist"?(b(),L(V,{key:0,label:l(a)("common.siteName"),prop:"siteId"},{default:f(()=>[d(P,{modelValue:o.value.siteId,"onUpdate:modelValue":r[2]||(r[2]=S=>o.value.siteId=S),class:"w-full","data-cy":"sites"},{default:f(()=>[(b(!0),T(O,null,J(u.value,S=>(b(),L(m,{key:S.key,label:S.value,value:S.key,"data-cy":"site-opt"},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):X("",!0),o.value.to=="new"?(b(),T(O,{key:1},[d(V,{label:l(a)("common.siteName"),prop:"siteName"},{default:f(()=>[d(A,{modelValue:o.value.siteName,"onUpdate:modelValue":r[3]||(r[3]=S=>o.value.siteName=S),"data-cy":"site-name",onInput:r[4]||(r[4]=S=>v.value=!0)},null,8,["modelValue"])]),_:1},8,["label"]),N("div",Lt,[N("div",Tt,[d(V,{label:l(a)("common.domain"),prop:"subDomain"},{default:f(()=>[d(A,{modelValue:o.value.subDomain,"onUpdate:modelValue":r[5]||(r[5]=S=>o.value.subDomain=S),"data-cy":"site-subDomain",onInput:r[6]||(r[6]=S=>n.value=!0)},null,8,["modelValue"])]),_:1},8,["label"])]),d(V,{prop:"rootDomain",class:"mt-30px"},{default:f(()=>[d(P,{modelValue:o.value.rootDomain,"onUpdate:modelValue":r[7]||(r[7]=S=>o.value.rootDomain=S),class:"w-full"},{default:f(()=>[(b(!0),T(O,null,J(x.value,S=>(b(),L(m,{key:S.key,value:S.value,label:(S.sudDomainUseDash?"-":".")+S.value,"data-cy":"root-domain"},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})])],64)):X("",!0)],64)):X("",!0)]),_:1},8,["model","rules"])]),_:1},8,["model-value","title"])}}}),Mt={class:"px-32 mt-8"},zt={class:"flex-1"},Dt=ee({props:{modelValue:{type:Boolean},id:null},emits:["update:modelValue"],setup(e,{emit:t}){const a=e;var s=localStorage.getItem("settingsSyncState"),i=s?JSON.parse(s):{};const{t:u}=de(),n=C(!0),v=C(),g=()=>z(this,null,function*(){var w;const _=(w=i[a.id])!=null?w:[];v.value=(yield cl(a.id)).map(x=>fe(ve({},x),{selected:_.every(B=>B!=x.name)}))});g();function o(){return z(this,null,function*(){!v.value||(yield vl(a.id,v.value.filter(_=>_.selected).map(_=>({name:_.name,value:_.value}))),Re.success(u("common.pushSuccess")),g())})}function p(){return z(this,null,function*(){!v.value||(yield fl(v.value.filter(_=>_.selected).map(_=>({name:_.name,value:_.remoteValue}))),Re.success(u("common.pullSuccess")),g())})}te(()=>v.value,()=>{!v.value||(i[a.id]=v.value.filter(_=>!_.selected).map(_=>_.name),localStorage.setItem("settingsSyncState",JSON.stringify(i)))},{deep:!0});const c=U(()=>{var _,w;return!((w=(_=v.value)==null?void 0:_.filter(x=>x.selected))!=null&&w.length)});return(_,w)=>{const x=Xl,B=Fl,h=Je,r=ge;return b(),L(r,{"model-value":n.value,width:"600px","close-on-click-modal":!1,title:l(u)("common.siteSettingDifferences"),"custom-class":"el-dialog--zero-padding",onClosed:w[1]||(w[1]=m=>t("update:modelValue",!1))},{footer:f(()=>[d(h,{"data-cy":"cancel-in-dialog",onClick:w[0]||(w[0]=m=>n.value=!1)},{default:f(()=>[oe(D(l(u)("common.cancel")),1)]),_:1}),d(h,{type:"primary",disabled:l(c),onClick:p},{default:f(()=>[oe(D(l(u)("common.pull")),1)]),_:1},8,["disabled"]),d(h,{type:"primary",disabled:l(c),onClick:o},{default:f(()=>[oe(D(l(u)("common.push")),1)]),_:1},8,["disabled"])]),default:f(()=>{var m;return[(m=v.value)!=null&&m.length?(b(),T(O,{key:0},[d(Ol,{content:l(u)("common.settingsSyncTip")},null,8,["content"]),N("div",Mt,[(b(!0),T(O,null,J(v.value,P=>(b(),T("div",{key:P.name,class:"flex items-center"},[N("p",zt,D(l(u)("common."+P.name)),1),d(x,{modelValue:P.selected,"onUpdate:modelValue":V=>P.selected=V},null,8,["modelValue","onUpdate:modelValue"])]))),128))])],64)):v.value?(b(),L(B,{key:1,description:l(u)("common.allSettingsSynced")},null,8,["description"])):X("",!0)]}),_:1},8,["model-value","title"])}}}),Ot={class:"flex flex-wrap gap-8 bg-card dark:bg-444 p-12 rounded-normal"},Ft={class:"leading-4"},At=ee({props:{modelValue:{type:Boolean},id:null},emits:["update:modelValue","reload"],setup(e,{emit:t}){const a=e,{t:s}=de(),i=C(!0),u=C([]),n=C("out"),v=C();pl().then(w=>u.value=w),gl(a.id).then(w=>v.value=w);const g=C([{key:"out",value:s("common.push")},{key:"in",value:s("common.pull")}]),o=()=>z(this,null,function*(){yield yl(a.id,v.value),t("reload"),i.value=!1}),p=U(()=>v.value?n.value=="in"?v.value.ignoreInStoreNames:v.value.ignoreOutStoreNames:[]);function c(w){return p.value.includes(w)}function _(w){var x=p.value.indexOf(w);x>-1?p.value.splice(x,1):p.value.push(w)}return(w,x)=>{const B=Ke,h=We,r=Ve,m=Ye,P=Se,V=ge;return b(),L(V,{"model-value":i.value,width:"600px","close-on-click-modal":!1,title:l(s)("common.ignoreSettings"),onClosed:x[2]||(x[2]=k=>t("update:modelValue",!1))},{footer:f(()=>[d(_e,{disabled:!v.value,onConfirm:o,onCancel:x[1]||(x[1]=k=>i.value=!1)},null,8,["disabled"])]),default:f(()=>[d(P,{"label-width":"100px"},{default:f(()=>[d(r,{label:l(s)("common.type"),class:"flex--middle"},{default:f(()=>[d(h,{modelValue:n.value,"onUpdate:modelValue":x[0]||(x[0]=k=>n.value=k),class:"el-radio-group--rounded"},{default:f(()=>[(b(!0),T(O,null,J(g.value,k=>(b(),L(B,{key:k.key,label:k.key,onClick:F=>n.value=k.key},{default:f(()=>[oe(D(k.value),1)]),_:2},1032,["label","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(r,{label:l(s)("common.ignoreStore")},{default:f(()=>[N("div",Ot,[(b(!0),T(O,null,J(u.value,k=>(b(),L(m,{key:k.name,round:"",class:Z(["cursor-pointer",{"line-through":c(k.key)}]),type:c(k.key)?"danger":"info",onClick:F=>_(k.key)},{default:f(()=>[N("span",Ft,D(k.value),1)]),_:2},1032,["class","type","onClick"]))),128))])]),_:1},8,["label"])]),_:1})]),_:1},8,["model-value","title"])}}}),Xt={class:"flex items-center w-full space-x-16"},Yt={class:"flex items-center w-full space-x-16"},Kt=ee({props:{modelValue:{type:Boolean},id:null},emits:["update:modelValue","reload"],setup(e,{emit:t}){const a=e,{t:s}=de(),i=C(!0),u=C(),n=C();bl(a.id).then(g=>{u.value=JSON.parse(JSON.stringify(g)),n.value=g});const v=()=>z(this,null,function*(){yield _l(a.id,n.value),t("reload"),i.value=!1});return(g,o)=>{const p=He,c=Pt,_=Ve,w=Se,x=ge;return b(),L(x,{"model-value":i.value,width:"600px","close-on-click-modal":!1,title:l(s)("common.syncProgress"),onClosed:o[5]||(o[5]=B=>t("update:modelValue",!1))},{footer:f(()=>[d(_e,{onConfirm:v,onCancel:o[4]||(o[4]=B=>i.value=!1)})]),default:f(()=>[n.value?(b(),L(w,{key:0,"label-position":"top"},{default:f(()=>[d(_,{label:`${l(s)("common.localProgress")} (${l(s)("common.localLastId")}: ${n.value.localLastId})`},{default:f(()=>[N("div",Xt,[d(p,{modelValue:n.value.localProgress,"onUpdate:modelValue":o[0]||(o[0]=B=>n.value.localProgress=B),class:"w-150px",disabled:n.value.localLastId==0,step:1,"step-strictly":""},null,8,["modelValue","disabled"]),d(c,{modelValue:n.value.localProgress,"onUpdate:modelValue":o[1]||(o[1]=B=>n.value.localProgress=B),class:"flex-1",min:0,max:n.value.localLastId,disabled:n.value.localLastId==0},null,8,["modelValue","max","disabled"])])]),_:1},8,["label"]),d(_,{label:`${l(s)("common.remoteProgress")} (${l(s)("common.remoteLastId")}: ${n.value.remoteLastId})`},{default:f(()=>[N("div",Yt,[d(p,{modelValue:n.value.remoteProgress,"onUpdate:modelValue":o[2]||(o[2]=B=>n.value.remoteProgress=B),class:"w-150px",disabled:n.value.remoteLastId==0,step:1,"step-strictly":""},null,8,["modelValue","disabled"]),d(c,{modelValue:n.value.remoteProgress,"onUpdate:modelValue":o[3]||(o[3]=B=>n.value.remoteProgress=B),min:0,class:"flex-1",max:n.value.remoteLastId,disabled:n.value.remoteLastId==0},null,8,["modelValue","max","disabled"])])]),_:1},8,["label"])]),_:1})):X("",!0)]),_:1},8,["model-value","title"])}}}),Wt=ee({props:{modelValue:{type:Boolean}},emits:["update:model-value","create-success"],setup(e,{emit:t}){const{t:a}=de(),s=qe(),i=C();let u=C({role:"",expire:new Date(Date.now()+3600*1e3*24*365)});const n=C([]),v=C(!0);et().then(o=>{n.value=o,n.value.length&&(u.value.role=n.value[0])});const g=()=>z(this,null,function*(){var p;yield(p=i.value)==null?void 0:p.validate();const o=yield Vl(u.value.role,u.value.expire,s.site.id);Rl("data:application/octet-stream;charset=utf-8,"+encodeURIComponent(o),"bearer.json"),v.value=!1,t("create-success")});return(o,p)=>{const c=Ae,_=Xe,w=Ve,x=lt,B=Se,h=ge;return b(),L(h,{modelValue:v.value,"onUpdate:modelValue":p[4]||(p[4]=r=>v.value=r),width:"600px","close-on-click-modal":!1,title:l(a)("common.newCooperationBearer"),onClosed:p[5]||(p[5]=r=>o.$emit("update:model-value",!1))},{footer:f(()=>[d(_e,{"confirm-label":l(a)("common.create"),onConfirm:g,onCancel:p[3]||(p[3]=r=>v.value=!1)},null,8,["confirm-label"])]),default:f(()=>[d(B,{ref_key:"form",ref:i,class:"el-form--label-normal",model:l(u),"label-position":"top",onSubmit:p[2]||(p[2]=hl(()=>{},["prevent"]))},{default:f(()=>[d(w,{label:l(a)("common.role"),prop:"role",required:""},{default:f(()=>[d(_,{modelValue:l(u).role,"onUpdate:modelValue":p[0]||(p[0]=r=>l(u).role=r),class:"w-full","data-cy":"roles"},{default:f(()=>[(b(!0),T(O,null,J(n.value,r=>(b(),L(c,{key:r,value:r,label:r,"data-cy":"role-opt"},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(w,{label:l(a)("common.expireDate"),prop:"expire",required:""},{default:f(()=>[d(x,{modelValue:l(u).expire,"onUpdate:modelValue":p[1]||(p[1]=r=>l(u).expire=r)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}}),jt={class:"p-24"},qt={class:"flex items-center py-24 space-x-16"},Jt={class:"flex items-center"},Ht={class:"flex items-center"},Gt={class:"flex items-center"},Zt=N("div",{class:"flex-1"},null,-1),Qt=["title"],eo={"data-cy":"remote-site"},lo={"data-cy":"server"},to={class:"space-x-4 cursor-pointer inline-flex items-center"},oo={class:"inline-flex items-center justify-end w-80px"},ao={class:"space-x-2px flex relative"},no={class:"relative w-12px h-12px top-2px overflow-hidden"},so={class:"inline-flex items-center justify-start w-80px"},ro={class:"space-x-2px flex relative"},uo={class:"relative w-12px h-12px bottom-2px overflow-hidden"},io={class:"py-4"},xa=ee({setup(e){const{t}=de(),a=C([]),s=C(!1),i=C(!1),u=C(!1),n=C(!1),v=Ml(),g=C(),o=C(!1),p=qe(),c=()=>z(this,null,function*(){a.value=yield Sl()}),_=r=>z(this,null,function*(){yield Kl(r.length),yield wl(r.map(m=>m.id)),c()}),w=r=>{g.value=r,i.value=!0},x=r=>{g.value=r,u.value=!0},B=r=>{g.value=r,n.value=!0};function h(r){return z(this,null,function*(){try{var m=JSON.parse(yield r.raw.text());yield kl({remoteServerUrl:m.server,remoteWebSiteId:m.siteId,remoteSiteName:m.name,serverName:m.name,accessToken:m.token}),c()}catch(P){Al(t("common.bearerInvalid"))}})}return c(),(r,m)=>{const P=Jl,V=Je,k=tt,F=rl,A=ot,j=Ye,K=Ze,S=zl("router-link"),$=Dl("hasPermission");return b(),T(O,null,[N("div",jt,[d(Yl,{name:l(t)("common.sync")},null,8,["name"]),N("div",qt,[ke((b(),L(V,{round:"","data-cy":"new-sync",onClick:m[0]||(m[0]=y=>s.value=!0)},{default:f(()=>[N("div",Jt,[d(P,{class:"mr-16 iconfont icon-a-addto"}),oe(" "+D(l(t)("common.newSync")),1)])]),_:1})),[[$,{feature:"sync",action:"edit"}]]),l(p).isAdmin?ke((b(),L(V,{key:0,round:"","data-cy":"new-sync",onClick:m[1]||(m[1]=y=>o.value=!0)},{default:f(()=>[N("div",Ht,[d(P,{class:"mr-16 iconfont icon-a-addto"}),oe(" "+D(l(t)("common.newCooperationBearer")),1)])]),_:1})),[[$,{feature:"sync",action:"edit"}]]):X("",!0),d(k,{"show-file-list":!1,action:"",accept:".json","auto-upload":!1,"on-change":h,"data-cy":"import-bearer"},{default:f(()=>[ke((b(),L(V,{round:""},{default:f(()=>[N("div",Gt,[d(P,{class:"mr-16 iconfont icon-a-Pullin"}),oe(" "+D(l(t)("common.importCooperationBearer")),1)])]),_:1})),[[$,{feature:"sync",action:"edit"}]])]),_:1}),Zt,d(F,{permission:{feature:"sync",action:"edit"},circle:"",icon:"icon-yunfuwuqi",tip:l(t)("common.server"),onClick:m[2]||(m[2]=y=>l(v).push(l(Me)({name:"sync-server"})))},null,8,["tip"])]),d(l(ul),{data:a.value,"show-check":"",permission:{feature:"sync",action:"delete"},onDelete:_},{default:f(()=>[d(A,{label:l(t)("common.server")},{default:f(({row:y})=>[N("span",{title:y.serverName},D(y.serverName),9,Qt)]),_:1},8,["label"]),d(A,{label:l(t)("common.remoteSite")},{default:f(({row:y})=>[N("span",eo,D(y.remoteSiteName),1)]),_:1},8,["label"]),d(A,{label:l(t)("common.serverUrl")},{default:f(({row:y})=>[N("span",lo,D(y.remoteServerUrl),1)]),_:1},8,["label"]),d(A,{label:l(t)("common.difference"),align:"center"},{default:f(({row:y})=>[d(S,{to:l(Me)({name:"sync-list",query:{id:y.id}})},{default:f(()=>[N("div",to,[N("div",oo,[d(K,{content:l(t)("common.localChanges"),placement:"top"},{default:f(()=>[d(j,{round:""},{default:f(()=>[N("div",ao,[N("span",null,D(y.localDifference>999?"999+":y.localDifference),1),N("div",no,[d(P,{class:"iconfont icon-a-debug-step-out absolute top-[-4px] left-0"})])])]),_:2},1024)]),_:2},1032,["content"])]),N("div",so,[d(K,{content:l(t)("common.remoteChanges"),placement:"top"},{default:f(()=>[d(j,{type:"success",round:""},{default:f(()=>[N("div",ro,[N("div",uo,[d(P,{class:"iconfont icon-debug-step-into absolute bottom-[-4px] left-0"})]),N("span",null,D(y.remoteDifference>999?"999+":y.remoteDifference),1)])]),_:2},1024)]),_:2},1032,["content"])])])]),_:2},1032,["to"])]),_:1},8,["label"]),d(A,{align:"right",width:"120"},{default:f(({row:y})=>[N("div",io,[d(F,{icon:"icon-a-debug-step-over",class:"text-m",tip:l(t)("common.syncProgress"),onClick:M=>B(y.id)},null,8,["tip","onClick"]),d(F,{icon:"icon-correct",class:"text-m",tip:l(t)("common.ignoreSettings"),onClick:M=>x(y.id)},null,8,["tip","onClick"]),d(F,{icon:"icon-a-setup",tip:l(t)("common.siteSettingsSync"),onClick:M=>w(y.id)},null,8,["tip","onClick"])])]),_:1})]),_:1},8,["data"])]),s.value?(b(),L(Rt,{key:0,modelValue:s.value,"onUpdate:modelValue":m[3]||(m[3]=y=>s.value=y),onReload:c},null,8,["modelValue"])):X("",!0),i.value?(b(),L(Dt,{key:1,id:g.value,modelValue:i.value,"onUpdate:modelValue":m[4]||(m[4]=y=>i.value=y)},null,8,["id","modelValue"])):X("",!0),u.value?(b(),L(At,{key:2,id:g.value,modelValue:u.value,"onUpdate:modelValue":m[5]||(m[5]=y=>u.value=y),onReload:c},null,8,["id","modelValue"])):X("",!0),n.value?(b(),L(Kt,{key:3,id:g.value,modelValue:n.value,"onUpdate:modelValue":m[6]||(m[6]=y=>n.value=y),onReload:c},null,8,["id","modelValue"])):X("",!0),o.value?(b(),L(Wt,{key:4,modelValue:o.value,"onUpdate:modelValue":m[7]||(m[7]=y=>o.value=y)},null,8,["modelValue"])):X("",!0)],64)}}});export{xa as default};
