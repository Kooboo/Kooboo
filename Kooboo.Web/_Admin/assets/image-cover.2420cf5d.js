import{g as z,w as k}from"./i18n.bcd18f8a.js";import{u as B}from"./main.582f9de6.js";import{d as E,g as S,c as U,c0 as j,o as t,a as d,f as m,b as l,w as f,t as p,u as s,j as h,n as g,k as n,m as D}from"./url.8f5ec20c.js";import{M as I}from"./media-dialog.31d6c41c.js";import"./validate.238a9986.js";import"./image-editor.vue_vue_type_style_index_0_scoped_true_lang.53a9e945.js";import{_ as M}from"./media.71de4b30.js";import{E as N}from"./windi.19264205.js";import{E as $}from"./index.aec72f69.js";var A="/_Admin/assets/commerce_default_image.ceec75bb.svg";const F={class:"flex items-center justify-center"},_={key:0,class:"text-fff absolute inset-0 bg-444/60 flex flex-col items-center justify-center transition-all opacity-0 group-hover:opacity-100 space-y-4"},R=E({props:{modelValue:null,editable:{type:Boolean},size:null,description:null,folder:null},emits:["update:model-value","delete"],setup(e,{emit:i}){const r=e,C=B(),o=S(!1),{t:b}=z(),V=U(()=>`url("${r.modelValue?j(C.site.prUrl,r.modelValue):A}")`);function x(c){i("update:model-value",c[0].url)}function w(){i("update:model-value",""),i("delete")}return(c,a)=>{const u=N,y=$;return t(),d("div",F,[m("div",{style:D({backgroundImage:s(V)}),class:g(["w-48px h-48px bg-contain bg-center bg-no-repeat rounded-normal overflow-hidden inline-block relative group bg-gray",{"cursor-pointer":e.editable,"w-128px":e.size=="large","h-128px":e.size=="large"}])},[e.editable?(t(),d("div",_,[l(M,{folder:e.folder||"/",multiple:!1,onAfterUpload:x},{default:f(()=>[l(y,{round:"",size:"small",type:"primary",class:"w-80px"},{default:f(()=>[l(u,{class:"iconfont icon-a-Cloudupload"}),m("span",null,p(s(b)("common.upload")),1)]),_:1})]),_:1},8,["folder"]),l(y,{round:"",size:"small",type:"primary",class:"!ml-0 w-80px",onClick:a[0]||(a[0]=k(v=>o.value=!0,["stop"]))},{default:f(()=>[l(u,{class:"iconfont icon-folder"}),m("span",null,p(s(b)("common.select")),1)]),_:1}),r.modelValue?(t(),h(u,{key:0,class:g(["iconfont icon-delete text-orange absolute top-8 right-8",{"text-l":e.size=="large"}]),onClick:k(w,["stop"])},null,8,["class","onClick"])):n("",!0)])):n("",!0),e.description?(t(),d("div",{key:1,class:g(["bg-444/60 text-s h-16px text-fff absolute left-0 right-0 bottom-0 flex items-center justify-center",{"h-24px":e.size=="large"}])},p(e.description),3)):n("",!0)],6),o.value?(t(),h(s(I),{key:0,modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=v=>o.value=v),onChoose:x},null,8,["modelValue"])):n("",!0)])}}});export{R as _,A as d};
