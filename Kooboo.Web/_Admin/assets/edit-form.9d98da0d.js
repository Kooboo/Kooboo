var C=(e,s,u)=>new Promise((V,b)=>{var a=l=>{try{f(u.next(l))}catch(i){b(i)}},r=l=>{try{f(u.throw(l))}catch(i){b(i)}},f=l=>l.done?V(l.value):Promise.resolve(l.value).then(a,r);f((u=u.apply(e,s)).next())});import{g as S}from"./i18n.48bd28ac.js";import{b as A,e as F}from"./discount.21525f15.js";import{_ as N}from"./condition.5fbdcdcf.js";import{n as R}from"./guid.c1a40312.js";import{E as h}from"./index.fc90f5ad.js";import{E as G}from"./index.2bc50276.js";import{d as B,o as E,a as I,b as o,G as _,j as g,w as t,aH as p,t as c,u as m,k as x,g as D,i as $,f as n}from"./url.2e6a77c4.js";import{u as j}from"./commerce.f8d3336c.js";import{E as L}from"./index.d4bbb472.js";import{E as M,a as T}from"./index.6855d037.js";import{E as H}from"./index.81036e13.js";import{b as q,a as z}from"./index.695d0284.js";import{E as J}from"./index.cbddf8eb.js";const K={class:"flex space-x-4"},Q=B({props:{modelValue:null,auto:{type:Boolean}},emits:["update:model-value"],setup(e,{emit:s}){const u=e,{t:V}=S();function b(){s("update:model-value",R().substring(0,6).toUpperCase())}return u.auto&&!u.modelValue&&b(),(a,r)=>{const f=h,l=G;return E(),I("div",K,[o(f,{modelValue:e.modelValue,"onUpdate:modelValue":[r[0]||(r[0]=i=>_(modelValue)?modelValue.value=i:null),r[1]||(r[1]=i=>s("update:model-value",i))],class:"w-280px"},null,8,["modelValue"]),e.auto?x("",!0):(E(),g(l,{key:0,type:"primary",onClick:b},{default:t(()=>[p(c(m(V)("common.generate")),1)]),_:1}))])}}}),W={class:"px-24 pt-0 pb-84px space-y-12"},X={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},Y={class:"grid grid-cols-2 gap-x-8"},Z={class:"flex items-center space-x-8"},ee=n("span",{class:"text-l font-bold"},"~",-1),le={class:"grid grid-cols-2 gap-x-8"},oe={class:"space-y-4"},te={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},ae={class:"space-y-4 w-full"},de={class:"space-y-4"},me={class:"w-16 h-16 flex items-center justify-center transform origin-center scale-75"},ne={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},ke=B({props:{model:null},setup(e){const s=e,u=D([]),V=D(""),b=j(),{t:a}=S();function r(f){return C(this,null,function*(){f=="ProductAmountOff"?(V.value=a("commerce.orderProduct"),u.value=yield A()):(V.value=a("commerce.order"),u.value=yield F())})}return r(s.model.type),$(()=>s.model.type,()=>{u.value=[],s.model.condition.isAny=!1,s.model.condition.items=[],r(s.model.type)}),(f,l)=>{const i=h,y=M,w=H,O=L,v=q,k=z,P=J,U=T;return E(),I("div",W,[n("div",X,[o(U,{"label-position":"top"},{default:t(()=>[o(y,{label:m(a)("common.title")},{default:t(()=>[o(i,{modelValue:e.model.title,"onUpdate:modelValue":l[0]||(l[0]=d=>e.model.title=d)},null,8,["modelValue"])]),_:1},8,["label"]),n("div",Y,[o(y,{label:m(a)("common.activeTime")},{default:t(()=>[n("div",Z,[o(w,{modelValue:e.model.startDate,"onUpdate:modelValue":l[1]||(l[1]=d=>e.model.startDate=d),type:"datetime"},null,8,["modelValue"]),ee,o(w,{modelValue:e.model.endDate,"onUpdate:modelValue":l[2]||(l[2]=d=>e.model.endDate=d),type:"datetime"},null,8,["modelValue"])])]),_:1},8,["label"]),o(y,{label:m(a)("common.priority")},{default:t(()=>[o(O,{modelValue:e.model.priority,"onUpdate:modelValue":l[3]||(l[3]=d=>e.model.priority=d),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["label"])]),n("div",le,[o(y,{label:m(a)("commerce.method")},{default:t(()=>[n("div",oe,[n("div",null,[o(k,{modelValue:e.model.method,"onUpdate:modelValue":l[4]||(l[4]=d=>e.model.method=d)},{default:t(()=>[o(v,{label:"AutomaticDiscount"},{default:t(()=>[p(c(m(a)("commerce.automaticDiscount")),1)]),_:1}),o(v,{label:"DiscountCode"},{default:t(()=>[p(c(m(a)("commerce.discountCode")),1)]),_:1})]),_:1},8,["modelValue"])]),e.model.method=="DiscountCode"?(E(),g(Q,{key:0,modelValue:e.model.code,"onUpdate:modelValue":l[5]||(l[5]=d=>e.model.code=d),auto:""},null,8,["modelValue"])):x("",!0)])]),_:1},8,["label"]),o(y,{label:m(a)("commerce.isExclusion")},{default:t(()=>[o(P,{modelValue:e.model.isExclusion,"onUpdate:modelValue":l[6]||(l[6]=d=>e.model.isExclusion=d)},null,8,["modelValue"])]),_:1},8,["label"])])]),_:1})]),n("div",te,[o(U,{"label-position":"top"},{default:t(()=>[o(y,{label:m(a)("common.type")},{default:t(()=>[n("div",ae,[n("div",de,[n("div",null,[o(k,{modelValue:e.model.type,"onUpdate:modelValue":l[7]||(l[7]=d=>e.model.type=d)},{default:t(()=>[o(v,{label:"ProductAmountOff"},{default:t(()=>[p(c(m(a)("commerce.productAmountOff")),1)]),_:1}),o(v,{label:"OrderAmountOff"},{default:t(()=>[p(c(m(a)("commerce.orderAmountOff")),1)]),_:1}),o(v,{label:"FreeShipping"},{default:t(()=>[p(c(m(a)("commerce.freeShipping")),1)]),_:1})]),_:1},8,["modelValue"])])])])]),_:1},8,["label"]),e.model.type!="FreeShipping"?(E(),g(y,{key:0,label:m(a)("commerce.accordingBy")},{default:t(()=>[n("div",null,[n("div",null,[o(k,{modelValue:e.model.isPercent,"onUpdate:modelValue":l[8]||(l[8]=d=>e.model.isPercent=d)},{default:t(()=>[o(v,{label:!1},{default:t(()=>[p(c(m(a)("common.amount")),1)]),_:1}),o(v,{label:!0},{default:t(()=>[p(c(m(a)("common.percent")),1)]),_:1})]),_:1},8,["modelValue"])]),o(i,{modelValue:e.model.value,"onUpdate:modelValue":l[9]||(l[9]=d=>e.model.value=d),modelModifiers:{number:!0},class:"w-280px"},{suffix:t(()=>[n("div",me,c(e.model.isPercent?"%":m(b).settings.currencyCode),1)]),_:1},8,["modelValue"])])]),_:1},8,["label"])):x("",!0)]),_:1})]),n("div",ne,[u.value.length?(E(),g(N,{key:0,condition:e.model.condition,schemas:u.value,title:V.value},null,8,["condition","schemas","title"])):x("",!0)])])}}});export{ke as _};
