var C=(o,f,a)=>new Promise((i,v)=>{var V=m=>{try{p(a.next(m))}catch(e){v(e)}},l=m=>{try{p(a.throw(m))}catch(e){v(e)}},p=m=>m.done?i(m.value):Promise.resolve(m.value).then(V,l);p((a=a.apply(o,f)).next())});import{_ as U}from"./index.50326354.js";import{a as r}from"./replace-all.b35629e7.js";import{d}from"./main.1c3b59e3.js";import{d as w,g as B}from"./i18n.25caaace.js";import{_ as F}from"./editable-tags.b9955dfc.js";import{u as S}from"./useTag.f95c1521.js";import{E as $}from"./index.f571dfc9.js";import{E as x,a as D}from"./index.94998415.js";import{E as k}from"./index.a5d96e5a.js";import{d as M,g as b,o as y,j as G,w as n,b as t,f as O,u}from"./url.8f5ec20c.js";const _=w.global.t,X=o=>d.post(r("Customer/list"),o),Y=o=>d.get(r("Customer/GetEdit"),{id:o}),Z=o=>d.get(r("Customer/Get"),{id:o}),T=o=>d.post(r("Customer/create"),o,void 0,{successMessage:_("common.saveSuccess")}),h=o=>d.post(r("Customer/Edit"),o,void 0,{successMessage:_("common.saveSuccess")}),ee=o=>d.post(r("Customer/deletes"),{ids:o},void 0,{successMessage:_("common.deleteSuccess")}),j={class:"grid grid-cols-2 gap-8"},oe=M({props:{modelValue:{type:Boolean}},emits:["update:modelValue","reload"],setup(o,{emit:f}){const{t:a}=B(),i=b(!0),{tags:v,removeTag:V}=S("Customer"),l=b({firstName:"",lastName:"",email:"",phone:"",tags:[]});function p(){return C(this,null,function*(){yield T(l.value),f("reload"),i.value=!1})}return(m,e)=>{const g=$,c=x,E=D,N=U,I=k;return y(),G(I,{"model-value":i.value,width:"600px",title:u(a)("common.create"),"close-on-click-modal":!1,onClosed:e[6]||(e[6]=s=>f("update:modelValue",!1))},{footer:n(()=>[t(N,{onConfirm:p,onCancel:e[5]||(e[5]=s=>i.value=!1)})]),default:n(()=>[t(E,{"label-position":"top"},{default:n(()=>[O("div",j,[t(c,{label:u(a)("common.firstName")},{default:n(()=>[t(g,{modelValue:l.value.firstName,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.firstName=s)},null,8,["modelValue"])]),_:1},8,["label"]),t(c,{label:u(a)("common.lastName")},{default:n(()=>[t(g,{modelValue:l.value.lastName,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.lastName=s)},null,8,["modelValue"])]),_:1},8,["label"])]),t(c,{label:u(a)("common.email")},{default:n(()=>[t(g,{modelValue:l.value.email,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.email=s)},null,8,["modelValue"])]),_:1},8,["label"]),t(c,{label:u(a)("common.phone")},{default:n(()=>[t(g,{modelValue:l.value.phone,"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.phone=s)},null,8,["modelValue"])]),_:1},8,["label"]),t(c,{label:u(a)("common.tag")},{default:n(()=>[t(F,{modelValue:l.value.tags,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.tags=s),"option-deletable":"",options:u(v),onDeleteOption:u(V)},null,8,["modelValue","options","onDeleteOption"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model-value","title"])}}});export{oe as _,Z as a,Y as b,ee as d,h as e,X as g};
