var VU=Object.defineProperty;var yN=Object.getOwnPropertySymbols;var UU=Object.prototype.hasOwnProperty,WU=Object.prototype.propertyIsEnumerable;var wN=(We,Tt,At)=>Tt in We?VU(We,Tt,{enumerable:!0,configurable:!0,writable:!0,value:At}):We[Tt]=At,_F=(We,Tt)=>{for(var At in Tt||(Tt={}))UU.call(Tt,At)&&wN(We,At,Tt[At]);if(yN)for(var At of yN(Tt))WU.call(Tt,At)&&wN(We,At,Tt[At]);return We};import{d as TN}from"./dark.bb3c8a6e.js";import{f as b5,d as jU,h as qU,g as GU}from"./i18n.25caaace.js";import{_ as KU}from"./dev-mode.d22f2f80.js";import{g as Mv,d as y5,o as qC,a as ON,b as XU,u as p5,G as YU,i as KC,L as ZU,h as JU,aW as QU,aU as eW,aY as tW,U as CN,K as xN,x as nW,bf as DN,c as rW,j as BF,aT as _N,k as aW,F as oW}from"./url.8f5ec20c.js";import{M as iW}from"./media-dialog.d9567663.js";import"./validate.f3c0b03b.js";import"./image-editor.vue_vue_type_style_index_0_scoped_true_lang.e5d64b31.js";import{b as uW,u as sW}from"./main.1c3b59e3.js";import{t as cW,s as lW}from"./style.1b77b3a2.js";import{d as SN}from"./debounce.730e1961.js";import{p as fW}from"./pick.51150ea7.js";var vW={exports:{}};(function(We){(function(){var Tt=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},At=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Rn=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},Nt=function(e,n){return Dn(function(a,i){return e.eq(n(a),n(i))})},Dn=function(e){return{eq:e}},pn=Dn(function(e,n){return e===n}),cr=pn,Yn=function(e){return Dn(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,u=0;u<i;u++)if(!e.eq(n[u],a[u]))return!1;return!0})},nr=function(e,n){return Nt(Yn(e),function(a){return Rn(a,n)})},Kr=function(e){return Dn(function(n,a){var i=Object.keys(n),u=Object.keys(a);if(!nr(cr).eq(i,u))return!1;for(var c=i.length,v=0;v<c;v++){var m=i[v];if(!e.eq(n[m],a[m]))return!1}return!0})},Jt=Dn(function(e,n){if(e===n)return!0;var a=Tt(e),i=Tt(n);return a!==i?!1:At(a)?e===n:a==="array"?Yn(Jt).eq(e,n):a==="object"?Kr(Jt).eq(e,n):!1}),Wn=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},Vr=function(e){return function(n){return Wn(n)===e}},Xr=function(e){return function(n){return typeof n===e}},Pe=function(e){return function(n){return e===n}},bn=Vr("string"),Cn=Vr("object"),$t=Vr("array"),X=Pe(null),Mt=Xr("boolean"),fe=Pe(void 0),rn=function(e){return e==null},an=function(e){return!rn(e)},Fe=Xr("function"),ut=Xr("number"),Ve=function(){},lr=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},K=function(e,n){return function(a){return e(n(a))}},Ge=function(e){return function(){return e}},Rt=function(e){return e},ta=function(e,n){return e===n};function nt(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var c=n.concat(i);return e.apply(null,c)}}var Wa=function(e){return function(n){return!e(n)}},Ba=function(e){return function(){throw new Error(e)}},x=function(e){return e()},je=function(e){e()},yt=Ge(!1),Ht=Ge(!0),Nn=function(){return ar},ar=function(){var e=function(i){return i()},n=Rt,a={fold:function(i,u){return i()},isSome:yt,isNone:Ht,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:Ge(null),getOrUndefined:Ge(void 0),or:n,orThunk:e,map:Nn,each:Ve,bind:Nn,exists:yt,forall:Ht,filter:function(){return Nn()},toArray:function(){return[]},toString:Ge("none()")};return a}(),_n=function(e){var n=Ge(e),a=function(){return u},i=function(c){return c(e)},u={fold:function(c,v){return v(e)},isSome:Ht,isNone:yt,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(c){return _n(c(e))},each:function(c){c(e)},bind:i,exists:i,forall:i,filter:function(c){return c(e)?u:ar},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return u},Cr=function(e){return e==null?ar:_n(e)},U={some:_n,none:Nn,from:Cr},Bo=Array.prototype.slice,Ke=Array.prototype.indexOf,be=Array.prototype.push,sn=function(e,n){return Ke.call(e,n)},Bt=function(e,n){var a=sn(e,n);return a===-1?U.none():U.some(a)},dt=function(e,n){return sn(e,n)>-1},yn=function(e,n){for(var a=0,i=e.length;a<i;a++){var u=e[a];if(n(u,a))return!0}return!1},Yt=function(e,n){for(var a=e.length,i=new Array(a),u=0;u<a;u++){var c=e[u];i[u]=n(c,u)}return i},Ne=function(e,n){for(var a=0,i=e.length;a<i;a++){var u=e[a];n(u,a)}},at=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},Ln=function(e,n){for(var a=[],i=[],u=0,c=e.length;u<c;u++){var v=e[u],m=n(v,u)?a:i;m.push(v)}return{pass:a,fail:i}},bt=function(e,n){for(var a=[],i=0,u=e.length;i<u;i++){var c=e[i];n(c,i)&&a.push(c)}return a},er=function(e,n,a){return at(e,function(i,u){a=n(a,i,u)}),a},yr=function(e,n,a){return Ne(e,function(i,u){a=n(a,i,u)}),a},ur=function(e,n,a){for(var i=0,u=e.length;i<u;i++){var c=e[i];if(n(c,i))return U.some(c);if(a(c,i))break}return U.none()},hr=function(e,n){return ur(e,n,yt)},va=function(e,n){for(var a=0,i=e.length;a<i;a++){var u=e[a];if(n(u,a))return U.some(a)}return U.none()},pa=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!$t(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);be.apply(n,e[a])}return n},za=function(e,n){return pa(Yt(e,n))},Ma=function(e,n){for(var a=0,i=e.length;a<i;++a){var u=e[a];if(n(u,a)!==!0)return!1}return!0},Xe=function(e){var n=Bo.call(e,0);return n.reverse(),n},et=function(e,n){return bt(e,function(a){return!dt(n,a)})},lt=function(e,n){for(var a={},i=0,u=e.length;i<u;i++){var c=e[i];a[String(c)]=n(c,i)}return a},gt=function(e,n){var a=Bo.call(e,0);return a.sort(n),a},st=function(e,n){return n>=0&&n<e.length?U.some(e[n]):U.none()},Ut=function(e){return st(e,0)},cn=function(e){return st(e,e.length-1)},kt=Fe(Array.from)?Array.from:function(e){return Bo.call(e)},fr=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return U.none()},wr=Object.keys,Ar=Object.hasOwnProperty,or=function(e,n){for(var a=wr(e),i=0,u=a.length;i<u;i++){var c=a[i],v=e[c];n(v,c)}},ja=function(e,n){return go(e,function(a,i){return{k:i,v:n(a,i)}})},go=function(e,n){var a={};return or(e,function(i,u){var c=n(i,u);a[c.k]=c.v}),a},xa=function(e){return function(n,a){e[a]=n}},Ot=function(e,n,a,i){var u={};return or(e,function(c,v){(n(c,v)?a:i)(c,v)}),u},mn=function(e,n){var a={},i={};return Ot(e,n,xa(a),xa(i)),{t:a,f:i}},Bn=function(e,n){var a={};return Ot(e,n,xa(a),Ve),a},Rr=function(e,n){var a=[];return or(e,function(i,u){a.push(n(i,u))}),a},ho=function(e){return Rr(e,Rt)},$n=function(e,n){return Sn(e,n)?U.from(e[n]):U.none()},Sn=function(e,n){return Ar.call(e,n)},Ur=function(e,n){return Sn(e,n)&&e[n]!==void 0&&e[n]!==null},qo=function(e,n,a){return a===void 0&&(a=Jt),Kr(a).eq(e,n)},zo=Array.isArray,qa=function(e){if(zo(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Ga=function(e,n,a){var i,u;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,u=e.length;i<u;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Sn(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},Fi=function(e,n){var a=[];return Ga(e,function(i,u){a.push(n(i,u,e))}),a},po=function(e,n){var a=[];return Ga(e,function(i,u){(!n||n(i,u,e))&&a.push(i)}),a},Ka=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},Ii=function(e,n,a,i){for(var u=fe(a)?e[0]:a,c=0;c<e.length;c++)u=n.call(i,u,e[c],c);return u},Zn=function(e,n,a){var i,u;for(i=0,u=e.length;i<u;i++)if(n.call(a,e[i],i,e))return i;return-1},xi=function(e){return e[e.length-1]},Vt=function(){return Vt=Object.assign||function(n){for(var a,i=1,u=arguments.length;i<u;i++){a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},Vt.apply(this,arguments)};function jc(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)n.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(a[i[u]]=e[i[u]]);return a}function Mo(e,n,a){if(a||arguments.length===2)for(var i=0,u=n.length,c;i<u;i++)(c||!(i in n))&&(c||(c=Array.prototype.slice.call(n,0,i)),c[i]=n[i]);return e.concat(c||Array.prototype.slice.call(n))}var eu=function(e){var n=!1,a;return function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return n||(n=!0,a=e.apply(null,i)),a}},Ro=function(e,n,a,i){var u=e.isiOS()&&/ipad/i.test(a)===!0,c=e.isiOS()&&!u,v=e.isiOS()||e.isAndroid(),m=v||i("(pointer:coarse)"),g=u||!c&&v&&i("(min-device-width:768px)"),C=c||v&&!g,T=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,D=!C&&!g&&!T;return{isiPad:Ge(u),isiPhone:Ge(c),isTablet:Ge(g),isPhone:Ge(C),isTouch:Ge(m),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Ge(T),isDesktop:Ge(D)}},Ni=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},rc=function(e,n){var a=Ni(e,n);if(!a)return{major:0,minor:0};var i=function(u){return Number(n.replace(a,"$"+u))};return no(i(1),i(2))},Si=function(e,n){var a=String(n).toLowerCase();return e.length===0?xs():rc(e,a)},xs=function(){return no(0,0)},no=function(e,n){return{major:e,minor:n}},Go={nu:no,detect:Si,unknown:xs},Ye=function(e,n){return fr(n.brands,function(a){var i=a.brand.toLowerCase();return hr(e,function(u){var c;return i===((c=u.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(function(u){return{current:u.name,version:Go.nu(parseInt(a.version,10),0)}})})},Ss=function(e,n){var a=String(n).toLowerCase();return hr(e,function(i){return i.search(a)})},Yu=function(e,n){return Ss(e,n).map(function(a){var i=Go.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Zu=function(e,n){return Ss(e,n).map(function(a){var i=Go.detect(a.versionRegexes,n);return{current:a.name,version:i}})},ac=function(e,n){return e.substring(n)},Po=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},oc=function(e,n){return na(e,n)?ac(e,n.length):e},oa=function(e,n){return e.indexOf(n)!==-1},na=function(e,n){return Po(e,n,0)},bo=function(e){return function(n){return n.replace(e,"")}},Fo=bo(/^\s+|\s+$/g),ks=bo(/^\s+/g),yo=bo(/\s+$/g),ii=function(e){return e.length>0},Eu=function(e){return!ii(e)},Tu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ro=function(e){return function(n){return oa(n,e)}},Ko=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return oa(e,"edge/")&&oa(e,"chrome")&&oa(e,"safari")&&oa(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tu],search:function(e){return oa(e,"chrome")&&!oa(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return oa(e,"msie")||oa(e,"trident")}},{name:"Opera",versionRegexes:[Tu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ro("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ro("firefox")},{name:"Safari",versionRegexes:[Tu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(oa(e,"safari")||oa(e,"mobile/"))&&oa(e,"applewebkit")}}],tu=[{name:"Windows",search:ro("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return oa(e,"iphone")||oa(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ro("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ro("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ro("linux"),versionRegexes:[]},{name:"Solaris",search:ro("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ro("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ro("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Li={browsers:Ge(Ko),oses:Ge(tu)},As="Edge",Ju="Chrome",ki="IE",Qu="Opera",Ai="Firefox",ra="Safari",Ou=function(){return nu({current:void 0,version:Go.unknown()})},nu=function(e){var n=e.current,a=e.version,i=function(u){return function(){return n===u}};return{current:n,version:a,isEdge:i(As),isChrome:i(Ju),isIE:i(ki),isOpera:i(Qu),isFirefox:i(Ai),isSafari:i(ra)}},Io={unknown:Ou,nu,edge:Ge(As),chrome:Ge(Ju),ie:Ge(ki),opera:Ge(Qu),firefox:Ge(Ai),safari:Ge(ra)},Ra="Windows",es="iOS",ru="Android",au="Linux",ts="OSX",Du="Solaris",Ei="FreeBSD",Es="ChromeOS",ns=function(){return rs({current:void 0,version:Go.unknown()})},rs=function(e){var n=e.current,a=e.version,i=function(u){return function(){return n===u}};return{current:n,version:a,isWindows:i(Ra),isiOS:i(es),isAndroid:i(ru),isOSX:i(ts),isLinux:i(au),isSolaris:i(Du),isFreeBSD:i(Ei),isChromeOS:i(Es)}},P={unknown:ns,nu:rs,windows:Ge(Ra),ios:Ge(es),android:Ge(ru),linux:Ge(au),osx:Ge(ts),solaris:Ge(Du),freebsd:Ge(Ei),chromeos:Ge(Es)},Z=function(e,n,a){var i=Li.browsers(),u=Li.oses(),c=n.bind(function(g){return Ye(i,g)}).orThunk(function(){return Yu(i,e)}).fold(Io.unknown,Io.nu),v=Zu(u,e).fold(P.unknown,P.nu),m=Ro(v,c,e,a);return{browser:c,os:v,deviceType:m}},ue={detect:Z},ke=function(e){return window.matchMedia(e).matches},He=eu(function(){return ue.detect(navigator.userAgent,U.from(navigator.userAgentData),ke)}),Dt=function(){return He()},tr=navigator.userAgent,dr=Dt(),xn=dr.browser,Er=dr.os,Wr=dr.deviceType,$i=/WebKit/.test(tr)&&!xn.isEdge(),ic="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,uc=tr.indexOf("Windows Phone")!==-1,Lt={opera:xn.isOpera(),webkit:$i,ie:xn.isIE()||xn.isEdge()?xn.version.major:!1,gecko:xn.isFirefox(),mac:Er.isOSX()||Er.isiOS(),iOS:Wr.isiPad()||Wr.isiPhone(),android:Er.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:xn.isIE()?document.documentMode||7:10,fileApi:ic,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!xn.isIE(),desktop:Wr.isDesktop(),windowsPhone:uc,browser:{current:xn.current,version:xn.version,isChrome:xn.isChrome,isEdge:xn.isEdge,isFirefox:xn.isFirefox,isIE:xn.isIE,isOpera:xn.isOpera,isSafari:xn.isSafari},os:{current:Er.current,version:Er.version,isAndroid:Er.isAndroid,isChromeOS:Er.isChromeOS,isFreeBSD:Er.isFreeBSD,isiOS:Er.isiOS,isLinux:Er.isLinux,isOSX:Er.isOSX,isSolaris:Er.isSolaris,isWindows:Er.isWindows},deviceType:{isDesktop:Wr.isDesktop,isiPad:Wr.isiPad,isiPhone:Wr.isiPhone,isPhone:Wr.isPhone,isTablet:Wr.isTablet,isTouch:Wr.isTouch,isWebView:Wr.isWebView}},Ts=/^\s*|\s*$/g,qc=function(e){return e==null?"":(""+e).replace(Ts,"")},Hi=function(e,n){return n?n==="array"&&zo(e)?!0:typeof e===n:e!==void 0},Dl=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},Cf=Sn,_l=function(e,n,a){var i=this,u,c,v,m=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var g=e[3].match(/(^|\.)(\w+)$/i)[2],C=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!C[g]){if(e[2]==="static"){C[g]=n,this.onCreate&&this.onCreate(e[2],e[3],C[g]);return}n[g]||(n[g]=function(){},m=1),C[g]=n[g],i.extend(C[g].prototype,n),e[5]&&(u=i.resolve(e[5]).prototype,c=e[5].match(/\.(\w+)$/i)[1],v=C[g],m?C[g]=function(){return u[c].apply(this,arguments)}:C[g]=function(){return this.parent=u[c],v.apply(this,arguments)},C[g].prototype[g]=C[g],i.each(u,function(T,D){C[g].prototype[D]=u[D]}),i.each(n,function(T,D){u[D]?C[g].prototype[D]=function(){return this.parent=u[D],T.apply(this,arguments)}:D!==g&&(C[g].prototype[D]=T)})),i.each(n.static,function(T,D){C[g][D]=T})}},jr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var u=n[i];for(var c in u)if(Sn(u,c)){var v=u[c];v!==void 0&&(e[c]=v)}}return e},Os=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Ga(e,function(u,c){if(n.call(i,u,c,a)===!1)return!1;Os(u,n,a,i)}))},xf=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},Ti=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},ao=function(e,n){return!e||Hi(e,"array")?e:Fi(e.split(n||","),qc)},sc=function(e){var n=Lt.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},Ce={trim:qc,isArray:zo,is:Hi,toArray:qa,makeMap:Dl,each:Ga,map:Fi,grep:po,inArray:Ka,hasOwn:Cf,extend:jr,create:_l,walk:Os,createNS:xf,resolve:Ti,explode:ao,_addCacheSuffix:sc},Ds=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return _u(i.childNodes[0])},La=function(e,n){var a=n||document,i=a.createElement(e);return _u(i)},Bl=function(e,n){var a=n||document,i=a.createTextNode(e);return _u(i)},_u=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},k=function(e,n,a){return U.from(e.dom.elementFromPoint(n,a)).map(_u)},E={fromHtml:Ds,fromTag:La,fromText:Bl,fromDom:_u,fromPoint:k},b=function(e,n){var a=[],i=function(c){return a.push(c),n(c)},u=n(e);do u=u.bind(i);while(u.isSome());return a},_=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},j=function(e,n){return _(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},J=8,ge=9,Ue=11,en=1,on=3,ct=function(e,n){var a=e.dom;if(a.nodeType!==en)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Wt=function(e){return e.nodeType!==en&&e.nodeType!==ge&&e.nodeType!==Ue||e.childElementCount===0},kn=function(e,n){var a=n===void 0?document:n.dom;return Wt(a)?[]:Yt(a.querySelectorAll(e),E.fromDom)},Kn=function(e,n){var a=n===void 0?document:n.dom;return Wt(a)?U.none():U.from(a.querySelector(e)).map(E.fromDom)},tn=function(e,n){return e.dom===n.dom},qr=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},Zt=function(e,n){return j(e.dom,n.dom)},pr=function(e,n){return Dt().browser.isIE()?Zt(e,n):qr(e,n)};typeof window!="undefined"||Function("return this;")();var Pr=function(e){var n=e.dom.nodeName;return n.toLowerCase()},ou=function(e){return e.dom.nodeType},Tn=function(e){return function(n){return ou(n)===e}},Rv=function(e){return ou(e)===J||Pr(e)==="#comment"},Yr=Tn(en),Sa=Tn(on),ph=Tn(ge),oo=Tn(Ue),dm=function(e){return function(n){return Yr(n)&&Pr(n)===e}},Pv=function(e){return E.fromDom(e.dom.ownerDocument)},ln=function(e){return ph(e)?e:Pv(e)},_s=function(e){return E.fromDom(ln(e).dom.documentElement)},cc=function(e){return E.fromDom(ln(e).dom.defaultView)},ba=function(e){return U.from(e.dom.parentNode).map(E.fromDom)},bh=function(e,n){for(var a=Fe(n)?n:yt,i=e.dom,u=[];i.parentNode!==null&&i.parentNode!==void 0;){var c=i.parentNode,v=E.fromDom(c);if(u.push(v),a(v)===!0)break;i=c}return u},io=function(e){var n=function(a){return bt(a,function(i){return!tn(e,i)})};return ba(e).map(ui).map(n).getOr([])},Gc=function(e){return U.from(e.dom.previousSibling).map(E.fromDom)},zl=function(e){return U.from(e.dom.nextSibling).map(E.fromDom)},xr=function(e){return Xe(b(e,Gc))},Kc=function(e){return b(e,zl)},ui=function(e){return Yt(e.dom.childNodes,E.fromDom)},Xc=function(e,n){var a=e.dom.childNodes;return U.from(a[n]).map(E.fromDom)},$a=function(e){return Xc(e,0)},iu=function(e){return Xc(e,e.dom.childNodes.length-1)},yh=function(e){return e.dom.childNodes.length},Yc=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return E.fromDom(n)},Br=function(e){return oo(e)&&an(e.dom.host)},Ml=Fe(Element.prototype.attachShadow)&&Fe(Node.prototype.getRootNode),Zc=Ge(Ml),si=Ml?function(e){return E.fromDom(e.dom.getRootNode())}:ln,Jc=function(e){return Br(e)?e:Yc(ln(e))},Fv=function(e){var n=si(e);return Br(n)?U.some(n):U.none()},wh=function(e){return E.fromDom(e.dom.host)},Xo=function(e){if(Zc()&&an(e.target)){var n=E.fromDom(e.target);if(Yr(n)&&lc(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return Ut(a)}}return U.from(e.target)},lc=function(e){return an(e.dom.shadowRoot)},Bu=function(e,n){var a=ba(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Rl=function(e,n){var a=zl(e);a.fold(function(){var i=ba(e);i.each(function(u){wo(u,n)})},function(i){Bu(i,n)})},mm=function(e,n){var a=$a(e);a.fold(function(){wo(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},wo=function(e,n){e.dom.appendChild(n.dom)},Iv=function(e,n){Bu(e,n),wo(n,e)},xb=function(e,n){Ne(n,function(a){Bu(e,a)})},Nv=function(e,n){Ne(n,function(a){wo(e,a)})},gm=function(e){e.dom.textContent="",Ne(ui(e),function(n){ka(n)})},ka=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Lv=function(e){var n=ui(e);n.length>0&&xb(e,n),ka(e)},Sf=function(e){var n=Sa(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Fv(E.fromDom(n)).fold(function(){return a.body.contains(n)},K(Sf,wh))},No=function(e,n){var a=function(i,u){return No(e+i,n+u)};return{left:e,top:n,translate:a}},Qc=No,Sb=function(e){var n=e.getBoundingClientRect();return Qc(n.left,n.top)},el=function(e,n){return e!==void 0?e:n!==void 0?n:0},$v=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,u=n.documentElement;if(a===e.dom)return Qc(a.offsetLeft,a.offsetTop);var c=el(i==null?void 0:i.pageYOffset,u.scrollTop),v=el(i==null?void 0:i.pageXOffset,u.scrollLeft),m=el(u.clientTop,a.clientTop),g=el(u.clientLeft,a.clientLeft);return uu(e).translate(v-g,c-m)},uu=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?Qc(i.offsetLeft,i.offsetTop):Sf(e)?Sb(n):Qc(0,0)},hm=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Qc(a,i)},su=function(e,n,a){var i=a!==void 0?a.dom:document,u=i.defaultView;u&&u.scrollTo(e,n)},Hv=function(e,n){var a=Dt().browser.isSafari();a&&Fe(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},kb=function(e){var n=e===void 0?window:e;return Dt().browser.isFirefox()?U.none():U.from(n.visualViewport)},pm=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},kf=function(e){var n=e===void 0?window:e,a=n.document,i=hm(E.fromDom(a));return kb(n).fold(function(){var u=n.document.documentElement,c=u.clientWidth,v=u.clientHeight;return pm(i.left,i.top,c,v)},function(u){return pm(Math.max(u.pageLeft,i.left),Math.max(u.pageTop,i.top),u.width,u.height)})},Pl=function(e){return function(n){return!!n&&n.nodeType===e}},Vv=function(e){return!!e&&!Object.getPrototypeOf(e)},fn=Pl(1),cu=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return dt(n,i)}return!1}},Uv=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(fn(i))for(var u=0;u<a.length;u++){var c=i.ownerDocument.defaultView.getComputedStyle(i,null),v=c?c.getPropertyValue(e):null;if(v===a[u])return!0}return!1}},Wv=function(e){return function(n){return fn(n)&&n.hasAttribute(e)}},Ab=function(e,n){return function(a){return fn(a)&&a.getAttribute(e)===n}},tl=function(e){return fn(e)&&e.hasAttribute("data-mce-bogus")},Xa=function(e){return fn(e)&&e.getAttribute("data-mce-bogus")==="all"},Ya=function(e){return fn(e)&&e.tagName==="TABLE"},fc=function(e){return function(n){return!!(fn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},lu=cu(["textarea","input"]),Ct=Pl(3),nl=Pl(8),bm=Pl(9),An=Pl(11),Sr=cu(["br"]),ym=cu(["img"]),as=fc("true"),Gr=fc("false"),jv=cu(["td","th"]),Oi=cu(["video","audio","object","embed"]),Af=function(e,n,a){return a===void 0&&(a=ta),e.exists(function(i){return a(i,n)})},Ch=function(e){for(var n=[],a=function(u){n.push(u)},i=0;i<e.length;i++)e[i].each(a);return n},Yo=function(e,n,a){return e.isSome()&&n.isSome()?U.some(a(e.getOrDie(),n.getOrDie())):U.none()},Eb=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?U.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):U.none()},Tb=function(e,n){return e?U.some(n):U.none()},Zr=function(e){return e.style!==void 0&&Fe(e.style.getPropertyValue)},wm=function(e,n,a){if(bn(a)||Mt(a)||ut(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},w=function(e,n,a){wm(e.dom,n,a)},O=function(e,n){var a=e.dom;or(n,function(i,u){wm(a,u,i)})},M=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},V=function(e,n){return U.from(M(e,n))},oe=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},we=function(e,n){e.dom.removeAttribute(n)},zt=function(e){return yr(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},vn=function(e,n,a){if(!bn(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Zr(e)&&e.style.setProperty(n,a)},Jn=function(e,n){var a=e.dom;or(n,function(i,u){vn(a,u,i)})},Pn=function(e,n){var a=e.dom,i=window.getComputedStyle(a),u=i.getPropertyValue(n);return u===""&&!Sf(e)?Ir(a,n):u},Ir=function(e,n){return Zr(e)?e.style.getPropertyValue(n):""},Zo=function(e,n){var a=e.dom,i=Ir(a,n);return U.from(i).filter(function(u){return u.length>0})},xh=function(e){var n={},a=e.dom;if(Zr(a))for(var i=0;i<a.style.length;i++){var u=a.style.item(i);n[u]=a.style[u]}return n},w5=function(e){return e.dom.offsetWidth},XC=Dt().browser,YC=function(e){return hr(e,Yr)},C5=function(e){return XC.isFirefox()&&Pr(e)==="table"?YC(ui(e)).filter(function(n){return Pr(n)==="caption"}).bind(function(n){return YC(Kc(n)).map(function(a){var i=a.dom.offsetTop,u=n.dom.offsetTop,c=n.dom.offsetHeight;return i<=u?-c:0})}).getOr(0):0},Ob=function(e,n){return e.children&&dt(e.children,n)},Db=function(e,n,a){var i=0,u=0,c=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&Pn(E.fromDom(e),"position")==="static"){var v=n.getBoundingClientRect();return i=v.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,u=v.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:i,y:u}}for(var m=n;m&&m!==a&&m.nodeType&&!Ob(m,a);){var g=m;i+=g.offsetLeft||0,u+=g.offsetTop||0,m=g.offsetParent}for(m=n.parentNode;m&&m!==a&&m.nodeType&&!Ob(m,a);)i-=m.scrollLeft||0,u-=m.scrollTop||0,m=m.parentNode;u+=C5(E.fromDom(n))}return{x:i,y:u}},ZC={},qv={exports:ZC};(function(e,n,a,i){(function(u,c){typeof n=="object"&&typeof a!="undefined"?a.exports=c():typeof e=="function"&&e.amd?e(c):(u=typeof globalThis!="undefined"?globalThis:u||self,u.EphoxContactWrapper=c())})(this,function(){var u=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof b5!="undefined"?b5:typeof self!="undefined"?self:{},c={exports:{}};(function(C){(function(T){var D=setTimeout;function B(){}function I(Y,se){return function(){Y.apply(se,arguments)}}function F(Y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ie(Y,this)}function L(Y,se){for(;Y._state===3;)Y=Y._value;if(Y._state===0){Y._deferreds.push(se);return}Y._handled=!0,F._immediateFn(function(){var pe=Y._state===1?se.onFulfilled:se.onRejected;if(pe===null){(Y._state===1?$:G)(se.promise,Y._value);return}var Re;try{Re=pe(Y._value)}catch(Pt){G(se.promise,Pt);return}$(se.promise,Re)})}function $(Y,se){try{if(se===Y)throw new TypeError("A promise cannot be resolved with itself.");if(se&&(typeof se=="object"||typeof se=="function")){var pe=se.then;if(se instanceof F){Y._state=3,Y._value=se,q(Y);return}else if(typeof pe=="function"){ie(I(pe,se),Y);return}}Y._state=1,Y._value=se,q(Y)}catch(Re){G(Y,Re)}}function G(Y,se){Y._state=2,Y._value=se,q(Y)}function q(Y){Y._state===2&&Y._deferreds.length===0&&F._immediateFn(function(){Y._handled||F._unhandledRejectionFn(Y._value)});for(var se=0,pe=Y._deferreds.length;se<pe;se++)L(Y,Y._deferreds[se]);Y._deferreds=null}function Q(Y,se,pe){this.onFulfilled=typeof Y=="function"?Y:null,this.onRejected=typeof se=="function"?se:null,this.promise=pe}function ie(Y,se){var pe=!1;try{Y(function(Re){pe||(pe=!0,$(se,Re))},function(Re){pe||(pe=!0,G(se,Re))})}catch(Re){if(pe)return;pe=!0,G(se,Re)}}F.prototype.catch=function(Y){return this.then(null,Y)},F.prototype.then=function(Y,se){var pe=new this.constructor(B);return L(this,new Q(Y,se,pe)),pe},F.all=function(Y){var se=Array.prototype.slice.call(Y);return new F(function(pe,Re){if(se.length===0)return pe([]);var Pt=se.length;function vt(Qt,Le){try{if(Le&&(typeof Le=="object"||typeof Le=="function")){var ft=Le.then;if(typeof ft=="function"){ft.call(Le,function(Ie){vt(Qt,Ie)},Re);return}}se[Qt]=Le,--Pt===0&&pe(se)}catch(Ie){Re(Ie)}}for(var De=0;De<se.length;De++)vt(De,se[De])})},F.resolve=function(Y){return Y&&typeof Y=="object"&&Y.constructor===F?Y:new F(function(se){se(Y)})},F.reject=function(Y){return new F(function(se,pe){pe(Y)})},F.race=function(Y){return new F(function(se,pe){for(var Re=0,Pt=Y.length;Re<Pt;Re++)Y[Re].then(se,pe)})},F._immediateFn=typeof setImmediate=="function"?function(Y){setImmediate(Y)}:function(Y){D(Y,0)},F._unhandledRejectionFn=function(se){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",se)},F._setImmediateFn=function(se){F._immediateFn=se},F._setUnhandledRejectionFn=function(se){F._unhandledRejectionFn=se},C.exports?C.exports=F:T.Promise||(T.Promise=F)})(u)})(c);var v=c.exports,m=function(){return typeof window!="undefined"?window:Function("return this;")()}(),g={boltExport:m.Promise||v};return g})})(void 0,ZC,qv);var _b=qv.exports.boltExport,Bb=function(e){var n=U.none(),a=[],i=function(C){return Bb(function(T){u(function(D){T(C(D))})})},u=function(C){v()?g(C):a.push(C)},c=function(C){v()||(n=U.some(C),m(a),a=[])},v=function(){return n.isSome()},m=function(C){Ne(C,g)},g=function(C){n.each(function(T){setTimeout(function(){C(T)},0)})};return e(c),{get:u,map:i,isReady:v}},x5=function(e){return Bb(function(n){n(e)})},S5={nu:Bb,pure:x5},k5=function(e){setTimeout(function(){throw e},0)},Bs=function(e){var n=function(g){e().then(g,k5)},a=function(g){return Bs(function(){return e().then(g)})},i=function(g){return Bs(function(){return e().then(function(C){return g(C).toPromise()})})},u=function(g){return Bs(function(){return e().then(function(){return g.toPromise()})})},c=function(){return S5.nu(n)},v=function(){var g=null;return Bs(function(){return g===null&&(g=e()),g})},m=e;return{map:a,bind:i,anonBind:u,toLazy:c,toCached:v,toPromise:m,get:n}},JC=function(e){return Bs(function(){return new _b(e)})},A5=function(e){return Bs(function(){return _b.resolve(e)})},zb={nu:JC,pure:A5},E5=function(e,n){return n(function(a){var i=[],u=0,c=function(v){return function(m){i[v]=m,u++,u>=e.length&&a(i)}};e.length===0?a([]):Ne(e,function(v,m){v.get(c(m))})})},T5=function(e){return E5(e,zb.nu)},Gv=function(e){var n=function(D){return Gv(e)},a=function(D){return Gv(e)},i=function(D){return Gv(D(e))},u=function(D){return Gv(e)},c=function(D){D(e)},v=function(D){return D(e)},m=function(D,B){return B(e)},g=function(D){return D(e)},C=function(D){return D(e)},T=function(){return U.some(e)};return{isValue:Ht,isError:yt,getOr:Ge(e),getOrThunk:Ge(e),getOrDie:Ge(e),or:n,orThunk:a,fold:m,map:i,mapError:u,each:c,bind:v,exists:g,forall:C,toOptional:T}},Cm=function(e){var n=function(C){return C()},a=function(){return Ba(String(e))()},i=Rt,u=function(C){return C()},c=function(C){return Cm(e)},v=function(C){return Cm(C(e))},m=function(C){return Cm(e)},g=function(C,T){return C(e)};return{isValue:yt,isError:Ht,getOr:Rt,getOrThunk:n,getOrDie:a,or:i,orThunk:u,fold:g,map:c,mapError:v,each:Ve,bind:m,exists:yt,forall:Ht,toOptional:U.none}},QC=function(e,n){return e.fold(function(){return Cm(n)},Gv)},ex={value:Gv,error:Cm,fromOption:QC},fu=function(e){if(!$t(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return Ne(e,function(i,u){var c=wr(i);if(c.length!==1)throw new Error("one and only one name per case");var v=c[0],m=i[v];if(a[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$t(m))throw new Error("case arguments must be an array");n.push(v),a[v]=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];var T=g.length;if(T!==m.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+m.length+" ("+m+"), got "+T);var D=function(B){var I=wr(B);if(n.length!==I.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+I.join(","));var F=Ma(n,function(L){return dt(I,L)});if(!F)throw new Error("Not all branches were specified when using match. Specified: "+I.join(", ")+`
Required: `+n.join(", "));return B[v].apply(null,g)};return{fold:function(){for(var B=[],I=0;I<arguments.length;I++)B[I]=arguments[I];if(B.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+B.length);var F=B[u];return F.apply(null,g)},match:D,log:function(B){console.log(B,{constructors:n,constructor:v,params:g})}}}}),a},Ft={generate:fu};Ft.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var rl=function(e){return e.fold(Rt,Rt)};function Mb(e,n,a,i,u){return e(a,i)?U.some(a):Fe(u)&&u(a)?U.none():n(a,i,u)}var xm=function(e,n,a){for(var i=e.dom,u=Fe(a)?a:yt;i.parentNode;){i=i.parentNode;var c=E.fromDom(i);if(n(c))return U.some(c);if(u(c))break}return U.none()},Sh=function(e,n,a){var i=function(u,c){return c(u)};return Mb(i,xm,e,n,a)},Rb=function(e,n){var a=e.dom;return a.parentNode?zs(E.fromDom(a.parentNode),function(i){return!tn(e,i)&&n(i)}):U.none()},zs=function(e,n){var a=function(u){return n(E.fromDom(u))},i=hr(e.dom.childNodes,a);return i.map(E.fromDom)},Ef=function(e,n,a){return xm(e,function(i){return ct(i,n)},a)},Kv=function(e,n){return Kn(n,e)},Aa=function(e,n,a){var i=function(u,c){return ct(u,c)};return Mb(i,Ef,e,n,a)},uo=window.Promise?window.Promise:_b,Sm,tx=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],u=function(v){window.setTimeout(v,0)},c=0;c<i.length&&!a;c++)a=window[i[c]+"RequestAnimationFrame"];a||(a=u),a(e,n)},Pb=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},nx=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},kh=function(e){return clearTimeout(e)},O5=function(e){return clearInterval(e)},Xv=function(e,n){var a,i=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];clearTimeout(a),a=Pb(function(){e.apply(this,u)},n)};return i.stop=function(){clearTimeout(a)},i},Lo={requestAnimationFrame:function(e,n){if(Sm){Sm.then(e);return}Sm=new uo(function(a){n||(n=document.body),tx(a,n)}).then(e)},setTimeout:Pb,setInterval:nx,setEditorTimeout:function(e,n,a){return Pb(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=nx(function(){e.removed?clearInterval(i):n()},a);return i},debounce:Xv,throttle:Xv,clearInterval:O5,clearTimeout:kh},rx=function(e,n){n===void 0&&(n={});var a=0,i={},u=E.fromDom(e),c=ln(u),v=n.maxLoadTime||5e3,m=function($){n.referrerPolicy=$},g=function($){wo(Jc(u),$)},C=function($){var G=Jc(u);Kv(G,"#"+$).each(ka)},T=function($){return $n(i,$).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},D=function($,G,q){var Q,ie=Ce._addCacheSuffix($),Y=T(ie);i[ie]=Y,Y.count++;var se=function(Le,ft){for(var Ie=Le.length;Ie--;)Le[Ie]();Y.status=ft,Y.passed=[],Y.failed=[],Q&&(Q.onload=null,Q.onerror=null,Q=null)},pe=function(){return se(Y.passed,2)},Re=function(){return se(Y.failed,3)},Pt=function(Le,ft){Le()||(Date.now()-Qt<v?Lo.setTimeout(ft):Re())},vt=function(){Pt(function(){for(var Le=e.styleSheets,ft=Le.length;ft--;){var Ie=Le[ft],Qe=Ie.ownerNode;if(Qe&&Qe.id===Q.id)return pe(),!0}return!1},vt)};if(G&&Y.passed.push(G),q&&Y.failed.push(q),Y.status!==1){if(Y.status===2){pe();return}if(Y.status===3){Re();return}Y.status=1;var De=E.fromTag("link",c.dom);O(De,{rel:"stylesheet",type:"text/css",id:Y.id});var Qt=Date.now();n.contentCssCors&&w(De,"crossOrigin","anonymous"),n.referrerPolicy&&w(De,"referrerpolicy",n.referrerPolicy),Q=De.dom,Q.onload=vt,Q.onerror=Re,g(De),w(De,"href",ie)}},B=function($){return zb.nu(function(G){D($,lr(G,Ge(ex.value($))),lr(G,Ge(ex.error($))))})},I=function($,G,q){T5(Yt($,B)).get(function(Q){var ie=Ln(Q,function(Y){return Y.isValue()});ie.fail.length>0?q(ie.fail.map(rl)):G(ie.pass.map(rl))})},F=function($){var G=Ce._addCacheSuffix($);$n(i,G).each(function(q){var Q=--q.count;Q===0&&(delete i[G],C(q.id))})},L=function($){Ne($,function(G){F(G)})};return{load:D,loadAll:I,unload:F,unloadAll:L,_setReferrerPolicy:m}},ia=function(){var e=new WeakMap,n=function(a,i){var u=si(a),c=u.dom;return U.from(e.get(c)).getOrThunk(function(){var v=rx(c,i);return e.set(c,v),v})};return{forElement:n}},Ms=ia(),Tr=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,u){var c,v;if(n){if(!u&&n[a])return n[a];if(n!==this.rootNode){if(c=n[i],c)return c;for(v=n.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(c=v[i],c)return c}}},e.prototype.findPreviousNode=function(n,a,i,u){var c,v,m;if(n){if(c=n[i],this.rootNode&&c===this.rootNode)return;if(c){if(!u){for(m=c[a];m;m=m[a])if(!m[a])return m}return c}if(v=n.parentNode,v&&v!==this.rootNode)return v}},e}(),Tf=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],zu=["td","th"],D5=["thead","tbody","tfoot"],Za=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Di=["h1","h2","h3","h4","h5","h6"],ax=["li","dd","dt"],Te=["ul","ol","dl"],Vi=["pre","script","textarea","style"],Fl=function(e){var n;return function(a){return n=n||lt(e,Ht),Sn(n,Pr(a))}},un=Fl(Di),Mu=Fl(Tf),_5=function(e){return Pr(e)==="table"},Jo=function(e){return Yr(e)&&!Mu(e)},Yv=function(e){return Yr(e)&&Pr(e)==="br"},al=Fl(Za),Ah=Fl(Te),ci=Fl(ax),vr=Fl(D5),Rs=Fl(zu),km=Fl(Vi),Fr=function(e,n,a){return Ef(e,n,a).isSome()},Of="\uFEFF",Ui="\xA0",vu=function(e){return e===Of},B5=function(e){return e.replace(/\uFEFF/g,"")},ae=Of,Wi=vu,vc=B5,Zv=fn,Ru=Ct,ua=function(e){return Ru(e)&&(e=e.parentNode),Zv(e)&&e.hasAttribute("data-mce-caret")},zr=function(e){return Ru(e)&&Wi(e.data)},Pu=function(e){return ua(e)||zr(e)},Am=function(e){return e.firstChild!==e.lastChild||!Sr(e.firstChild)},Fb=function(e,n){var a=e.ownerDocument,i=a.createTextNode(ae),u=e.parentNode;if(n){var c=e.previousSibling;if(Ru(c)){if(Pu(c))return c;if(Th(c))return c.splitText(c.data.length-1)}u.insertBefore(i,e)}else{var c=e.nextSibling;if(Ru(c)){if(Pu(c))return c;if(Eh(c))return c.splitText(1),c}e.nextSibling?u.insertBefore(i,e.nextSibling):u.appendChild(i)}return i},jt=function(e){var n=e.container();return Ct(n)?n.data.charAt(e.offset())===ae||e.isAtStart()&&zr(n.previousSibling):!1},Ib=function(e){var n=e.container();return Ct(n)?n.data.charAt(e.offset()-1)===ae||e.isAtEnd()&&zr(n.nextSibling):!1},Fu=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},z5=function(e,n,a){var i=n.ownerDocument,u=i.createElement(e);u.setAttribute("data-mce-caret",a?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(Fu());var c=n.parentNode;return a?c.insertBefore(u,n):n.nextSibling?c.insertBefore(u,n.nextSibling):c.appendChild(u),u},Eh=function(e){return Ru(e)&&e.data[0]===ae},Th=function(e){return Ru(e)&&e.data[e.data.length-1]===ae},M5=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];tl(a)&&a.parentNode.removeChild(a)},Nb=function(e){return e&&e.hasAttribute("data-mce-caret")?(M5(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},dc=function(e){return ua(e.startContainer)},Df=as,R5=Gr,P5=Sr,F5=Ct,ox=cu(["script","style","textarea"]),Lb=cu(["img","input","textarea","hr","iframe","video","audio","object","embed"]),$b=cu(["table"]),ix=Pu,mc=function(e){return ix(e)?!1:F5(e)?!ox(e.parentNode):Lb(e)||P5(e)||$b(e)||Hb(e)},Jv=function(e){return fn(e)&&e.getAttribute("unselectable")==="true"},Hb=function(e){return Jv(e)===!1&&R5(e)},I5=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(Hb(e))return!1;if(Df(e))return!0}return!0},N5=function(e){return Hb(e)?yr(kt(e.getElementsByTagName("*")),function(n,a){return n||Df(a)},!1)!==!0:!1},L5=function(e){return Lb(e)||N5(e)},Ha=function(e,n){return mc(e)&&I5(e,n)},ol=/^[ \t\r\n]*$/,Ps=function(e){return ol.test(e)},Em=function(e,n){var a=E.fromDom(n),i=E.fromDom(e);return Fr(i,"pre,code",nt(tn,a))},ux=function(e,n){return Ct(e)&&Ps(e.data)&&Em(e,n)===!1},os=function(e){return fn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},_f=function(e,n){return mc(e)&&ux(e,n)===!1||os(e)||Vb(e)},Vb=Wv("data-mce-bookmark"),Ub=Wv("data-mce-bogus"),Il=Ab("data-mce-bogus","all"),Nl=function(e,n){var a=0;if(_f(e,e))return!1;var i=e.firstChild;if(!i)return!0;var u=new Tr(i,e);do{if(n){if(Il(i)){i=u.next(!0);continue}if(Ub(i)){i=u.next();continue}}if(Sr(i)){a++,i=u.next();continue}if(_f(i,e))return!1;i=u.next()}while(i);return a<=1},Co=function(e,n){return n===void 0&&(n=!0),Nl(e.dom,n)},Oh=function(e){return e.nodeName.toLowerCase()==="span"},sx=function(e,n){return an(e)&&(_f(e,n)||Jo(E.fromDom(e)))},Qv=function(e,n){var a=new Tr(e,n).prev(!1),i=new Tr(e,n).next(!1),u=fe(a)||sx(a,n),c=fe(i)||sx(i,n);return u&&c},ed=function(e){return Oh(e)&&e.getAttribute("data-mce-type")==="bookmark"},Tm=function(e,n){return Ct(e)&&e.data.length>0&&Qv(e,n)},$5=function(e){return fn(e)?e.childNodes.length>0:!1},Om=function(e){return An(e)||bm(e)},Wb=function(e,n,a){var i=a||n;if(fn(n)&&ed(n))return n;for(var u=n.childNodes,c=u.length-1;c>=0;c--)Wb(e,u[c],i);if(fn(n)){var v=n.childNodes;v.length===1&&ed(v[0])&&n.parentNode.insertBefore(v[0],n)}return!Om(n)&&!_f(n,i)&&!$5(n)&&!Tm(n,i)&&e.remove(n),n},H5=Ce.makeMap,sa=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dh=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ll=/[<>&\"\']/g,jb=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,qb={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Iu={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},du={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Dm=function(e){var n=E.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},td=function(e,n){var a,i,u,c={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),Iu[i]||(u="&"+e[a+1]+";",c[i]=u,c[u]=i);return c}},Gb=td("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),_m=function(e,n){return e.replace(n?sa:Dh,function(a){return Iu[a]||a})},Kb=function(e){return(""+e).replace(Ll,function(n){return Iu[n]||n})},Bm=function(e,n){return e.replace(n?sa:Dh,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":Iu[a]||"&#"+a.charCodeAt(0)+";"})},Xb=function(e,n,a){return a=a||Gb,e.replace(n?sa:Dh,function(i){return Iu[i]||a[i]||i})},V5=function(e,n){var a=td(n)||Gb,i=function(v,m){return v.replace(m?sa:Dh,function(g){return Iu[g]!==void 0?Iu[g]:a[g]!==void 0?a[g]:g.length>1?"&#"+((g.charCodeAt(0)-55296)*1024+(g.charCodeAt(1)-56320)+65536)+";":"&#"+g.charCodeAt(0)+";"})},u=function(v,m){return Xb(v,m,a)},c=H5(e.replace(/\+/g,","));return c.named&&c.numeric?i:c.named?n?u:Xb:c.numeric?Bm:_m},Yb=function(e){return e.replace(jb,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):qb[a]||String.fromCharCode(a)):du[n]||Gb[n]||Dm(n)})},Fs={encodeRaw:_m,encodeAllRaw:Kb,encodeNumeric:Bm,encodeNamed:Xb,getEncodeFunc:V5,decode:Yb},mu={},zm={},Is=Ce.makeMap,Qo=Ce.each,_h=Ce.extend,Bh=Ce.explode,cx=Ce.inArray,xo=function(e,n){return e=Ce.trim(e),e?e.split(n||" "):[]},lx=function(e){var n={},a,i,u,c,v,m,g=function(T,D,B){var I,F,L,$=function(q,Q){var ie={},Y,se;for(Y=0,se=q.length;Y<se;Y++)ie[q[Y]]=Q||{};return ie};B=B||[],D=D||"",typeof B=="string"&&(B=xo(B));var G=xo(T);for(I=G.length;I--;)F=xo([a,D].join(" ")),L={attributes:$(F),attributesOrder:F,children:$(B,zm)},n[G[I]]=L},C=function(T,D){var B,I,F,L,$=xo(T);B=$.length;for(var G=xo(D);B--;)for(I=n[$[B]],F=0,L=G.length;F<L;F++)I.attributes[G[F]]={},I.attributesOrder.push(G[F])};return mu[e]?mu[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",u="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",u+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",m="acronym applet basefont big font strike tt",u=[u,m].join(" "),Qo(xo(m),function(T){g(T,"",u)}),v="center dir isindex noframes",i=[i,v].join(" "),c=[i,u].join(" "),Qo(xo(v),function(T){g(T,"",c)})),c=c||[i,u].join(" "),g("html","manifest","head body"),g("head","","base command link meta noscript script style title"),g("title hr noscript br"),g("base","href target"),g("link","href rel media hreflang type sizes hreflang"),g("meta","name http-equiv content charset"),g("style","media type scoped"),g("script","src async defer type charset"),g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),g("address dt dd div caption","",c),g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),g("blockquote","cite",c),g("ol","reversed start type","li"),g("ul","","li"),g("li","value",c),g("dl","","dt dd"),g("a","href target rel media hreflang type",u),g("q","cite",u),g("ins del","cite datetime",c),g("img","src sizes srcset alt usemap ismap width height"),g("iframe","src name width height",c),g("embed","src type width height"),g("object","data type typemustmatch name usemap form width height",[c,"param"].join(" ")),g("param","name value"),g("map","name",[c,"area"].join(" ")),g("area","alt coords shape href target rel media hreflang type"),g("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),g("colgroup","span","col"),g("col","span"),g("tbody thead tfoot","","tr"),g("tr","","td th"),g("td","colspan rowspan headers",c),g("th","colspan rowspan headers scope abbr",c),g("form","accept-charset action autocomplete enctype method name novalidate target",c),g("fieldset","disabled form name",[c,"legend"].join(" ")),g("label","form for",u),g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?c:u),g("select","disabled form multiple name required size","option optgroup"),g("optgroup","disabled label","option"),g("option","disabled label selected value"),g("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),g("menu","type label",[c,"li"].join(" ")),g("noscript","",c),e!=="html4"&&(g("wbr"),g("ruby","",[u,"rt rp"].join(" ")),g("figcaption","",c),g("mark rt rp summary bdi","",u),g("canvas","width height",c),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[c,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[c,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[u,"option"].join(" ")),g("article section nav aside main header footer","",c),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[c,"figcaption"].join(" ")),g("time","datetime",u),g("dialog","open",c),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",u),g("progress","value max",u),g("meter","value min max low high optimum",u),g("details","open",[c,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allowfullscreen loading")),Qo(xo("a form meter progress dfn"),function(T){n[T]&&delete n[T].children[T]}),delete n.caption.children.table,delete n.script,mu[e]=n,n)},Mm=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),Qo(e,function(i,u){a[u]=a[u.toUpperCase()]=n==="map"?Is(i,/[, ]/):Bh(i,/[, ]/)})),a},Fn=function(e){var n={},a={},i=[],u={},c={},v=function(ze,le,Me){var ve=e[ze];return ve?ve=Is(ve,/[, ]/,Is(ve.toUpperCase(),/[, ]/)):(ve=mu[ze],ve||(ve=Is(le," ",Is(le.toUpperCase()," ")),ve=_h(ve,Me),mu[ze]=ve)),ve};e=e||{};var m=lx(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var g=Mm(e.valid_styles),C=Mm(e.invalid_styles,"map"),T=Mm(e.valid_classes,"map"),D=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),B=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),I=v("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),F=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),L="td th iframe video audio object script code",$=v("non_empty_elements",L+" pre",I),G=v("move_caret_before_on_enter_elements",L+" table",I),q=v("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Q=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",q),ie=v("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Qo((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(ze){c[ze]=new RegExp("</"+ze+"[^>]*>","gi")});var Y=function(ze){return new RegExp("^"+ze.replace(/([?+*])/g,".$1")+"$")},se=function(ze){var le,Me,ve,St,Ze,Kt,Mn,$r,ni,Ci,Gu,ri,ai,Na,Ol,mo,Ku,Hc,Qr=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,_r=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,_a=/[*?+]/;if(ze){var ys=xo(ze,",");for(n["@"]&&(mo=n["@"].attributes,Ku=n["@"].attributesOrder),le=0,Me=ys.length;le<Me;le++)if(Ze=Qr.exec(ys[le]),Ze){if(Na=Ze[1],ni=Ze[2],Ol=Ze[3],$r=Ze[5],ri={},ai=[],Kt={attributes:ri,attributesOrder:ai},Na==="#"&&(Kt.paddEmpty=!0),Na==="-"&&(Kt.removeEmpty=!0),Ze[4]==="!"&&(Kt.removeEmptyAttrs=!0),mo&&(or(mo,function(Vc,ws){ri[ws]=Vc}),ai.push.apply(ai,Ku)),$r){for($r=xo($r,"|"),ve=0,St=$r.length;ve<St;ve++)if(Ze=_r.exec($r[ve]),Ze){if(Mn={},Gu=Ze[1],Ci=Ze[2].replace(/[\\:]:/g,":"),Na=Ze[3],Hc=Ze[4],Gu==="!"&&(Kt.attributesRequired=Kt.attributesRequired||[],Kt.attributesRequired.push(Ci),Mn.required=!0),Gu==="-"){delete ri[Ci],ai.splice(cx(ai,Ci),1);continue}Na&&(Na==="="&&(Kt.attributesDefault=Kt.attributesDefault||[],Kt.attributesDefault.push({name:Ci,value:Hc}),Mn.defaultValue=Hc),Na===":"&&(Kt.attributesForced=Kt.attributesForced||[],Kt.attributesForced.push({name:Ci,value:Hc}),Mn.forcedValue=Hc),Na==="<"&&(Mn.validValues=Is(Hc,"?"))),_a.test(Ci)?(Kt.attributePatterns=Kt.attributePatterns||[],Mn.pattern=Y(Ci),Kt.attributePatterns.push(Mn)):(ri[Ci]||ai.push(Ci),ri[Ci]=Mn)}}!mo&&ni==="@"&&(mo=ri,Ku=ai),Ol&&(Kt.outputName=ni,n[Ol]=Kt),_a.test(ni)?(Kt.pattern=Y(ni),i.push(Kt)):n[ni]=Kt}}},pe=function(ze){n={},i=[],se(ze),Qo(m,function(le,Me){a[Me]=le.children})},Re=function(ze){var le=/^(~)?(.+)$/;ze&&(mu.text_block_elements=mu.block_elements=null,Qo(xo(ze,","),function(Me){var ve=le.exec(Me),St=ve[1]==="~",Ze=St?"span":"div",Kt=ve[2];if(a[Kt]=a[Ze],u[Kt]=Ze,St||(Q[Kt.toUpperCase()]={},Q[Kt]={}),!n[Kt]){var Mn=n[Ze];Mn=_h({},Mn),delete Mn.removeEmptyAttrs,delete Mn.removeEmpty,n[Kt]=Mn}Qo(a,function($r,ni){$r[Ze]&&(a[ni]=$r=_h({},a[ni]),$r[Kt]=$r[Ze])})}))},Pt=function(ze){var le=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;mu[e.schema]=null,ze&&Qo(xo(ze,","),function(Me){var ve=le.exec(Me),St,Ze;ve&&(Ze=ve[1],Ze?St=a[ve[2]]:St=a[ve[2]]={"#comment":{}},St=a[ve[2]],Qo(xo(ve[3],"|"),function(Kt){Ze==="-"?delete St[Kt]:St[Kt]={}}))})},vt=function(ze){var le=n[ze],Me;if(le)return le;for(Me=i.length;Me--;)if(le=i[Me],le.pattern.test(ze))return le};e.valid_elements?pe(e.valid_elements):(Qo(m,function(ze,le){n[le]={attributes:ze.attributes,attributesOrder:ze.attributesOrder},a[le]=ze.children}),e.schema!=="html5"&&Qo(xo("strong/b em/i"),function(ze){var le=xo(ze,"/");n[le[1]].outputName=le[0]}),Qo(xo("ol ul sub sup blockquote span font a table tbody strong em b i"),function(ze){n[ze]&&(n[ze].removeEmpty=!0)}),Qo(xo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(ze){n[ze].paddEmpty=!0}),Qo(xo("span"),function(ze){n[ze].removeEmptyAttrs=!0})),Re(e.custom_elements),Pt(e.valid_children),se(e.extended_valid_elements),Pt("+ol[ul|ol],+ul[ul|ol]"),Qo({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(ze,le){n[le]&&(n[le].parentsRequired=xo(ze))}),e.invalid_elements&&Qo(Bh(e.invalid_elements),function(ze){n[ze]&&delete n[ze]}),vt("span")||se("span[!data-mce-type|*]");var De=Ge(g),Qt=Ge(C),Le=Ge(T),ft=Ge(F),Ie=Ge(Q),Qe=Ge(q),ht=Ge(ie),Be=Ge(I),pt=Ge(B),gn=Ge($),mr=Ge(G),Un=Ge(D),wa=Ge(c),fa=function(ze,le){var Me=a[ze.toLowerCase()];return!!(Me&&Me[le.toLowerCase()])},Pi=function(ze,le){var Me,ve,St=vt(ze);if(St)if(le){if(St.attributes[le])return!0;if(Me=St.attributePatterns,Me){for(ve=Me.length;ve--;)if(Me[ve].pattern.test(ze))return!0}}else return!0;return!1},Qi=Ge(u);return{children:a,elements:n,getValidStyles:De,getValidClasses:Le,getBlockElements:Ie,getInvalidStyles:Qt,getShortEndedElements:Be,getTextBlockElements:Qe,getTextInlineElements:ht,getBoolAttrs:ft,getElementRule:vt,getSelfClosingElements:pt,getNonEmptyElements:gn,getMoveCaretBeforeOnEnterElements:mr,getWhiteSpaceElements:Un,getSpecialElements:wa,isValidChild:fa,isValid:Pi,getCustomElements:Qi,addValidElements:se,setValidElements:pe,addCustomElements:Re,addValidChildren:Pt}},qt=function(e,n,a,i){var u=function(c){return c=parseInt(c,10).toString(16),c.length>1?c:"0"+c};return"#"+u(n)+u(a)+u(i)},il=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,v=/\s+$/,m,g={},C,T,D=Of;e=e||{},n&&(C=n.getValidStyles(),T=n.getInvalidStyles());var B=(`\\" \\' \\; \\: ; : `+D).split(" ");for(m=0;m<B.length;m++)g[B[m]]=D+m,g[D+m]=B[m];return{toHex:function(I){return I.replace(i,qt)},parse:function(I){var F={},L,$,G,q,Q=e.url_converter,ie=e.url_converter_scope||a,Y=function(Le,ft,Ie){var Qe=F[Le+"-top"+ft];if(!!Qe){var ht=F[Le+"-right"+ft];if(!!ht){var Be=F[Le+"-bottom"+ft];if(!!Be){var pt=F[Le+"-left"+ft];if(!!pt){var gn=[Qe,ht,Be,pt];for(m=gn.length-1;m--&&gn[m]===gn[m+1];);m>-1&&Ie||(F[Le+ft]=m===-1?gn[0]:gn.join(" "),delete F[Le+"-top"+ft],delete F[Le+"-right"+ft],delete F[Le+"-bottom"+ft],delete F[Le+"-left"+ft])}}}}},se=function(Le){var ft=F[Le],Ie;if(!!ft){for(ft=ft.split(" "),Ie=ft.length;Ie--;)if(ft[Ie]!==ft[0])return!1;return F[Le]=ft[0],!0}},pe=function(Le,ft,Ie,Qe){!se(ft)||!se(Ie)||!se(Qe)||(F[Le]=F[ft]+" "+F[Ie]+" "+F[Qe],delete F[ft],delete F[Ie],delete F[Qe])},Re=function(Le){return q=!0,g[Le]},Pt=function(Le,ft){return q&&(Le=Le.replace(/\uFEFF[0-9]/g,function(Ie){return g[Ie]})),ft||(Le=Le.replace(/\\([\'\";:])/g,"$1")),Le},vt=function(Le){return String.fromCharCode(parseInt(Le.slice(1),16))},De=function(Le){return Le.replace(/\\[0-9a-f]+/gi,vt)},Qt=function(Le,ft,Ie,Qe,ht,Be){if(ht=ht||Be,ht)return ht=Pt(ht),"'"+ht.replace(/\'/g,"\\'")+"'";if(ft=Pt(ft||Ie||Qe),!e.allow_script_urls){var pt=ft.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(pt)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(pt))return""}return Q&&(ft=Q.call(ie,ft,"style")),"url('"+ft.replace(/\'/g,"\\'")+"')"};if(I){for(I=I.replace(/[\u0000-\u001F]/g,""),I=I.replace(/\\[\"\';:\uFEFF]/g,Re).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Le){return Le.replace(/[;:]/g,Re)});L=c.exec(I);)if(c.lastIndex=L.index+L[0].length,$=L[1].replace(v,"").toLowerCase(),G=L[2].replace(v,""),$&&G){if($=De($),G=De(G),$.indexOf(D)!==-1||$.indexOf('"')!==-1||!e.allow_script_urls&&($==="behavior"||/expression\s*\(|\/\*|\*\//.test(G)))continue;$==="font-weight"&&G==="700"?G="bold":($==="color"||$==="background-color")&&(G=G.toLowerCase()),G=G.replace(i,qt),G=G.replace(u,Qt),F[$]=q?Pt(G,!0):G}Y("border","",!0),Y("border","-width"),Y("border","-color"),Y("border","-style"),Y("padding",""),Y("margin",""),pe("border","border-width","border-style","border-color"),F.border==="medium none"&&delete F.border,F["border-image"]==="none"&&delete F["border-image"]}return F},serialize:function(I,F){var L="",$=function(q){var Q,ie=C[q];if(ie)for(var Y=0,se=ie.length;Y<se;Y++)q=ie[Y],Q=I[q],Q&&(L+=(L.length>0?" ":"")+q+": "+Q+";")},G=function(q,Q){var ie=T["*"];return ie&&ie[q]?!1:(ie=T[Q],!(ie&&ie[q]))};return F&&C?($("*"),$(F)):or(I,function(q,Q){q&&(!T||G(Q,F))&&(L+=(L.length>0?" ":"")+Q+": "+q+";")}),L}}},Zb={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Rm=function(e){return e instanceof Event||Fe(e.initEvent)},fx=function(e){return e.isDefaultPrevented===Ht||e.isDefaultPrevented===yt},Mr=function(e){return rn(e.preventDefault)||Rm(e)},vx=function(e,n){var a=n!=null?n:{};for(var i in e)Sn(Zb,i)||(a[i]=e[i]);return an(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},dx=function(e,n,a,i){var u,c=vx(n,i);return c.type=e,rn(c.target)&&(c.target=(u=c.srcElement)!==null&&u!==void 0?u:a),Mr(n)&&(c.preventDefault=function(){c.defaultPrevented=!0,c.isDefaultPrevented=Ht,Fe(n.preventDefault)?n.preventDefault():Rm(n)&&(n.returnValue=!1)},c.stopPropagation=function(){c.cancelBubble=!0,c.isPropagationStopped=Ht,Fe(n.stopPropagation)?n.stopPropagation():Rm(n)&&(n.cancelBubble=!0)},c.stopImmediatePropagation=function(){c.isImmediatePropagationStopped=Ht,c.stopPropagation()},fx(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Ht:yt,c.isPropagationStopped=c.cancelBubble===!0?Ht:yt,c.isImmediatePropagationStopped=yt)),c},mx="mce-data-",Oe=/^(?:mouse|contextmenu)|click/,Pm=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},zh=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},Mh=function(e){return an(e)&&Oe.test(e.type)},nd=function(e,n){var a=dx(e.type,e,document,n);if(Mh(e)&&fe(e.pageX)&&!fe(e.clientX)){var i=a.target.ownerDocument||document,u=i.documentElement,c=i.body,v=a;v.pageX=e.clientX+(u&&u.scrollLeft||c&&c.scrollLeft||0)-(u&&u.clientLeft||c&&c.clientLeft||0),v.pageY=e.clientY+(u&&u.scrollTop||c&&c.scrollTop||0)-(u&&u.clientTop||c&&c.clientTop||0)}return fe(a.metaKey)&&(a.metaKey=!1),a},rd=function(e,n,a){var i=e.document,u={type:"ready"};if(a.domLoaded){n(u);return}var c=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},v=function(){zh(e,"DOMContentLoaded",v),zh(e,"load",v),a.domLoaded||(a.domLoaded=!0,n(u)),e=null};c()?v():Pm(e,"DOMContentLoaded",v),a.domLoaded||Pm(e,"load",v)},$l=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=mx+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,u){var c=this,v,m,g,C,T,D,B,I=window,F=function($){c.executeHandlers(nd($||I.event),v)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[c.expando]?v=n[c.expando]:(v=c.count++,n[c.expando]=v,c.events[v]={}),u=u||n;var L=a.split(" ");for(g=L.length;g--;){if(C=L[g],D=F,T=B=!1,C==="DOMContentLoaded"&&(C="ready"),c.domLoaded&&C==="ready"&&n.readyState==="complete"){i.call(u,nd({type:C}));continue}c.hasMouseEnterLeave||(T=c.mouseEnterLeave[C],T&&(D=function($){var G=$.currentTarget,q=$.relatedTarget;if(q&&G.contains)q=G.contains(q);else for(;q&&q!==G;)q=q.parentNode;q||($=nd($||I.event),$.type=$.type==="mouseout"?"mouseleave":"mouseenter",$.target=G,c.executeHandlers($,v))})),!c.hasFocusIn&&(C==="focusin"||C==="focusout")&&(B=!0,T=C==="focusin"?"focus":"blur",D=function($){$=nd($||I.event),$.type=$.type==="focus"?"focusin":"focusout",c.executeHandlers($,v)}),m=c.events[v][C],m?C==="ready"&&c.domLoaded?i(nd({type:C})):m.push({func:i,scope:u}):(c.events[v][C]=m=[{func:i,scope:u}],m.fakeName=T,m.capture=B,m.nativeHandler=D,C==="ready"?rd(n,D,c):Pm(n,T||C,D,B))}return n=m=null,i}},e.prototype.unbind=function(n,a,i){var u,c,v,m,g;if(!n||n.nodeType===3||n.nodeType===8)return this;var C=n[this.expando];if(C){if(g=this.events[C],a){var T=a.split(" ");for(c=T.length;c--;)if(m=T[c],u=g[m],u){if(i){for(v=u.length;v--;)if(u[v].func===i){var D=u.nativeHandler,B=u.fakeName,I=u.capture;u=u.slice(0,v).concat(u.slice(v+1)),u.nativeHandler=D,u.fakeName=B,u.capture=I,g[m]=u}}(!i||u.length===0)&&(delete g[m],zh(n,u.fakeName||m,u.nativeHandler,u.capture))}}else or(g,function(F,L){zh(n,F.fakeName||L,F.nativeHandler,F.capture)}),g={};for(m in g)if(Sn(g,m))return this;delete this.events[C];try{delete n[this.expando]}catch(F){n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var u;if(!n||n.nodeType===3||n.nodeType===8)return this;var c=nd({type:a,target:n},i);do u=n[this.expando],u&&this.executeHandlers(c,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!c.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],u=i&&i[n.type];if(u)for(var c=0,v=u.length;c<v;c++){var m=u[c];if(m&&m.func.call(m.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),ya,Nr,ul,ca,gu,Jb,gc,Rh,hc,pc,Hl,Nu,Ph,bc,ji,ad,U5,Fm,$o="sizzle"+-new Date,wt=window.document,yc=0,W5=0,gx=r0(),Qb=r0(),hx=r0(),Im=function(e,n){return e===n&&(pc=!0),0},Vl="undefined",Bf=1<<31,j5={}.hasOwnProperty,Ns=[],q5=Ns.pop,G5=Ns.push,wc=Ns.push,Fh=Ns.slice,zf=Ns.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},px="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ea="[\\x20\\t\\r\\n\\f]",Mf="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Nm="\\["+Ea+"*("+Mf+")(?:"+Ea+"*([*^$|!~]?=)"+Ea+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Mf+"))|)"+Ea+"*\\]",is=":("+Mf+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Nm+")*)|.*)\\)|)",li=new RegExp("^"+Ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ea+"+$","g"),K5=new RegExp("^"+Ea+"*,"+Ea+"*"),X5=new RegExp("^"+Ea+"*([>+~]|"+Ea+")"+Ea+"*"),Y5=new RegExp("="+Ea+`*([^\\]'"]*?)`+Ea+"*\\]","g"),bx=new RegExp(is),us=new RegExp("^"+Mf+"$"),Ih={ID:new RegExp("^#("+Mf+")"),CLASS:new RegExp("^\\.("+Mf+")"),TAG:new RegExp("^("+Mf+"|[*])"),ATTR:new RegExp("^"+Nm),PSEUDO:new RegExp("^"+is),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ea+"*(even|odd|(([+-]|)(\\d*)n|)"+Ea+"*(?:([+-]|)"+Ea+"*(\\d+)|))"+Ea+"*\\)|)","i"),bool:new RegExp("^(?:"+px+")$","i"),needsContext:new RegExp("^"+Ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ea+"*((?:-\\d)?\\d*)"+Ea+"*\\)|)(?=[^-]|$)","i")},Z5=/^(?:input|select|textarea|button)$/i,J5=/^h\d$/i,e0=/^[^{]+\{\s*\[native \w/,Q5=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,t0=/[+~]/,n0=/'|\\/g,Ul=new RegExp("\\\\([\\da-f]{1,6}"+Ea+"?|("+Ea+")|.)","ig"),Wl=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{wc.apply(Ns=Fh.call(wt.childNodes),wt.childNodes),Ns[wt.childNodes.length].nodeType}catch(e){wc={apply:Ns.length?function(n,a){G5.apply(n,Fh.call(a))}:function(n,a){for(var i=n.length,u=0;n[i++]=a[u++];);n.length=i-1}}}var Or=function(e,n,a,i){var u,c,v,m,g,C,T,D,B,I;if((n?n.ownerDocument||n:wt)!==Nu&&Hl(n),n=n||Nu,a=a||[],!e||typeof e!="string")return a;if((m=n.nodeType)!==1&&m!==9)return[];if(bc&&!i){if(u=Q5.exec(e))if(v=u[1]){if(m===9)if(c=n.getElementById(v),c&&c.parentNode){if(c.id===v)return a.push(c),a}else return a;else if(n.ownerDocument&&(c=n.ownerDocument.getElementById(v))&&Fm(n,c)&&c.id===v)return a.push(c),a}else{if(u[2])return wc.apply(a,n.getElementsByTagName(e)),a;if((v=u[3])&&ya.getElementsByClassName)return wc.apply(a,n.getElementsByClassName(v)),a}if(ya.qsa&&(!ji||!ji.test(e))){if(D=T=$o,B=n,I=m===9&&e,m===1&&n.nodeName.toLowerCase()!=="object"){for(C=gu(e),(T=n.getAttribute("id"))?D=T.replace(n0,"\\$&"):n.setAttribute("id",D),D="[id='"+D+"'] ",g=C.length;g--;)C[g]=D+Nh(C[g]);B=t0.test(e)&&sl(n.parentNode)||n,I=C.join(",")}if(I)try{return wc.apply(a,B.querySelectorAll(I)),a}catch(F){}finally{T||n.removeAttribute("id")}}}return gc(e.replace(li,"$1"),n,a,i)};function r0(){var e=[];function n(a,i){return e.push(a+" ")>Nr.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function Ls(e){return e[$o]=!0,e}function yx(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Bf)-(~e.sourceIndex||Bf);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function eO(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function tO(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function fi(e){return Ls(function(n){return n=+n,Ls(function(a,i){for(var u,c=e([],a.length,n),v=c.length;v--;)a[u=c[v]]&&(a[u]=!(i[u]=a[u]))})})}function sl(e){return e&&typeof e.getElementsByTagName!==Vl&&e}ya=Or.support={},ca=Or.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Hl=Or.setDocument=function(e){var n,a=e?e.ownerDocument||e:wt,i=a.defaultView;function u(c){try{return c.top}catch(v){}return null}return a===Nu||a.nodeType!==9||!a.documentElement?Nu:(Nu=a,Ph=a.documentElement,bc=!ca(a),i&&i!==u(i)&&(i.addEventListener?i.addEventListener("unload",function(){Hl()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Hl()})),ya.attributes=!0,ya.getElementsByTagName=!0,ya.getElementsByClassName=e0.test(a.getElementsByClassName),ya.getById=!0,Nr.find.ID=function(c,v){if(typeof v.getElementById!==Vl&&bc){var m=v.getElementById(c);return m&&m.parentNode?[m]:[]}},Nr.filter.ID=function(c){var v=c.replace(Ul,Wl);return function(m){return m.getAttribute("id")===v}},Nr.find.TAG=ya.getElementsByTagName?function(c,v){if(typeof v.getElementsByTagName!==Vl)return v.getElementsByTagName(c)}:function(c,v){var m,g=[],C=0,T=v.getElementsByTagName(c);if(c==="*"){for(;m=T[C++];)m.nodeType===1&&g.push(m);return g}return T},Nr.find.CLASS=ya.getElementsByClassName&&function(c,v){if(bc)return v.getElementsByClassName(c)},ad=[],ji=[],ya.disconnectedMatch=!0,ji=ji.length&&new RegExp(ji.join("|")),ad=ad.length&&new RegExp(ad.join("|")),n=e0.test(Ph.compareDocumentPosition),Fm=n||e0.test(Ph.contains)?function(c,v){var m=c.nodeType===9?c.documentElement:c,g=v&&v.parentNode;return c===g||!!(g&&g.nodeType===1&&(m.contains?m.contains(g):c.compareDocumentPosition&&c.compareDocumentPosition(g)&16))}:function(c,v){if(v){for(;v=v.parentNode;)if(v===c)return!0}return!1},Im=n?function(c,v){if(c===v)return pc=!0,0;var m=!c.compareDocumentPosition-!v.compareDocumentPosition;return m||(m=(c.ownerDocument||c)===(v.ownerDocument||v)?c.compareDocumentPosition(v):1,m&1||!ya.sortDetached&&v.compareDocumentPosition(c)===m?c===a||c.ownerDocument===wt&&Fm(wt,c)?-1:v===a||v.ownerDocument===wt&&Fm(wt,v)?1:hc?zf.call(hc,c)-zf.call(hc,v):0:m&4?-1:1)}:function(c,v){if(c===v)return pc=!0,0;var m,g=0,C=c.parentNode,T=v.parentNode,D=[c],B=[v];if(!C||!T)return c===a?-1:v===a?1:C?-1:T?1:hc?zf.call(hc,c)-zf.call(hc,v):0;if(C===T)return yx(c,v);for(m=c;m=m.parentNode;)D.unshift(m);for(m=v;m=m.parentNode;)B.unshift(m);for(;D[g]===B[g];)g++;return g?yx(D[g],B[g]):D[g]===wt?-1:B[g]===wt?1:0},a)},Or.matches=function(e,n){return Or(e,null,null,n)},Or.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Nu&&Hl(e),n=n.replace(Y5,"='$1']"),ya.matchesSelector&&bc&&(!ad||!ad.test(n))&&(!ji||!ji.test(n)))try{var a=U5.call(e,n);if(a||ya.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch(i){}return Or(n,Nu,null,[e]).length>0},Or.contains=function(e,n){return(e.ownerDocument||e)!==Nu&&Hl(e),Fm(e,n)},Or.attr=function(e,n){(e.ownerDocument||e)!==Nu&&Hl(e);var a=Nr.attrHandle[n.toLowerCase()],i=a&&j5.call(Nr.attrHandle,n.toLowerCase())?a(e,n,!bc):void 0;return i!==void 0?i:ya.attributes||!bc?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},Or.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Or.uniqueSort=function(e){var n,a=[],i=0,u=0;if(pc=!ya.detectDuplicates,hc=!ya.sortStable&&e.slice(0),e.sort(Im),pc){for(;n=e[u++];)n===e[u]&&(i=a.push(u));for(;i--;)e.splice(a[i],1)}return hc=null,e},ul=Or.getText=function(e){var n,a="",i=0,u=e.nodeType;if(u){if(u===1||u===9||u===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=ul(e)}else if(u===3||u===4)return e.nodeValue}else for(;n=e[i++];)a+=ul(n);return a},Nr=Or.selectors={cacheLength:50,createPseudo:Ls,match:Ih,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ul,Wl),e[3]=(e[3]||e[4]||e[5]||"").replace(Ul,Wl),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Or.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Or.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return Ih.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&bx.test(a)&&(n=gu(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Ul,Wl).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=gx[e+" "];return n||(n=new RegExp("(^|"+Ea+")"+e+"("+Ea+"|$)"))&&gx(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Vl&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var u=Or.attr(i,e);return u==null?n==="!=":n?(u+="",n==="="?u===a:n==="!="?u!==a:n==="^="?a&&u.indexOf(a)===0:n==="*="?a&&u.indexOf(a)>-1:n==="$="?a&&u.slice(-a.length)===a:n==="~="?(" "+u+" ").indexOf(a)>-1:n==="|="?u===a||u.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,u){var c=e.slice(0,3)!=="nth",v=e.slice(-4)!=="last",m=n==="of-type";return i===1&&u===0?function(g){return!!g.parentNode}:function(g,C,T){var D,B,I,F,L,$,G=c!==v?"nextSibling":"previousSibling",q=g.parentNode,Q=m&&g.nodeName.toLowerCase(),ie=!T&&!m;if(q){if(c){for(;G;){for(I=g;I=I[G];)if(m?I.nodeName.toLowerCase()===Q:I.nodeType===1)return!1;$=G=e==="only"&&!$&&"nextSibling"}return!0}if($=[v?q.firstChild:q.lastChild],v&&ie){for(B=q[$o]||(q[$o]={}),D=B[e]||[],L=D[0]===yc&&D[1],F=D[0]===yc&&D[2],I=L&&q.childNodes[L];I=++L&&I&&I[G]||(F=L=0)||$.pop();)if(I.nodeType===1&&++F&&I===g){B[e]=[yc,L,F];break}}else if(ie&&(D=(g[$o]||(g[$o]={}))[e])&&D[0]===yc)F=D[1];else for(;(I=++L&&I&&I[G]||(F=L=0)||$.pop())&&!((m?I.nodeName.toLowerCase()===Q:I.nodeType===1)&&++F&&(ie&&((I[$o]||(I[$o]={}))[e]=[yc,F]),I===g)););return F-=u,F===i||F%i===0&&F/i>=0}}},PSEUDO:function(e,n){var a,i=Nr.pseudos[e]||Nr.setFilters[e.toLowerCase()]||Or.error("unsupported pseudo: "+e);return i[$o]?i(n):i.length>1?(a=[e,e,"",n],Nr.setFilters.hasOwnProperty(e.toLowerCase())?Ls(function(u,c){for(var v,m=i(u,n),g=m.length;g--;)v=zf.call(u,m[g]),u[v]=!(c[v]=m[g])}):function(u){return i(u,0,a)}):i}},pseudos:{not:Ls(function(e){var n=[],a=[],i=Jb(e.replace(li,"$1"));return i[$o]?Ls(function(u,c,v,m){for(var g,C=i(u,null,m,[]),T=u.length;T--;)(g=C[T])&&(u[T]=!(c[T]=g))}):function(u,c,v){return n[0]=u,i(n,null,v,a),n[0]=null,!a.pop()}}),has:Ls(function(e){return function(n){return Or(e,n).length>0}}),contains:Ls(function(e){return e=e.replace(Ul,Wl),function(n){return(n.textContent||n.innerText||ul(n)).indexOf(e)>-1}}),lang:Ls(function(e){return us.test(e||"")||Or.error("unsupported lang: "+e),e=e.replace(Ul,Wl).toLowerCase(),function(n){var a;do if(a=bc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===Ph},focus:function(e){return e===Nu.activeElement&&(!Nu.hasFocus||Nu.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Nr.pseudos.empty(e)},header:function(e){return J5.test(e.nodeName)},input:function(e){return Z5.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:fi(function(){return[0]}),last:fi(function(e,n){return[n-1]}),eq:fi(function(e,n,a){return[a<0?a+n:a]}),even:fi(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:fi(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:fi(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:fi(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},Nr.pseudos.nth=Nr.pseudos.eq,Ne(["radio","checkbox","file","password","image"],function(e){Nr.pseudos[e]=eO(e)}),Ne(["submit","reset"],function(e){Nr.pseudos[e]=tO(e)});function wx(){}wx.prototype=Nr.filters=Nr.pseudos,Nr.setFilters=new wx,gu=Or.tokenize=function(e,n){var a,i,u,c,v,m,g,C=Qb[e+" "];if(C)return n?0:C.slice(0);for(v=e,m=[],g=Nr.preFilter;v;){(!a||(i=K5.exec(v)))&&(i&&(v=v.slice(i[0].length)||v),m.push(u=[])),a=!1,(i=X5.exec(v))&&(a=i.shift(),u.push({value:a,type:i[0].replace(li," ")}),v=v.slice(a.length));for(c in Nr.filter)!Nr.filter.hasOwnProperty(c)||(i=Ih[c].exec(v))&&(!g[c]||(i=g[c](i)))&&(a=i.shift(),u.push({value:a,type:c,matches:i}),v=v.slice(a.length));if(!a)break}return n?v.length:v?Or.error(e):Qb(e,m).slice(0)};function Nh(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function a0(e,n,a){var i=n.dir,u=a&&i==="parentNode",c=W5++;return n.first?function(v,m,g){for(;v=v[i];)if(v.nodeType===1||u)return e(v,m,g)}:function(v,m,g){var C,T,D=[yc,c];if(g){for(;v=v[i];)if((v.nodeType===1||u)&&e(v,m,g))return!0}else for(;v=v[i];)if(v.nodeType===1||u){if(T=v[$o]||(v[$o]={}),(C=T[i])&&C[0]===yc&&C[1]===c)return D[2]=C[2];if(T[i]=D,D[2]=e(v,m,g))return!0}}}function o0(e){return e.length>1?function(n,a,i){for(var u=e.length;u--;)if(!e[u](n,a,i))return!1;return!0}:e[0]}function nO(e,n,a){for(var i=0,u=n.length;i<u;i++)Or(e,n[i],a);return a}function od(e,n,a,i,u){for(var c,v=[],m=0,g=e.length,C=n!=null;m<g;m++)(c=e[m])&&(!a||a(c,i,u))&&(v.push(c),C&&n.push(m));return v}function i0(e,n,a,i,u,c){return i&&!i[$o]&&(i=i0(i)),u&&!u[$o]&&(u=i0(u,c)),Ls(function(v,m,g,C){var T,D,B,I=[],F=[],L=m.length,$=v||nO(n||"*",g.nodeType?[g]:g,[]),G=e&&(v||!n)?od($,I,e,g,C):$,q=a?u||(v?e:L||i)?[]:m:G;if(a&&a(G,q,g,C),i)for(T=od(q,F),i(T,[],g,C),D=T.length;D--;)(B=T[D])&&(q[F[D]]=!(G[F[D]]=B));if(v){if(u||e){if(u){for(T=[],D=q.length;D--;)(B=q[D])&&T.push(G[D]=B);u(null,q=[],T,C)}for(D=q.length;D--;)(B=q[D])&&(T=u?zf.call(v,B):I[D])>-1&&(v[T]=!(m[T]=B))}}else q=od(q===m?q.splice(L,q.length):q),u?u(null,m,q,C):wc.apply(m,q)})}function u0(e){for(var n,a,i,u=e.length,c=Nr.relative[e[0].type],v=c||Nr.relative[" "],m=c?1:0,g=a0(function(D){return D===n},v,!0),C=a0(function(D){return zf.call(n,D)>-1},v,!0),T=[function(D,B,I){var F=!c&&(I||B!==Rh)||((n=B).nodeType?g(D,B,I):C(D,B,I));return n=null,F}];m<u;m++)if(a=Nr.relative[e[m].type])T=[a0(o0(T),a)];else{if(a=Nr.filter[e[m].type].apply(null,e[m].matches),a[$o]){for(i=++m;i<u&&!Nr.relative[e[i].type];i++);return i0(m>1&&o0(T),m>1&&Nh(e.slice(0,m-1).concat({value:e[m-2].type===" "?"*":""})).replace(li,"$1"),a,m<i&&u0(e.slice(m,i)),i<u&&u0(e=e.slice(i)),i<u&&Nh(e))}T.push(a)}return o0(T)}function Lh(e,n){var a=n.length>0,i=e.length>0,u=function(c,v,m,g,C){var T,D,B,I=0,F="0",L=c&&[],$=[],G=Rh,q=c||i&&Nr.find.TAG("*",C),Q=yc+=G==null?1:Math.random()||.1,ie=q.length;for(C&&(Rh=v!==Nu&&v);F!==ie&&(T=q[F])!=null;F++){if(i&&T){for(D=0;B=e[D++];)if(B(T,v,m)){g.push(T);break}C&&(yc=Q)}a&&((T=!B&&T)&&I--,c&&L.push(T))}if(I+=F,a&&F!==I){for(D=0;B=n[D++];)B(L,$,v,m);if(c){if(I>0)for(;F--;)L[F]||$[F]||($[F]=q5.call(g));$=od($)}wc.apply(g,$),C&&!c&&$.length>0&&I+n.length>1&&Or.uniqueSort(g)}return C&&(yc=Q,Rh=G),L};return a?Ls(u):u}Jb=Or.compile=function(e,n){var a,i=[],u=[],c=hx[e+" "];if(!c){for(n||(n=gu(e)),a=n.length;a--;)c=u0(n[a]),c[$o]?i.push(c):u.push(c);c=hx(e,Lh(u,i)),c.selector=e}return c},gc=Or.select=function(e,n,a,i){var u,c,v,m,g,C=typeof e=="function"&&e,T=!i&&gu(e=C.selector||e);if(a=a||[],T.length===1){if(c=T[0]=T[0].slice(0),c.length>2&&(v=c[0]).type==="ID"&&ya.getById&&n.nodeType===9&&bc&&Nr.relative[c[1].type]){if(n=(Nr.find.ID(v.matches[0].replace(Ul,Wl),n)||[])[0],n)C&&(n=n.parentNode);else return a;e=e.slice(c.shift().value.length)}for(u=Ih.needsContext.test(e)?0:c.length;u--&&(v=c[u],!Nr.relative[m=v.type]);)if((g=Nr.find[m])&&(i=g(v.matches[0].replace(Ul,Wl),t0.test(c[0].type)&&sl(n.parentNode)||n))){if(c.splice(u,1),e=i.length&&Nh(c),!e)return wc.apply(a,i),a;break}}return(C||Jb(e,T))(i,n,!bc,a,t0.test(e)&&sl(n.parentNode)||n),a},ya.sortStable=$o.split("").sort(Im).join("")===$o,ya.detectDuplicates=!!pc,Hl(),ya.sortDetached=!0;var Cx=document,s0=Array.prototype.push,rO=Array.prototype.slice,so=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Lm=$l.Event,Pa=Ce.makeMap("children,contents,next,prev"),vi=function(e){return typeof e!="undefined"},cl=function(e){return typeof e=="string"},Cc=function(e){return e&&e===e.window},xx=function(e,n){n=n||Cx;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var u;u=a.firstChild;)i.appendChild(u);return i},Lu=function(e,n,a,i){var u;if(cl(n))n=xx(n,Ho(e[0]));else if(n.length&&!n.nodeType){if(n=wn.makeArray(n),i)for(u=n.length-1;u>=0;u--)Lu(e,n[u],a,i);else for(u=0;u<n.length;u++)Lu(e,n[u],a,i);return e}if(n.nodeType)for(u=e.length;u--;)a.call(e[u],n);return e},id=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},Sx=function(e,n,a){var i,u;return n=wn(n)[0],e.each(function(){var c=this;(!a||i!==c.parentNode)&&(i=c.parentNode,u=n.cloneNode(!1),c.parentNode.insertBefore(u,c)),u.appendChild(c)}),e},aO=Ce.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),oO=Ce.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),iO={for:"htmlFor",class:"className",readonly:"readOnly"},uO={float:"cssFloat"},c0={},l0={},$u=function(e,n){return new wn.fn.init(e,n)},sO=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},Rf=/^\s*|\s*$/g,$h=function(e){return e==null?"":(""+e).replace(Rf,"")},ll=function(e,n){var a,i,u,c;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(c=e[i],n.call(c,i,c)===!1))break}else for(u=0;u<a&&(c=e[u],n.call(c,u,c)!==!1);u++);return e},kx=function(e,n){var a=[];return ll(e,function(i,u){n(u,i)&&a.push(u)}),a},Ho=function(e){return e?e.nodeType===9?e:e.ownerDocument:Cx};$u.fn=$u.prototype={constructor:$u,selector:"",context:null,length:0,init:function(e,n){var a=this,i,u;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return wn(e).attr(n);a.context=n=document}if(cl(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=so.exec(e),i)if(i[1])for(u=xx(e,Ho(n)).firstChild;u;)s0.call(a,u),u=u.nextSibling;else{if(u=Ho(n).getElementById(i[2]),!u)return a;if(u.id!==i[2])return a.find(e);a.length=1,a[0]=u}else return wn(n).find(e);else this.add(e,!1);return a},toArray:function(){return Ce.toArray(this)},add:function(e,n){var a=this,i,u;if(cl(e))return a.add(wn(e));if(n!==!1)for(i=wn.unique(a.toArray().concat(wn.makeArray(e))),a.length=i.length,u=0;u<i.length;u++)a[u]=i[u];else s0.apply(a,wn.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")ll(e,function(u,c){a.attr(u,c)});else if(vi(n))this.each(function(){var u;if(this.nodeType===1){if(u=c0[e],u&&u.set){u.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=c0[e],i&&i.get)return i.get(a[0],e);if(oO[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=iO[e]||e,typeof e=="object")ll(e,function(i,u){a.prop(i,u)});else if(vi(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,u,c=function(m){return m.replace(/-(\D)/g,function(g,C){return C.toUpperCase()})},v=function(m){return m.replace(/[A-Z]/g,function(g){return"-"+g})};if(typeof e=="object")ll(e,function(m,g){a.css(m,g)});else if(vi(n))e=c(e),typeof n=="number"&&!aO[e]&&(n=n.toString()+"px"),a.each(function(){var m=this.style;if(u=l0[e],u&&u.set){u.set(this,n);return}try{this.style[uO[e]||e]=n}catch(g){}(n===null||n==="")&&(m.removeProperty?m.removeProperty(v(e)):m.removeAttribute(e))});else{if(i=a[0],u=l0[e],u&&u.get)return u.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(v(e))}catch(m){return}else return i.currentStyle?i.currentStyle[c(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],Lm.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(vi(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch(i){wn(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(vi(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Lu(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Lu(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Lu(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Lu(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return wn(e).append(this),this},prependTo:function(e){return wn(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Sx(this,e)},wrapAll:function(e){return Sx(this,e,!0)},wrapInner:function(e){return this.each(function(){wn(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){wn(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),wn(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?ll(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,u){var c=id(u,e);if(c!==n){var v=u.className;c?u.className=$h((" "+v+" ").replace(" "+e+" "," ")):u.className+=v?" "+e:e}})),a},hasClass:function(e){return id(this[0],e)},each:function(e){return ll(this,e)},on:function(e,n){return this.each(function(){Lm.bind(this,e,n)})},off:function(e,n){return this.each(function(){Lm.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?Lm.fire(this,e.type,e):Lm.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return wn(rO.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)wn.find(e,this[n],i);return wn(i)},filter:function(e){return wn(typeof e=="function"?kx(this.toArray(),function(n,a){return e(a,n)}):wn.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof wn&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&wn(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),wn(n)},offset:function(e){var n,a,i,u=0,c=0,v;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(v=n.getBoundingClientRect(),u=v.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,c=v.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:u,top:c})},push:s0,sort:Array.prototype.sort,splice:Array.prototype.splice},Ce.extend($u,{extend:Ce.extend,makeArray:function(e){return Cc(e)||e.nodeType?[e]:Ce.toArray(e)},inArray:sO,isArray:Ce.isArray,each:ll,trim:$h,grep:kx,find:Or,expr:Or.selectors,unique:Or.uniqueSort,text:Or.getText,contains:Or.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=wn.find.matchesSelector(n[0],e)?[n[0]]:[]:n=wn.find.matches(e,n),n}});var hu=function(e,n,a){var i=[],u=e[n];for(typeof a!="string"&&a instanceof wn&&(a=a[0]);u&&u.nodeType!==9&&!(a!==void 0&&(u===a||typeof a=="string"&&wn(u).is(a)));)u.nodeType===1&&i.push(u),u=u[n];return i},Hh=function(e,n,a,i){var u=[];for(i instanceof wn&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&wn(e).is(i)))break;u.push(e)}return u},f0=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};ll({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return hu(e,"parentNode")},next:function(e){return f0(e,"nextSibling",1)},prev:function(e){return f0(e,"previousSibling",1)},children:function(e){return Hh(e.firstChild,"nextSibling",1)},contents:function(e){return Ce.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){$u.fn[e]=function(a){var i=this,u=[];i.each(function(){var v=n.call(u,this,a,u);v&&(wn.isArray(v)?u.push.apply(u,v):u.push(v))}),this.length>1&&(Pa[e]||(u=wn.unique(u)),e.indexOf("parents")===0&&(u=u.reverse()));var c=wn(u);return a?c.filter(a):c}}),ll({parentsUntil:function(e,n){return hu(e,"parentNode",n)},nextUntil:function(e,n){return Hh(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return Hh(e,"previousSibling",1,n).slice(1)}},function(e,n){$u.fn[e]=function(a,i){var u=this,c=[];u.each(function(){var m=n.call(c,this,a,c);m&&(wn.isArray(m)?c.push.apply(c,m):c.push(m))}),this.length>1&&(c=wn.unique(c),(e.indexOf("parents")===0||e==="prevUntil")&&(c=c.reverse()));var v=wn(c);return i?v.filter(i):v}}),$u.fn.is=function(e){return!!e&&this.filter(e).length>0},$u.fn.init.prototype=$u.fn,$u.overrideDefaults=function(e){var n,a=function(i,u){return n=n||e(),arguments.length===0&&(i=n.element),u||(u=n.context),new a.fn.init(i,u)};return wn.extend(a,this),a},$u.attrHooks=c0,$u.cssHooks=l0;var wn=$u,$m=Ce.each,cO=Ce.grep,Vh=Lt.ie,Uh=/^([a-z0-9],?)+$/i,lO=function(e,n,a){var i=n.keep_values,u={set:function(v,m,g){n.url_converter&&m!==null&&(m=n.url_converter.call(n.url_converter_scope||a(),m,g,v[0])),v.attr("data-mce-"+g,m).attr(g,m)},get:function(v,m){return v.attr("data-mce-"+m)||v.attr(m)}},c={style:{set:function(v,m){if(m!==null&&typeof m=="object"){v.css(m);return}i&&v.attr("data-mce-style",m),m!==null&&typeof m=="string"?(v.removeAttr("style"),v.css(e.parse(m))):v.attr("style",m)},get:function(v){var m=v.attr("data-mce-style")||v.attr("style");return m=e.serialize(e.parse(m),v[0].nodeName),m}}};return i&&(c.href=c.src=u),c},Fa=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},_i=function(e,n){var a=0,i,u;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)u=e.nodeType,!(n&&u===3&&(u===i||!e.nodeValue.length))&&(a++,i=u);return a},Lr=function(e,n){n===void 0&&(n={});var a={},i=window,u={},c=0,v=!0,m=!0,g=Ms.forElement(E.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),C=[],T=n.schema?n.schema:Fn({}),D=il({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),B=n.ownEvents?new $l:$l.Event,I=T.getBlockElements(),F=wn.overrideDefaults(function(){return{context:e,element:Bv.getRoot()}}),L=function(ee){if(typeof ee=="string")return!!I[ee];if(ee){var de=ee.nodeType;if(de)return!!(de===1&&I[ee.nodeName])}return!1},$=function(ee){return ee&&e&&bn(ee)?e.getElementById(ee):ee},G=function(ee){return F(typeof ee=="string"?$(ee):ee)},q=function(ee,de,$e){var Je,hn,rr=G(ee);return rr.length&&(Je=NC[de],Je&&Je.get?hn=Je.get(rr,de):hn=rr.attr(de)),typeof hn=="undefined"&&(hn=$e||""),hn},Q=function(ee){var de=$(ee);return de?de.attributes:[]},ie=function(ee,de,$e){$e===""&&($e=null);var Je=G(ee),hn=Je.attr(de);if(!!Je.length){var rr=NC[de];rr&&rr.set?rr.set(Je,$e,de):Je.attr(de,$e),hn!==$e&&n.onSetAttrib&&n.onSetAttrib({attrElm:Je,attrName:de,attrValue:$e})}},Y=function(ee,de){if(!Vh||ee.nodeType!==1||de)return ee.cloneNode(de);var $e=e.createElement(ee.nodeName);return $m(Q(ee),function(Je){ie($e,Je.nodeName,q(ee,Je.nodeName))}),$e},se=function(){return n.root_element||e.body},pe=function(ee){var de=kf(ee);return{x:de.x,y:de.y,w:de.width,h:de.height}},Re=function(ee,de){return Db(e.body,$(ee),de)},Pt=function(ee,de,$e){var Je=bn(de)?G(ee).css(de,$e):G(ee).css(de);n.update_styles&&Fa(D,Je)},vt=function(ee,de){var $e=G(ee).css(de);n.update_styles&&Fa(D,$e)},De=function(ee,de,$e){var Je=G(ee);return $e?Je.css(de):(de=de.replace(/-(\D)/g,function(hn,rr){return rr.toUpperCase()}),de==="float"&&(de=Lt.browser.isIE()?"styleFloat":"cssFloat"),Je[0]&&Je[0].style?Je[0].style[de]:void 0)},Qt=function(ee){var de,$e;return ee=$(ee),de=De(ee,"width"),$e=De(ee,"height"),de.indexOf("px")===-1&&(de=0),$e.indexOf("px")===-1&&($e=0),{w:parseInt(de,10)||ee.offsetWidth||ee.clientWidth,h:parseInt($e,10)||ee.offsetHeight||ee.clientHeight}},Le=function(ee){ee=$(ee);var de=Re(ee),$e=Qt(ee);return{x:de.x,y:de.y,w:$e.w,h:$e.h}},ft=function(ee,de){var $e;if(!ee)return!1;if(!Array.isArray(ee)){if(de==="*")return ee.nodeType===1;if(Uh.test(de)){var Je=de.toLowerCase().split(/,/),hn=ee.nodeName.toLowerCase();for($e=Je.length-1;$e>=0;$e--)if(Je[$e]===hn)return!0;return!1}if(ee.nodeType&&ee.nodeType!==1)return!1}var rr=Array.isArray(ee)?ee:[ee];return Or(de,rr[0].ownerDocument||rr[0],null,rr).length>0},Ie=function(ee,de,$e,Je){var hn=[],rr,Hr=$(ee);for(Je=Je===void 0,$e=$e||(se().nodeName!=="BODY"?se().parentNode:null),Ce.is(de,"string")&&(rr=de,de==="*"?de=function(wf){return wf.nodeType===1}:de=function(wf){return ft(wf,rr)});Hr&&!(Hr===$e||rn(Hr.nodeType)||bm(Hr)||An(Hr));){if(!de||typeof de=="function"&&de(Hr))if(Je)hn.push(Hr);else return[Hr];Hr=Hr.parentNode}return Je?hn:null},Qe=function(ee,de,$e){var Je=Ie(ee,de,$e,!1);return Je&&Je.length>0?Je[0]:null},ht=function(ee,de,$e){var Je=de;if(ee){for(typeof de=="string"&&(Je=function(hn){return ft(hn,de)}),ee=ee[$e];ee;ee=ee[$e])if(typeof Je=="function"&&Je(ee))return ee}return null},Be=function(ee,de){return ht(ee,de,"nextSibling")},pt=function(ee,de){return ht(ee,de,"previousSibling")},gn=function(ee,de){return Or(ee,$(de)||n.root_element||e,[])},mr=function(ee,de,$e){var Je,hn=typeof ee=="string"?$(ee):ee;if(!hn)return!1;if(Ce.isArray(hn)&&(hn.length||hn.length===0))return Je=[],$m(hn,function(Hr,wf){Hr&&Je.push(de.call($e,typeof Hr=="string"?$(Hr):Hr,wf))}),Je;var rr=$e||this;return de.call(rr,hn)},Un=function(ee,de){G(ee).each(function($e,Je){$m(de,function(hn,rr){ie(Je,rr,hn)})})},wa=function(ee,de){var $e=G(ee);Vh?$e.each(function(Je,hn){if(hn.canHaveHTML!==!1){for(;hn.firstChild;)hn.removeChild(hn.firstChild);try{hn.innerHTML="<br>"+de,hn.removeChild(hn.firstChild)}catch(rr){wn("<div></div>").html("<br>"+de).contents().slice(1).appendTo(hn)}return de}}):$e.html(de)},fa=function(ee,de,$e,Je,hn){return mr(ee,function(rr){var Hr=typeof de=="string"?e.createElement(de):de;return Un(Hr,$e),Je&&(typeof Je!="string"&&Je.nodeType?Hr.appendChild(Je):typeof Je=="string"&&wa(Hr,Je)),hn?Hr:rr.appendChild(Hr)})},Pi=function(ee,de,$e){return fa(e.createElement(ee),ee,de,$e,!0)},Qi=Fs.decode,ze=Fs.encodeAllRaw,le=function(ee,de,$e){var Je="",hn;Je+="<"+ee;for(hn in de)Ur(de,hn)&&(Je+=" "+hn+'="'+ze(de[hn])+'"');return typeof $e!="undefined"?Je+">"+$e+"</"+ee+">":Je+" />"},Me=function(ee){var de,$e=e.createElement("div"),Je=e.createDocumentFragment();for(Je.appendChild($e),ee&&($e.innerHTML=ee);de=$e.firstChild;)Je.appendChild(de);return Je.removeChild($e),Je},ve=function(ee,de){var $e=G(ee);return de?$e.each(function(){for(var Je;Je=this.firstChild;)Je.nodeType===3&&Je.data.length===0?this.removeChild(Je):this.parentNode.insertBefore(Je,this)}).remove():$e.remove(),$e.length>1?$e.toArray():$e[0]},St=function(ee){return mr(ee,function(de){var $e,Je=de.attributes;for($e=Je.length-1;$e>=0;$e--)de.removeAttributeNode(Je.item($e))})},Ze=function(ee){return D.parse(ee)},Kt=function(ee,de){return D.serialize(ee,de)},Mn=function(ee){var de,$e;if(Bv!==Lr.DOM&&e===document){if(a[ee])return;a[ee]=!0}$e=e.getElementById("mceDefaultStyles"),$e||($e=e.createElement("style"),$e.id="mceDefaultStyles",$e.type="text/css",de=e.getElementsByTagName("head")[0],de.firstChild?de.insertBefore($e,de.firstChild):de.appendChild($e)),$e.styleSheet?$e.styleSheet.cssText+=ee:$e.appendChild(e.createTextNode(ee))},$r=function(ee){ee||(ee=""),Ne(ee.split(","),function(de){u[de]=!0,g.load(de,Ve)})},ni=function(ee,de,$e){G(ee).toggleClass(de,$e).each(function(){this.className===""&&wn(this).attr("class",null)})},Ci=function(ee,de){G(ee).addClass(de)},Gu=function(ee,de){ni(ee,de,!1)},ri=function(ee,de){return G(ee).hasClass(de)},ai=function(ee){G(ee).show()},Na=function(ee){G(ee).hide()},Ol=function(ee){return G(ee).css("display")==="none"},mo=function(ee){return(ee||"mce_")+c++},Ku=function(ee){var de=typeof ee=="string"?$(ee):ee;return fn(de)?de.outerHTML:wn("<div></div>").append(wn(de).clone()).html()},Hc=function(ee,de){G(ee).each(function(){try{if("outerHTML"in this){this.outerHTML=de;return}}catch($e){}ve(wn(this).html(de),!0)})},Qr=function(ee,de){var $e=$(de);return mr(ee,function(Je){var hn=$e.parentNode,rr=$e.nextSibling;return rr?hn.insertBefore(Je,rr):hn.appendChild(Je),Je})},_r=function(ee,de,$e){return mr(de,function(Je){return Ce.is(Je,"array")&&(ee=ee.cloneNode(!0)),$e&&$m(cO(Je.childNodes),function(hn){ee.appendChild(hn)}),Je.parentNode.replaceChild(ee,Je)})},_a=function(ee,de){var $e;return ee.nodeName!==de.toUpperCase()&&($e=Pi(de),$m(Q(ee),function(Je){ie($e,Je.nodeName,q(ee,Je.nodeName))}),_r($e,ee,!0)),$e||ee},ys=function(ee,de){for(var $e=ee,Je;$e;){for(Je=de;Je&&$e!==Je;)Je=Je.parentNode;if($e===Je)break;$e=$e.parentNode}return!$e&&ee.ownerDocument?ee.ownerDocument.documentElement:$e},Vc=function(ee){return D.toHex(Ce.trim(ee))},ws=function(ee){if(fn(ee)){var de=ee.nodeName.toLowerCase()==="a"&&!q(ee,"href")&&q(ee,"id");if(q(ee,"name")||q(ee,"data-mce-bookmark")||de)return!0}return!1},Qs=function(ee,de){var $e,Je,hn=0;if(ws(ee))return!1;if(ee=ee.firstChild,ee){var rr=new Tr(ee,ee.parentNode),Hr=T?T.getWhiteSpaceElements():{};de=de||(T?T.getNonEmptyElements():null);do{if($e=ee.nodeType,fn(ee)){var wf=ee.getAttribute("data-mce-bogus");if(wf){ee=rr.next(wf==="all");continue}if(Je=ee.nodeName.toLowerCase(),de&&de[Je]){if(Je==="br"){hn++,ee=rr.next();continue}return!1}if(ws(ee))return!1}if($e===8||$e===3&&!Ps(ee.nodeValue)||$e===3&&ee.parentNode&&Hr[ee.parentNode.nodeName]&&Ps(ee.nodeValue))return!1;ee=rr.next()}while(ee)}return hn<=1},lh=function(){return e.createRange()},NP=function(ee,de,$e){var Je=lh(),hn,rr,Hr;if(ee&&de)return Je.setStart(ee.parentNode,_i(ee)),Je.setEnd(de.parentNode,_i(de)),hn=Je.extractContents(),Je=lh(),Je.setStart(de.parentNode,_i(de)+1),Je.setEnd(ee.parentNode,_i(ee)+1),rr=Je.extractContents(),Hr=ee.parentNode,Hr.insertBefore(Wb(Bv,hn),ee),$e?Hr.insertBefore($e,ee):Hr.insertBefore(de,ee),Hr.insertBefore(Wb(Bv,rr),ee),ve(ee),$e||de},YT=function(ee,de,$e,Je){if(Ce.isArray(ee)){for(var hn=ee.length,rr=[];hn--;)rr[hn]=YT(ee[hn],de,$e,Je);return rr}n.collect&&(ee===e||ee===i)&&C.push([ee,de,$e,Je]);var Hr=B.bind(ee,de,$e,Je||Bv);return Hr},fh=function(ee,de,$e){if(Ce.isArray(ee)){for(var Je=ee.length,hn=[];Je--;)hn[Je]=fh(ee[Je],de,$e);return hn}else{if(C.length>0&&(ee===e||ee===i))for(var Je=C.length;Je--;){var rr=C[Je];ee===rr[0]&&(!de||de===rr[1])&&(!$e||$e===rr[2])&&B.unbind(rr[0],rr[1],rr[2])}return B.unbind(ee,de,$e)}},ZT=function(ee,de,$e){return B.fire(ee,de,$e)},IC=function(ee){if(ee&&fn(ee)){var de=ee.getAttribute("data-mce-contenteditable");return de&&de!=="inherit"?de:ee.contentEditable!=="inherit"?ee.contentEditable:null}else return null},LP=function(ee){for(var de=se(),$e=null;ee&&ee!==de&&($e=IC(ee),$e===null);ee=ee.parentNode);return $e},JT=function(){if(C.length>0)for(var ee=C.length;ee--;){var de=C[ee];B.unbind(de[0],de[1],de[2])}or(u,function($e,Je){g.unload(Je),delete u[Je]}),Or.setDocument&&Or.setDocument()},$P=function(ee,de){if(Vh){for(;ee;){if(de===ee)return!0;ee=ee.parentNode}return!1}else return ee===de||de.contains(ee)},HP=function(ee){return"startContainer: "+ee.startContainer.nodeName+", startOffset: "+ee.startOffset+", endContainer: "+ee.endContainer.nodeName+", endOffset: "+ee.endOffset},Bv={doc:e,settings:n,win:i,files:u,stdMode:v,boxModel:m,styleSheetLoader:g,boundEvents:C,styles:D,schema:T,events:B,isBlock:L,$:F,$$:G,root:null,clone:Y,getRoot:se,getViewPort:pe,getRect:Le,getSize:Qt,getParent:Qe,getParents:Ie,get:$,getNext:Be,getPrev:pt,select:gn,is:ft,add:fa,create:Pi,createHTML:le,createFragment:Me,remove:ve,setStyle:Pt,getStyle:De,setStyles:vt,removeAllAttribs:St,setAttrib:ie,setAttribs:Un,getAttrib:q,getPos:Re,parseStyle:Ze,serializeStyle:Kt,addStyle:Mn,loadCSS:$r,addClass:Ci,removeClass:Gu,hasClass:ri,toggleClass:ni,show:ai,hide:Na,isHidden:Ol,uniqueId:mo,setHTML:wa,getOuterHTML:Ku,setOuterHTML:Hc,decode:Qi,encode:ze,insertAfter:Qr,replace:_r,rename:_a,findCommonAncestor:ys,toHex:Vc,run:mr,getAttribs:Q,isEmpty:Qs,createRng:lh,nodeIndex:_i,split:NP,bind:YT,unbind:fh,fire:ZT,getContentEditable:IC,getContentEditableParent:LP,destroy:JT,isChildOf:$P,dumpRng:HP},NC=lO(D,n,Ge(Bv));return Bv};Lr.DOM=Lr(document),Lr.nodeIndex=_i;var Ax=Lr.DOM,v0=Ce.each,Pf=Ce.grep,Ex=0,Ff=1,ud=2,Tx=3,fl=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var u=Ax,c,v=function(){u.remove(C),c&&(c.onerror=c.onload=c=null)},m=function(){v(),a()},g=function(){v(),Fe(i)?i():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+n)},C=u.uniqueId();c=document.createElement("script"),c.id=C,c.type="text/javascript",c.src=Ce._addCacheSuffix(n),this.settings.referrerPolicy&&u.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=m,c.onerror=g,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)},e.prototype.isDone=function(n){return this.states[n]===ud},e.prototype.markDone=function(n){this.states[n]=ud},e.prototype.add=function(n,a,i,u){var c=this.states[n];this.queue.push(n),c===void 0&&(this.states[n]=Ex),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:u,scope:i||this}))},e.prototype.load=function(n,a,i,u){return this.add(n,a,i,u)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,u){var c=this,v=[],m=function(C,T){v0(c.scriptLoadedCallbacks[T],function(D){Fe(D[C])&&D[C].call(D.scope)}),c.scriptLoadedCallbacks[T]=void 0};c.queueLoadedCallbacks.push({success:a,failure:u,scope:i||this});var g=function(){var C=Pf(n);if(n.length=0,v0(C,function(D){if(c.states[D]===ud){m("success",D);return}if(c.states[D]===Tx){m("failure",D);return}c.states[D]!==Ff&&(c.states[D]=Ff,c.loading++,c.loadScript(D,function(){c.states[D]=ud,c.loading--,m("success",D),g()},function(){c.states[D]=Tx,c.loading--,v.push(D),m("failure",D),g()}))}),!c.loading){var T=c.queueLoadedCallbacks.slice(0);c.queueLoadedCallbacks.length=0,v0(T,function(D){v.length===0?Fe(D.success)&&D.success.call(D.scope):Fe(D.failure)&&D.failure.call(D.scope,v)})}};g()},e.ScriptLoader=new e,e}(),di=function(e){var n=e,a=function(){return n},i=function(u){n=u};return{get:a,set:i}},fO=function(e){return Cn(e)&&Sn(e,"raw")},vO=function(e){return $t(e)&&e.length>1},If={},d0=di("en"),m0=function(){return $n(If,d0.get())},g0=function(){return ja(If,function(e){return Vt({},e)})},dO=function(e){e&&d0.set(e)},mO=function(){return d0.get()},gO=function(e,n){var a=If[e];a||(If[e]=a={}),or(n,function(i,u){a[u.toLowerCase()]=i})},Wh=function(e){var n=m0().getOr({}),a=function(g){return Fe(g)?Object.prototype.toString.call(g):i(g)?"":""+g},i=function(g){return g===""||g===null||g===void 0},u=function(g){var C=a(g);return $n(n,C.toLowerCase()).map(a).getOr(C)},c=function(g){return g.replace(/{context:\w+}$/,"")};if(i(e))return"";if(fO(e))return a(e.raw);if(vO(e)){var v=e.slice(1),m=u(e[0]).replace(/\{([0-9]+)\}/g,function(g,C){return Sn(v,C)?a(v[C]):g});return c(m)}return c(u(e))},Nf=function(){return m0().bind(function(e){return $n(e,"_dir")}).exists(function(e){return e==="rtl"})},jh=function(e){return Sn(If,e)},zn={getData:g0,setCode:dO,getCode:mO,add:gO,translate:Wh,isRtl:Nf,hasCode:jh},la=function(){var e=[],n={},a={},i=[],u=function(L,$){var G=bt(i,function(q){return q.name===L&&q.state===$});Ne(G,function(q){return q.callback()})},c=function(L){if(a[L])return a[L].instance},v=function(L){var $;return a[L]&&($=a[L].dependencies),$||[]},m=function(L,$){la.languageLoad!==!1&&F(L,function(){var G=zn.getCode(),q=","+($||"")+",";!G||$&&q.indexOf(","+G+",")===-1||fl.ScriptLoader.add(n[L]+"/langs/"+G+".js")},"loaded")},g=function(L,$,G){var q=$;return e.push(q),a[L]={instance:q,dependencies:G},u(L,"added"),q},C=function(L){delete n[L],delete a[L]},T=function(L,$){return typeof $=="object"?$:typeof L=="string"?{prefix:"",resource:$,suffix:""}:{prefix:L.prefix,resource:$,suffix:L.suffix}},D=function(L,$){var G=n[L];Ne($,function(q){fl.ScriptLoader.add(G+"/"+q)})},B=function(L,$,G,q){var Q=v(L);Ne(Q,function(ie){var Y=T($,ie);I(Y.resource,Y,void 0,void 0)}),G&&(q?G.call(q):G.call(fl))},I=function(L,$,G,q,Q){if(!n[L]){var ie=typeof $=="string"?$:$.prefix+$.resource+$.suffix;ie.indexOf("/")!==0&&ie.indexOf("://")===-1&&(ie=la.baseURL+"/"+ie),n[L]=ie.substring(0,ie.lastIndexOf("/"));var Y=function(){u(L,"loaded"),B(L,$,G,q)};a[L]?Y():fl.ScriptLoader.add(ie,Y,q,Q)}},F=function(L,$,G){G===void 0&&(G="added"),Sn(a,L)&&G==="added"||Sn(n,L)&&G==="loaded"?$():i.push({name:L,state:G,callback:$})};return{items:e,urls:n,lookup:a,_listeners:i,get:c,dependencies:v,requireLangPack:m,add:g,remove:C,createUrl:T,addComponents:D,load:I,waitFor:F}};la.languageLoad=!0,la.baseURL="",la.PluginManager=la(),la.ThemeManager=la();var Lf=function(e){var n=di(U.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(U.none())},u=function(){return n.get().isSome()},c=function(){return n.get()},v=function(m){a(),n.set(U.some(m))};return{clear:i,isSet:u,get:c,set:v}},jl=function(){var e=Lf(Ve),n=function(a){return e.get().each(a)};return Vt(Vt({},e),{on:n})},Dr=function(e,n){var a=null,i=function(){X(a)||(clearTimeout(a),a=null)},u=function(){for(var c=[],v=0;v<arguments.length;v++)c[v]=arguments[v];X(a)&&(a=setTimeout(function(){a=null,e.apply(null,c)},n))};return{cancel:i,throttle:u}},h0=function(e,n){var a=null,i=function(){X(a)||(clearTimeout(a),a=null)},u=function(){for(var c=[],v=0;v<arguments.length;v++)c[v]=arguments[v];i(),a=setTimeout(function(){a=null,e.apply(null,c)},n)};return{cancel:i,throttle:u}},qh=function(e,n){var a=M(e,n);return a===void 0||a===""?[]:a.split(" ")},So=function(e,n,a){var i=qh(e,n),u=i.concat([a]);return w(e,n,u.join(" ")),!0},ql=function(e,n,a){var i=bt(qh(e,n),function(u){return u!==a});return i.length>0?w(e,n,i.join(" ")):we(e,n),!1},Gh=function(e){return e.dom.classList!==void 0},hO=function(e){return qh(e,"class")},pO=function(e,n){return So(e,"class",n)},Kh=function(e,n){return ql(e,"class",n)},sd=function(e,n){Gh(e)?e.dom.classList.add(n):pO(e,n)},p0=function(e){var n=Gh(e)?e.dom.classList:hO(e);n.length===0&&we(e,"class")},b0=function(e,n){if(Gh(e)){var a=e.dom.classList;a.remove(n)}else Kh(e,n);p0(e)},y0=function(e,n){return Gh(e)&&e.dom.classList.contains(n)},w0=function(e,n){var a=[];return Ne(ui(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(w0(i,n))}),a},Bi=function(e,n){return kn(n,e)},Xh=Ge("mce-annotation"),xc=Ge("data-mce-annotation"),zi=Ge("data-mce-annotation-uid"),Ox=function(e,n){var a=e.selection.getRng(),i=E.fromDom(a.startContainer),u=E.fromDom(e.getBody()),c=n.fold(function(){return"."+Xh()},function(C){return"["+xc()+'="'+C+'"]'}),v=Xc(i,a.startOffset).getOr(i),m=Aa(v,c,function(C){return tn(C,u)}),g=function(C,T){return oe(C,T)?U.some(M(C,T)):U.none()};return m.bind(function(C){return g(C,""+zi()).bind(function(T){return g(C,""+xc()).map(function(D){var B=bO(e,T);return{uid:T,name:D,elements:B}})})})},ko=function(e){return Yr(e)&&y0(e,Xh())},bO=function(e,n){var a=E.fromDom(e.getBody());return Bi(a,"["+zi()+'="'+n+'"]')},Gl=function(e,n){var a=E.fromDom(e.getBody()),i=Bi(a,"["+xc()+'="'+n+'"]'),u={};return Ne(i,function(c){var v=M(c,zi()),m=$n(u,v).getOr([]);u[v]=m.concat([c])}),u},Dx=function(e,n){var a=di({}),i=function(){return{listeners:[],previous:jl()}},u=function(T,D){c(T,function(B){return D(B),B})},c=function(T,D){var B=a.get(),I=$n(B,T).getOrThunk(i),F=D(I);B[T]=F,a.set(B)},v=function(T,D,B){u(T,function(I){Ne(I.listeners,function(F){return F(!0,T,{uid:D,nodes:Yt(B,function(L){return L.dom})})})})},m=function(T){u(T,function(D){Ne(D.listeners,function(B){return B(!1,T)})})},g=h0(function(){var T=a.get(),D=gt(wr(T));Ne(D,function(B){c(B,function(I){var F=I.previous.get();return Ox(e,U.some(B)).fold(function(){F.isSome()&&(m(B),I.previous.clear())},function(L){var $=L.uid,G=L.name,q=L.elements;Af(F,$)||(v(G,$,q),I.previous.set($))}),{previous:I.previous,listeners:I.listeners}})})},30);e.on("remove",function(){g.cancel()}),e.on("NodeChange",function(){g.throttle()});var C=function(T,D){c(T,function(B){return{previous:B.previous,listeners:B.listeners.concat([D])}})};return{addListener:C}},_x=function(e,n){var a=function(i){return U.from(i.attr(xc())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){Ne(i,function(u){a(u).each(function(c){c.persistent===!1&&u.unwrap()})})})})},Bx=function(){var e={},n=function(i,u){e[i]={name:i,settings:u}},a=function(i){return $n(e,i).map(function(u){return u.settings})};return{register:n,lookup:a}},Yh=0,Zh=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return Yh++,e+"_"+i+Yh+String(a)},zx=function(e,n){Ne(n,function(a){sd(e,a)})},yO=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,ui(E.fromDom(i))},wO=function(e){return Yt(e,E.fromDom)},Vo=function(e){return e.dom.innerHTML},Ao=function(e,n){var a=Pv(e),i=a.dom,u=E.fromDom(i.createDocumentFragment()),c=yO(n,i);Nv(u,c),gm(e),wo(e,u)},mi=function(e,n){return E.fromDom(e.dom.cloneNode(n))},co=function(e){return mi(e,!1)},Mi=function(e){return mi(e,!0)},Eo=function(e,n,a){a===void 0&&(a=yt);var i=new Tr(e,n),u=function(c){var v;do v=i[c]();while(v&&!Ct(v)&&!a(v));return U.from(v).filter(Ct)};return{current:function(){return U.from(i.current()).filter(Ct)},next:function(){return u("next")},prev:function(){return u("prev")},prev2:function(){return u("prev2")}}},Jh=function(e,n){var a=n||function(v){return e.isBlock(v)||Sr(v)||Gr(v)},i=function(v,m,g,C){if(Ct(v)){var T=C(v,m,v.data);if(T!==-1)return U.some({container:v,offset:T})}return g().bind(function(D){return i(D.container,D.offset,g,C)})},u=function(v,m,g,C){var T=Eo(v,C,a);return i(v,m,function(){return T.prev().map(function(D){return{container:D,offset:D.length}})},g).getOrNull()},c=function(v,m,g,C){var T=Eo(v,C,a);return i(v,m,function(){return T.next().map(function(D){return{container:D,offset:0}})},g).getOrNull()};return{backwards:u,forwards:c}},Kl=Math.round,Xl=function(e){return e?{left:Kl(e.left),top:Kl(e.top),bottom:Kl(e.bottom),right:Kl(e.right),width:Kl(e.width),height:Kl(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},C0=function(e,n){return e=Xl(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Mx=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},x0=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Yl=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:x0(n.top-e.bottom,e,n)},Zl=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:x0(n.bottom-e.top,e,n)},Rx=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},CO=function(e,n,a){return Math.min(Math.max(e,n),a)},Qh=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},Jl=function(e,n){if(fn(e)&&e.hasChildNodes()){var a=e.childNodes,i=CO(n,0,a.length-1);return a[i]}else return e},xO=function(e,n){if(!(n<0&&fn(e)&&e.hasChildNodes()))return Jl(e,n)},S0=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Px=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&S0.test(e)},SO=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},kO=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Fx=fn,Ix=mc,qe=Uv("display","block table"),AO=Uv("float","left right"),Ta=kO(Fx,Ix,Wa(AO)),EO=Wa(Uv("white-space","pre pre-line pre-wrap")),cd=Ct,k0=Sr,Hu=Lr.nodeIndex,ep=xO,A0=function(e){return"createRange"in e?e.createRange():Lr.DOM.createRng()},tp=function(e){return e&&/[\r\n\t ]/.test(e)},Sc=function(e){return!!e.setStart&&!!e.setEnd},E0=function(e){var n=e.startContainer,a=e.startOffset;if(tp(e.toString())&&EO(n.parentNode)&&Ct(n)){var i=n.data;if(tp(i[a-1])||tp(i[a+1]))return!0}return!1},Nx=function(e){var n=e.ownerDocument,a=A0(n),i=n.createTextNode(Ui),u=e.parentNode;u.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var c=Xl(a.getBoundingClientRect());return u.removeChild(i),c},vl=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,u=e.endOffset;if(n===a&&Ct(a)&&i===0&&u===1){var c=e.cloneRange();return c.setEndAfter(a),dl(c)}else return null},ss=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},dl=function(e){var n,a=e.getClientRects();return a.length>0?n=Xl(a[0]):n=Xl(e.getBoundingClientRect()),!Sc(e)&&k0(e)&&ss(n)?Nx(e):ss(n)&&Sc(e)?vl(e):n},gi=function(e,n){var a=C0(e,n);return a.width=1,a.right=a.left+1,a},TO=function(e){var n=[],a=function(g){g.height!==0&&(n.length>0&&Mx(g,n[n.length-1])||n.push(g))},i=function(g,C){var T=A0(g.ownerDocument);if(C<g.data.length){if(Px(g.data[C]))return n;if(Px(g.data[C-1])&&(T.setStart(g,C),T.setEnd(g,C+1),!E0(T)))return a(gi(dl(T),!1)),n}C>0&&(T.setStart(g,C-1),T.setEnd(g,C),E0(T)||a(gi(dl(T),!1))),C<g.data.length&&(T.setStart(g,C),T.setEnd(g,C+1),E0(T)||a(gi(dl(T),!0)))},u=e.container(),c=e.offset();if(cd(u))return i(u,c),n;if(Fx(u))if(e.isAtEnd()){var v=ep(u,c);cd(v)&&i(v,v.data.length),Ta(v)&&!k0(v)&&a(gi(dl(v),!1))}else{var v=ep(u,c);if(cd(v)&&i(v,0),Ta(v)&&e.isAtEnd())return a(gi(dl(v),!1)),n;var m=ep(e.container(),e.offset()-1);Ta(m)&&!k0(m)&&(qe(m)||qe(v)||!Ta(v))&&a(gi(dl(m),!1)),Ta(v)&&a(gi(dl(v),!0))}return n},he=function(e,n,a){var i=function(){return cd(e),n===0},u=function(){return cd(e)?n>=e.data.length:n>=e.childNodes.length},c=function(){var T=A0(e.ownerDocument);return T.setStart(e,n),T.setEnd(e,n),T},v=function(){return a||(a=TO(he(e,n))),a},m=function(){return v().length>0},g=function(T){return T&&e===T.container()&&n===T.offset()},C=function(T){return ep(e,T?n-1:n)};return{container:Ge(e),offset:Ge(n),toRange:c,getClientRects:v,isVisible:m,isAtStart:i,isAtEnd:u,isEqual:g,getNode:C}};he.fromRangeStart=function(e){return he(e.startContainer,e.startOffset)},he.fromRangeEnd=function(e){return he(e.endContainer,e.endOffset)},he.after=function(e){return he(e.parentNode,Hu(e)+1)},he.before=function(e){return he(e.parentNode,Hu(e))},he.isAbove=function(e,n){return Yo(Ut(n.getClientRects()),cn(e.getClientRects()),Yl).getOr(!1)},he.isBelow=function(e,n){return Yo(cn(n.getClientRects()),Ut(e.getClientRects()),Zl).getOr(!1)},he.isAtStart=function(e){return e?e.isAtStart():!1},he.isAtEnd=function(e){return e?e.isAtEnd():!1},he.isTextPosition=function(e){return e?Ct(e.container()):!1},he.isElementPosition=function(e){return he.isTextPosition(e)===!1};var ld=function(e,n){Ct(n)&&n.data.length===0&&e.remove(n)},Lx=function(e,n,a){n.insertNode(a),ld(e,a.previousSibling),ld(e,a.nextSibling)},$x=function(e,n,a){var i=U.from(a.firstChild),u=U.from(a.lastChild);n.insertNode(a),i.each(function(c){return ld(e,c.previousSibling)}),u.each(function(c){return ld(e,c.nextSibling)})},Hm=function(e,n,a){An(a)?$x(e,n,a):Lx(e,n,a)},$s=Ct,T0=tl,Hx=Lr.nodeIndex,Vx=function(e){var n=e.parentNode;return T0(n)?Vx(n):n},O0=function(e){return e?Ii(e.childNodes,function(n,a){return T0(a)&&a.nodeName!=="BR"?n=n.concat(O0(a)):n.push(a),n},[]):[]},OO=function(e,n){for(;(e=e.previousSibling)&&$s(e);)n+=e.data.length;return n},Ux=function(e){return function(n){return e===n}},D0=function(e){var n,a;n=O0(Vx(e)),a=Zn(n,Ux(e),e),n=n.slice(0,a+1);var i=Ii(n,function(u,c,v){return $s(c)&&$s(n[v-1])&&u++,u},0);return n=po(n,cu([e.nodeName])),a=Zn(n,Ux(e),e),a-i},Wx=function(e){var n;return $s(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+D0(e)+"]"},jx=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},qx=function(e,n){var a,i,u=[],c,v,m;return a=n.container(),i=n.offset(),$s(a)?c=OO(a,i):(v=a.childNodes,i>=v.length?(c="after",i=v.length-1):c="before",a=v[i]),u.push(Wx(a)),m=jx(e,a),m=po(m,Wa(tl)),u=u.concat(Fi(m,function(g){return Wx(g)})),u.reverse().join("/")+","+c},np=function(e,n,a){var i=O0(e);return i=po(i,function(u,c){return!$s(u)||!$s(i[c-1])}),i=po(i,cu([n])),i[a]},DO=function(e,n){for(var a=e,i=0,u;$s(a);){if(u=a.data.length,n>=i&&n<=i+u){e=a,n=n-i;break}if(!$s(a.nextSibling)){e=a,n=u;break}i+=u,a=a.nextSibling}return $s(e)&&n>e.data.length&&(n=e.data.length),he(e,n)},Gx=function(e,n){var a;if(!n)return null;var i=n.split(","),u=i[0].split("/");a=i.length>1?i[1]:"before";var c=Ii(u,function(v,m){var g=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(m);return g?(g[1]==="text()"&&(g[1]="#text"),np(v,g[1],parseInt(g[2],10))):null},e);return c?$s(c)?DO(c,parseInt(a,10)):(a==="after"?a=Hx(c)+1:a=Hx(c),he(c.parentNode,a)):null},rp=Gr,_O=function(e,n,a){var i,u;for(u=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&Ct(i);i=i.previousSibling)u+=e(i.data).length;return u},Kx=function(e,n,a,i,u){var c=i[u?"startContainer":"endContainer"],v=i[u?"startOffset":"endOffset"],m=[],g,C=0,T=e.getRoot();for(Ct(c)?m.push(a?_O(n,c,v):v):(g=c.childNodes,v>=g.length&&g.length&&(C=1,v=Math.max(0,g.length-1)),m.push(e.nodeIndex(g[v],a)+C));c&&c!==T;c=c.parentNode)m.push(e.nodeIndex(c,a));return m},_0=function(e,n,a,i){var u=n.dom,c={};return c.start=Kx(u,e,a,i,!0),n.isCollapsed()||(c.end=Kx(u,e,a,i,!1)),dc(i)&&(c.isFakeCaret=!0),c},ap=function(e,n,a){var i=0;return Ce.each(e.select(n),function(u){if(u.getAttribute("data-mce-bogus")!=="all"){if(u===a)return!1;i++}}),i},$f=function(e,n){var a,i,u,c=n?"start":"end";a=e[c+"Container"],i=e[c+"Offset"],fn(a)&&a.nodeName==="TR"&&(u=a.childNodes,a=u[Math.min(n?i:i-1,u.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},Xx=function(e){return $f(e,!0),$f(e,!1),e},da=function(e,n){var a;if(fn(e)&&(e=Jl(e,n),rp(e)))return e;if(Pu(e)&&(Ct(e)&&ua(e)&&(e=e.parentNode),a=e.previousSibling,rp(a)||(a=e.nextSibling,rp(a))))return a},Yx=function(e){return da(e.startContainer,e.startOffset)||da(e.endContainer,e.endOffset)},Oa=function(e,n,a){var i=a.getNode(),u=i?i.nodeName:null,c=a.getRng();if(rp(i)||u==="IMG")return{name:u,index:ap(a.dom,u,i)};var v=Yx(c);return v?(u=v.tagName,{name:u,index:ap(a.dom,u,v)}):_0(e,a,n,c)},op=function(e){var n=e.getRng();return{start:qx(e.dom.getRoot(),he.fromRangeStart(n)),end:qx(e.dom.getRoot(),he.fromRangeEnd(n))}},Zx=function(e){return{rng:e.getRng()}},B0=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Vm=function(e,n){var a=e.dom,i=e.getRng(),u=a.uniqueId(),c=e.isCollapsed(),v=e.getNode(),m=v.nodeName;if(m==="IMG")return{name:m,index:ap(a,m,v)};var g=Xx(i.cloneRange());if(!c){g.collapse(!1);var C=B0(a,u+"_end",n);Hm(a,g,C)}i=Xx(i),i.collapse(!0);var T=B0(a,u+"_start",n);return Hm(a,i,T),e.moveToBookmark({id:u,keep:!0}),{id:u}},BO=function(e,n,a){return n===2?Oa(vc,a,e):n===3?op(e):n?Zx(e):Vm(e,!1)},Jx=nt(Oa,Rt,!0),zO=Lr.DOM,MO="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Qx=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var u=e.getParam(n,"","hash");return $n(u,e.id).getOr(a)}else return i},RO=function(e){return e.getParam("iframe_attrs",{})},PO=function(e){return e.getParam("doctype","<!DOCTYPE html>")},FO=function(e){return e.getParam("document_base_url","")},IO=function(e){return Qx(e,"body_id","tinymce")},NO=function(e){return Qx(e,"body_class","")},eS=function(e){return e.getParam("content_security_policy","")},LO=function(e){return e.getParam("br_in_pre",!0)},ei=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Um=function(e){return e.getParam("forced_root_block_attrs",{})},tS=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},$O=function(e){return e.getParam("no_newline_selector","")},Wm=function(e){return e.getParam("keep_styles",!0)},nS=function(e){return e.getParam("end_container_on_empty_block",!1)},HO=function(e){return Ce.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},VO=function(e){return Ce.explode(e.getParam("font_size_classes",""))},UO=function(e){return e.getParam("images_dataimg_filter",Ht,"function")},Hf=function(e){return e.getParam("automatic_uploads",!0,"boolean")},ip=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},up=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},sp=function(e){return e.getParam("icons","","string")},WO=function(e){return e.getParam("icons_url","","string")},ml=function(e){return e.getParam("images_upload_url","","string")},z0=function(e){return e.getParam("images_upload_base_path","","string")},jO=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Ql=function(e){return e.getParam("images_upload_handler",null,"function")},cp=function(e){return e.getParam("content_css_cors",!1,"boolean")},rS=function(e){return e.getParam("referrer_policy","","string")},aS=function(e){return e.getParam("language","en","string")},qO=function(e){return e.getParam("language_url","","string")},oS=function(e){return e.getParam("indent_use_margin",!1)},iS=function(e){return e.getParam("indentation","40px","string")},GO=function(e){var n=e.getParam("content_css");return bn(n)?Yt(n.split(","),Fo):$t(n)?n:n===!1||e.inline?[]:["default"]},uS=function(e){var n=e.getParam("font_css",[]);return $t(n)?n:Yt(n.split(","),Fo)},sS=function(e){return e.getParam("directionality",zn.isRtl()?"rtl":void 0)},KO=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},M0=function(e){var n=e.getParam("object_resizing");return n===!1||Lt.iOS?!1:bn(n)?n:"table,img,figure.image,div,video,iframe"},XO=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},YO=function(e){return e.getParam("placeholder",zO.getAttrib(e.getElement(),"placeholder"),"string")},cS=function(e){return e.getParam("event_root")},lS=function(e){return e.getParam("service_message")},fd=function(e){return e.getParam("theme")},fS=function(e){return e.getParam("validate")},jm=function(e){return e.getParam("inline_boundaries")!==!1},ZO=function(e){return e.getParam("formats")},JO=function(e){var n=e.getParam("preview_styles",MO);return bn(n)?n:""},QO=function(e){return e.getParam("format_empty_lines",!1,"boolean")},eD=function(e){return e.getParam("custom_ui_selector","","string")},R0=function(e){return e.getParam("theme_url")},P0=function(e){return e.getParam("inline")},tD=function(e){return e.getParam("hidden_input")},nD=function(e){return e.getParam("submit_patch")},rD=function(e){return e.getParam("encoding")==="xml"},aD=function(e){return e.getParam("add_form_submit_trigger")},oD=function(e){return e.getParam("add_unload_trigger")},iD=function(e){return ei(e)!==""},lp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},uD=function(e){return e.getParam("disable_nodechange")},sD=function(e){return e.getParam("readonly")},cD=function(e){return e.getParam("content_css_cors")},F0=function(e){return e.getParam("plugins","","string")},lD=function(e){return e.getParam("external_plugins")},fD=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},vD=function(e){return e.getParam("visual",!0,"boolean")},qm=function(e){return e.getParam("visual_table_class","mce-item-table","string")},dD=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},mD=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},vS=fn,I0=Ct,N0=function(e){var n=e.parentNode;n&&n.removeChild(e)},dS=function(e){var n=vc(e);return{count:e.length-n.length,text:n}},mS=function(e){for(var n;(n=e.data.lastIndexOf(ae))!==-1;)e.deleteData(n,1)},vd=function(e,n){return Vf(e),n},gS=function(e,n){var a=dS(e.data.substr(0,n.offset())),i=dS(e.data.substr(n.offset())),u=a.text+i.text;return u.length>0?(mS(e),he(e,n.offset()-a.count)):n},gD=function(e,n){var a=n.container(),i=Bt(kt(a.childNodes),e).map(function(u){return u<n.offset()?he(a,n.offset()-1):n}).getOr(n);return Vf(e),i},hD=function(e,n){return I0(e)&&n.container()===e?gS(e,n):vd(e,n)},pD=function(e,n){return n.container()===e.parentNode?gD(e,n):vd(e,n)},hS=function(e,n){return he.isTextPosition(n)?hD(e,n):pD(e,n)},Vf=function(e){vS(e)&&Pu(e)&&(Am(e)?e.removeAttribute("data-mce-caret"):N0(e)),I0(e)&&(mS(e),e.data.length===0&&N0(e))},fp=Dt().browser,bD=Gr,pS=Oi,yD=jv,wD="*[contentEditable=false],video,audio,embed,object",bS=function(e,n,a){var i=C0(n.getBoundingClientRect(),a),u,c;if(e.tagName==="BODY"){var v=e.ownerDocument.documentElement;u=e.scrollLeft||v.scrollLeft,c=e.scrollTop||v.scrollTop}else{var m=e.getBoundingClientRect();u=e.scrollLeft-m.left,c=e.scrollTop-m.top}i.left+=u,i.right+=u,i.top+=c,i.bottom+=c,i.width=1;var g=n.offsetWidth-n.clientWidth;return g>0&&(a&&(g*=-1),i.left+=g,i.right+=g),i},CD=function(e){for(var n=Bi(E.fromDom(e),wD),a=0;a<n.length;a++){var i=n[a].dom,u=i.previousSibling;if(Th(u)){var c=u.data;c.length===1?u.parentNode.removeChild(u):u.deleteData(c.length-1,1)}if(u=i.nextSibling,Eh(u)){var c=u.data;c.length===1?u.parentNode.removeChild(u):u.deleteData(0,1)}}},xD=function(e,n,a,i){var u=jl(),c,v,m=ei(e),g=m.length>0?m:"p",C=function(L,$){var G;if(T(),yD($))return null;if(a($)){v=z5(g,$,L);var q=bS(n,$,L);wn(v).css("top",q.top);var Q=wn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Vt({},q)).appendTo(n)[0];u.set({caret:Q,element:$,before:L}),L&&wn(Q).addClass("mce-visual-caret-before"),D(),G=$.ownerDocument.createRange(),G.setStart(v,0),G.setEnd(v,0)}else return v=Fb($,L),G=$.ownerDocument.createRange(),lo(v.nextSibling)?(G.setStart(v,0),G.setEnd(v,0)):(G.setStart(v,1),G.setEnd(v,1)),G;return G},T=function(){CD(n),v&&(Vf(v),v=null),u.on(function(L){wn(L.caret).remove(),u.clear()}),c&&(Lo.clearInterval(c),c=void 0)},D=function(){c=Lo.setInterval(function(){i()?wn("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):wn("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},B=function(){u.on(function(L){var $=bS(n,L.element,L.before);wn(L.caret).css(Vt({},$))})},I=function(){return Lo.clearInterval(c)},F=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:C,hide:T,getCss:F,reposition:B,destroy:I}},yS=function(){return fp.isIE()||fp.isEdge()||fp.isFirefox()},lo=function(e){return bD(e)||pS(e)},Uf=function(e){return lo(e)||Ya(e)&&yS()},L0=Gr,SD=Oi,wS=Uv("display","block table table-cell table-caption list-item"),CS=Pu,xS=ua,$0=fn,kD=mc,gl=function(e){return e>0},Wf=function(e){return e<0},Gm=function(e,n){for(var a;a=e(n);)if(!xS(a))return a;return null},jf=function(e,n,a,i,u){var c=new Tr(e,i),v=L0(e)||xS(e);if(Wf(n)){if(v&&(e=Gm(c.prev.bind(c),!0),a(e)))return e;for(;e=Gm(c.prev.bind(c),u);)if(a(e))return e}if(gl(n)){if(v&&(e=Gm(c.next.bind(c),!0),a(e)))return e;for(;e=Gm(c.next.bind(c),u);)if(a(e))return e}return null},ef=function(e,n){for(;e&&e!==n;){if(wS(e))return e;e=e.parentNode}return null},kc=function(e,n,a){return ef(e.container(),a)===ef(n.container(),a)},dd=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return $0(a)?a.childNodes[i+e]:null},H0=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},SS=function(e,n,a){return ef(n,e)===ef(a,e)},V0=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var u=a[i];if(CS(u)&&(u=u[i]),L0(u)||SD(u)){if(SS(n,u,a))return u;break}if(kD(u))break;a=a.parentNode}return null},md=nt(H0,!0),gd=nt(H0,!1),vp=function(e,n,a){var i,u=nt(V0,!0,n),c=nt(V0,!1,n),v=a.startContainer,m=a.startOffset;if(ua(v)){$0(v)||(v=v.parentNode);var g=v.getAttribute("data-mce-caret");if(g==="before"&&(i=v.nextSibling,Uf(i)))return md(i);if(g==="after"&&(i=v.previousSibling,Uf(i)))return gd(i)}if(!a.collapsed)return a;if(Ct(v)){if(CS(v)){if(e===1){if(i=c(v),i)return md(i);if(i=u(v),i)return gd(i)}if(e===-1){if(i=u(v),i)return gd(i);if(i=c(v),i)return md(i)}return a}if(Th(v)&&m>=v.data.length-1)return e===1&&(i=c(v),i)?md(i):a;if(Eh(v)&&m<=1)return e===-1&&(i=u(v),i)?gd(i):a;if(m===v.data.length)return i=c(v),i?md(i):a;if(m===0)return i=u(v),i?gd(i):a}return a},U0=function(e,n){return U.from(dd(e?0:-1,n)).filter(L0)},hd=function(e,n,a){var i=vp(e,n,a);return e===-1?he.fromRangeStart(i):he.fromRangeEnd(i)},Km=function(e){return U.from(e.getNode()).map(E.fromDom)},kS=function(e){return U.from(e.getNode(!0)).map(E.fromDom)},W0=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},dp=function(e,n){var a=kc(e,n);return!a&&Sr(e.getNode())?!0:a},To;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(To||(To={}));var AD=Gr,Ac=Ct,AS=fn,j0=Sr,pd=mc,ES=L5,mp=Ha,TS=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},q0=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},OS=function(e,n){if(gl(e)){if(pd(n.previousSibling)&&!Ac(n.previousSibling))return he.before(n);if(Ac(n))return he(n,0)}if(Wf(e)){if(pd(n.nextSibling)&&!Ac(n.nextSibling))return he.after(n);if(Ac(n))return he(n,n.data.length)}return Wf(e)?j0(n)?he.before(n):he.after(n):he.before(n)},ED=function(e,n){var a=n.nextSibling;return a&&pd(a)?Ac(a)?he(a,0):he.before(a):G0(To.Forwards,he.after(n),e)},G0=function(e,n,a){var i,u,c,v;if(!AS(a)||!n)return null;if(n.isEqual(he.after(a))&&a.lastChild){if(v=he.after(a.lastChild),Wf(e)&&pd(a.lastChild)&&AS(a.lastChild))return j0(a.lastChild)?he.before(a.lastChild):v}else v=n;var m=v.container(),g=v.offset();if(Ac(m)){if(Wf(e)&&g>0)return he(m,--g);if(gl(e)&&g<m.length)return he(m,++g);i=m}else{if(Wf(e)&&g>0&&(u=q0(m,g-1),pd(u)))return!ES(u)&&(c=jf(u,e,mp,u),c)?Ac(c)?he(c,c.data.length):he.after(c):Ac(u)?he(u,u.data.length):he.before(u);if(gl(e)&&g<m.childNodes.length&&(u=q0(m,g),pd(u)))return j0(u)?ED(a,u):!ES(u)&&(c=jf(u,e,mp,u),c)?Ac(c)?he(c,0):he.before(c):Ac(u)?he(u,0):he.after(u);i=u||v.getNode()}if((gl(e)&&v.isAtEnd()||Wf(e)&&v.isAtStart())&&(i=jf(i,e,Ht,a,!0),mp(i,a)))return OS(e,i);u=jf(i,e,mp,a);var C=xi(bt(TS(m,a),AD));return C&&(!u||!C.contains(u))?(gl(e)?v=he.after(C):v=he.before(C),v):u?OS(e,u):null},Hs=function(e){return{next:function(n){return G0(To.Forwards,n,e)},prev:function(n){return G0(To.Backwards,n,e)}}},TD=function(e,n,a){var i=e?he.before(a):he.after(a);return Uo(e,n,i)},hi=function(e){return Sr(e)?he.before(e):he.after(e)},Xm=function(e){return he.isTextPosition(e)?e.offset()===0:mc(e.getNode())},Ym=function(e){if(he.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return mc(e.getNode(!0))},K0=function(e,n){return!he.isTextPosition(e)&&!he.isTextPosition(n)&&e.getNode()===n.getNode(!0)},OD=function(e){return!he.isTextPosition(e)&&Sr(e.getNode())},DS=function(e,n,a){return e?!K0(n,a)&&!OD(n)&&Ym(n)&&Xm(a):!K0(a,n)&&Xm(n)&&Ym(a)},Uo=function(e,n,a){var i=Hs(n);return U.from(e?i.next(a):i.prev(a))},Zm=function(e,n,a){return Uo(e,n,a).bind(function(i){return kc(a,i,n)&&DS(e,a,i)?Uo(e,n,i):U.some(i)})},X0=function(e,n,a,i){return Zm(e,n,a).bind(function(u){return i(u)?X0(e,n,u,i):U.some(u)})},cs=function(e,n){var a=e?n.firstChild:n.lastChild;return Ct(a)?U.some(he(a,e?0:a.data.length)):a?mc(a)?U.some(e?he.before(a):hi(a)):TD(e,n,a):U.none()},ls=nt(Uo,!0),fs=nt(Uo,!1),Ri=nt(cs,!0),Vs=nt(cs,!1),Y0="_mce_caret",Us=function(e){return fn(e)&&e.id===Y0},tf=function(e,n){for(;n&&n!==e;){if(n.id===Y0)return n;n=n.parentNode}return null},DD=function(e){return bn(e.start)},_D=function(e){return Sn(e,"rng")},_S=function(e){return Sn(e,"id")},BS=function(e){return Sn(e,"name")},zS=function(e){return Ce.isArray(e.start)},MS=function(e,n){return fn(n)&&e.isBlock(n)&&!n.innerHTML&&!Lt.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},BD=function(e,n){var a,i=e.createRng();return a=Gx(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=Gx(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},zD=function(e,n){var a=e.ownerDocument.createTextNode(ae);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},RS=function(e){return e.hasChildNodes()===!1},MD=function(e,n){return Vs(e).fold(yt,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},Z0=function(e,n,a){return RS(n)&&tf(e,n)?(zD(n,a),!0):!1},PS=function(e,n,a,i){var u=a[n?"start":"end"],c,v,m,g,C=e.getRoot();if(u){for(m=u[0],v=C,c=u.length-1;c>=1;c--){if(g=v.childNodes,Z0(C,v,i))return!0;if(u[c]>g.length-1)return Z0(C,v,i)?!0:MD(v,i);v=g[u[c]]}v.nodeType===3&&(m=Math.min(u[0],v.nodeValue.length)),v.nodeType===1&&(m=Math.min(u[0],v.childNodes.length)),n?i.setStart(v,m):i.setEnd(v,m)}return!0},J0=function(e){return Ct(e)&&e.data.length>0},FS=function(e,n,a){var i=e.get(a.id+"_"+n),u,c,v,m,g=a.keep,C,T;if(i){if(u=i.parentNode,n==="start"?(g?i.hasChildNodes()?(u=i.firstChild,c=1):J0(i.nextSibling)?(u=i.nextSibling,c=0):J0(i.previousSibling)?(u=i.previousSibling,c=i.previousSibling.data.length):(u=i.parentNode,c=e.nodeIndex(i)+1):c=e.nodeIndex(i),C=u,T=c):(g?i.hasChildNodes()?(u=i.firstChild,c=1):J0(i.previousSibling)?(u=i.previousSibling,c=i.previousSibling.data.length):(u=i.parentNode,c=e.nodeIndex(i)):c=e.nodeIndex(i),C=u,T=c),!g){for(m=i.previousSibling,v=i.nextSibling,Ce.each(Ce.grep(i.childNodes),function(D){Ct(D)&&(D.nodeValue=D.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);m&&v&&m.nodeType===v.nodeType&&Ct(m)&&!Lt.opera&&(c=m.nodeValue.length,m.appendData(v.nodeValue),e.remove(v),C=m,T=c)}return U.some(he(C,T))}else return U.none()},RD=function(e,n){var a=e.createRng();return PS(e,!0,n,a)&&PS(e,!1,n,a)?U.some(a):U.none()},PD=function(e,n){var a=FS(e,"start",n),i=FS(e,"end",n);return Yo(a,i.or(a),function(u,c){var v=e.createRng();return v.setStart(MS(e,u.container()),u.offset()),v.setEnd(MS(e,c.container()),c.offset()),v})},FD=function(e,n){return U.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},jn=function(e,n){var a=e.dom;if(n){if(zS(n))return RD(a,n);if(DD(n))return U.some(BD(a,n));if(_S(n))return PD(a,n);if(BS(n))return FD(a,n);if(_D(n))return U.some(n.rng)}return U.none()},qf=function(e,n,a){return BO(e,n,a)},bd=function(e,n){jn(e,n).each(function(a){e.setRng(a)})},qi=function(e){return fn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},ID=function(e){return function(n){return e===n}},Gf=ID(Ui),yd=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},Jm=function(e){return!yd(e)&&!Gf(e)},wd=function(e){return!!e.nodeType},IS=function(e){return e&&/^(IMG)$/.test(e.nodeName)},NS=function(e,n,a){var i=a.startOffset,u=a.startContainer;if(!(u===a.endContainer&&IS(u.childNodes[i]))&&fn(u)){var c=u.childNodes,v=void 0;i<c.length?(u=c[i],v=new Tr(u,e.getParent(u,e.isBlock))):(u=c[c.length-1],v=new Tr(u,e.getParent(u,e.isBlock)),v.next(!0));for(var m=v.current();m;m=v.next())if(Ct(m)&&!ty(m)){a.setStart(m,0),n.setRng(a);return}}},Q0=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(fn(e)||!ty(e))return e}},ey=function(e,n){return wd(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},Cd=function(e,n,a){return e.schema.isValidChild(n,a)},ty=function(e,n){if(n===void 0&&(n=!1),an(e)&&Ct(e)){var a=n?e.data.replace(/ /g,"\xA0"):e.data;return Ps(a)}else return!1},ND=function(e){return an(e)&&Ct(e)&&e.length===0},Ec=function(e,n){return Fe(e)?e=e(n):an(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},ny=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},gp=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},hp=function(e,n,a){return gp(e,e.getStyle(n,a),a)},LS=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Qm=function(e,n,a){return e.getParents(n,a,e.getRoot())},LD=function(e,n){var a=function(i){var u=function(c){return c.length>1&&c.charAt(0)==="%"};return yn(["styles","attributes"],function(c){return $n(i,c).exists(function(v){var m=$t(v)?v:ho(v);return yn(m,u)})})};return yn(e.formatter.get(n),a)},$D=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],u=function(c){return Bn(c,function(v,m){return yn(i,function(g){return g===m})})};return yn(e.formatter.get(n),function(c){var v=u(c);return yn(e.formatter.get(a),function(m){var g=u(m);return qo(v,g)})})},Tc=function(e){return Ur(e,"block")},pu=function(e){return Ur(e,"selector")},Oo=function(e){return Ur(e,"inline")},HD=function(e){return pu(e)&&Oo(e)&&Af($n(e,"mixed"),!0)},ry=function(e){return pu(e)&&e.expand!==!1&&!Oo(e)},xd=qi,$S=Qm,HS=ty,VD=ey,UD=function(e){return Sr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},VS=function(e,n){for(var a=n;a;){if(fn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},US=function(e,n,a,i){for(var u=n.data,c=a;e?c>=0:c<u.length;e?c--:c++)if(i(u.charAt(c)))return e?c+1:c;return-1},it=function(e,n,a){return US(e,n,a,function(i){return Gf(i)||yd(i)})},Ja=function(e,n,a){return US(e,n,a,Jm)},eg=function(e,n,a,i,u,c){var v,m=e.getParent(a,e.isBlock)||n,g=function(T,D,B){var I=Jh(e),F=u?I.backwards:I.forwards;return U.from(F(T,D,function(L,$){return xd(L.parentNode)?-1:(v=L,B(u,L,$))},m))},C=g(a,i,it);return C.bind(function(T){return c?g(T.container,T.offset+(u?-1:0),Ja):U.some(T)}).orThunk(function(){return v?U.some({container:v,offset:u?0:v.length}):U.none()})},Qa=function(e,n,a,i,u){Ct(i)&&Eu(i.data)&&i[u]&&(i=i[u]);for(var c=$S(e,i),v=0;v<c.length;v++)for(var m=0;m<n.length;m++){var g=n[m];if(!(an(g.collapsed)&&g.collapsed!==a.collapsed)&&pu(g)&&e.is(c[v],g.selector))return c[v]}return i},Vu=function(e,n,a,i){var u=a,c=e.dom,v=c.getRoot(),m=n[0];if(Tc(m)&&(u=m.wrapper?null:c.getParent(a,m.block,v)),!u){var g=c.getParent(a,"LI,TD,TH");u=c.getParent(Ct(a)?a.parentNode:a,function(C){return C!==v&&VD(e,C)},g)}if(u&&Tc(m)&&m.wrapper&&(u=$S(c,u,"ul,ol").reverse()[0]||u),!u)for(u=a;u[i]&&!c.isBlock(u[i])&&(u=u[i],!ny(u,"br")););return u||a},ay=function(e,n,a,i){var u=a.parentNode;return an(a[i])?!1:u===n||rn(u)||e.isBlock(u)?!0:ay(e,n,u,i)},Kf=function(e,n,a,i,u){var c=a,v=u?"previousSibling":"nextSibling",m=e.getRoot();if(Ct(a)&&!HS(a)&&(u?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(c))return c;for(var g=c[v];g;g=g[v]){var C=Ct(g)&&!ay(e,m,g,v);if(!xd(g)&&!UD(g)&&!HS(g,C))return c}if(c===m||c.parentNode===m){a=c;break}c=c.parentNode}return a},pp=function(e){return xd(e.parentNode)||xd(e)},Sd=function(e,n,a,i){i===void 0&&(i=!1);var u=n.startContainer,c=n.startOffset,v=n.endContainer,m=n.endOffset,g=e.dom,C=a[0];if(fn(u)&&u.hasChildNodes()&&(u=Jl(u,c),Ct(u)&&(c=0)),fn(v)&&v.hasChildNodes()&&(v=Jl(v,n.collapsed?m:m-1),Ct(v)&&(m=v.nodeValue.length)),u=VS(g,u),v=VS(g,v),pp(u)&&(u=xd(u)?u:u.parentNode,n.collapsed?u=u.previousSibling||u:u=u.nextSibling||u,Ct(u)&&(c=n.collapsed?u.length:0)),pp(v)&&(v=xd(v)?v:v.parentNode,n.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Ct(v)&&(m=n.collapsed?0:v.length)),n.collapsed){var T=eg(g,e.getBody(),u,c,!0,i);T.each(function(B){var I=B.container,F=B.offset;u=I,c=F});var D=eg(g,e.getBody(),v,m,!1,i);D.each(function(B){var I=B.container,F=B.offset;v=I,m=F})}return(Oo(C)||C.block_expand)&&((!Oo(C)||!Ct(u)||c===0)&&(u=Kf(g,a,u,c,!0)),(!Oo(C)||!Ct(v)||m===v.nodeValue.length)&&(v=Kf(g,a,v,m,!1))),ry(C)&&(u=Qa(g,a,n,u,"previousSibling"),v=Qa(g,a,n,v,"nextSibling")),(Tc(C)||pu(C))&&(u=Vu(e,a,u,"previousSibling"),v=Vu(e,a,v,"nextSibling"),Tc(C)&&(g.isBlock(u)||(u=Kf(g,a,u,c,!0)),g.isBlock(v)||(v=Kf(g,a,v,m,!1)))),fn(u)&&(c=g.nodeIndex(u),u=u.parentNode),fn(v)&&(m=g.nodeIndex(v)+1,v=v.parentNode),{startContainer:u,startOffset:c,endContainer:v,endOffset:m}},tg=function(e,n,a){var i=n.startOffset,u=Jl(n.startContainer,i),c=n.endOffset,v=Jl(n.endContainer,c-1),m=function(L){var $=L[0];Ct($)&&$===u&&i>=$.data.length&&L.splice(0,1);var G=L[L.length-1];return c===0&&L.length>0&&G===v&&Ct(G)&&L.splice(L.length-1,1),L},g=function(L,$,G){for(var q=[];L&&L!==G;L=L[$])q.push(L);return q},C=function(L,$){return e.getParent(L,function(G){return G.parentNode===$},$)},T=function(L,$,G){for(var q=G?"nextSibling":"previousSibling",Q=L,ie=Q.parentNode;Q&&Q!==$;Q=ie){ie=Q.parentNode;var Y=g(Q===L?Q:Q[q],q);Y.length&&(G||Y.reverse(),a(m(Y)))}};if(u===v)return a(m([u]));var D=e.findCommonAncestor(u,v);if(e.isChildOf(u,v))return T(u,D,!0);if(e.isChildOf(v,u))return T(v,D);var B=C(u,D)||u,I=C(v,D)||v;T(u,B,!0);var F=g(B===u?B:B.nextSibling,"nextSibling",I===v?I.nextSibling:I);F.length&&a(m(F)),T(v,I)},bp=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},WD=function(e){return za(e,function(n){var a=Qh(n);return a?[E.fromDom(a)]:[]})},jD=function(e){return bp(e).length>1},qD=function(e){return bt(WD(e),Rs)},WS=function(e){return Bi(e,"td[data-mce-selected],th[data-mce-selected]")},jS=function(e,n){var a=WS(n);return a.length>0?a:qD(e)},Xf=function(e){return jS(bp(e.selection.getSel()),E.fromDom(e.getBody()))},nf=function(e,n){return Ef(e,"table",n)},yp=function(e){var n=e.startContainer,a=e.startOffset;return Ct(n)?a===0?U.some(E.fromDom(n)):U.none():U.from(n.childNodes[a]).map(E.fromDom)},oy=function(e){var n=e.endContainer,a=e.endOffset;return Ct(n)?a===n.data.length?U.some(E.fromDom(n)):U.none():U.from(n.childNodes[a-1]).map(E.fromDom)},ng=function(e){return $a(e).fold(Ge([e]),function(n){return[e].concat(ng(n))})},rg=function(e){return iu(e).fold(Ge([e]),function(n){return Pr(n)==="br"?Gc(n).map(function(a){return[e].concat(rg(a))}).getOr([]):[e].concat(rg(n))})},iy=function(e,n){return Yo(yp(n),oy(n),function(a,i){var u=hr(ng(e),nt(tn,a)),c=hr(rg(e),nt(tn,i));return u.isSome()&&c.isSome()}).getOr(!1)},kd=function(e,n,a,i){var u=a,c=new Tr(a,u),v=Bn(e.schema.getMoveCaretBeforeOnEnterElements(),function(m,g){return!dt(["td","th","table"],g.toLowerCase())});do{if(Ct(a)&&Ce.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(v[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?c.next():c.prev());u.nodeName==="BODY"&&(i?n.setStart(u,0):n.setEnd(u,u.childNodes.length))},Yf=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},uy=function(e,n){var a=Xf(e);a.length>0?Ne(a,function(i){var u=i.dom,c=e.dom.createRng();c.setStartBefore(u),c.setEndAfter(u),n(c,!0)}):n(e.selection.getRng(),!1)},sy=function(e,n,a){var i=Vm(e,n);a(i),e.moveToBookmark(i)},GD=function(e,n){var a=function(c){if(!e(c))throw new Error("Can only get "+n+" value of a "+n+" node");return i(c).getOr("")},i=function(c){return e(c)?U.from(c.dom.nodeValue):U.none()},u=function(c,v){if(!e(c))throw new Error("Can only set raw "+n+" value of a "+n+" node");c.dom.nodeValue=v};return{get:a,getOption:i,set:u}},KD=GD(Sa,"text"),wp=function(e){return KD.get(e)},qS=function(e){return Sa(e)&&wp(e)===ae},XD=function(e,n,a,i){return ba(n).fold(function(){return"skipping"},function(u){return i==="br"||qS(n)?"valid":ko(n)?"existing":Us(n.dom)?"caret":!Cd(e,a,i)||!Cd(e,Pr(u),a)?"invalid-child":"valid"})},Cp=function(e,n){var a=Sd(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},Do=function(e,n,a,i){var u=n.uid,c=u===void 0?Zh("mce-annotation"):u,v=jc(n,["uid"]),m=E.fromTag("span",e);sd(m,Xh()),w(m,""+zi(),c),w(m,""+xc(),a);var g=i(c,v),C=g.attributes,T=C===void 0?{}:C,D=g.classes,B=D===void 0?[]:D;return O(m,T),zx(m,B),m},vs=function(e,n,a,i,u){var c=[],v=Do(e.getDoc(),u,a,i),m=jl(),g=function(){m.clear()},C=function(){return m.get().getOrThunk(function(){var I=co(v);return c.push(I),m.set(I),I})},T=function(I){Ne(I,D)},D=function(I){var F=XD(e,I,"span",Pr(I));switch(F){case"invalid-child":{g();var L=ui(I);T(L),g();break}case"valid":{var $=C();Iv(I,$);break}}},B=function(I){var F=Yt(I,E.fromDom);T(F)};return tg(e.dom,n,function(I){g(),B(I)}),c},Ws=function(e,n,a,i){e.undoManager.transact(function(){var u=e.selection,c=u.getRng(),v=Xf(e).length>0;if(c.collapsed&&!v&&Cp(e,c),u.getRng().collapsed&&!v){var m=Do(e.getDoc(),i,n,a.decorate);Ao(m,Ui),u.getRng().insertNode(m.dom),u.select(m.dom)}else sy(u,!1,function(){uy(e,function(g){vs(e,g,n,a.decorate,i)})})})},ag=function(e){var n=Bx();_x(e,n);var a=Dx(e);return{register:function(i,u){n.register(i,u)},annotate:function(i,u){n.lookup(i).each(function(c){Ws(e,i,c,u)})},annotationChanged:function(i,u){a.addListener(i,u)},remove:function(i){Ox(e,U.some(i)).each(function(u){var c=u.elements;Ne(c,Lv)})},getAll:function(i){var u=Gl(e,i);return ja(u,function(c){return Yt(c,function(v){return v.dom})})}}},Zf=function(e){return{getBookmark:nt(qf,e),moveToBookmark:nt(bd,e)}};Zf.isBookmarkNode=qi;var Ad=function(e,n){for(;n&&n!==e;){if(as(n)||Gr(n))return n;n=n.parentNode}return null},og=function(e,n,a){if(a.collapsed)return!1;if(Lt.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(fn(i))return yn(i.getClientRects(),function(u){return Rx(u,e,n)})}return yn(a.getClientRects(),function(u){return Rx(u,e,n)})},YD=function(e,n){return e.fire("PreProcess",n)},cy=function(e,n){return e.fire("PostProcess",n)},ZD=function(e){return e.fire("remove")},ly=function(e){return e.fire("detach")},GS=function(e,n){return e.fire("SwitchMode",{mode:n})},KS=function(e,n,a,i,u){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:u})},fy=function(e,n,a,i,u){e.fire("ObjectResized",{target:n,width:a,height:i,origin:u})},vy=function(e){return e.fire("PreInit")},kr=function(e){return e.fire("PostRender")},Oc=function(e){return e.fire("Init")},XS=function(e,n){return e.fire("PlaceholderToggle",{state:n})},dy=function(e,n,a){return e.fire(n,a)},my=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},ig=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},Xt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Xt.metaKeyPressed(e)},metaKeyPressed:function(e){return Lt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},gy=Gr,YS=function(e,n){var a="data-mce-selected",i=n.dom,u=Ce.each,c,v,m,g,C,T,D,B,I,F,L,$,G,q,Q,ie=n.getDoc(),Y=document,se=Math.abs,pe=Math.round,Re=n.getBody(),Pt,vt,De={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Qt=function(ve){return ve&&(ve.nodeName==="IMG"||n.dom.is(ve,"figure.image"))},Le=function(ve){return Oi(ve)||i.hasClass(ve,"mce-preview-object")},ft=function(ve,St){if(ve.type==="longpress"||ve.type.indexOf("touch")===0){var Ze=ve.touches[0];return Qt(ve.target)&&!og(Ze.clientX,Ze.clientY,St)}else return Qt(ve.target)&&!og(ve.clientX,ve.clientY,St)},Ie=function(ve){var St=ve.target;ft(ve,n.selection.getRng())&&!ve.isDefaultPrevented()&&n.selection.select(St)},Qe=function(ve){return i.is(ve,"figure.image")?[ve.querySelector("img")]:i.hasClass(ve,"mce-preview-object")&&an(ve.firstElementChild)?[ve,ve.firstElementChild]:[ve]},ht=function(ve){var St=M0(n);return!St||ve.getAttribute("data-mce-resize")==="false"||ve===n.getBody()?!1:i.hasClass(ve,"mce-preview-object")?ct(E.fromDom(ve.firstElementChild),St):ct(E.fromDom(ve),St)},Be=function(ve){return Le(ve)?i.create("img",{src:Lt.transparentSrc}):ve.cloneNode(!0)},pt=function(ve,St,Ze){if(an(Ze)){var Kt=Qe(ve);Ne(Kt,function(Mn){Mn.style[St]||!n.schema.isValid(Mn.nodeName.toLowerCase(),St)?i.setStyle(Mn,St,Ze):i.setAttrib(Mn,St,""+Ze)})}},gn=function(ve,St,Ze){pt(ve,"width",St),pt(ve,"height",Ze)},mr=function(ve){var St,Ze,Kt,Mn,$r;St=ve.screenX-T,Ze=ve.screenY-D,q=St*g[2]+F,Q=Ze*g[3]+L,q=q<5?5:q,Q=Q<5?5:Q,(Qt(c)||Le(c))&&XO(n)!==!1?Kt=!Xt.modifierPressed(ve):Kt=Xt.modifierPressed(ve),Kt&&(se(St)>se(Ze)?(Q=pe(q*$),q=pe(Q/$)):(q=pe(Q/$),Q=pe(q*$))),gn(v,q,Q),Mn=g.startPos.x+St,$r=g.startPos.y+Ze,Mn=Mn>0?Mn:0,$r=$r>0?$r:0,i.setStyles(m,{left:Mn,top:$r,display:"block"}),m.innerHTML=q+" &times; "+Q,g[2]<0&&v.clientWidth<=q&&i.setStyle(v,"left",B+(F-q)),g[3]<0&&v.clientHeight<=Q&&i.setStyle(v,"top",I+(L-Q)),St=Re.scrollWidth-Pt,Ze=Re.scrollHeight-vt,St+Ze!==0&&i.setStyles(m,{left:Mn-St,top:$r-Ze}),G||(KS(n,c,F,L,"corner-"+g.name),G=!0)},Un=function(){var ve=G;G=!1,ve&&(pt(c,"width",q),pt(c,"height",Q)),i.unbind(ie,"mousemove",mr),i.unbind(ie,"mouseup",Un),Y!==ie&&(i.unbind(Y,"mousemove",mr),i.unbind(Y,"mouseup",Un)),i.remove(v),i.remove(m),i.remove(C),wa(c),ve&&(fy(n,c,q,Q,"corner-"+g.name),i.setAttrib(c,"style",i.getAttrib(c,"style"))),n.nodeChanged()},wa=function(ve){ze();var St=i.getPos(ve,Re),Ze=St.x,Kt=St.y,Mn=ve.getBoundingClientRect(),$r=Mn.width||Mn.right-Mn.left,ni=Mn.height||Mn.bottom-Mn.top;c!==ve&&(fa(),c=ve,q=Q=0);var Ci=n.fire("ObjectSelected",{target:ve}),Gu=i.getAttrib(c,a,"1");ht(ve)&&!Ci.isDefaultPrevented()?u(De,function(ri,ai){var Na,Ol=function(mo){var Ku=Qe(c)[0];T=mo.screenX,D=mo.screenY,F=Ku.clientWidth,L=Ku.clientHeight,$=L/F,g=ri,g.name=ai,g.startPos={x:$r*ri[0]+Ze,y:ni*ri[1]+Kt},Pt=Re.scrollWidth,vt=Re.scrollHeight,C=i.add(Re,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(C,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),v=Be(c),i.addClass(v,"mce-clonedresizable"),i.setAttrib(v,"data-mce-bogus","all"),v.contentEditable="false",i.setStyles(v,{left:Ze,top:Kt,margin:0}),gn(v,$r,ni),v.removeAttribute(a),Re.appendChild(v),i.bind(ie,"mousemove",mr),i.bind(ie,"mouseup",Un),Y!==ie&&(i.bind(Y,"mousemove",mr),i.bind(Y,"mouseup",Un)),m=i.add(Re,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},F+" &times; "+L)};Na=i.get("mceResizeHandle"+ai),Na&&i.remove(Na),Na=i.add(Re,"div",{id:"mceResizeHandle"+ai,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ai+"-resize; margin:0; padding:0"}),Lt.ie===11&&(Na.contentEditable=!1),i.bind(Na,"mousedown",function(mo){mo.stopImmediatePropagation(),mo.preventDefault(),Ol(mo)}),ri.elm=Na,i.setStyles(Na,{left:$r*ri[0]+Ze-Na.offsetWidth/2,top:ni*ri[1]+Kt-Na.offsetHeight/2})}):fa(),i.getAttrib(c,a)||c.setAttribute(a,Gu)},fa=function(){ze(),c&&c.removeAttribute(a),or(De,function(ve,St){var Ze=i.get("mceResizeHandle"+St);Ze&&(i.unbind(Ze),i.remove(Ze))})},Pi=function(ve){var St,Ze,Kt=function(Mn,$r){if(Mn)do if(Mn===$r)return!0;while(Mn=Mn.parentNode)};if(!(G||n.removed)){if(u(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(Mn){Mn.removeAttribute(a)}),Ze=ve.type==="mousedown"?ve.target:e.getNode(),Ze=i.$(Ze).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Kt(Ze,Re)&&(le(),St=e.getStart(!0),Kt(St,Ze)&&Kt(e.getEnd(!0),Ze))){wa(Ze);return}fa()}},Qi=function(ve){return gy(Ad(n.getBody(),ve))},ze=function(){or(De,function(ve){ve.elm&&(i.unbind(ve.elm),delete ve.elm)})},le=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(ve){}};n.on("init",function(){if(le(),Lt.browser.isIE()||Lt.browser.isEdge()){n.on("mousedown click",function(Ze){var Kt=Ze.target,Mn=Kt.nodeName;!G&&/^(TABLE|IMG|HR)$/.test(Mn)&&!Qi(Kt)&&(Ze.button!==2&&n.selection.select(Kt,Mn==="TABLE"),Ze.type==="mousedown"&&n.nodeChanged())});var ve=function(Ze){var Kt=function(Mn){Lo.setEditorTimeout(n,function(){return n.selection.select(Mn)})};if(Qi(Ze.target)||Oi(Ze.target)){Ze.preventDefault(),Kt(Ze.target);return}/^(TABLE|IMG|HR)$/.test(Ze.target.nodeName)&&(Ze.preventDefault(),Ze.target.tagName==="IMG"&&Kt(Ze.target))};i.bind(Re,"mscontrolselect",ve),n.on("remove",function(){return i.unbind(Re,"mscontrolselect",ve)})}var St=Lo.throttle(function(Ze){n.composing||Pi(Ze)});n.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",St),n.on("keyup compositionend",function(Ze){c&&c.nodeName==="TABLE"&&St(Ze)}),n.on("hide blur",fa),n.on("contextmenu longpress",Ie,!0)}),n.on("remove",ze);var Me=function(){c=v=C=null};return{isResizable:ht,showResizeRect:wa,hideResizeRect:fa,updateResizeRect:Pi,destroy:Me}},JD=function(e){return as(e)||Gr(e)},ZS=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},QD=function(e,n,a){var i,u=a.elementFromPoint(e,n),c=a.body.createTextRange();if((!u||u.tagName==="HTML")&&(u=a.body),c.moveToElementText(u),i=Ce.toArray(c.getClientRects()),i=i.sort(function(v,m){return v=Math.abs(Math.max(v.top-n,v.bottom-n)),m=Math.abs(Math.max(m.top-n,m.bottom-n)),v-m}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return c.moveToPoint(e,n),c.collapse(!0),c}catch(v){}}return null},hy=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return Gr(ZS(a,n,JD))?null:e},py=function(e,n,a){var i,u,c=a;if(c.caretPositionFromPoint)u=c.caretPositionFromPoint(e,n),u&&(i=a.createRange(),i.setStart(u.offsetNode,u.offset),i.collapse(!0));else if(c.caretRangeFromPoint)i=c.caretRangeFromPoint(e,n);else if(c.body.createTextRange){i=c.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch(v){i=QD(e,n,a)}return hy(i,a.body)}return i},xp=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},e_=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},JS=function(e,n,a){return e_(e,n,a)!==null},t_=function(e,n,a){return JS(e,n,function(i){return i.nodeName===a})},Gi=function(e){return e&&e.nodeName==="TABLE"},pi=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Ed=function(e,n){return Pu(e)&&JS(e,n,Us)===!1},QS=function(e,n,a){for(var i=new Tr(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(Sr(n))return!0},n_=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},r_=function(e,n){for(;n&&n!==e;){if(Gr(n))return!0;n=n.parentNode}return!1},In=function(e,n,a,i,u){var c,v=e.getRoot(),m,g=e.schema.getNonEmptyElements(),C=e.getParent(u.parentNode,e.isBlock)||v;if(i&&Sr(u)&&n&&e.isEmpty(C))return U.some(he(u.parentNode,e.nodeIndex(u)));for(var T=new Tr(u,C);m=T[i?"prev":"next"]();){if(e.getContentEditableParent(m)==="false"||Ed(m,v))return U.none();if(Ct(m)&&m.nodeValue.length>0)return t_(m,v,"A")===!1?U.some(he(m,i?m.nodeValue.length:0)):U.none();if(e.isBlock(m)||g[m.nodeName.toLowerCase()])return U.none();c=m}return a&&c?U.some(he(c,0)):U.none()},ek=function(e,n,a,i){var u,c,v=e.getRoot(),m,g,C=!1;u=i[(a?"start":"end")+"Container"],c=i[(a?"start":"end")+"Offset"];var T=fn(u)&&c===u.childNodes.length,D=e.schema.getNonEmptyElements();if(g=a,Pu(u))return U.none();if(fn(u)&&c>u.childNodes.length-1&&(g=!1),bm(u)&&(u=v,c=0),u===v){if(g&&(m=u.childNodes[c>0?c-1:0],m&&(Pu(m)||D[m.nodeName]||Gi(m))))return U.none();if(u.hasChildNodes()){if(c=Math.min(!g&&c>0?c-1:c,u.childNodes.length-1),u=u.childNodes[c],c=Ct(u)&&T?u.data.length:0,!n&&u===v.lastChild&&Gi(u)||r_(v,u)||Pu(u))return U.none();if(u.hasChildNodes()&&Gi(u)===!1){m=u;var B=new Tr(u,v);do{if(Gr(m)||Pu(m)){C=!1;break}if(Ct(m)&&m.nodeValue.length>0){c=g?0:m.nodeValue.length,u=m,C=!0;break}if(D[m.nodeName.toLowerCase()]&&!pi(m)){c=e.nodeIndex(m),u=m.parentNode,g||c++,C=!0;break}}while(m=g?B.next():B.prev())}}}return n&&(Ct(u)&&c===0&&In(e,T,n,!0,u).each(function(I){u=I.container(),c=I.offset(),C=!0}),fn(u)&&(m=u.childNodes[c],m||(m=u.childNodes[c-1]),m&&Sr(m)&&!n_(m,"A")&&!QS(e,m,!1)&&!QS(e,m,!0)&&In(e,T,n,!0,m).each(function(I){u=I.container(),c=I.offset(),C=!0}))),g&&!n&&Ct(u)&&c===u.nodeValue.length&&In(e,T,n,!1,u).each(function(I){u=I.container(),c=I.offset(),C=!0}),C?U.some(he(u,c)):U.none()},ug=function(e,n){var a=n.collapsed,i=n.cloneRange(),u=he.fromRangeStart(n);return ek(e,a,!0,i).each(function(c){(!a||!he.isAbove(u,c))&&i.setStart(c.container(),c.offset())}),a||ek(e,a,!1,i).each(function(c){i.setEnd(c.container(),c.offset())}),a&&i.collapse(!0),xp(n,i)?U.none():U.some(i)},Td=function(e,n){return e.splitText(n)},Sp=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,u=e.endOffset;return n===i&&Ct(n)?a>0&&a<n.nodeValue.length&&(i=Td(n,a),n=i.previousSibling,u>a?(u=u-a,n=i=Td(i,u).previousSibling,u=i.nodeValue.length,a=0):u=0):(Ct(n)&&a>0&&a<n.nodeValue.length&&(n=Td(n,a),a=0),Ct(i)&&u>0&&u<i.nodeValue.length&&(i=Td(i,u).previousSibling,u=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:u}},sg=function(e){var n=function(u,c){return tg(e,u,c)},a=Sp,i=function(u){return ug(e,u).fold(yt,function(c){return u.setStart(c.startContainer,c.startOffset),u.setEnd(c.endContainer,c.endOffset),!0})};return{walk:n,split:a,normalize:i}};sg.compareRanges=xp,sg.getCaretRangeFromPoint=py,sg.getSelectedNode=Qh,sg.getNode=Jl;var a_=function(e,n){var a=function(m,g){if(!ut(g)&&!g.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+g);var C=m.dom;Zr(C)&&(C.style[e]=g+"px")},i=function(m){var g=n(m);if(g<=0||g===null){var C=Pn(m,e);return parseFloat(C)||0}return g},u=i,c=function(m,g){return yr(g,function(C,T){var D=Pn(m,T),B=D===void 0?0:parseInt(D,10);return isNaN(B)?C:C+B},0)},v=function(m,g,C){var T=c(m,C),D=g>T?g-T:0;return D};return{set:a,get:i,getOuter:u,aggregate:c,max:v}},o_=a_("height",function(e){var n=e.dom;return Sf(e)?n.getBoundingClientRect().height:n.offsetHeight}),i_=function(e){return o_.get(e)},tk=function(e,n){var a=e.view(n);return a.fold(Ge([]),function(i){var u=e.owner(i),c=tk(e,u);return[i].concat(c)})},by=function(e,n){var a=n.owner(e);return tk(n,a)},yy=function(e){var n,a=e.dom===document?U.none():U.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(E.fromDom)},nk=function(e){return ln(e)},u_=Object.freeze({__proto__:null,view:yy,owner:nk}),s_=function(e){var n=E.fromDom(document),a=hm(n),i=by(e,u_),u=uu(e),c=er(i,function(v,m){var g=uu(m);return{left:v.left+g.left,top:v.top+g.top}},{left:0,top:0});return Qc(c.left+u.left+a.left,c.top+u.top+a.top)},wy=function(e){return Pr(e)==="textarea"},c_=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},l_=function(e,n){e.fire("AfterScrollIntoView",n)},f_=function(e,n){var a=ui(e);if(a.length===0||wy(e))return{element:e,offset:n};if(n<a.length&&!wy(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return wy(i)?{element:e,offset:n}:Pr(i)==="img"?{element:i,offset:1}:Sa(i)?{element:i,offset:wp(i).length}:{element:i,offset:ui(i).length}},It=function(e,n){var a=$v(e),i=i_(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},rk=function(e,n){var a=f_(e,n),i=E.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ae+"</span>");return Bu(a.element,i),It(i,function(){return ka(i)})},v_=function(e){return It(E.fromDom(e),Ve)},ak=function(e,n,a,i){m_(e,function(u,c){return d_(e,n,a,i)},a)},Od=function(e,n,a,i,u){var c={elm:i.element.dom,alignToTop:u};if(!c_(e,c)){var v=hm(n).top;a(n,v,i,u),l_(e,c)}},d_=function(e,n,a,i){var u=E.fromDom(e.getBody()),c=E.fromDom(e.getDoc());w5(u);var v=rk(E.fromDom(a.startContainer),a.startOffset);Od(e,c,n,v,i),v.cleanup()},ok=function(e,n,a,i){var u=E.fromDom(e.getDoc());Od(e,u,a,v_(n),i)},m_=function(e,n,a){var i=a.startContainer,u=a.startOffset,c=a.endContainer,v=a.endOffset;n(E.fromDom(i),E.fromDom(c));var m=e.dom.createRng();m.setStart(i,u),m.setEnd(c,v),e.selection.setRng(a)},Cy=function(e,n,a,i){var u=e.pos;if(a)su(u.left,u.top,i);else{var c=u.top-n+e.height;su(u.left,c,i)}},kp=function(e,n,a,i,u){var c=a+n,v=i.pos.top,m=i.bottom,g=m-v>=a;if(v<n)Cy(i,a,u!==!1,e);else if(v>c){var C=g?u!==!1:u===!0;Cy(i,a,C,e)}else m>c&&!g&&Cy(i,a,u===!0,e)},ik=function(e,n,a,i){var u=e.dom.defaultView.innerHeight;kp(e,n,u,a,i)},uk=function(e,n,a,i){var u=e.dom.defaultView.innerHeight;kp(e,n,u,a,i);var c=s_(a.element),v=kf(window);c.top<v.y?Hv(a.element,i!==!1):c.top>v.bottom&&Hv(a.element,i===!0)},sk=function(e,n,a){return ak(e,ik,n,a)},ck=function(e,n,a){return ok(e,n,ik,a)},lk=function(e,n,a){return ak(e,uk,n,a)},g_=function(e,n,a){return ok(e,n,uk,a)},h_=function(e,n,a){var i=e.inline?ck:g_;i(e,n,a)},Dd=function(e,n,a){var i=e.inline?sk:lk;i(e,n,a)},p_=function(){return E.fromDom(document)},b_=function(e){return e.dom.focus()},sr=function(e){var n=si(e).dom;return e.dom===n.activeElement},xy=function(e){return e===void 0&&(e=p_()),U.from(e.dom.activeElement).map(E.fromDom)},rf=function(e){return xy(si(e)).filter(function(n){return e.dom.contains(n.dom)})},Dc=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},Ap={create:Dc},bi=Ft.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ep=function(e,n,a,i){return e.fold(n,a,i)},cg=function(e){return e.fold(Rt,Rt,Rt)},Tp=bi.before,_d=bi.on,y_=bi.after,w_={before:Tp,on:_d,after:y_,cata:Ep,getStart:cg},Op=Ft.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),C_=function(e){return Op.exact(e.start,e.soffset,e.finish,e.foffset)},Vn=function(e){return e.match({domRange:function(n){return E.fromDom(n.startContainer)},relative:function(n,a){return w_.getStart(n)},exact:function(n,a,i,u){return n}})},js=Op.domRange,Bd=Op.relative,x_=Op.exact,lg=function(e){var n=Vn(e);return cc(n)},Xn=Ap.create,fk={domRange:js,relative:Bd,exact:x_,exactFromRange:C_,getWin:lg,range:Xn},vk=Dt().browser,fg=function(e,n){var a=Sa(n)?wp(n).length:ui(n).length+1;return e>a?a:e<0?0:e},dk=function(e){return fk.range(e.start,fg(e.soffset,e.start),e.finish,fg(e.foffset,e.finish))},vg=function(e,n){return!Vv(n.dom)&&(pr(e,n)||tn(e,n))},hl=function(e){return function(n){return vg(e,n.start)&&vg(e,n.finish)}},Sy=function(e){return e.inline===!0||vk.isIE()},mk=function(e){return fk.range(E.fromDom(e.startContainer),e.startOffset,E.fromDom(e.endContainer),e.endOffset)},S_=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?U.none():U.from(n.getRangeAt(0));return a.map(mk)},k_=function(e){var n=cc(e);return S_(n.dom).filter(hl(e))},dg=function(e,n){return U.from(n).filter(hl(e)).map(dk)},zd=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),U.some(n)}catch(a){return U.none()}},Dp=function(e){var n=Sy(e)?k_(E.fromDom(e.getBody())):U.none();e.bookmark=n.isSome()?n:e.bookmark},gk=function(e,n){var a=E.fromDom(e.getBody()),i=Sy(e)?U.from(n):U.none(),u=i.map(mk).filter(hl(a));e.bookmark=u.isSome()?u:e.bookmark},ky=function(e){var n=e.bookmark?e.bookmark:U.none();return n.bind(function(a){return dg(E.fromDom(e.getBody()),a)}).bind(zd)},A_=function(e){ky(e).each(function(n){return e.selection.setRng(n)})},E_=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},Ay={isEditorUIElement:E_},T_=function(e){return e.type==="nodechange"&&e.selectionChange},O_=function(e,n){var a=function(){n.throttle()};Lr.DOM.bind(document,"mouseup",a),e.on("remove",function(){Lr.DOM.unbind(document,"mouseup",a)})},hk=function(e){e.on("focusout",function(){Dp(e)})},Ey=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},Ty=function(e,n){var a=Dt().browser;a.isIE()?hk(e):Ey(e,n),e.on("keyup NodeChange",function(i){T_(i)||Dp(e)})},Oy=function(e){var n=Dr(function(){Dp(e)},0);e.on("init",function(){e.inline&&O_(e,n),Ty(e,n)}),e.on("remove",function(){n.cancel()})},Md,_p=Lr.DOM,pk=function(e){return Ay.isEditorUIElement(e)},Bp=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},zp=function(e,n){var a=eD(e),i=_p.getParent(n,function(u){return pk(u)||(a?e.dom.is(u,a):!1)});return i!==null},bk=function(e){try{var n=si(E.fromDom(e.getElement()));return xy(n).fold(function(){return document.body},function(a){return a.dom})}catch(a){return document.body}},D_=function(e,n){var a=n.editor;Oy(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Lo.setEditorTimeout(a,function(){var i=e.focusedEditor;!zp(a,bk(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Md||(Md=function(i){var u=e.activeEditor;u&&Xo(i).each(function(c){c.ownerDocument===document&&c!==document.body&&!zp(u,c)&&e.focusedEditor===u&&(u.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},_p.bind(document,"focusin",Md))},yk=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(_p.unbind(document,"focusin",Md),Md=null)},wk=function(e){e.on("AddEditor",nt(D_,e)),e.on("RemoveEditor",nt(yk,e))},Ck=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},xk=function(e){return e.collapsed?U.from(Jl(e.startContainer,e.startOffset)).map(E.fromDom):U.none()},Sk=function(e,n){return xk(n).bind(function(a){return vr(a)?U.some(a):pr(e,a)===!1?U.some(e):U.none()})},kk=function(e,n){Sk(E.fromDom(e.getBody()),n).bind(function(a){return Ri(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},Dy=function(e){if(e.setActive)try{e.setActive()}catch(n){e.focus()}else e.focus()},__=function(e){return sr(e)||rf(e).isSome()},B_=function(e){return e.iframeElement&&sr(E.fromDom(e.iframeElement))},z_=function(e){var n=e.getBody();return n&&__(E.fromDom(n))},M_=function(e){var n=si(E.fromDom(e.getElement()));return xy(n).filter(function(a){return!Bp(a.dom)&&zp(e,a.dom)}).isSome()},Jf=function(e){return e.inline?z_(e):B_(e)},R_=function(e){return Jf(e)||M_(e)},Mp=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Jf(e)===!1&&ky(e).each(function(c){e.selection.setRng(c),i=c});var u=Ck(e,n.getNode());if(e.$.contains(a,u)){Dy(u),kk(e,i),Rp(e);return}e.inline||(Lt.opera||Dy(a),e.getWin().focus()),(Lt.gecko||e.inline)&&(Dy(a),kk(e,i)),Rp(e)},Rp=function(e){return e.editorManager.setActive(e)},P_=function(e,n){e.removed||(n?Rp(e):Mp(e))},_y=function(e,n,a,i,u){var c=a?n.startContainer:n.endContainer,v=a?n.startOffset:n.endOffset;return U.from(c).map(E.fromDom).map(function(m){return!i||!n.collapsed?Xc(m,u(m,v)).getOr(m):m}).bind(function(m){return Yr(m)?U.some(m):ba(m).filter(Yr)}).map(function(m){return m.dom}).getOr(e)},By=function(e,n,a){return _y(e,n,!0,a,function(i,u){return Math.min(yh(i),u)})},Ak=function(e,n,a){return _y(e,n,!1,a,function(i,u){return u>0?u-1:u})},Ek=function(e,n){for(var a=e;e&&Ct(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},F_=function(e,n){var a,i,u;if(!n)return e;i=n.startContainer,u=n.endContainer;var c=n.startOffset,v=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===u&&v-c<2&&i.hasChildNodes()&&(a=i.childNodes[c]),i.nodeType===3&&u.nodeType===3&&(i.length===c?i=Ek(i.nextSibling,!0):i=i.parentNode,v===0?u=Ek(u.previousSibling,!1):u=u.parentNode,i&&i===u))?i:a&&a.nodeType===3?a.parentNode:a},I_=function(e,n,a,i){var u,c=[],v=e.getRoot();if(a=e.getParent(a||By(v,n,n.collapsed),e.isBlock),i=e.getParent(i||Ak(v,n,n.collapsed),e.isBlock),a&&a!==v&&c.push(a),a&&i&&a!==i){u=a;for(var m=new Tr(a,v);(u=m.next())&&u!==i;)e.isBlock(u)&&c.push(u)}return i&&a!==i&&i!==v&&c.push(i),c},N_=function(e,n,a){return U.from(n).map(function(i){var u=e.nodeIndex(i),c=e.createRng();return c.setStart(i.parentNode,u),c.setEnd(i.parentNode,u+1),a&&(kd(e,c,i,!0),kd(e,c,i,!1)),c})},Rd=function(e,n){return Yt(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},L_={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Pp=function(e,n,a){var i=a?"lastChild":"firstChild",u=a?"prev":"next";if(e[i])return e[i];if(e!==n){var c=e[u];if(c)return c;for(var v=e.parent;v&&v!==n;v=v.parent)if(c=v[u],c)return c}},zy=function(e){if(!Ps(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},Tk=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},Uu=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,L_[n]||1);return a&&or(a,function(u,c){i.attr(c,u)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,u;if(typeof n!="string")return n!=null&&or(n,function(v,m){i.attr(m,v)}),i;if(u=i.attributes){if(a!==void 0){if(a===null){if(n in u.map){delete u.map[n];for(var c=u.length;c--;)if(u[c].name===n)return u.splice(c,1),i}return i}if(n in u.map){for(var c=u.length;c--;)if(u[c].name===n){u[c].value=a;break}}else u.push({name:n,value:a});return u.map[n]=a,i}return u.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var u=[];u.map={};for(var c=0,v=i.length;c<v;c++){var m=i[c];m.name!=="id"&&(u[u.length]={name:m.name,value:m.value},u.map[m.name]=m.value)}a.attributes=u}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,u=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):u.next=i,a.lastChild===n?(a.lastChild=u,u&&(u.next=null)):i.prev=u,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var u=a.parent||this;return i?(a===u.firstChild?u.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===u.lastChild?u.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=u,n},e.prototype.getAll=function(n){for(var a=this,i=[],u=a.firstChild;u;u=Pp(u,a))u.name===n&&i.push(u);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=Pp(i,n))a.push(i);for(var u=a.length;u--;){var i=a[u];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var u=this,c=u.firstChild;if(Tk(u))return!1;if(c)do{if(c.type===1){if(c.attr("data-mce-bogus"))continue;if(n[c.name]||Tk(c))return!1}if(c.type===8||c.type===3&&!zy(c)||c.type===3&&c.parent&&a[c.parent.name]&&Ps(c.value)||i&&i(c))return!1}while(c=Pp(c,u));return!0},e.prototype.walk=function(n){return Pp(this,null,n)},e}(),Ok=function(e){for(var n=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},u=Zh("img"),c,v=0,m=0;c=n.exec(e);){var g=c[0],C=u+"_"+m++;i[C]=g,v<c.index&&a.push(e.substr(v,c.index-v)),a.push(C),v=c.index+g.length}var T=new RegExp(u+"_[0-9]+","g");return v===0?{prefix:u,uris:i,html:e,re:T}:(v<e.length&&a.push(e.substr(v)),{prefix:u,uris:i,html:a.join(""),re:T})},Fp=function(e,n){return e.replace(n.re,function(a){return $n(n.uris,a).getOr(a)})},$_=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?U.some({type:n[1],data:decodeURIComponent(n[2])}):U.none()},Dk=Ce.each,H_=Ce.trim,V_="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Ip={ftp:21,http:80,https:443,mailto:25},_k=["img","video"],Bk=function(e,n){return an(e)?!e:an(n)?!dt(_k,n):!0},zk=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?Bk(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},pl=function(){function e(n,a){n=H_(n),this.settings=a||{};var i=this.settings.base_uri,u=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){u.source=n;return}var c=n.indexOf("//")===0;if(n.indexOf("/")===0&&!c&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var v=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+u.toAbsPath(v,n);else{var m=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+u.toAbsPath(v,m[1])+m[2]}}n=n.replace(/@@/g,"(mce_at)");var g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);Dk(V_,function(C,T){var D=g[T];D&&(D=D.replace(/\(mce_at\)/g,"@@")),u[C]=D}),i&&(u.protocol||(u.protocol=i.protocol),u.userInfo||(u.userInfo=i.userInfo),!u.port&&u.host==="mce_host"&&(u.port=i.port),(!u.host||u.host==="mce_host")&&(u.host=i.host),u.source=""),c&&(u.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),u=/data:([^;]+)/.exec(i[0]);return u&&(a=u[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var u=Fs.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}return/((java|vb)script|mhtml):/i.test(u)?!1:!zk(i,u,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var u=this.getURI(),c=i.getURI();return u===c||u.charAt(u.length-1)==="/"&&u.substr(0,u.length-1)===c?u:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=Ip[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,u="",c,v,m=n.substring(0,n.lastIndexOf("/")).split("/"),g=a.split("/");if(m.length>=g.length){for(c=0,v=m.length;c<v;c++)if(c>=g.length||m[c]!==g[c]){i=c+1;break}}if(m.length<g.length){for(c=0,v=g.length;c<v;c++)if(c>=m.length||m[c]!==g[c]){i=c+1;break}}if(i===1)return a;for(c=0,v=m.length-(i-1);c<v;c++)u+="../";for(c=i-1,v=g.length;c<v;c++)c!==i-1?u+="/"+g[c]:u+=g[c];return u},e.prototype.toAbsPath=function(n,a){var i,u=0,c=[],v,m=/\/$/.test(a)?"/":"",g=n.split("/"),C=a.split("/");for(Dk(g,function(T){T&&c.push(T)}),g=c,i=C.length-1,c=[];i>=0;i--)if(!(C[i].length===0||C[i]===".")){if(C[i]===".."){u++;continue}if(u>0){u--;continue}c.push(C[i])}return i=g.length-u,i<=0?v=Xe(c).join("/"):v=g.slice(0,i).join("/")+"/"+Xe(c).join("/"),v.indexOf("/")!==0&&(v="/"+v),m&&v.lastIndexOf("/")!==v.length-1&&(v+=m),v},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),U_=Ce.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),W_=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},My=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,u=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,c=e.getShortEndedElements(),v=1,m=a;v!==0;)for(i.lastIndex=m;;){var g=i.exec(n);if(g===null)return m;if(g[1]==="!"){na(g[2],"--")?m=Ry(n,!1,g.index+3):m=Ry(n,!0,g.index+1);break}else{u.lastIndex=i.lastIndex;var C=u.exec(n);if(X(C)||C.index!==i.lastIndex)continue;g[1]==="/"?v-=1:Sn(c,g[2])||(v+=1),m=i.lastIndex+C[0].length;break}}return m},j_=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},Ry=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&j_(i,a)){var u=i.indexOf("[endif]",a);return i.indexOf(">",u)}else if(n){var c=i.indexOf(">",a);return c!==-1?c:i.length}else{var v=/--!?>/g;v.lastIndex=a;var m=v.exec(e);return m?m.index+m[0].length:i.length}},q_=function(e,n){var a=e.exec(n);if(a){var i=a[1],u=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?u:null}else return null},Np=function(e,n){var a;n===void 0&&(n=Fn()),e=e||{};var i=(a=e.document)!==null&&a!==void 0?a:document,u=i.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var c=e.comment?e.comment:Ve,v=e.cdata?e.cdata:Ve,m=e.text?e.text:Ve,g=e.start?e.start:Ve,C=e.end?e.end:Ve,T=e.pi?e.pi:Ve,D=e.doctype?e.doctype:Ve,B=function(F,L){L===void 0&&(L="html");for(var $=F.html,G,q=0,Q,ie,Y=[],se,pe,Re,Pt,vt,De,Qt,Le,ft,Ie,Qe,ht,Be,pt,gn,mr,Un,wa=0,fa=Fs.decode,Pi=Ce.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Qi=L==="html"?0:1,ze=function(Qr){var _r,_a;for(_r=Y.length;_r--&&Y[_r].name!==Qr;);if(_r>=0){for(_a=Y.length-1;_a>=_r;_a--)Qr=Y[_a],Qr.valid&&C(Qr.name);Y.length=_r}},le=function(Qr,_r){return m(Fp(Qr,F),_r)},Me=function(Qr){Qr!==""&&(Qr.charAt(0)===">"&&(Qr=" "+Qr),!e.allow_conditional_comments&&Qr.substr(0,3).toLowerCase()==="[if"&&(Qr=" "+Qr),c(Fp(Qr,F)))},ve=function(Qr){return Fp(Qr,F)},St=function(Qr,_r){var _a=Qr||"",ys=!na(_a,"--"),Vc=Ry($,ys,_r);return Qr=$.substr(_r,Vc-_r),Me(ys?_a+Qr:Qr),Vc+1},Ze=function(Qr,_r,_a,ys,Vc){if(_r=_r.toLowerCase(),_a=ve(_r in Ci?_r:fa(_a||ys||Vc||"")),Gu&&!vt&&W_(_r)===!1){var ws=Qe[_r];if(!ws&&ht){for(var Qs=ht.length;Qs--&&(ws=ht[Qs],!ws.pattern.test(_r)););Qs===-1&&(ws=null)}if(!ws||ws.validValues&&!(_a in ws.validValues))return}var lh=_r==="name"||_r==="id";lh&&Qr in U_&&(_a in i||_a in u)||Pi[_r]&&!pl.isDomSafe(_a,Qr,e)||vt&&(_r in Pi||_r.indexOf("on")===0)||(se.map[_r]=_a,se.push({name:_r,value:_a}))},Kt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Mn=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,$r=n.getShortEndedElements(),ni=e.self_closing_elements||n.getSelfClosingElements(),Ci=n.getBoolAttrs(),Gu=e.validate,ri=e.remove_internals,ai=e.fix_self_closing,Na=n.getSpecialElements(),Ol=$+">";G=Kt.exec(Ol);){var mo=G[0];if(q<G.index&&le(fa($.substr(q,G.index-q))),Q=G[7])Q=Q.toLowerCase(),Q.charAt(0)===":"&&(Q=Q.substr(1)),ze(Q);else if(Q=G[8]){if(G.index+mo.length>$.length){le(fa($.substr(G.index))),q=G.index+mo.length;continue}Q=Q.toLowerCase(),Q.charAt(0)===":"&&(Q=Q.substr(1)),De=Q in $r,ai&&ni[Q]&&Y.length>0&&Y[Y.length-1].name===Q&&ze(Q);var Ku=q_(Mn,G[9]);if(Ku!==null){if(Ku==="all"){q=My(n,$,Kt.lastIndex),Kt.lastIndex=q;continue}Le=!1}if(!Gu||(Qt=n.getElementRule(Q))){if(Le=!0,Gu&&(Qe=Qt.attributes,ht=Qt.attributePatterns),(Ie=G[9])?(vt=Ie.indexOf("data-mce-type")!==-1,vt&&ri&&(Le=!1),se=[],se.map={},Ie.replace(Mn,function(Qr,_r,_a,ys,Vc){return Ze(Q,_r,_a,ys,Vc),""})):(se=[],se.map={}),Gu&&!vt){if(Be=Qt.attributesRequired,pt=Qt.attributesDefault,gn=Qt.attributesForced,mr=Qt.removeEmptyAttrs,mr&&!se.length&&(Le=!1),gn)for(pe=gn.length;pe--;)ft=gn[pe],Pt=ft.name,Un=ft.value,Un==="{$uid}"&&(Un="mce_"+wa++),se.map[Pt]=Un,se.push({name:Pt,value:Un});if(pt)for(pe=pt.length;pe--;)ft=pt[pe],Pt=ft.name,Pt in se.map||(Un=ft.value,Un==="{$uid}"&&(Un="mce_"+wa++),se.map[Pt]=Un,se.push({name:Pt,value:Un}));if(Be){for(pe=Be.length;pe--&&!(Be[pe]in se.map););pe===-1&&(Le=!1)}if(ft=se.map["data-mce-bogus"]){if(ft==="all"){q=My(n,$,Kt.lastIndex),Kt.lastIndex=q;continue}Le=!1}}Le&&g(Q,se,De)}else Le=!1;if(ie=Na[Q]){ie.lastIndex=q=G.index+mo.length,(G=ie.exec($))?(Le&&(Re=$.substr(q,G.index-q)),q=G.index+G[0].length):(Re=$.substr(q),q=$.length),Le&&(Re.length>0&&le(Re,!0),C(Q)),Kt.lastIndex=q;continue}De||(!Ie||Ie.indexOf("/")!==Ie.length-1?Y.push({name:Q,valid:Le}):Le&&C(Q))}else if(Q=G[1])Me(Q);else if(Q=G[2]){var Hc=Qi===1||e.preserve_cdata||Y.length>0&&n.isValidChild(Y[Y.length-1].name,"#cdata");if(Hc)v(Q);else{q=St("",G.index+2),Kt.lastIndex=q;continue}}else if(Q=G[3])D(Q);else if((Q=G[4])||mo==="<!"){q=St(Q,G.index+mo.length),Kt.lastIndex=q;continue}else if(Q=G[5])if(Qi===1)T(Q,G[6]);else{q=St("?",G.index+2),Kt.lastIndex=q;continue}q=G.index+mo.length}for(q<$.length&&le(fa($.substr(q))),pe=Y.length-1;pe>=0;pe--)Q=Y[pe],Q.valid&&C(Q.name)},I=function(F,L){L===void 0&&(L="html"),B(Ok(F),L)};return{parse:I}};Np.findEndTag=My;var G_=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},Mk=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,u=G_(e.getTempAttrs(),n),c=i.getShortEndedElements(),v;v=a.exec(u);){var m=a.lastIndex,g=v[0].length,C=void 0;c[v[1]]?C=m:C=Np.findEndTag(i,u,m),u=u.substring(0,m-g)+u.substring(C),a.lastIndex=m-g}return vc(u)},K_=Mk,X_=function(e,n){var a=ei(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},Y_=function(e,n){return Vt(Vt({},e),{format:n,get:!0,getInner:!0})},Lp=function(e,n,a,i){var u=Y_(n,a),c=n.no_events?u:e.fire("BeforeGetContent",u),v;return c.format==="raw"?v=Ce.trim(K_(e.serializer,i.innerHTML)):c.format==="text"?v=e.dom.isEmpty(i)?"":vc(i.innerText||i.textContent):c.format==="tree"?v=e.serializer.serialize(i,c):v=X_(e,e.serializer.serialize(i,c)),!dt(["text","tree"],c.format)&&!km(E.fromDom(i))?c.content=Ce.trim(v):c.content=v,c.no_events?c.content:e.fire("GetContent",c).content},Rk=function(e,n,a){return U.from(e.getBody()).fold(Ge(n.format==="tree"?new Uu("body",11):""),function(i){return Lp(e,n,a,i)})},Pk=Ce.each,Fk=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var u=function(v){var m={};return Pk(e.getAttribs(v),function(g){var C=g.nodeName.toLowerCase();C.indexOf("_")!==0&&C!=="style"&&C.indexOf("data-")!==0&&(m[C]=e.getAttrib(v,C))}),m},c=function(v,m){var g,C;for(C in v)if(Sn(v,C)){if(g=m[C],typeof g=="undefined"||v[C]!==g)return!1;delete m[C]}for(C in m)if(Sn(m,C))return!1;return!0};return!c(u(a),u(i))||!c(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!qi(a)&&!qi(i)};return{compare:n}},Ik=Ce.makeMap,Nk=function(e){var n=[];e=e||{};var a=e.indent,i=Ik(e.indent_before||""),u=Ik(e.indent_after||""),c=Fs.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format==="html";return{start:function(m,g,C){var T,D,B,I;if(a&&i[m]&&n.length>0&&(I=n[n.length-1],I.length>0&&I!==`
`&&n.push(`
`)),n.push("<",m),g)for(T=0,D=g.length;T<D;T++)B=g[T],n.push(" ",B.name,'="',c(B.value,!0),'"');!C||v?n[n.length]=">":n[n.length]=" />",C&&a&&u[m]&&n.length>0&&(I=n[n.length-1],I.length>0&&I!==`
`&&n.push(`
`))},end:function(m){var g;n.push("</",m,">"),a&&u[m]&&n.length>0&&(g=n[n.length-1],g.length>0&&g!==`
`&&n.push(`
`))},text:function(m,g){m.length>0&&(n[n.length]=g?m:c(m))},cdata:function(m){n.push("<![CDATA[",m,"]]>")},comment:function(m){n.push("<!--",m,"-->")},pi:function(m,g){g?n.push("<?",m," ",c(g),"?>"):n.push("<?",m,"?>"),a&&n.push(`
`)},doctype:function(m){n.push("<!DOCTYPE",m,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},Pd=function(e,n){n===void 0&&(n=Fn());var a=Nk(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(u){var c=e.validate,v={3:function(g){a.text(g.value,g.raw)},8:function(g){a.comment(g.value)},7:function(g){a.pi(g.name,g.value)},10:function(g){a.doctype(g.value)},4:function(g){a.cdata(g.value)},11:function(g){if(g=g.firstChild)do m(g);while(g=g.next)}};a.reset();var m=function(g){var C=v[g.type];if(C)C(g);else{var T=g.name,D=g.shortEnded,B=g.attributes;if(c&&B&&B.length>1){var I=[];I.map={};var F=n.getElementRule(g.name);if(F){for(var L=0,$=F.attributesOrder.length;L<$;L++){var G=F.attributesOrder[L];if(G in B.map){var q=B.map[G];I.map[G]=q,I.push({name:G,value:q})}}for(var L=0,$=B.length;L<$;L++){var G=B[L].name;if(!(G in I.map)){var q=B.map[G];I.map[G]=q,I.push({name:G,value:q})}}B=I}}if(a.start(g.name,B,D),!D){if(g=g.firstChild)do m(g);while(g=g.next);a.end(T)}}};return u.type===1&&!e.inner?m(u):v[11](u),a.getContent()};return{serialize:i}},Lk=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Ne(e,function(n){Lk.add(n)})})();var $k=["font","text-decoration","text-emphasis"],$p=function(e,n){return wr(e.parseStyle(e.getAttrib(n,"style")))},Z_=function(e){return Lk.has(e)},Hk=function(e,n){return Ma($p(e,n),function(a){return!Z_(a)})},Vk=function(e){return bt(e,function(n){return yn($k,function(a){return na(n,a)})})},J_=function(e,n,a){var i=$p(e,n),u=$p(e,a),c=function(v){var m=e.getStyle(n,v),g=e.getStyle(a,v);return ii(m)&&ii(g)&&m!==g};return yn(i,function(v){var m=function(C){return yn(C,function(T){return T===v})};if(!m(u)&&m($k)){var g=Vk(u);return yn(g,c)}else return c(v)})},Uk=function(e,n,a){return U.from(a.container()).filter(Ct).exists(function(i){var u=e?0:-1;return n(i.data.charAt(a.offset()+u))})},Py=nt(Uk,!0,yd),Fy=nt(Uk,!1,yd),Q_=function(e){var n=e.container();return Ct(n)&&(n.data.length===0||Wi(n.data)&&Zf.isBookmarkNode(n.parentNode))},af=function(e,n){return function(a){return U.from(dd(e?0:-1,a)).filter(n).isSome()}},Wk=function(e){return ym(e)&&Pn(E.fromDom(e),"display")==="block"},jk=function(e){return Gr(e)&&!Xa(e)},eB=af(!0,Wk),tB=af(!1,Wk),Fd=af(!0,Oi),Id=af(!1,Oi),qk=af(!0,Ya),Gk=af(!1,Ya),of=af(!0,jk),uf=af(!1,jk),nB=function(e){for(var n=[],a=e.dom;a;)n.push(E.fromDom(a)),a=a.lastChild;return n},rB=function(e){var n=Bi(e,"br"),a=bt(nB(e).slice(-1),Yv);n.length===a.length&&Ne(a,ka)},Qf=function(e){gm(e),wo(e,E.fromHtml('<br data-mce-bogus="1">'))},Gt=function(e){iu(e).each(function(n){Gc(n).each(function(a){Mu(e)&&Yv(n)&&Mu(a)&&ka(n)})})},aB=function(e){return e.slice(0,-1)},Iy=function(e,n,a){return pr(n,e)?aB(bh(e,function(i){return a(i)||tn(i,n)})):[]},Kk=function(e,n){return Iy(e,n,yt)},bl=function(e,n){return[e].concat(Kk(e,n))},Hp=function(e,n,a){return X0(e,n,a,Q_)},mg=function(e,n){return hr(bl(E.fromDom(n.container()),e),Mu)},Ny=function(e,n,a){return Hp(e,n.dom,a).forall(function(i){return mg(n,a).fold(function(){return kc(i,a,n.dom)===!1},function(u){return kc(i,a,n.dom)===!1&&pr(u,E.fromDom(i.container()))})})},Xk=function(e,n,a){return mg(n,a).fold(function(){return Hp(e,n.dom,a).forall(function(i){return kc(i,a,n.dom)===!1})},function(i){return Hp(e,i.dom,a).isNone()})},Ly=nt(Xk,!1),dn=nt(Xk,!0),oB=nt(Ny,!1),En=nt(Ny,!0),Yk=function(e){return Km(e).exists(Yv)},Vp=function(e,n,a){var i=bt(bl(E.fromDom(a.container()),n),Mu),u=Ut(i).getOr(n);return Uo(e,u.dom,a).filter(Yk)},$y=function(e,n){return Km(n).exists(Yv)||Vp(!0,e,n).isSome()},Hy=function(e,n){return kS(n).exists(Yv)||Vp(!1,e,n).isSome()},iB=nt(Vp,!1),uB=nt(Vp,!0),Zk=function(e){return he.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Jk=function(e,n){var a=bt(bl(E.fromDom(n.container()),e),Mu);return Ut(a).getOr(e)},nn=function(e,n){return Zk(n)?Fy(n):Fy(n)||fs(Jk(e,n).dom,n).exists(Fy)},Qk=function(e,n){return Zk(n)?Py(n):Py(n)||ls(Jk(e,n).dom,n).exists(Py)},eA=function(e){return dt(["pre","pre-wrap"],e)},Up=function(e){return Km(e).bind(function(n){return Sh(n,Yr)}).exists(function(n){return eA(Pn(n,"white-space"))})},tA=function(e,n){return fs(e.dom,n).isNone()},nA=function(e,n){return ls(e.dom,n).isNone()},rA=function(e,n){return tA(e,n)||nA(e,n)||Ly(e,n)||dn(e,n)||Hy(e,n)||$y(e,n)},Vy=function(e,n){return Up(n)?!1:rA(e,n)||nn(e,n)||Qk(e,n)},Wp=function(e,n){return Up(n)?!1:Ly(e,n)||oB(e,n)||Hy(e,n)||nn(e,n)},aA=function(e){var n=e.container(),a=e.offset();return Ct(n)&&a<n.data.length?he(n,a+1):e},jp=function(e,n){return Up(n)?!1:dn(e,n)||En(e,n)||$y(e,n)||Qk(e,n)},oA=function(e,n){return Wp(e,n)||jp(e,aA(n))},iA=function(e,n){return Gf(e.charAt(n))},sB=function(e){var n=e.container();return Ct(n)&&oa(n.data,Ui)},cB=function(e){var n=e.split("");return Yt(n,function(a,i){return Gf(a)&&i>0&&i<n.length-1&&Jm(n[i-1])&&Jm(n[i+1])?" ":a}).join("")},lB=function(e,n){var a=n.data,i=he(n,0);return iA(a,0)&&!oA(e,i)?(n.data=" "+a.slice(1),!0):!1},fB=function(e){var n=e.data,a=cB(n);return a!==n?(e.data=a,!0):!1},uA=function(e,n){var a=n.data,i=he(n,a.length-1);return iA(a,a.length-1)&&!oA(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},vB=function(e,n){return U.some(n).filter(sB).bind(function(a){var i=a.container(),u=lB(e,i)||fB(i)||uA(e,i);return u?U.some(a):U.none()})},qn=function(e){var n=E.fromDom(e.getBody());e.selection.isCollapsed()&&vB(n,he.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},sA=function(e,n,a){var i=yr(e,function(u,c){return yd(c)||Gf(c)?u.previousCharIsSpace||u.str===""&&n||u.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:u.str+Ui}:{previousCharIsSpace:!0,str:u.str+" "}:{previousCharIsSpace:!1,str:u.str+c}},{previousCharIsSpace:!1,str:""});return i.str},gg=function(e,n,a){if(a!==0){var i=E.fromDom(e),u=xm(i,Mu).getOr(i),c=e.data.slice(n,n+a),v=n+a>=e.data.length&&jp(u,he(e,e.data.length)),m=n===0&&Wp(u,he(e,0));e.replaceData(n,a,sA(c,m,v))}},hg=function(e,n){var a=e.data.slice(n),i=a.length-ks(a).length;gg(e,n,i)},qp=function(e,n){var a=e.data.slice(0,n),i=a.length-yo(a).length;gg(e,n-i,i)},Gp=function(e,n,a,i){i===void 0&&(i=!0);var u=yo(e.data).length,c=i?e:n,v=i?n:e;return i?c.appendData(v.data):c.insertData(0,v.data),ka(E.fromDom(v)),a&&hg(c,u),c},cA=function(e,n){var a=e.container(),i=e.offset();return he.isTextPosition(e)===!1&&a===n.parentNode&&i>he.before(n).offset()},lA=function(e,n){return cA(n,e)?he(n.container(),n.offset()-1):n},dB=function(e){return Ct(e)?he(e,0):he.before(e)},mB=function(e){return Ct(e)?he(e,e.data.length):he.after(e)},fA=function(e){return mc(e.previousSibling)?U.some(mB(e.previousSibling)):e.previousSibling?Vs(e.previousSibling):U.none()},vA=function(e){return mc(e.nextSibling)?U.some(dB(e.nextSibling)):e.nextSibling?Ri(e.nextSibling):U.none()},gB=function(e,n){var a=he.before(n.previousSibling?n.previousSibling:n.parentNode);return fs(e,a).fold(function(){return ls(e,he.after(n))},U.some)},Uy=function(e,n){return ls(e,he.after(n)).fold(function(){return fs(e,he.before(n))},U.some)},Wy=function(e,n){return fA(n).orThunk(function(){return vA(n)}).orThunk(function(){return gB(e,n)})},hB=function(e,n){return vA(n).orThunk(function(){return fA(n)}).orThunk(function(){return Uy(e,n)})},pB=function(e,n,a){return e?hB(n,a):Wy(n,a)},bB=function(e,n,a){return pB(e,n,a).map(nt(lA,a))},dA=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},yB=function(e){return function(n){return n.dom===e}},wB=function(e,n){return n&&Sn(e.schema.getBlockElements(),Pr(n))},CB=function(e){if(Co(e)){var n=E.fromHtml('<br data-mce-bogus="1">');return gm(e),wo(e,n),U.some(he.before(n.dom))}else return U.none()},xB=function(e,n,a){var i=Gc(e).filter(Sa),u=zl(e).filter(Sa);return ka(e),Eb(i,u,n,function(c,v,m){var g=c.dom,C=v.dom,T=g.data.length;return Gp(g,C,a),m.container()===C?he(g,T):m}).orThunk(function(){return a&&(i.each(function(c){return qp(c.dom,c.dom.length)}),u.each(function(c){return hg(c.dom,0)})),n})},mA=function(e,n){return Sn(e.schema.getTextInlineElements(),Pr(n))},ev=function(e,n,a,i){i===void 0&&(i=!0);var u=bB(n,e.getBody(),a.dom),c=xm(a,nt(wB,e),yB(e.getBody())),v=xB(a,u,mA(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):c.bind(CB).fold(function(){i&&dA(e,n,v)},function(m){i&&dA(e,n,U.some(m))})},sf=function(e){return function(n){return tn(e,n)}},jy=function(e){return Bi(e,"td,th")},gA=function(e,n){var a=function(C){return nf(E.fromDom(C),n)},i=a(e.startContainer),u=a(e.endContainer),c=i.isSome(),v=u.isSome(),m=Yo(i,u,tn).getOr(!1),g=!m&&c&&v;return{startTable:i,endTable:u,isStartInTable:c,isEndInTable:v,isSameTable:m,isMultiTable:g}},qy=function(e,n){return{start:e,end:n}},SB=function(e,n,a){return{rng:e,table:n,cells:a}},Nd=Ft.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),pg=function(e,n){return Aa(E.fromDom(e),"td,th",n)},hA=function(e){return!tn(e.start,e.end)},pA=function(e,n){return nf(e.start,n).bind(function(a){return nf(e.end,n).bind(function(i){return Tb(tn(a,i),a)})})},kB=function(e,n){return!hA(e)&&pA(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},AB=function(e,n){var a=pg(e.startContainer,n),i=pg(e.endContainer,n);return Yo(a,i,qy)},EB=function(e){return function(n){return nf(n,e).bind(function(a){return cn(jy(a)).map(function(i){return qy(n,i)})})}},tv=function(e){return function(n){return nf(n,e).bind(function(a){return Ut(jy(a)).map(function(i){return qy(i,n)})})}},Gy=function(e){return function(n){return pA(n,e).map(function(a){return SB(n,a,jy(a))})}},bA=function(e,n,a,i){if(a.collapsed||!e.forall(hA))return U.none();if(n.isSameTable){var u=e.bind(Gy(i));return U.some({start:u,end:u})}else{var c=pg(a.startContainer,i),v=pg(a.endContainer,i),m=c.bind(EB(i)).bind(Gy(i)),g=v.bind(tv(i)).bind(Gy(i));return U.some({start:m,end:g})}},Jr=function(e,n){return va(e,function(a){return tn(a,n)})},_c=function(e){return Yo(Jr(e.cells,e.rng.start),Jr(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},Ky=function(e,n,a){return e.exists(function(i){return kB(i,a)&&iy(i.start,n)})},Xy=function(e,n){var a=n.startTable,i=n.endTable,u=e.cloneRange();return a.each(function(c){return u.setStartAfter(c.dom)}),i.each(function(c){return u.setEndBefore(c.dom)}),u},Yy=function(e,n,a,i){return bA(e,n,a,i).bind(function(u){var c=u.start,v=u.end;return c.or(v)}).bind(function(u){var c=n.isSameTable,v=_c(u).getOr([]);if(c&&u.cells.length===v.length)return U.some(Nd.fullTable(u.table));if(v.length>0){if(c)return U.some(Nd.partialTable(v,U.none()));var m=Xy(a,n);return U.some(Nd.partialTable(v,U.some(Vt(Vt({},n),{rng:m}))))}else return U.none()})},Zy=function(e,n,a,i){return bA(e,n,a,i).bind(function(u){var c=u.start,v=u.end,m=c.bind(_c).getOr([]),g=v.bind(_c).getOr([]);if(m.length>0&&g.length>0){var C=Xy(a,n);return U.some(Nd.multiTable(m,g,C))}else return U.none()})},Jy=function(e,n){var a=sf(e),i=AB(n,a),u=gA(n,a);return Ky(i,n,a)?i.map(function(c){return Nd.singleCellTable(n,c.start)}):u.isMultiTable?Zy(i,u,n,a):Yy(i,u,n,a)},Qy=function(e){var n=Rv(e)?Gc(e):iu(e);return n.bind(Qy).orThunk(function(){return U.some(e)})},bg=function(e){return Ne(e,function(n){we(n,"contenteditable"),Qf(n)})},Kp=function(e,n){return U.from(e.dom.getParent(n,e.dom.isBlock)).map(E.fromDom)},yg=function(e,n,a){a.each(function(i){n?ka(i):(Qf(i),e.selection.setCursorLocation(i.dom,0))})},nv=function(e,n,a,i){var u=a.cloneRange();i?(u.setStart(a.startContainer,a.startOffset),u.setEndAfter(n.dom.lastChild)):(u.setStartBefore(n.dom.firstChild),u.setEnd(a.endContainer,a.endOffset)),Xp(e,u,n,!1)},ds=function(e){var n=Xf(e),a=E.fromDom(e.selection.getNode());jv(a.dom)&&Co(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&yn(n,function(i){return tn(i,a)})&&w(a,"data-mce-selected","1")},rv=function(e,n,a){var i=e.selection.getRng(),u=a.bind(function(c){var v=c.rng,m=c.isStartInTable,g=Kp(e,m?v.endContainer:v.startContainer);v.deleteContents(),yg(e,m,g.filter(Co));var C=m?n[0]:n[n.length-1];return nv(e,C,i,m),Co(C)?U.none():U.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);return bg(u),ds(e),!0},yA=function(e,n,a,i){var u=e.selection.getRng(),c=n[0],v=a[a.length-1];nv(e,c,u,!0),nv(e,v,u,!1);var m=Co(c)?n:n.slice(1),g=Co(v)?a:a.slice(0,-1);return bg(m.concat(g)),i.deleteContents(),ds(e),!0},Xp=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var u=Qy(a).getOr(a),c=E.fromDom(e.dom.getParent(u.dom,e.dom.isBlock));if(Co(c)&&(Qf(c),i&&e.selection.setCursorLocation(c.dom,0)),!tn(a,c)){var v=Af(ba(c),a)?[]:io(c);Ne(v.concat(ui(a)),function(m){!tn(m,c)&&!pr(m,c)&&Co(m)&&ka(m)})}return!0},TB=function(e,n){return ev(e,!1,n),!0},wA=function(e,n,a){return Jy(n,a).map(function(i){return i.fold(nt(Xp,e),nt(TB,e),nt(rv,e),nt(yA,e))})},OB=function(e,n){return bu(e,n)},DB=function(e,n,a,i){return Wo(n,i).fold(function(){return wA(e,n,a)},function(u){return OB(e,u)}).getOr(!1)},cf=function(e,n,a){var i=E.fromDom(e.getBody()),u=e.selection.getRng();return a.length!==0?rv(e,a,U.none()):DB(e,i,u,n)},CA=function(e,n){return hr(bl(n,e),Rs)},Wo=function(e,n){return hr(bl(n,e),dm("caption"))},ir=function(e,n,a,i,u){return Zm(a,e.getBody(),u).bind(function(c){return CA(n,E.fromDom(c.getNode())).map(function(v){return tn(v,i)===!1})})},bu=function(e,n){return Qf(n),e.selection.setCursorLocation(n.dom,0),U.some(!0)},_B=function(e,n,a,i){return Ri(e.dom).bind(function(u){return Vs(e.dom).map(function(c){return n?a.isEqual(u)&&i.isEqual(c):a.isEqual(c)&&i.isEqual(u)})}).getOr(!0)},xA=function(e,n){return bu(e,n)},e2=function(e,n,a){return Wo(e,E.fromDom(a.getNode())).map(function(i){return tn(i,n)===!1})},t2=function(e,n,a,i,u){return Zm(a,e.getBody(),u).bind(function(c){return _B(i,a,u,c)?xA(e,i):e2(n,i,c)}).or(U.some(!0))},SA=function(e,n,a,i){var u=he.fromRangeStart(e.selection.getRng());return CA(a,i).bind(function(c){return Co(c)?bu(e,c):ir(e,a,n,c,u)}).getOr(!1)},kA=function(e,n,a,i){var u=he.fromRangeStart(e.selection.getRng());return Co(i)?bu(e,i):t2(e,a,n,i,u)},AA=function(e,n){return e?qk(n):Gk(n)},BB=function(e,n){var a=he.fromRangeStart(e.selection.getRng());return AA(n,a)||Uo(n,e.getBody(),a).exists(function(i){return AA(n,i)})},n2=function(e,n,a){var i=E.fromDom(e.getBody());return Wo(i,a).fold(function(){return SA(e,n,i,a)||BB(e,n)},function(u){return kA(e,n,i,u).getOr(!1)})},wg=function(e,n){var a=E.fromDom(e.selection.getStart(!0)),i=Xf(e);return e.selection.isCollapsed()&&i.length===0?n2(e,n,a):cf(e,a,i)},qs=function(e,n,a,i){var u=document.createRange();return u.setStart(e,n),u.setEnd(a,i),u},zB=function(e){var n=he.fromRangeStart(e),a=he.fromRangeEnd(e),i=e.commonAncestorContainer;return Uo(!1,i,a).map(function(u){return!kc(n,a,i)&&kc(n,u,i)?qs(n.container(),n.offset(),u.container(),u.offset()):e}).getOr(e)},r2=function(e){return e.collapsed?e:zB(e)},MB=function(e){return e.firstChild&&e.firstChild===e.lastChild},a2=function(e){return e.name==="br"||e.value===Ui},RB=function(e,n){var a=e.getBlockElements();return a[n.name]&&MB(n)&&a2(n.firstChild)},PB=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||RB(e,n))},o2=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),PB(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},FB=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},IB=function(e,n,a){var i=n.serialize(a),u=e.createFragment(i);return FB(u)},EA=function(e){return bt(e.childNodes,function(n){return n.nodeName==="LI"})},NB=function(e){return e.data===Ui||Sr(e)},LB=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&NB(e.firstChild)},Yp=function(e){return!e.firstChild||LB(e)},$B=function(e){return e.length>0&&Yp(e[e.length-1])?e.slice(0,-1):e},Zp=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},TA=function(e,n){return!!Zp(e,n)},i2=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},HB=function(e,n){var a=he.before(e),i=Hs(n),u=i.next(a);return u?u.toRange():null},OA=function(e,n){var a=he.after(e),i=Hs(n),u=i.prev(a);return u?u.toRange():null},u2=function(e,n,a,i){var u=i2(e,i),c=e.parentNode;return c.insertBefore(u[0],e),Ce.each(n,function(v){c.insertBefore(v,e)}),c.insertBefore(u[1],e),c.removeChild(e),OA(n[n.length-1],a)},VB=function(e,n,a){var i=e.parentNode;return Ce.each(n,function(u){i.insertBefore(u,e)}),HB(e,a)},UB=function(e,n,a,i){return i.insertAfter(n.reverse(),e),OA(n[0],a)},Cg=function(e,n,a,i){var u=IB(n,e,i),c=Zp(n,a.startContainer),v=$B(EA(u.firstChild)),m=1,g=2,C=n.getRoot(),T=function(D){var B=he.fromRangeStart(a),I=Hs(n.getRoot()),F=D===m?I.prev(B):I.next(B);return F?Zp(n,F.getNode())!==c:!0};return T(m)?VB(c,v,C):T(g)?UB(c,v,C,n):u2(c,v,C,a)},s2=function(e,n,a){var i=E.fromDom(e.getRoot());return Wp(i,he.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),jp(i,he.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},c2=jv,WB=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,c2);return a===i&&iy(E.fromDom(a),n)}else return!1},DA=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,u=a.lastChild;!i||i===u&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},_A=function(e,n){U.from(e.getParent(n,"td,th")).map(E.fromDom).each(Gt)},jB=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var u=e.getBody(),c=Fk(i);Ce.each(i.select("*[data-mce-fragment]"),function(v){var m=an(a[v.nodeName.toLowerCase()]);if(m&&Hk(i,v))for(var g=v.parentNode;an(g)&&g!==u;g=g.parentNode){var C=J_(i,v,g);if(C)break;if(c.compare(g,v)){i.remove(v,!0);break}}})}},qB=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},GB=function(e){Ce.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},KB=function(e){return!!e.getAttribute("data-mce-fragment")},BA=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},zA=function(e,n){var a,i=e.dom,u=e.selection;if(!!n){u.scrollIntoView(n);var c=Ad(e.getBody(),n);if(i.getContentEditable(c)==="false"){i.remove(n),u.select(c);return}var v=i.createRng(),m=n.previousSibling;if(Ct(m)){if(v.setStart(m,m.nodeValue.length),!Lt.ie){var g=n.nextSibling;Ct(g)&&(m.appendData(g.data),g.parentNode.removeChild(g))}}else v.setStartBefore(n),v.setEndBefore(n);var C=function(D){var B=he.fromRangeStart(D),I=Hs(e.getBody());if(B=I.next(B),B)return B.toRange()},T=i.getParent(n,i.isBlock);i.remove(n),T&&i.isEmpty(T)&&(e.$(T).empty(),v.setStart(T,0),v.setEnd(T,0),!c2(T)&&!KB(T)&&(a=C(v))?(v=a,i.remove(T)):i.add(T,i.create("br",{"data-mce-bogus":"1"}))),u.setRng(v)}},XB=function(e){var n=e.dom,a=r2(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,c2);WB(n,a,i)?Xp(e,a,E.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},YB=function(e,n,a){var i,u,c,v=e.selection,m=e.dom;/^ | $/.test(n)&&(n=s2(m,v.getRng(),n));var g=e.parser,C=a.merge,T=Pd({validate:fS(e)},e.schema),D='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',B=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(B.isDefaultPrevented()){e.fire("SetContent",{content:B.content,format:"html",selection:!0,paste:a.paste});return}n=B.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,D),u=v.getRng();var I=u.startContainer||(u.parentElement?u.parentElement():null),F=e.getBody();I===F&&v.isCollapsed()&&m.isBlock(F.firstChild)&&BA(e,F.firstChild)&&m.isEmpty(F.firstChild)&&(u=m.createRng(),u.setStart(F.firstChild,0),u.setEnd(F.firstChild,0),v.setRng(u)),v.isCollapsed()||XB(e),i=v.getNode();var L={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},$=g.parse(n,L);if(a.paste===!0&&o2(e.schema,$)&&TA(m,i)){u=Cg(T,m,v.getRng(),$),v.setRng(u),e.fire("SetContent",B);return}if(qB($),c=$.lastChild,c.attr("id")==="mce_marker"){var G=c;for(c=c.prev;c;c=c.walk(!0))if(c.type===3||!m.isBlock(c.name)){e.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(G,c,c.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!L.invalid)n=T.serialize($),DA(e,n,i);else{e.selection.setContent(D),i=v.getNode();var q=e.getBody();for(i.nodeType===9?i=c=q:c=i;c!==q;)i=c,c=c.parentNode;n=i===q?q.innerHTML:m.getOuterHTML(i),n=T.serialize(g.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return T.serialize($)}))),i===q?m.setHTML(q,n):m.setOuterHTML(i,n)}jB(e,C),zA(e,m.get("mce_marker")),GB(e.getBody()),_A(m,v.getStart()),e.fire("SetContent",B),e.addVisual()},l2=function(e,n){n(e),e.firstChild&&l2(e.firstChild,n),e.next&&l2(e.next,n)},ZB=function(e,n,a){var i={},u={},c=[];a.firstChild&&l2(a.firstChild,function(g){Ne(e,function(C){C.name===g.name&&(i[C.name]?i[C.name].nodes.push(g):i[C.name]={filter:C,nodes:[g]})}),Ne(n,function(C){typeof g.attr(C.name)=="string"&&(u[C.name]?u[C.name].nodes.push(g):u[C.name]={filter:C,nodes:[g]})})});for(var v in i)Sn(i,v)&&c.push(i[v]);for(var m in u)Sn(u,m)&&c.push(u[m]);return c},JB=function(e,n,a){var i=ZB(e,n,a);Ne(i,function(u){Ne(u.filter.callbacks,function(c){c(u.nodes,u.filter.name,{})})})},QB="html",av=function(e){return e instanceof Uu},e6=function(e){Jf(e)&&Ri(e.getBody()).each(function(n){var a=n.getNode(),i=Ya(a)?Ri(a).getOr(n):n;e.selection.setRng(i.toRange())})},Jp=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&e6(e)},f2=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var u='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+u+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+u+"</li>");var c=ei(e);c&&e.schema.isValidChild(n.nodeName.toLowerCase(),c.toLowerCase())?(a=u,a=e.dom.createHTML(c,Um(e),a)):a||(a='<br data-mce-bogus="1">'),Jp(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Pd({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=km(E.fromDom(n))?a:Ce.trim(a),Jp(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},t6=function(e,n,a,i){JB(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var u=Pd({validate:e.validate},e.schema).serialize(a);return i.content=km(E.fromDom(n))?u:Ce.trim(u),Jp(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},MA=function(e,n){return Vt(Vt({format:QB},e),{set:!0,content:av(n)?"":n})},RA=function(e,n,a){var i=MA(a,n),u=a.no_events?i:e.fire("BeforeSetContent",i);return av(n)||(n=u.content),U.from(e.getBody()).fold(Ge(n),function(c){return av(n)?t6(e,c,n,u):f2(e,c,n,u)})},n6=function(e,n){return Rb(e,n).isSome()},PA=function(e){return Fe(e)?e:yt},r6=function(e,n,a){for(var i=e.dom,u=PA(a);i.parentNode;){i=i.parentNode;var c=E.fromDom(i),v=n(c);if(v.isSome())return v;if(u(c))break}return U.none()},v2=function(e,n,a){var i=n(e),u=PA(a);return i.orThunk(function(){return u(e)?U.none():r6(e,n,u)})},d2=ny,FA=function(e,n,a){var i=e.formatter.get(a);if(i)for(var u=0;u<i.length;u++){var c=i[u];if(pu(c)&&c.inherit===!1&&e.dom.is(n,c.selector))return!0}return!1},m2=function(e,n,a,i,u){var c=e.dom.getRoot();return n===c?!1:(n=e.dom.getParent(n,function(v){return FA(e,v,a)?!0:v.parentNode===c||!!Bc(e,v,a,i,!0)}),!!Bc(e,n,a,i,u))},g2=function(e,n,a){if(d2(n,a.inline)||d2(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},IA=function(e,n,a,i,u,c){var v=a[i];if(Fe(a.onmatch))return a.onmatch(n,a,i);if(v){if(fe(v.length)){for(var m in v)if(Sn(v,m)){var g=i==="attributes"?e.getAttrib(n,m):hp(e,n,m),C=Ec(v[m],c),T=rn(g)||Eu(g);if(T&&rn(C))continue;if(u&&T&&!a.exact||(!u||a.exact)&&!d2(g,gp(e,C,m)))return!1}}else for(var D=0;D<v.length;D++)if(i==="attributes"?e.getAttrib(n,v[D]):hp(e,n,v[D]))return!0}return!0},Bc=function(e,n,a,i,u){var c=e.formatter.get(a),v=e.dom;if(c&&n)for(var m=0;m<c.length;m++){var g=c[m];if(g2(e.dom,n,g)&&IA(v,n,g,"attributes",u,i)&&IA(v,n,g,"styles",u,i)){var C=g.classes;if(C){for(var T=0;T<C.length;T++)if(!e.dom.hasClass(n,Ec(C[T],i)))return}return g}}},h2=function(e,n,a,i,u){if(i)return m2(e,i,n,a,u);if(i=e.selection.getNode(),m2(e,i,n,a,u))return!0;var c=e.selection.getStart();return!!(c!==i&&m2(e,c,n,a,u))},p2=function(e,n,a){var i=[],u={},c=e.selection.getStart();return e.dom.getParent(c,function(v){for(var m=0;m<n.length;m++){var g=n[m];!u[g]&&Bc(e,v,g,a)&&(u[g]=!0,i.push(g))}},e.dom.getRoot()),i},Gs=function(e,n){var a=function(u){return tn(u,E.fromDom(e.getBody()))},i=function(u,c){return Bc(e,u.dom,c)?U.some(c):U.none()};return U.from(e.selection.getStart(!0)).bind(function(u){return v2(E.fromDom(u),function(c){return fr(n,function(v){return i(c,v)})},a)}).getOrNull()},b2=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var u=e.selection.getStart(),c=Qm(i,u),v=a.length-1;v>=0;v--){var m=a[v];if(!pu(m)||an(m.defaultBlock))return!0;for(var g=c.length-1;g>=0;g--)if(i.is(c[g],m.selector))return!0}return!1},y2=function(e,n,a){return yr(a,function(i,u){var c=LD(e,u);return e.formatter.matchNode(n,u,{},c)?i.concat([u]):i},[])},lf=ae,NA="_mce_caret",LA=function(e,n){return e.importNode(n,!0)},a6=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==lf||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},w2=function(e){return a6(e).length>0},Qp=function(e){if(e){var n=new Tr(e,e);for(e=n.current();e;e=n.next())if(Ct(e))return e}return null},C2=function(e){var n=E.fromTag("span");return O(n,{id:NA,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&wo(n,E.fromText(lf)),n},$A=function(e){var n=Qp(e);return n&&n.nodeValue.charAt(0)===lf&&n.deleteData(0,1),n},x2=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,u=e.selection;if(w2(n))ev(e,!1,E.fromDom(n),a);else{var c=u.getRng(),v=i.getParent(n,i.isBlock),m=c.startContainer,g=c.startOffset,C=c.endContainer,T=c.endOffset,D=$A(n);i.remove(n,!0),m===D&&g>0&&c.setStart(D,g-1),C===D&&T>0&&c.setEnd(D,T-1),v&&i.isEmpty(v)&&Qf(E.fromDom(v)),u.setRng(c)}},ov=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,u=e.selection;if(n)x2(e,n,a);else if(n=tf(e.getBody(),u.getStart()),!n)for(;n=i.get(NA);)x2(e,n,!1)},HA=function(e,n,a){var i=e.dom,u=i.getParent(a,nt(ey,e));u&&i.isEmpty(u)?a.parentNode.replaceChild(n,a):(rB(E.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},VA=function(e,n){return e.appendChild(n),n},S2=function(e,n){var a=er(e,function(i,u){return VA(i,u.cloneNode(!1))},n);return VA(a,a.ownerDocument.createTextNode(lf))},o6=function(e,n,a,i,u,c){var v=e.formatter,m=e.dom,g=bt(wr(v.get()),function(B){return B!==i&&!oa(B,"removeformat")}),C=y2(e,a,g),T=bt(C,function(B){return!$D(e,B,i)});if(T.length>0){var D=a.cloneNode(!1);return m.add(n,D),v.remove(i,u,D,c),m.remove(D),U.some(D)}else return U.none()},i6=function(e,n,a){var i,u,c=e.selection,v=c.getRng(),m=v.startOffset,g=v.startContainer,C=g.nodeValue;i=tf(e.getBody(),c.getStart()),i&&(u=Qp(i));var T=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(C&&m>0&&m<C.length&&T.test(C.charAt(m))&&T.test(C.charAt(m-1))){var D=c.getBookmark();v.collapse(!0);var B=Sd(e,v,e.formatter.get(n));B=Sp(B),e.formatter.apply(n,a,B),c.moveToBookmark(D)}else(!i||u.nodeValue!==lf)&&(i=LA(e.getDoc(),C2(!0).dom),u=i.firstChild,v.insertNode(i),m=1),e.formatter.apply(n,a,i),c.setCursorLocation(u,m)},u6=function(e,n,a,i){var u=e.dom,c=e.selection,v,m,g,C=[],T=c.getRng(),D=T.startContainer,B=T.startOffset;for(m=D,D.nodeType===3&&(B!==D.nodeValue.length&&(v=!0),m=m.parentNode);m;){if(Bc(e,m,n,a,i)){g=m;break}m.nextSibling&&(v=!0),C.push(m),m=m.parentNode}if(!!g)if(v){var I=c.getBookmark();T.collapse(!0);var F=Sd(e,T,e.formatter.get(n),!0);F=Sp(F),e.formatter.remove(n,a,F,i),c.moveToBookmark(I)}else{var L=tf(e.getBody(),g),$=C2(!1).dom;HA(e,$,L!==null?L:g);var G=o6(e,$,g,n,a,i),q=S2(C.concat(G.toArray()),$);x2(e,L,!1),c.setCursorLocation(q,1),u.isEmpty(g)&&u.remove(g)}},s6=function(e,n){var a=e.selection,i=e.getBody();ov(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===lf&&ov(e,tf(i,a.getStart())),(n===37||n===39)&&ov(e,tf(i,a.getStart()))},c6=function(e){e.on("mouseup keydown",function(n){s6(e,n.keyCode)})},UA=function(e,n){var a=C2(!1),i=S2(n,a.dom);return Bu(E.fromDom(e),a),ka(E.fromDom(e)),he(i,0)},l6=function(e,n){var a=e.schema.getTextInlineElements();return Sn(a,Pr(n))&&!Us(n.dom)&&!tl(n.dom)},k2=function(e){return Us(e.dom)&&w2(e.dom)},yl={},WA=po,jA=Ga,e1=function(e,n){var a=yl[e];a||(yl[e]=[]),yl[e].push(n)},A2=function(e,n){jA(yl[e],function(a){a(n)})};e1("pre",function(e){var n=e.selection.getRng(),a,i=function(v){return c(v.previousSibling)&&Ka(a,v.previousSibling)!==-1},u=function(v,m){wn(m).remove(),wn(v).append("<br><br>").append(m.childNodes)},c=cu(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),jA(WA(WA(a,c),i),function(v){u(v.previousSibling,v)}))});var E2=Ce.each,T2=function(e){return fn(e)&&!qi(e)&&!Us(e)&&!tl(e)},O2=function(e,n){for(var a=e;a;a=a[n]){if(Ct(a)&&ii(a.data))return e;if(fn(a)&&!qi(a))return a}return e},t1=function(e,n,a){var i=Fk(e);if(n&&a&&(n=O2(n,"previousSibling"),a=O2(a,"nextSibling"),i.compare(n,a))){for(var u=n.nextSibling;u&&u!==a;){var c=u;u=u.nextSibling,n.appendChild(c)}return e.remove(a),Ce.each(Ce.grep(a.childNodes),function(v){n.appendChild(v)}),n}return a},qA=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var u=t1(e,Q0(i),i);t1(e,u,Q0(u,!0))}},n1=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";E2(e.select(i,a),function(u){T2(u)&&E2(n.styles,function(c,v){e.setStyle(u,v,"")})})}},Ks=function(e,n,a){E2(e.childNodes,function(i){T2(i)&&(n(i)&&a(i),i.hasChildNodes()&&Ks(i,n,a))})},f6=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},r1=function(e,n){return function(a){return!!(a&&hp(e,a,n))}},GA=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),f6(e,i)}},xg=Ft.generate([{keep:[]},{rename:["name"]},{removed:[]}]),v6=/^(src|href|style)$/,D2=Ce.each,iv=ny,d6=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},uv=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},KA=function(e,n,a){var i=n[a?"startContainer":"endContainer"],u=n[a?"startOffset":"endOffset"];if(fn(i)){var c=i.childNodes.length-1;!a&&u&&u--,i=i.childNodes[u>c?c:u]}return Ct(i)&&a&&u>=i.nodeValue.length&&(i=new Tr(i,e.getBody()).next()||i),Ct(i)&&!a&&u===0&&(i=new Tr(i,e.getBody()).prev()||i),i},XA=function(e,n){var a=n?"firstChild":"lastChild";if(d6(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},_2=function(e,n,a,i){var u=e.create(a,i);return n.parentNode.insertBefore(u,n),u.appendChild(n),u},YA=function(e,n,a,i,u){var c=E.fromDom(n),v=E.fromDom(e.create(i,u)),m=a?Kc(c):xr(c);return Nv(v,m),a?(Bu(c,v),mm(v,c)):(Rl(c,v),wo(v,c)),v.dom},ZA=function(e,n,a){if(Oo(a)&&iv(n,a.inline)||Tc(a)&&iv(n,a.block))return!0;if(pu(a))return fn(n)&&e.is(n,a.selector)},m6=function(e,n){return n.links&&e.nodeName==="A"},a1=function(e,n,a,i){var u=Q0(n,a,i);return rn(u)||u.nodeName==="BR"||e.isBlock(u)},g6=function(e,n,a){var i=n.parentNode,u,c=e.dom,v=ei(e);Tc(a)&&(v?i===c.getRoot()&&(!a.list_block||!iv(n,a.list_block))&&Ne(kt(n.childNodes),function(m){Cd(e,v,m.nodeName.toLowerCase())?u?u.appendChild(m):(u=_2(c,m,v),c.setAttribs(u,e.settings.forced_root_block_attrs)):u=null}):c.isBlock(n)&&!c.isBlock(i)&&(!a1(c,n,!1)&&!a1(c,n.firstChild,!0,!0)&&n.insertBefore(c.create("br"),n.firstChild),!a1(c,n,!0)&&!a1(c,n.lastChild,!1,!0)&&n.appendChild(c.create("br")))),!(HD(a)&&!iv(a.inline,n))&&c.remove(n,!0)},JA=function(e,n,a,i,u){var c,v=e.dom;if(!ZA(v,i,n)&&!m6(i,n))return xg.keep();var m=i;if(Oo(n)&&n.remove==="all"&&$t(n.preserve_attributes)){var g=bt(v.getAttribs(m),function(B){return dt(n.preserve_attributes,B.name.toLowerCase())});if(v.removeAllAttribs(m),Ne(g,function(B){return v.setAttrib(m,B.name,B.value)}),g.length>0)return xg.rename("span")}if(n.remove!=="all"){D2(n.styles,function(B,I){B=gp(v,Ec(B,a),I+""),ut(I)&&(I=B,u=null),(n.remove_similar||!u||iv(hp(v,u,I),B))&&v.setStyle(m,I,""),c=!0}),c&&v.getAttrib(m,"style")===""&&(m.removeAttribute("style"),m.removeAttribute("data-mce-style")),D2(n.attributes,function(B,I){var F;if(B=Ec(B,a),ut(I)&&(I=B,u=null),n.remove_similar||!u||iv(v.getAttrib(u,I),B)){if(I==="class"&&(B=v.getAttrib(m,I),B&&(F="",Ne(B.split(/\s+/),function(L){/mce\-\w+/.test(L)&&(F+=(F?" ":"")+L)}),F))){v.setAttrib(m,I,F);return}if(v6.test(I)&&m.removeAttribute("data-mce-"+I),I==="style"&&cu(["li"])(m)&&v.getStyle(m,"list-style-type")==="none"){m.removeAttribute(I),v.setStyle(m,"list-style-type","none");return}I==="class"&&m.removeAttribute("className"),m.removeAttribute(I)}}),D2(n.classes,function(B){B=Ec(B,a),(!u||v.hasClass(u,B))&&v.removeClass(m,B)});for(var C=v.getAttribs(m),T=0;T<C.length;T++){var D=C[T].nodeName;if(D.indexOf("_")!==0&&D.indexOf("data-")!==0)return xg.keep()}}return n.remove!=="none"?(g6(e,m,n),xg.removed()):xg.keep()},Ld=function(e,n,a,i,u){return JA(e,n,a,i,u).fold(yt,function(c){return e.dom.rename(i,c),!0},Ht)},h6=function(e,n,a,i,u){var c;return Ne(Qm(e.dom,n.parentNode).reverse(),function(v){if(!c&&v.id!=="_start"&&v.id!=="_end"){var m=Bc(e,v,a,i,u);m&&m.split!==!1&&(c=v)}}),c},p6=function(e,n,a,i){return JA(e,n,a,i,i).fold(Ge(i),function(u){var c=e.dom.createFragment();return c.appendChild(i),e.dom.rename(i,u)},Ge(null))},b6=function(e,n,a,i,u,c,v,m){var g,C,T,D=e.dom;if(a){for(var B=a.parentNode,I=i.parentNode;I&&I!==B;I=I.parentNode){g=D.clone(I,!1);for(var F=0;F<n.length&&(g=p6(e,n[F],m,g),g!==null);F++);g&&(C&&g.appendChild(C),T||(T=g),C=g)}c&&(!v.mixed||!D.isBlock(a))&&(i=D.split(a,i)),C&&(u.parentNode.insertBefore(C,u),T.appendChild(u),Oo(v)&&qA(D,v,m,C))}return i},QA=function(e,n,a,i,u){var c=e.formatter.get(n),v=c[0],m=!0,g=e.dom,C=e.selection,T=function(q){var Q=h6(e,q,n,a,u);return b6(e,c,Q,q,q,!0,v,a)},D=function(q){return qi(q)&&fn(q)&&(q.id==="_start"||q.id==="_end")},B=function(q){return yn(c,function(Q){return Ld(e,Q,a,q,q)})},I=function(q){var Q=!0,ie=!1;fn(q)&&g.getContentEditable(q)&&(Q=m,m=g.getContentEditable(q)==="true",ie=!0);var Y=kt(q.childNodes);if(m&&!ie){var se=B(q),pe=se||yn(c,function(De){return g2(g,q,De)}),Re=q.parentNode;!pe&&an(Re)&&ry(v)&&B(Re)}if(v.deep&&Y.length){for(var Pt=0;Pt<Y.length;Pt++)I(Y[Pt]);ie&&(m=Q)}var vt=["underline","line-through","overline"];Ne(vt,function(De){fn(q)&&e.dom.getStyle(q,"text-decoration")===De&&q.parentNode&&LS(g,q.parentNode)===De&&Ld(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:De}},null,q)})},F=function(q){var Q=g.get(q?"_start":"_end"),ie=Q[q?"firstChild":"lastChild"];return D(ie)&&(ie=ie[q?"firstChild":"lastChild"]),Ct(ie)&&ie.data.length===0&&(ie=q?Q.previousSibling||Q.nextSibling:Q.nextSibling||Q.previousSibling),g.remove(Q,!0),ie},L=function(q){var Q,ie,Y=Sd(e,q,c,q.collapsed);if(v.split){if(Y=Sp(Y),Q=KA(e,Y,!0),ie=KA(e,Y),Q!==ie){if(Q=XA(Q,!0),ie=XA(ie,!1),uv(g,Q,ie)){var se=U.from(Q.firstChild).getOr(Q);T(YA(g,se,!0,"span",{id:"_start","data-mce-type":"bookmark"})),F(!0);return}if(uv(g,ie,Q)){var se=U.from(ie.lastChild).getOr(ie);T(YA(g,se,!1,"span",{id:"_end","data-mce-type":"bookmark"})),F(!1);return}Q=_2(g,Q,"span",{id:"_start","data-mce-type":"bookmark"}),ie=_2(g,ie,"span",{id:"_end","data-mce-type":"bookmark"});var pe=g.createRng();pe.setStartAfter(Q),pe.setEndBefore(ie),tg(g,pe,function(Re){Ne(Re,function(Pt){!qi(Pt)&&!qi(Pt.parentNode)&&T(Pt)})}),T(Q),T(ie),Q=F(!0),ie=F()}else Q=ie=T(Q);Y.startContainer=Q.parentNode?Q.parentNode:Q,Y.startOffset=g.nodeIndex(Q),Y.endContainer=ie.parentNode?ie.parentNode:ie,Y.endOffset=g.nodeIndex(ie)+1}tg(g,Y,function(Re){Ne(Re,I)})};if(i){if(wd(i)){var $=g.createRng();$.setStartBefore(i),$.setEndAfter(i),L($)}else L(i);ig(e,n,i,a);return}if(g.getContentEditable(C.getNode())==="false"){i=C.getNode();for(var G=0;G<c.length&&!(c[G].ceFalseOverride&&Ld(e,c[G],a,i,i));G++);ig(e,n,i,a);return}!C.isCollapsed()||!Oo(v)||Xf(e).length?(sy(C,!0,function(){uy(e,L)}),Oo(v)&&h2(e,n,a,C.getStart())&&NS(g,C,C.getRng()),e.nodeChanged()):u6(e,n,a,u),ig(e,n,i,a)},e3=Ce.each,B2=function(e,n,a,i){var u=function(c){if(c.nodeType===1&&c.parentNode&&c.parentNode.nodeType===1){var v=LS(e,c.parentNode);e.getStyle(c,"color")&&v?e.setStyle(c,"text-decoration",v):e.getStyle(c,"text-decoration")===v&&e.setStyle(c,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Ce.walk(i,u,"childNodes"),u(i))},t3=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&Ks(i,r1(e,"fontSize"),GA(e,"backgroundColor",Ec(n.styles.backgroundColor,a)))},y6=function(e,n,a,i){Oo(n)&&(n.inline==="sub"||n.inline==="sup")&&(Ks(i,r1(e,"fontSize"),GA(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},o1=function(e,n,a,i){e3(n,function(u){Oo(u)&&e3(e.dom.select(u.inline,i),function(c){!T2(c)||Ld(e,u,a,c,u.exact?c:null)}),n1(e.dom,u,i)})},n3=function(e,n,a,i,u){Bc(e,u.parentNode,a,i)&&Ld(e,n,i,u)||n.merge_with_parents&&e.dom.getParent(u.parentNode,function(c){if(Bc(e,c,a,i))return Ld(e,n,i,u),!0})},ff=Ce.each,Sg=function(e){return fn(e)&&!qi(e)&&!Us(e)&&!tl(e)},r3=function(e,n,a,i){if(QO(e)&&Oo(n)){var u=Vt(Vt({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),c=n6(E.fromDom(a),function(v){return Us(v.dom)});return Ur(u,i)&&Co(E.fromDom(a.parentNode),!1)&&!c}else return!1},z2=function(e,n,a,i){var u=e.formatter.get(n),c=u[0],v=!i&&e.selection.isCollapsed(),m=e.dom,g=e.selection,C=function(Q,ie){if(ie===void 0&&(ie=c),Fe(ie.onformat)&&ie.onformat(Q,ie,a,i),ff(ie.styles,function(se,pe){m.setStyle(Q,pe,Ec(se,a))}),ie.styles){var Y=m.getAttrib(Q,"style");Y&&m.setAttrib(Q,"data-mce-style",Y)}ff(ie.attributes,function(se,pe){m.setAttrib(Q,pe,Ec(se,a))}),ff(ie.classes,function(se){se=Ec(se,a),m.hasClass(Q,se)||m.addClass(Q,se)})},T=function(Q,ie){var Y=!1;return ff(Q,function(se){if(!pu(se))return!1;if(!(an(se.collapsed)&&se.collapsed!==v)&&m.is(ie,se.selector)&&!Us(ie))return C(ie,se),Y=!0,!1}),Y},D=function(Q){if(bn(Q)){var ie=m.create(Q);return C(ie),ie}else return null},B=function(Q,ie,Y){var se=[],pe=!0,Re=c.inline||c.block,Pt=D(Re);tg(Q,ie,function(vt){var De,Qt=function(Le){var ft=!1,Ie=pe,Qe=Le.nodeName.toLowerCase(),ht=Le.parentNode,Be=ht.nodeName.toLowerCase();if(fn(Le)&&Q.getContentEditable(Le)&&(Ie=pe,pe=Q.getContentEditable(Le)==="true",ft=!0),Sr(Le)&&!r3(e,c,Le,Be)){De=null,Tc(c)&&Q.remove(Le);return}if(Tc(c)&&c.wrapper&&Bc(e,Le,n,a)){De=null;return}if(pe&&!ft&&Tc(c)&&!c.wrapper&&ey(e,Qe)&&Cd(e,Be,Re)){var pt=Q.rename(Le,Re);C(pt),se.push(pt),De=null;return}if(pu(c)){var gn=T(u,Le);if(!gn&&an(ht)&&ry(c)&&(gn=T(u,ht)),!Oo(c)||gn){De=null;return}}pe&&!ft&&Cd(e,Re,Qe)&&Cd(e,Be,Re)&&!(!Y&&Ct(Le)&&Wi(Le.data))&&!Us(Le)&&(!Oo(c)||!Q.isBlock(Le))?(De||(De=Q.clone(Pt,!1),Le.parentNode.insertBefore(De,Le),se.push(De)),De.appendChild(Le)):(De=null,Ne(kt(Le.childNodes),Qt),ft&&(pe=Ie),De=null)};Ne(vt,Qt)}),c.links===!0&&Ne(se,function(vt){var De=function(Qt){Qt.nodeName==="A"&&C(Qt,c),Ne(kt(Qt.childNodes),De)};De(vt)}),Ne(se,function(vt){var De=function(ft){var Ie=0;return Ne(ft.childNodes,function(Qe){!ND(Qe)&&!qi(Qe)&&Ie++}),Ie},Qt=function(ft){var Ie=hr(ft.childNodes,Sg).filter(function(Qe){return g2(Q,Qe,c)});return Ie.map(function(Qe){var ht=Q.clone(Qe,!1);return C(ht),Q.replace(ht,ft,!0),Q.remove(Qe,!0),ht}).getOr(ft)},Le=De(vt);if((se.length>1||!Q.isBlock(vt))&&Le===0){Q.remove(vt,!0);return}(Oo(c)||Tc(c)&&c.wrapper)&&(!c.exact&&Le===1&&(vt=Qt(vt)),o1(e,u,a,vt),n3(e,c,n,a,vt),t3(Q,c,a,vt),B2(Q,c,a,vt),y6(Q,c,a,vt),qA(Q,c,a,vt))})};if(m.getContentEditable(g.getNode())==="false"){i=g.getNode();for(var I=0,F=u.length;I<F;I++){var L=u[I];if(L.ceFalseOverride&&pu(L)&&m.is(i,L.selector)){C(i,L);break}}my(e,n,i,a);return}if(c){if(i)if(wd(i)){if(!T(u,i)){var $=m.createRng();$.setStartBefore(i),$.setEndAfter(i),B(m,Sd(e,$,u),!0)}}else B(m,i,!0);else if(!v||!Oo(c)||Xf(e).length){var G=g.getNode(),q=u[0];!e.settings.forced_root_block&&q.defaultBlock&&!m.getParent(G,m.isBlock)&&z2(e,q.defaultBlock),g.setRng(r2(g.getRng())),sy(g,!0,function(){uy(e,function(Q,ie){var Y=ie?Q:Sd(e,Q,u);B(m,Y,!1)})}),NS(m,g,g.getRng()),e.nodeChanged()}else i6(e,n,a);A2(n,e)}my(e,n,i,a)},a3=function(e){return Sn(e,"vars")},w6=function(e,n){e.set({}),n.on("NodeChange",function(a){s3(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=U.from(a.node).map(function(u){return wd(u)?u:u.startContainer}).bind(function(u){return fn(u)?U.some(u):U.from(u.parentElement)}).getOrThunk(function(){return o3(n)});s3(n,i,e.get())})},o3=function(e){return e.selection.getStart()},i3=function(e,n,a,i,u){var c=function(m){var g=e.formatter.matchNode(m,a,u!=null?u:{},i);return!fe(g)},v=function(m){return FA(e,m,a)?!0:i?!1:an(e.formatter.matchNode(m,a,u,!0))};return ur(n,c,v)},u3=function(e,n){var a=n!=null?n:o3(e);return bt(Qm(e.dom,a),function(i){return fn(i)&&!tl(i)})},s3=function(e,n,a){var i=u3(e,n);or(a,function(u,c){var v=function(m){var g=i3(e,i,c,m.similar,a3(m)?m.vars:void 0),C=g.isSome();if(m.state.get()!==C){m.state.set(C);var T=g.getOr(n);a3(m)?m.callback(C,{node:T,format:c,parents:i}):Ne(m.callbacks,function(D){return D(C,{node:T,format:c,parents:i})})}};Ne([u.withSimilar,u.withoutSimilar],v),Ne(u.withVars,v)})},c3=function(e,n,a,i,u,c){var v=n.get();Ne(a.split(","),function(m){var g=$n(v,m).getOrThunk(function(){var D={withSimilar:{state:di(!1),similar:!0,callbacks:[]},withoutSimilar:{state:di(!1),similar:!1,callbacks:[]},withVars:[]};return v[m]=D,D}),C=function(){var D=u3(e);return i3(e,D,m,u,c).isSome()};if(fe(c)){var T=u?g.withSimilar:g.withoutSimilar;T.callbacks.push(i),T.callbacks.length===1&&T.state.set(C())}else g.withVars.push({state:di(C()),similar:u,vars:c,callback:i})}),n.set(v)},C6=function(e,n,a){var i=e.get();Ne(n.split(","),function(u){return $n(i,u).each(function(c){i[u]={withSimilar:Vt(Vt({},c.withSimilar),{callbacks:bt(c.withSimilar.callbacks,function(v){return v!==a})}),withoutSimilar:Vt(Vt({},c.withoutSimilar),{callbacks:bt(c.withoutSimilar.callbacks,function(v){return v!==a})}),withVars:bt(c.withVars,function(v){return v.callback!==a})}})}),e.set(i)},kg=function(e,n,a,i,u,c){return n.get()===null&&w6(n,e),c3(e,n,a,i,u,c),{unbind:function(){return C6(n,a,i)}}},x6=function(e,n,a,i){var u=e.formatter.get(n);h2(e,n,a,i)&&(!("toggle"in u[0])||u[0].toggle)?QA(e,n,a,i):z2(e,n,a,i)},M2=function(e,n){var a=n||document,i=a.createDocumentFragment();return Ne(e,function(u){i.appendChild(u.dom)}),E.fromDom(i)},R2=function(e,n,a){return{element:e,width:n,rows:a}},l3=function(e,n){return{element:e,cells:n}},f3=function(e,n){return{x:e,y:n}},P2=function(e,n){var a=parseInt(M(e,n),10);return isNaN(a)?1:a},v3=function(e,n,a,i,u){for(var c=P2(u,"rowspan"),v=P2(u,"colspan"),m=e.rows,g=a;g<a+c;g++){m[g]||(m[g]=l3(Mi(i),[]));for(var C=n;C<n+v;C++){var T=m[g].cells;T[C]=g===a&&C===n?u:co(u)}}},d3=function(e,n,a){var i=e.rows,u=i[a]?i[a].cells:[];return!!u[n]},F2=function(e,n,a){for(;d3(e,n,a);)n++;return n},I2=function(e){return yr(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},m3=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var u=a[i].cells,c=0;c<u.length;c++)if(tn(u[c],n))return U.some(f3(c,i));return U.none()},g3=function(e,n,a,i,u){for(var c=[],v=e.rows,m=a;m<=u;m++){var g=v[m].cells,C=n<i?g.slice(n,i+1):g.slice(i,n+1);c.push(l3(v[m].element,C))}return c},S6=function(e,n,a){var i=n.x,u=n.y,c=a.x,v=a.y,m=u<v?g3(e,i,u,c,v):g3(e,i,v,c,u);return R2(e.element,I2(m),m)},k6=function(e,n){var a=co(e.element),i=E.fromTag("tbody");return Nv(i,n),wo(a,i),a},A6=function(e){return Yt(e.rows,function(n){var a=Yt(n.cells,function(u){var c=Mi(u);return we(c,"colspan"),we(c,"rowspan"),c}),i=co(n.element);return Nv(i,a),i})},N2=function(e){var n=R2(co(e),0,[]);return Ne(Bi(e,"tr"),function(a,i){Ne(Bi(a,"td,th"),function(u,c){v3(n,F2(n,c,i),i,a,u)})}),R2(n.element,I2(n.rows),n.rows)},L2=function(e){return k6(e,A6(e))},h3=function(e,n,a){return m3(e,n).bind(function(i){return m3(e,a).map(function(u){return S6(e,i,u)})})},i1=function(e){return hr(e,function(n){return Pr(n)==="ul"||Pr(n)==="ol"})},yu=function(e,n){return hr(e,function(a){return Pr(a)==="li"&&iy(a,n)}).fold(Ge([]),function(a){return i1(e).map(function(i){var u=E.fromTag(Pr(i)),c=Bn(xh(i),function(v,m){return na(m,"list-style")});return Jn(u,c),[E.fromTag("li"),u]}).getOr([])})},Ag=function(e,n){var a=yr(n,function(i,u){return wo(u,i),u},e);return n.length>0?M2([a]):a},sv=function(e){return ci(e)?ba(e).filter(Ah).fold(Ge([]),function(n){return[e,n]}):Ah(e)?[e]:[]},E6=function(e,n){var a=E.fromDom(n.commonAncestorContainer),i=bl(a,e),u=bt(i,function(m){return Jo(m)||un(m)}),c=yu(i,n),v=u.concat(c.length?c:sv(a));return Yt(v,co)},$2=function(){return M2([])},p3=function(e,n){return Ag(E.fromDom(n.cloneContents()),E6(e,n))},T6=function(e,n){return Ef(n,"table",nt(tn,e))},O6=function(e,n){return T6(e,n[0]).bind(function(a){var i=n[0],u=n[n.length-1],c=N2(a);return h3(c,i,u).map(function(v){return M2([L2(v)])})}).getOrThunk($2)},D6=function(e,n){return n.length>0&&n[0].collapsed?$2():p3(e,n[0])},b3=function(e,n){var a=jS(n,e);return a.length>0?O6(e,a):D6(e,n)},u1=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Eg=function(e,n){return n>=0&&n<e.length&&yd(e.charAt(n))},H2=function(e,n){var a=vc(e.innerText);return n?u1(a):a},s1=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},_6=function(e){return U.from(e.selection.getRng()).map(function(n){var a=U.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),u=s1(a),c=Lt.browser.isIE()&&u!=="pre",v=e.dom.add(i,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),m=H2(v,c),g=vc(v.textContent);if(e.dom.remove(v),Eg(g,0)||Eg(g,g.length-1)){var C=a.getOr(i),T=H2(C,c),D=T.indexOf(m);if(D===-1)return m;var B=Eg(T,D-1),I=Eg(T,D+m.length);return(B?" ":"")+m+(I?" ":"")}else return m}).getOr("")},B6=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),u=e.selection.getSel(),c=Rd(e,bp(u)),v=n.contextual?b3(E.fromDom(e.getBody()),c).dom:a.cloneContents();return v&&i.appendChild(v),e.selection.serializer.serialize(i,n)},z6=function(e,n){return Vt(Vt({},e),{format:n,get:!0,selection:!0})},M6=function(e,n,a){a===void 0&&(a={});var i=z6(a,n),u=e.fire("BeforeGetContent",i);if(u.isDefaultPrevented())return e.fire("GetContent",u),u.content;if(u.format==="text")return _6(e);u.getInner=!0;var c=B6(e,u);return u.format==="tree"?c:(u.content=e.selection.isCollapsed()?"":c,e.fire("GetContent",u),u.content)},V2=0,y3=1,w3=2,R6=function(e,n){var a=e.length+n.length+2,i=new Array(a),u=new Array(a),c=function(T,D,B){return{start:T,end:D,diag:B}},v=function(T,D,B,I,F){var L=g(T,D,B,I);if(L===null||L.start===D&&L.diag===D-I||L.end===T&&L.diag===T-B)for(var $=T,G=B;$<D||G<I;)$<D&&G<I&&e[$]===n[G]?(F.push([V2,e[$]]),++$,++G):D-T>I-B?(F.push([w3,e[$]]),++$):(F.push([y3,n[G]]),++G);else{v(T,L.start,B,L.start-L.diag,F);for(var q=L.start;q<L.end;++q)F.push([V2,e[q]]);v(L.end,D,L.end-L.diag,I,F)}},m=function(T,D,B,I){for(var F=T;F-D<I&&F<B&&e[F]===n[F-D];)++F;return c(T,F,D)},g=function(T,D,B,I){var F=D-T,L=I-B;if(F===0||L===0)return null;var $=F-L,G=L+F,q=(G%2===0?G:G+1)/2;i[1+q]=T,u[1+q]=D+1;var Q,ie,Y,se,pe;for(Q=0;Q<=q;++Q){for(ie=-Q;ie<=Q;ie+=2){for(Y=ie+q,ie===-Q||ie!==Q&&i[Y-1]<i[Y+1]?i[Y]=i[Y+1]:i[Y]=i[Y-1]+1,se=i[Y],pe=se-T+B-ie;se<D&&pe<I&&e[se]===n[pe];)i[Y]=++se,++pe;if($%2!==0&&$-Q<=ie&&ie<=$+Q&&u[Y-$]<=i[Y])return m(u[Y-$],ie+T-B,D,I)}for(ie=$-Q;ie<=$+Q;ie+=2){for(Y=ie+q-$,ie===$-Q||ie!==$+Q&&u[Y+1]<=u[Y-1]?u[Y]=u[Y+1]-1:u[Y]=u[Y-1],se=u[Y]-1,pe=se-T+B-ie;se>=T&&pe>=B&&e[se]===n[pe];)u[Y]=se--,pe--;if($%2===0&&-Q<=ie&&ie<=Q&&u[Y]<=i[Y+$])return m(u[Y],ie+T-B,D,I)}}},C=[];return v(0,e.length,0,n.length,C),C},C3=function(e){return fn(e)?e.outerHTML:Ct(e)?Fs.encodeRaw(e.data,!1):nl(e)?"<!--"+e.data+"-->":""},P6=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},F6=function(e,n,a){var i=P6(n);if(e.hasChildNodes()&&a<e.childNodes.length){var u=e.childNodes[a];u.parentNode.insertBefore(i,u)}else e.appendChild(i)},I6=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},U2=function(e,n){var a=0;Ne(e,function(i){i[0]===V2?a++:i[0]===y3?(F6(n,i[1],a),a++):i[0]===w3&&I6(n,a)})},N6=function(e){return bt(Yt(kt(e.childNodes),C3),function(n){return n.length>0})},$d=function(e,n){var a=Yt(kt(n.childNodes),C3);return U2(R6(a,e),n),n},x3=eu(function(){return document.implementation.createHTMLDocument("undo")}),Ia=function(e){return e.indexOf("</iframe>")!==-1},L6=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},$6=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},W2=function(e){var n=N6(e.getBody()),a=za(n,function(u){var c=Mk(e.serializer,u);return c.length>0?[c]:[]}),i=a.join("");return Ia(i)?L6(a):$6(i)},j2=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?$d(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:an(i)&&zS(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},wu=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Tg=function(e){var n=E.fromTag("body",x3());return Ao(n,wu(e)),Ne(Bi(n,"*[data-mce-bogus]"),Lv),Vo(n)},Og=function(e,n){return wu(e)===wu(n)},Dg=function(e,n){return Tg(e)===Tg(n)},Hd=function(e,n){return!e||!n?!1:Og(e,n)?!0:Dg(e,n)},q2=function(e){return e.get()===0},c1=function(e,n,a){q2(a)&&(e.typing=n)},cv=function(e,n){e.typing&&(c1(e,!1,n),e.add())},Vd=function(e){e.typing&&(e.typing=!1,e.add())},Ud=function(e,n,a){q2(n)&&a.set(Jx(e.selection))},G2=function(e,n,a,i,u,c,v){var m=W2(e);if(c=c||{},c=Ce.extend(c,m),q2(i)===!1||e.removed)return null;var g=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:c,lastLevel:g,originalEvent:v}).isDefaultPrevented()||g&&Hd(g,c))return null;n.data[a.get()]&&u.get().each(function(B){n.data[a.get()].beforeBookmark=B});var C=lp(e);if(C&&n.data.length>C){for(var T=0;T<n.data.length-1;T++)n.data[T]=n.data[T+1];n.data.length--,a.set(n.data.length)}c.bookmark=Jx(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(c),a.set(n.data.length-1);var D={level:c,lastLevel:g,originalEvent:v};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",D),e.fire("change",D)):e.fire("AddUndo",D),c},H6=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},K2=function(e,n,a,i,u){if(n.transact(i)){var c=n.data[a.get()].bookmark,v=n.data[a.get()-1];j2(e,v,!0),n.transact(u)&&(n.data[a.get()-1].beforeBookmark=c)}},S3=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],j2(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},k3=function(e,n,a,i){var u;return n.typing&&(n.add(),n.typing=!1,c1(n,!1,a)),i.get()>0&&(i.set(i.get()-1),u=n.data[i.get()],j2(e,u,!0),e.setDirty(!0),e.fire("Undo",{level:u})),u},V6=function(e){e.clear(),e.add()},U6=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!Hd(W2(e),n.data[0])},A3=function(e,n){return n.get()<e.data.length-1&&!e.typing},W6=function(e,n,a){return cv(e,n),e.beforeChange(),e.ignore(a),e.add()},j6=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},q6=function(e,n){var a=e.dom,i=an(n)?n:e.getBody();fe(e.hasVisual)&&(e.hasVisual=vD(e)),Ne(a.select("table,a",i),function(u){switch(u.nodeName){case"TABLE":var c=qm(e),v=a.getAttrib(u,"border");(!v||v==="0")&&e.hasVisual?a.addClass(u,c):a.removeClass(u,c);break;case"A":if(!a.getAttrib(u,"href")){var m=a.getAttrib(u,"name")||u.id,g=dD(e);m&&e.hasVisual?a.addClass(u,g):a.removeClass(u,g)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},E3=function(e){return{undoManager:{beforeChange:function(n,a){return Ud(e,n,a)},add:function(n,a,i,u,c,v){return G2(e,n,a,i,u,c,v)},undo:function(n,a,i){return k3(e,n,a,i)},redo:function(n,a){return S3(e,n,a)},clear:function(n,a){return H6(e,n,a)},reset:function(n){return V6(n)},hasUndo:function(n,a){return U6(e,n,a)},hasRedo:function(n,a){return A3(n,a)},transact:function(n,a,i){return W6(n,a,i)},ignore:function(n,a){return j6(n,a)},extra:function(n,a,i,u){return K2(e,n,a,i,u)}},formatter:{match:function(n,a,i,u){return h2(e,n,a,i,u)},matchAll:function(n,a){return p2(e,n,a)},matchNode:function(n,a,i,u){return Bc(e,n,a,i,u)},canApply:function(n){return b2(e,n)},closest:function(n){return Gs(e,n)},apply:function(n,a,i){return z2(e,n,a,i)},remove:function(n,a,i,u){return QA(e,n,a,i,u)},toggle:function(n,a,i){return x6(e,n,a,i)},formatChanged:function(n,a,i,u,c){return kg(e,n,a,i,u,c)}},editor:{getContent:function(n,a){return Rk(e,n,a)},setContent:function(n,a){return RA(e,n,a)},insertContent:function(n,a){return YB(e,n,a)},addVisual:function(n){return q6(e,n)}},selection:{getContent:function(n,a){return M6(e,n,a)}},raw:{getModel:function(){return U.none()}}}},G6=function(e){var n=function(m){return Cn(m)?m:{}},a=e.undoManager,i=e.formatter,u=e.editor,c=e.selection,v=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(m,g,C){return a.transact(C)},ignore:function(m,g){return a.ignore(g)},extra:function(m,g,C,T){return a.extra(C,T)}},formatter:{match:function(m,g,C,T){return i.match(m,n(g),T)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(m){return i.canApply(m)},closest:function(m){return i.closest(m)},apply:function(m,g,C){return i.apply(m,n(g))},remove:function(m,g,C,T){return i.remove(m,n(g))},toggle:function(m,g,C){return i.toggle(m,n(g))},formatChanged:function(m,g,C,T,D){return i.formatChanged(g,C,T,D)}},editor:{getContent:function(m,g){return u.getContent(m)},setContent:function(m,g){return u.setContent(m,g)},insertContent:function(m,g){return u.insertContent(m)},addVisual:u.addVisual},selection:{getContent:function(m,g){return c.getContent(g)}},raw:{getModel:function(){return U.some(v.getRawModel())}}}},T3=function(){var e=Ge(null),n=Ge("");return{undoManager:{beforeChange:Ve,add:e,undo:e,redo:e,clear:Ve,reset:Ve,hasUndo:yt,hasRedo:yt,transact:e,ignore:Ve,extra:Ve},formatter:{match:yt,matchAll:Ge([]),matchNode:Ge(void 0),canApply:yt,closest:n,apply:Ve,remove:Ve,toggle:Ve,formatChanged:Ge({unbind:Ve})},editor:{getContent:n,setContent:n,insertContent:Ve,addVisual:Ve},selection:{getContent:n},raw:{getModel:Ge(U.none())}}},wl=function(e){return Sn(e.plugins,"rtc")},_g=function(e){return $n(e.plugins,"rtc").bind(function(n){return U.from(n.setup)})},O3=function(e){var n=e;return _g(e).fold(function(){return n.rtcInstance=E3(e),U.none()},function(a){return n.rtcInstance=T3(),U.some(function(){return a().then(function(i){return n.rtcInstance=G6(i),i.rtc.isRemote})})})},X2=function(e){return e.rtcInstance?e.rtcInstance:E3(e)},Va=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},K6=function(e,n,a){Va(e).undoManager.beforeChange(n,a)},D3=function(e,n,a,i,u,c,v){return Va(e).undoManager.add(n,a,i,u,c,v)},X6=function(e,n,a,i){return Va(e).undoManager.undo(n,a,i)},Y6=function(e,n,a){return Va(e).undoManager.redo(n,a)},_3=function(e,n,a){Va(e).undoManager.clear(n,a)},B3=function(e,n){Va(e).undoManager.reset(n)},z3=function(e,n,a){return Va(e).undoManager.hasUndo(n,a)},M3=function(e,n,a){return Va(e).undoManager.hasRedo(n,a)},R3=function(e,n,a,i){return Va(e).undoManager.transact(n,a,i)},Z6=function(e,n,a){Va(e).undoManager.ignore(n,a)},J6=function(e,n,a,i,u){Va(e).undoManager.extra(n,a,i,u)},Q6=function(e,n,a,i,u){return Va(e).formatter.match(n,a,i,u)},ez=function(e,n,a){return Va(e).formatter.matchAll(n,a)},Y2=function(e,n,a,i,u){return Va(e).formatter.matchNode(n,a,i,u)},Bg=function(e,n){return Va(e).formatter.canApply(n)},P3=function(e,n){return Va(e).formatter.closest(n)},F3=function(e,n,a,i){Va(e).formatter.apply(n,a,i)},l1=function(e,n,a,i,u){Va(e).formatter.remove(n,a,i,u)},tz=function(e,n,a,i){Va(e).formatter.toggle(n,a,i)},nz=function(e,n,a,i,u,c){return Va(e).formatter.formatChanged(n,a,i,u,c)},vf=function(e,n,a){return X2(e).editor.getContent(n,a)},Z2=function(e,n,a){return X2(e).editor.setContent(n,a)},I3=function(e,n,a){return X2(e).editor.insertContent(n,a)},zg=function(e,n,a){return Va(e).selection.getContent(n,a)},N3=function(e,n){return Va(e).editor.addVisual(n)},L3=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return zg(e,a,n)},J2=function(e){return e.dom.length===0?(ka(e),U.none()):U.some(e)},$3=function(e,n){return e.filter(function(a){return Zf.isBookmarkNode(a.dom)}).bind(n?zl:Gc)},rz=function(e,n,a,i){var u=e.dom,c=n.dom,v=i?u.length:c.length;i?(Gp(u,c,!1,!i),a.setStart(c,v)):(Gp(c,u,!1,!i),a.setEnd(c,v))},az=function(e,n){ba(e).each(function(a){var i=e.dom;n&&Wp(a,he(i,0))?hg(i,0):!n&&jp(a,he(i,i.length))&&qp(i,i.length)})},H3=function(e,n,a,i){e.bind(function(u){var c=i?qp:hg;return c(u.dom,i?u.dom.length:0),n.filter(Sa).map(function(v){return rz(u,v,a,i)})}).orThunk(function(){var u=$3(n,i).or(n).filter(Sa);return u.map(function(c){return az(c,i)})})},Q2=function(e,n){var a=U.from(n.firstChild).map(E.fromDom),i=U.from(n.lastChild).map(E.fromDom);e.deleteContents(),e.insertNode(n);var u=a.bind(Gc).filter(Sa).bind(J2),c=i.bind(zl).filter(Sa).bind(J2);H3(u,a,e,!0),H3(c,i,e,!1),e.collapse(!1)},oz=function(e,n){return Vt(Vt({format:"html"},e),{set:!0,selection:!0,content:n})},iz=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),u=i?{context:i.nodeName.toLowerCase()}:{},c=e.parser.parse(n.content,Vt(Vt({isRootContent:!0,forced_root_block:!1},u),n));return Pd({validate:e.validate},e.schema).serialize(c)}else return n.content},Mg=function(e,n,a){a===void 0&&(a={});var i=oz(a,n),u=i;if(!i.no_events){var c=e.fire("BeforeSetContent",i);if(c.isDefaultPrevented()){e.fire("SetContent",c);return}else u=c}u.content=iz(e,u);var v=e.selection.getRng();Q2(v,v.createContextualFragment(u.content)),e.selection.setRng(v),Dd(e,v),u.no_events||e.fire("SetContent",u)},f1=function(e,n,a){if(e&&Sn(e,n)){var i=bt(e[n],function(u){return u!==a});i.length===0?delete e[n]:e[n]=i}};function uz(e,n){var a,i,u=function(v,m){return hr(m,function(g){return e.is(g,v)})},c=function(v){return e.getParents(v,null,e.getRoot())};return{selectorChangedWithUnbind:function(v,m){return a||(a={},i={},n.on("NodeChange",function(g){var C=g.element,T=c(C),D={};Ce.each(a,function(B,I){u(I,T).each(function(F){i[I]||(Ne(B,function(L){L(!0,{node:F,selector:I,parents:T})}),i[I]=B),D[I]=B})}),Ce.each(i,function(B,I){D[I]||(delete i[I],Ce.each(B,function(F){F(!1,{node:C,selector:I,parents:T})}))})})),a[v]||(a[v]=[]),a[v].push(m),u(v,c(n.selection.getStart())).each(function(){i[v]=a[v]}),{unbind:function(){f1(a,v,m),f1(i,v,m)}}}}}var ew=function(e){return!!e.select},V3=function(e){return!!(e&&e.ownerDocument)&&pr(E.fromDom(e.ownerDocument),E.fromDom(e))},v1=function(e){return e?ew(e)?!0:V3(e.startContainer)&&V3(e.endContainer):!1},tw=function(e,n,a,i){var u,c,v=uz(e,i).selectorChangedWithUnbind,m=function(Be,pt){var gn=e.createRng();an(Be)&&an(pt)?(gn.setStart(Be,pt),gn.setEnd(Be,pt),Q(gn),$(!1)):(kd(e,gn,i.getBody(),!0),Q(gn))},g=function(Be){return L3(i,Be)},C=function(Be,pt){return Mg(i,Be,pt)},T=function(Be){return By(i.getBody(),q(),Be)},D=function(Be){return Ak(i.getBody(),q(),Be)},B=function(Be,pt){return Qe.getBookmark(Be,pt)},I=function(Be){return Qe.moveToBookmark(Be)},F=function(Be,pt){return N_(e,Be,pt).each(Q),Be},L=function(){var Be=q(),pt=G();return!Be||Be.item?!1:Be.compareEndPoints?Be.compareEndPoints("StartToEnd",Be)===0:!pt||Be.collapsed},$=function(Be){var pt=q();pt.collapse(!!Be),Q(pt)},G=function(){return n.getSelection?n.getSelection():n.document.selection},q=function(){var Be,pt,gn,mr=function(fa,Pi,Qi){try{return Pi.compareBoundaryPoints(fa,Qi)}catch(ze){return-1}},Un=n.document;if(i.bookmark!==void 0&&Jf(i)===!1){var wa=ky(i);if(wa.isSome())return wa.map(function(fa){return Rd(i,[fa])[0]}).getOr(Un.createRange())}try{(Be=G())&&!Vv(Be.anchorNode)&&(Be.rangeCount>0?pt=Be.getRangeAt(0):pt=Be.createRange?Be.createRange():Un.createRange(),pt=Rd(i,[pt])[0])}catch(fa){}return pt||(pt=Un.createRange?Un.createRange():Un.body.createTextRange()),pt.setStart&&pt.startContainer.nodeType===9&&pt.collapsed&&(gn=e.getRoot(),pt.setStart(gn,0),pt.setEnd(gn,0)),u&&c&&(mr(pt.START_TO_START,pt,u)===0&&mr(pt.END_TO_END,pt,u)===0?pt=c:(u=null,c=null)),pt},Q=function(Be,pt){var gn;if(!!v1(Be)){var mr=ew(Be)?Be:null;if(mr){c=null;try{mr.select()}catch(fa){}return}var Un=G(),wa=i.fire("SetSelectionRange",{range:Be,forward:pt});if(Be=wa.range,Un){c=Be;try{Un.removeAllRanges(),Un.addRange(Be)}catch(fa){}pt===!1&&Un.extend&&(Un.collapse(Be.endContainer,Be.endOffset),Un.extend(Be.startContainer,Be.startOffset)),u=Un.rangeCount>0?Un.getRangeAt(0):null}!Be.collapsed&&Be.startContainer===Be.endContainer&&Un.setBaseAndExtent&&!Lt.ie&&Be.endOffset-Be.startOffset<2&&Be.startContainer.hasChildNodes()&&(gn=Be.startContainer.childNodes[Be.startOffset],gn&&gn.tagName==="IMG"&&(Un.setBaseAndExtent(Be.startContainer,Be.startOffset,Be.endContainer,Be.endOffset),(Un.anchorNode!==Be.startContainer||Un.focusNode!==Be.endContainer)&&Un.setBaseAndExtent(gn,0,gn,1))),i.fire("AfterSetSelectionRange",{range:Be,forward:pt})}},ie=function(Be){return C(e.getOuterHTML(Be)),Be},Y=function(){return F_(i.getBody(),q())},se=function(Be,pt){return I_(e,q(),Be,pt)},pe=function(){var Be=G(),pt=Be==null?void 0:Be.anchorNode,gn=Be==null?void 0:Be.focusNode;if(!Be||!pt||!gn||Vv(pt)||Vv(gn))return!0;var mr=e.createRng();mr.setStart(pt,Be.anchorOffset),mr.collapse(!0);var Un=e.createRng();return Un.setStart(gn,Be.focusOffset),Un.collapse(!0),mr.compareBoundaryPoints(mr.START_TO_START,Un)<=0},Re=function(){var Be=q(),pt=G();if(!jD(pt)&&Yf(i)){var gn=ug(e,Be);return gn.each(function(mr){Q(mr,pe())}),gn.getOr(Be)}return Be},Pt=function(Be,pt){return v(Be,pt),Ie},vt=function(){for(var Be,pt=e.getRoot();pt&&pt.nodeName!=="BODY";){if(pt.scrollHeight>pt.clientHeight){Be=pt;break}pt=pt.parentNode}return Be},De=function(Be,pt){an(Be)?h_(i,Be,pt):Dd(i,q(),pt)},Qt=function(Be,pt){return Q(py(Be,pt,i.getDoc()))},Le=function(){var Be=q();return Be.collapsed?he.fromRangeStart(Be).getClientRects()[0]:Be.getBoundingClientRect()},ft=function(){n=u=c=null,ht.destroy()},Ie={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:$,setCursorLocation:m,getContent:g,setContent:C,getBookmark:B,moveToBookmark:I,select:F,isCollapsed:L,isForward:pe,setNode:ie,getNode:Y,getSel:G,setRng:Q,getRng:q,getStart:T,getEnd:D,getSelectedBlocks:se,normalize:Re,selectorChanged:Pt,selectorChangedWithUnbind:v,getScrollContainer:vt,scrollIntoView:De,placeCaretAt:Qt,getBoundingClientRect:Le,destroy:ft},Qe=Zf(Ie),ht=YS(Ie,i);return Ie.bookmarkManager=Qe,Ie.controlSelection=ht,Ie},sz=function(e,n){Ne(n,function(a){e.attr(a,null)})},Ua=function(e,n,a){e.addNodeFilter("font",function(i){Ne(i,function(u){var c=n.parse(u.attr("style")),v=u.attr("color"),m=u.attr("face"),g=u.attr("size");v&&(c.color=v),m&&(c["font-family"]=m),g&&(c["font-size"]=a[parseInt(u.attr("size"),10)-1]),u.name="span",u.attr("style",n.serialize(c)),sz(u,["color","face","size"])})})},cz=function(e,n){e.addNodeFilter("strike",function(a){Ne(a,function(i){var u=n.parse(i.attr("style"));u["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(u))})})},U3=function(e,n){var a=il();n.convert_fonts_to_spans&&Ua(e,a,Ce.explode(n.font_size_legacy_values)),cz(e,a)},lz=function(e,n){n.inline_styles&&U3(e,n)},fz=function(e){return new uo(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="blob",u.onload=function(){u.status===200?n(u.response):i()},u.onerror=i,u.send()}catch(c){i()}})},d1=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},W3=function(e,n){var a;try{a=atob(n)}catch(c){return U.none()}for(var i=new Uint8Array(a.length),u=0;u<i.length;u++)i[u]=a.charCodeAt(u);return U.some(new Blob([i],{type:e}))},nw=function(e){return new uo(function(n){var a=d1(e),i=a.type,u=a.data;W3(i,u).fold(function(){return n(new Blob([]))},n)})},j3=function(e){return e.indexOf("blob:")===0?fz(e):e.indexOf("data:")===0?nw(e):null},q3=function(e){return new uo(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},rw=0,aw=function(e){return(e||"blobid")+rw++},vz=function(e,n,a,i){var u,c;if(n.src.indexOf("blob:")===0){c=e.getByUri(n.src),c?a({image:n,blobInfo:c}):j3(n.src).then(function(C){q3(C).then(function(T){u=d1(T).data,c=e.create(aw(),C,u),e.add(c),a({image:n,blobInfo:c})})},function(C){i(C)});return}var v=d1(n.src),m=v.data,g=v.type;u=m,c=e.getByData(u,g),c?a({image:n,blobInfo:c}):j3(n.src).then(function(C){c=e.create(aw(),C,u),e.add(c),a({image:n,blobInfo:c})},function(C){i(C)})},dz=function(e){return e?kt(e.getElementsByTagName("img")):[]},mz=function(e,n){var a={},i=function(u,c){c||(c=Ht);var v=bt(dz(u),function(g){var C=g.src;return!Lt.fileApi||g.hasAttribute("data-mce-bogus")||g.hasAttribute("data-mce-placeholder")||!C||C===Lt.transparentSrc?!1:C.indexOf("blob:")===0?!e.isUploaded(C)&&c(g):C.indexOf("data:")===0?c(g):!1}),m=Yt(v,function(g){if(a[g.src]!==void 0)return new uo(function(T){a[g.src].then(function(D){if(typeof D=="string")return D;T({image:g,blobInfo:D.blobInfo})})});var C=new uo(function(T,D){vz(n,g,T,D)}).then(function(T){return delete a[T.image.src],T}).catch(function(T){return delete a[g.src],T});return a[g.src]=C,C});return uo.all(m)};return{findAll:i}},G3=function(e,n,a,i){var u=e.padd_empty_with_br||n.insert;u&&a[i.name]?i.empty().append(new Uu("br",1)).shortEnded=!0:i.empty().append(new Uu("#text",3)).value=Ui},K3=function(e){return ow(e,"#text")&&e.firstChild.value===Ui},ow=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},iw=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},Wd=function(e,n,a,i){return i.isEmpty(n,a,function(u){return iw(e,u)})},X3=function(e,n){return e&&(Sn(n,e.name)||e.name==="br")},Y3=function(e){return an(e.attr("data-mce-bogus"))},Z3=function(e){return e.attr("src")===Lt.transparentSrc||an(e.attr("data-mce-placeholder"))},J3=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),or(e.attributes.map,function(i,u){a.setAttribute(u,i)}),n.images_dataimg_filter(a)}else return!0},Q3=function(e,n){var a=n.blob_cache,i=function(u){var c=u.attr("src");Z3(u)||Y3(u)||$_(c).filter(function(){return J3(u,n)}).bind(function(v){var m=v.type,g=v.data;return U.from(a.getByData(g,m)).orThunk(function(){return W3(m,g).map(function(C){var T=a.create(aw(),C,g);return a.add(T),T})})}).each(function(v){u.attr("src",v.blobUri())})};a&&e.addAttributeFilter("src",function(u){return Ne(u,i)})},gz=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,u,c){var v,m=i.length,g,C=Ce.extend({},a.getBlockElements()),T=a.getNonEmptyElements(),D,B,I,F,L=a.getWhiteSpaceElements(),$,G;for(C.body=1,v=0;v<m;v++)if(g=i[v],D=g.parent,C[g.parent.name]&&g===D.lastChild){for(I=g.prev;I;){if(F=I.name,F!=="span"||I.attr("data-mce-type")!=="bookmark"){F==="br"&&(g=null);break}I=I.prev}g&&(g.remove(),Wd(a,T,L,D)&&($=a.getElementRule(D.name),$&&($.removeEmpty?D.remove():$.paddEmpty&&G3(n,c,C,D))))}else{for(B=g;D&&D.firstChild===B&&D.lastChild===B&&(B=D,!C[D.name]);)D=D.parent;B===D&&n.padd_empty_with_br!==!0&&(G=new Uu("#text",3),G.value=Ui,g.replace(G))}}),e.addAttributeFilter("href",function(i){var u=i.length,c=function(g){var C=g.split(" ").filter(function(T){return T.length>0});return C.concat(["noopener"]).sort().join(" ")},v=function(g){var C=g?Ce.trim(g):"";return/\b(noopener)\b/g.test(C)?C:c(C)};if(!n.allow_unsafe_link_target)for(;u--;){var m=i[u];m.name==="a"&&m.attr("target")==="_blank"&&m.attr("rel",v(m.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var u=i.length,c,v,m,g;u--;)if(g=i[u],g.name==="a"&&g.firstChild&&!g.attr("href")){m=g.parent,c=g.lastChild;do v=c.prev,m.insert(c,g),c=v;while(c)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var u=i.length,c,v;u--;)if(c=i[u],v=c.parent,v.name==="ul"||v.name==="ol")if(c.prev&&c.prev.name==="li")c.prev.append(c);else{var m=new Uu("li",1);m.attr("style","list-style-type: none"),c.wrap(m)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var u=a.getValidClasses(),c=i.length;c--;){for(var v=i[c],m=v.attr("class").split(" "),g="",C=0;C<m.length;C++){var T=m[C],D=!1,B=u["*"];B&&B[T]&&(D=!0),B=u[v.name],!D&&B&&B[T]&&(D=!0),D&&(g&&(g+=" "),g+=T)}g.length||(g=null),v.attr("class",g)}}),Q3(e,n)},m1=Ce.makeMap,e4=Ce.each,Rg=Ce.explode,hz=Ce.extend,uw=function(e,n){n===void 0&&(n=Fn());var a={},i=[],u={},c={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var v=function(F){for(var L=m1("tr,td,th,tbody,thead,tfoot,table"),$=n.getNonEmptyElements(),G=n.getWhiteSpaceElements(),q=n.getTextBlockElements(),Q=n.getSpecialElements(),ie=function(Qe,ht){if(ht===void 0&&(ht=Qe.parent),Q[Qe.name])Qe.empty().remove();else{for(var Be=Qe.children(),pt=0,gn=Be;pt<gn.length;pt++){var mr=gn[pt];n.isValidChild(ht.name,mr.name)||ie(mr,ht)}Qe.unwrap()}},Y=0;Y<F.length;Y++){var se=F[Y],pe=void 0,Re=void 0,Pt=void 0;if(!(!se.parent||se.fixed)){if(q[se.name]&&se.parent.name==="li"){for(var vt=se.next;vt&&q[vt.name];){vt.name="li",vt.fixed=!0,se.parent.insert(vt,se.parent);vt=vt.next}se.unwrap();continue}var De=[se];for(pe=se.parent;pe&&!n.isValidChild(pe.name,se.name)&&!L[pe.name];pe=pe.parent)De.push(pe);if(pe&&De.length>1)if(n.isValidChild(pe.name,se.name)){De.reverse(),Re=m(De[0].clone());for(var Qt=Re,Le=0;Le<De.length-1;Le++){n.isValidChild(Qt.name,De[Le].name)?(Pt=m(De[Le].clone()),Qt.append(Pt)):Pt=Qt;for(var ft=De[Le].firstChild;ft&&ft!==De[Le+1];){var Ie=ft.next;Pt.append(ft),ft=Ie}Qt=Pt}Wd(n,$,G,Re)?pe.insert(se,De[0],!0):(pe.insert(Re,De[0],!0),pe.insert(se,Re)),pe=De[0],(Wd(n,$,G,pe)||ow(pe,"br"))&&pe.empty().remove()}else ie(se);else if(se.parent){if(se.name==="li"){var vt=se.prev;if(vt&&(vt.name==="ul"||vt.name==="ol")){vt.append(se);continue}if(vt=se.next,vt&&(vt.name==="ul"||vt.name==="ol")){vt.insert(se,vt.firstChild,!0);continue}se.wrap(m(new Uu("ul",1)));continue}n.isValidChild(se.parent.name,"div")&&n.isValidChild("div",se.name)?se.wrap(m(new Uu("div",1))):ie(se)}}}},m=function(F){var L=F.name;if(L in a){var $=u[L];$?$.push(F):u[L]=[F]}for(var G=i.length;G--;){var q=i[G].name;if(q in F.attributes.map){var $=c[q];$?$.push(F):c[q]=[F]}}return F},g=function(F,L){e4(Rg(F),function($){var G=a[$];G||(a[$]=G=[]),G.push(L)})},C=function(){var F=[];for(var L in a)Sn(a,L)&&F.push({name:L,callbacks:a[L]});return F},T=function(F,L){e4(Rg(F),function($){var G;for(G=0;G<i.length;G++)if(i[G].name===$){i[G].callbacks.push(L);return}i.push({name:$,callbacks:[L]})})},D=function(){return[].concat(i)},B=function(F,L){var $,G,q,Q,ie,Y,se,pe=[],Re,Pt=function(le){return le===!1?"":le===!0?"p":le};L=L||{},u={},c={};var vt=hz(m1("script,style,head,html,body,title,meta,param"),n.getBlockElements()),De=n.getNonEmptyElements(),Qt=n.children,Le=e.validate,ft="forced_root_block"in L?L.forced_root_block:e.forced_root_block,Ie=Pt(ft),Qe=n.getWhiteSpaceElements(),ht=/^[ \t\r\n]+/,Be=/[ \t\r\n]+$/,pt=/[ \t\r\n]+/g,gn=/^[ \t\r\n]+$/,mr=Sn(Qe,L.context)||Sn(Qe,e.root_name),Un=function(){var le=ze.firstChild,Me=null,ve=function(Ze){Ze&&(le=Ze.firstChild,le&&le.type===3&&(le.value=le.value.replace(ht,"")),le=Ze.lastChild,le&&le.type===3&&(le.value=le.value.replace(Be,"")))};if(!!n.isValidChild(ze.name,Ie.toLowerCase())){for(;le;){var St=le.next;le.type===3||le.type===1&&le.name!=="p"&&!vt[le.name]&&!le.attr("data-mce-type")?(Me||(Me=wa(Ie,1),Me.attr(e.forced_root_block_attrs),ze.insert(Me,le)),Me.append(le)):(ve(Me),Me=null),le=St}ve(Me)}},wa=function(le,Me){var ve=new Uu(le,Me),St;return le in a&&(St=u[le],St?St.push(ve):u[le]=[ve]),ve},fa=function(le){for(var Me=n.getBlockElements(),ve=le.prev;ve&&ve.type===3;){var St=ve.value.replace(Be,"");if(St.length>0){ve.value=St;return}var Ze=ve.next;if(Ze){if(Ze.type===3&&Ze.value.length){ve=ve.prev;continue}if(!Me[Ze.name]&&Ze.name!=="script"&&Ze.name!=="style"){ve=ve.prev;continue}}var Kt=ve.prev;ve.remove(),ve=Kt}},Pi=function(le){var Me={};for(var ve in le)ve!=="li"&&ve!=="p"&&(Me[ve]=le[ve]);return Me},Qi=Np({validate:Le,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Pi(n.getSelfClosingElements()),cdata:function(le){Re.append(wa("#cdata",4)).value=le},text:function(le,Me){var ve;mr||(le=le.replace(pt," "),X3(Re.lastChild,vt)&&(le=le.replace(ht,""))),le.length!==0&&(ve=wa("#text",3),ve.raw=!!Me,Re.append(ve).value=le)},comment:function(le){Re.append(wa("#comment",8)).value=le},pi:function(le,Me){Re.append(wa(le,7)).value=Me,fa(Re)},doctype:function(le){var Me=Re.append(wa("#doctype",10));Me.value=le,fa(Re)},start:function(le,Me,ve){var St=Le?n.getElementRule(le):{};if(St){var Ze=wa(St.outputName||le,1);Ze.attributes=Me,Ze.shortEnded=ve,Re.append(Ze);var Kt=Qt[Re.name];Kt&&Qt[Ze.name]&&!Kt[Ze.name]&&pe.push(Ze);for(var Mn=i.length;Mn--;){var $r=i[Mn].name;$r in Me.map&&(Y=c[$r],Y?Y.push(Ze):c[$r]=[Ze])}vt[le]&&fa(Ze),ve||(Re=Ze),!mr&&Qe[le]&&(mr=!0)}},end:function(le){var Me,ve,St,Ze,Kt=Le?n.getElementRule(le):{};if(Kt){if(vt[le]&&!mr){if(Me=Re.firstChild,Me&&Me.type===3)if(ve=Me.value.replace(ht,""),ve.length>0)Me.value=ve,Me=Me.next;else for(St=Me.next,Me.remove(),Me=St;Me&&Me.type===3;)ve=Me.value,St=Me.next,(ve.length===0||gn.test(ve))&&(Me.remove(),Me=St),Me=St;if(Me=Re.lastChild,Me&&Me.type===3)if(ve=Me.value.replace(Be,""),ve.length>0)Me.value=ve,Me=Me.prev;else for(St=Me.prev,Me.remove(),Me=St;Me&&Me.type===3;)ve=Me.value,St=Me.prev,(ve.length===0||gn.test(ve))&&(Me.remove(),Me=St),Me=St}if(mr&&Qe[le]&&(mr=!1),Kt.removeEmpty&&Wd(n,De,Qe,Re)){Ze=Re.parent,vt[Re.name]?Re.empty().remove():Re.unwrap(),Re=Ze;return}Kt.paddEmpty&&(K3(Re)||Wd(n,De,Qe,Re))&&G3(e,L,vt,Re),Re=Re.parent}}},n),ze=Re=new Uu(L.context||e.root_name,11);if(Qi.parse(F,L.format),Le&&pe.length&&(L.context?L.invalid=!0:v(pe)),Ie&&(ze.name==="body"||L.isRootContent)&&Un(),!L.invalid){for(se in u)if(!!Sn(u,se)){for(Y=a[se],$=u[se],Q=$.length;Q--;)$[Q].parent||$.splice(Q,1);for(G=0,q=Y.length;G<q;G++)Y[G]($,se,L)}for(G=0,q=i.length;G<q;G++)if(Y=i[G],Y.name in c){for($=c[Y.name],Q=$.length;Q--;)$[Q].parent||$.splice(Q,1);for(Q=0,ie=Y.callbacks.length;Q<ie;Q++)Y.callbacks[Q]($,Y.name,L)}}return ze},I={schema:n,addAttributeFilter:T,getAttributeFilters:D,addNodeFilter:g,getNodeFilters:C,filterNode:m,parse:B};return gz(I,e),lz(I,e),I},pz=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,u){for(var c=i.length;c--;){var v=i[c];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(u,null)}}),e.addAttributeFilter("src,href,style",function(i,u){for(var c="data-mce-"+u,v=n.url_converter,m=n.url_converter_scope,g=i.length;g--;){var C=i[g],T=C.attr(c);T!==void 0?(C.attr(u,T.length>0?T:null),C.attr(c,null)):(T=C.attr(u),u==="style"?T=a.serializeStyle(a.parseStyle(T),C.name):v&&(T=v.call(m,T,u,C.name)),C.attr(u,T.length>0?T:null))}}),e.addAttributeFilter("class",function(i){for(var u=i.length;u--;){var c=i[u],v=c.attr("class");v&&(v=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",function(i,u,c){for(var v=i.length;v--;){var m=i[v];if(m.attr("data-mce-type")==="bookmark"&&!c.cleanup){var g=U.from(m.firstChild).exists(function(C){return!Wi(C.value)});g?m.unwrap():m.remove()}}}),e.addNodeFilter("noscript",function(i){for(var u=i.length;u--;){var c=i[u].firstChild;c&&(c.value=Fs.decode(c.value))}}),e.addNodeFilter("script,style",function(i,u){for(var c=function(T){return T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},v=i.length;v--;){var m=i[v],g=m.firstChild?m.firstChild.value:"";if(u==="script"){var C=m.attr("type");C&&m.attr("type",C==="mce-no/type"?null:C.replace(/^mce\-/,"")),n.element_format==="xhtml"&&g.length>0&&(m.firstChild.value=`// <![CDATA[
`+c(g)+`
// ]]>`)}else n.element_format==="xhtml"&&g.length>0&&(m.firstChild.value=`<!--
`+c(g)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var u=i.length;u--;){var c=i[u];n.preserve_cdata&&c.value.indexOf("[CDATA[")===0?(c.name="#cdata",c.type=4,c.value=a.decode(c.value.replace(/^\[CDATA\[|\]\]$/g,""))):c.value.indexOf("mce:protected ")===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,u){for(var c=i.length;c--;){var v=i[c];v.type===7?v.remove():v.type===1&&u==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){Ne(i,function(u){u.attr("data-mce-type")==="format-caret"&&(u.isEmpty(e.schema.getNonEmptyElements())?u.remove():u.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,u){for(var c=i.length;c--;)i[c].attr(u,null)})},t4=function(e){var n=function(u){return u&&u.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},n4=function(e,n,a){var i,u=e.dom,c=n.cloneNode(!0),v=document.implementation;if(v.createHTMLDocument){var m=v.createHTMLDocument("");Ce.each(c.nodeName==="BODY"?c.childNodes:[c],function(g){m.body.appendChild(m.importNode(g,!0))}),c.nodeName!=="BODY"?c=m.body.firstChild:c=m.body,i=u.doc,u.doc=m}return YD(e,Vt(Vt({},a),{node:c})),i&&(u.doc=i),c},bz=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},yz=function(e,n,a){return bz(e,a)?n4(e,n,a):n},wz=function(e,n,a){Ce.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,u){for(var c=i.length;c--;)i[c].attr(u,null)}),n.push(a))},Cz=function(e,n,a){if(!n.no_events&&e){var i=cy(e,Vt(Vt({},n),{content:a}));return i.content}else return a},r4=function(e,n,a){var i=vc(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||km(E.fromDom(n))?i:Ce.trim(i)},xz=function(e,n,a){var i=a.selection?Vt({forced_root_block:!1},a):a,u=e.parse(n,i);return t4(u),u},Sz=function(e,n,a){var i=Pd(e,n);return i.serialize(a)},kz=function(e,n,a,i,u){var c=Sz(n,a,i);return Cz(e,u,c)},Az=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Lr.DOM,u=n&&n.schema?n.schema:Fn(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var c=uw(e,u);pz(c,e,i);var v=function(m,g){g===void 0&&(g={});var C=Vt({format:"html"},g),T=yz(n,m,C),D=r4(i,T,C),B=xz(c,D,C);return C.format==="tree"?B:kz(n,e,u,B,C)};return{schema:u,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:v,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:nt(wz,c,a),getTempAttrs:Ge(a),getNodeFilters:c.getNodeFilters,getAttributeFilters:c.getAttributeFilters}},a4=function(e,n){var a=Az(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},Ez="html",Tz=function(e,n){n===void 0&&(n={});var a=n.format?n.format:Ez;return vf(e,n,a)},sw=function(e,n,a){return a===void 0&&(a={}),Z2(e,n,a)},Pg=Lr.DOM,Oz=function(e){Pg.setStyle(e.id,"display",e.orgDisplay)},g1=function(e){return U.from(e).each(function(n){return n.destroy()})},Dz=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},_z=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),Pg.unbind(n,"submit reset",e.formEventDelegate))},Bz=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),u=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&u&&Pg.remove(u.nextSibling),ZD(e),e.editorManager.remove(e),!e.inline&&i&&Oz(e),ly(e),Pg.remove(e.getContainer()),g1(n),g1(a),e.destroy()}},Fg=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),g1(a),g1(i)),_z(e),Dz(e),e.destroyed=!0}},zz=function(e,n){var a=Cn(e)&&Cn(n);return a?cw(e,n):n},Mz=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},u=0;u<n.length;u++){var c=n[u];for(var v in c)Sn(c,v)&&(i[v]=e(i[v],c[v]))}return i}},cw=Mz(zz),o4="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Rz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Pz="imagetools,toc".split(","),Fz=function(e){var n=bt(o4,function(i){return Sn(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),gt(n)},Ig=function(e){var n=Ce.makeMap(e.plugins," "),a=function(u){return Sn(n,u)},i=Mo(Mo([],bt(Rz,a),!0),za(Pz,function(u){return a(u)?[u+" (moving to premium)"]:[]}),!0);return gt(i)},i4=function(e,n){var a=Fz(e),i=Ig(n),u=i.length>0,c=a.length>0,v=n.theme==="mobile";if(u||c||v){var m=`
- `,g=v?`

Themes:`+m+"mobile":"",C=u?`

Plugins:`+m+i.join(m):"",T=c?`

Settings:`+m+a.join(m):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+g+C+T)}},u4=function(e,n){return{sections:Ge(e),settings:Ge(n)}},lw=Dt().deviceType,s4=lw.isTouch(),c4=lw.isPhone(),Iz=lw.isTablet(),Nz=["lists","autolink","autosave"],fw={table_grid:!1,object_resizing:!1,resize:!1},Ng=function(e){var n=$t(e)?e.join(" "):e,a=Yt(bn(n)?n.split(" "):[],Fo);return bt(a,function(i){return i.length>0})},Lz=function(e){return bt(e,nt(dt,Nz))},$z=function(e,n){var a=mn(n,function(i,u){return dt(e,u)});return u4(a.t,a.f)},l4=function(e,n,a){a===void 0&&(a={});var i=e.sections(),u=$n(i,n).getOr({});return Ce.extend({},a,u)},h1=function(e,n){return Sn(e.sections(),n)},Hz=function(e,n,a){var i=e.sections();return h1(e,n)&&i[n].theme===a},Lg=function(e,n){return h1(e,n)?e.sections()[n]:{}},vw=function(e,n){return $n(e,"toolbar_mode").orThunk(function(){return $n(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},f4=function(e,n,a,i,u){var c={id:n,theme:"silver",toolbar_mode:vw(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:u.convertURL,url_converter_scope:u};return Vt(Vt({},c),i?fw:{})},Vz=function(e,n){var a={resize:!1,toolbar_mode:vw(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Vt(Vt(Vt({},fw),a),n?i:{})},Uz=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?Ce.extend({},e.external_plugins,a):a},Wz=function(e,n){return[].concat(Ng(e)).concat(Ng(n))},v4=function(e,n,a,i){return e&&Hz(n,"mobile","mobile")?Lz(i):e&&h1(n,"mobile")?i:a},jz=function(e,n,a,i){var u=Ng(a.forced_plugins),c=Ng(i.plugins),v=Lg(n,"mobile"),m=v.plugins?Ng(v.plugins):c,g=v4(e,n,c,m),C=Wz(u,g);if(Lt.browser.isIE()&&dt(C,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Ce.extend(i,{plugins:C.join(" ")})},qz=function(e,n){return e&&h1(n,"mobile")},Gz=function(e,n,a,i,u){var c=e?{mobile:Vz(u.mobile||{},n)}:{},v=$z(["mobile"],cw(c,u)),m=Ce.extend(a,i,v.settings(),qz(e,v)?l4(v,"mobile"):{},{validate:!0,external_plugins:Uz(i,v.settings())});return jz(e,v,i,m)},Kz=function(e,n,a,i,u){var c=f4(u,n,a,s4,e),v=Gz(c4||Iz,c4,c,i,u);return v.deprecation_warnings!==!1&&i4(u,v),v},lv=function(e,n,a){return U.from(n.settings[a]).filter(e)},jo=function(e){var n={};return typeof e=="string"?Ne(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[Ce.trim(i[0])]=Ce.trim(i[1]):n[Ce.trim(i[0])]=Ce.trim(i[0])}):n=e,n},d4=function(e){return function(n){return $t(n)&&Ma(n,e)}},Xz=function(e,n,a,i){var u=n in e.settings?e.settings[n]:a;return i==="hash"?jo(u):i==="string"?lv(bn,e,n).getOr(a):i==="number"?lv(ut,e,n).getOr(a):i==="boolean"?lv(Mt,e,n).getOr(a):i==="object"?lv(Cn,e,n).getOr(a):i==="array"?lv($t,e,n).getOr(a):i==="string[]"?lv(d4(bn),e,n).getOr(a):i==="function"?lv(Fe,e,n).getOr(a):u},Yz=function(){var e={},n=function(u,c){e[u]=c},a=function(u){return e[u]?e[u]:{icons:{}}},i=function(u){return Sn(e,u)};return{add:n,get:a,has:i}},p1=Yz(),m4=function(e,n){var a=n.dom;return a[e]},Qn=function(e,n){return parseInt(Pn(n,e),10)},Zz=nt(m4,"clientWidth"),Jz=nt(m4,"clientHeight"),Qz=nt(Qn,"margin-top"),ma=nt(Qn,"margin-left"),e8=function(e){return e.dom.getBoundingClientRect()},$g=function(e,n,a){var i=Zz(e),u=Jz(e);return n>=0&&a>=0&&n<=i&&a<=u},t8=function(e,n,a,i){var u=e8(n),c=e?u.left+n.dom.clientLeft+ma(n):0,v=e?u.top+n.dom.clientTop+Qz(n):0,m=a-c,g=i-v;return{x:m,y:g}},g4=function(e,n,a){var i=E.fromDom(e.getBody()),u=e.inline?i:_s(i),c=t8(e.inline,u,n,a);return $g(u,c.x,c.y)},n8=function(e){return U.from(e).map(E.fromDom)},h4=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return n8(n).map(Sf).getOr(!1)},df=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},Ki=function(e){var n=[],a=function(){var B=e.theme;return B&&B.getNotificationManagerImpl?B.getNotificationManagerImpl():df()},i=function(){return U.from(n[0])},u=function(B,I){return B.type===I.type&&B.text===I.text&&!B.progressBar&&!B.timeout&&!I.progressBar&&!I.timeout},c=function(){n.length>0&&a().reposition(n)},v=function(B){n.push(B)},m=function(B){va(n,function(I){return I===B}).each(function(I){n.splice(I,1)})},g=function(B,I){if(I===void 0&&(I=!0),!(e.removed||!h4(e)))return I&&e.fire("BeforeOpenNotification",{notification:B}),hr(n,function(F){return u(a().getArgs(F),B)}).getOrThunk(function(){e.editorManager.setActive(e);var F=a().open(B,function(){m(F),c(),i().fold(function(){return e.focus()},function(L){return b_(E.fromDom(L.getEl()))})});return v(F),c(),e.fire("OpenNotification",{notification:Vt({},F)}),F})},C=function(){i().each(function(B){a().close(B),m(B),c()})},T=Ge(n),D=function(B){B.on("SkinLoaded",function(){var I=lS(B);I&&g({text:I,type:"warning",timeout:0},!1),c()}),B.on("show ResizeEditor ResizeWindow NodeChange",function(){Lo.requestAnimationFrame(c)}),B.on("remove",function(){Ne(n.slice(),function(I){a().close(I)})})};return D(e),{open:g,close:C,getNotifications:T}},Xi=la.PluginManager,Cu=la.ThemeManager;function zc(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var jd=function(e){var n=[],a=function(){var L=e.theme;return L&&L.getWindowManagerImpl?L.getWindowManagerImpl():zc()},i=function(L,$){return function(){for(var G=[],q=0;q<arguments.length;q++)G[q]=arguments[q];return $?$.apply(L,G):void 0}},u=function(L){e.fire("OpenWindow",{dialog:L})},c=function(L){e.fire("CloseWindow",{dialog:L})},v=function(L){n.push(L),u(L)},m=function(L){c(L),n=bt(n,function($){return $!==L}),n.length===0&&e.focus()},g=function(){return U.from(n[n.length-1])},C=function(L){e.editorManager.setActive(e),Dp(e);var $=L();return v($),$},T=function(L,$){return C(function(){return a().open(L,$,m)})},D=function(L){return C(function(){return a().openUrl(L,m)})},B=function(L,$,G){var q=a();q.alert(L,i(G||q,$))},I=function(L,$,G){var q=a();q.confirm(L,i(G||q,$))},F=function(){g().each(function(L){a().close(L),m(L)})};return e.on("remove",function(){Ne(n,function(L){a().close(L)})}),{open:T,openUrl:D,alert:B,confirm:I,close:F}},b1=function(e,n){e.notificationManager.open({type:"error",text:n})},qd=function(e,n){e._skinLoaded?b1(e,n):e.on("SkinLoaded",function(){b1(e,n)})},p4=function(e,n){qd(e,zn.translate(["Failed to upload image: {0}",n]))},y1=function(e,n,a){dy(e,n,{message:a}),console.error(a)},dw=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},w1=function(e,n,a){y1(e,"PluginLoadError",dw("plugin",n,a))},b4=function(e,n,a){y1(e,"IconsLoadError",dw("icons",n,a))},r8=function(e,n,a){y1(e,"LanguageLoadError",dw("language",n,a))},y4=function(e,n,a){var i=zn.translate(["Failed to initialize plugin: {0}",n]);dy(e,"PluginLoadError",{message:i}),C1(i,a),qd(e,i)},C1=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Mo([e],n,!1)):i.log.apply(i,Mo([e],n,!1)))},Hg=function(e){return/^[a-z0-9\-]+$/i.test(e)},w4=function(e){return Mc(e,GO(e))},C4=function(e){return Mc(e,uS(e))},Mc=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,u="content"+i+".css",c=e.inline===!0;return Yt(n,function(v){return Hg(v)&&!c?a+"/"+v+"/"+u:e.documentBaseURI.toAbsolute(v)})},mw=function(e){e.contentCSS=e.contentCSS.concat(w4(e),C4(e))},x4=function(){var e=1,n=2,a={},i=function(B,I){return{status:B,resultUri:I}},u=function(B){return B in a},c=function(B){var I=a[B];return I?I.resultUri:null},v=function(B){return u(B)?a[B].status===e:!1},m=function(B){return u(B)?a[B].status===n:!1},g=function(B){a[B]=i(e,null)},C=function(B,I){a[B]=i(n,I)},T=function(B){delete a[B]},D=function(){a={}};return{hasBlobUri:u,getResultUri:c,isPending:v,isUploaded:m,markPending:g,markUploaded:C,removeFailed:T,destroy:D}},a8=0,o8=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},fv=function(e){return e+a8+++o8()},i8=function(){var e=[],n=function(D){var B={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return B[D.toLowerCase()]||"dat"},a=function(D,B,I,F,L){if(bn(D)){var $=D;return i({id:$,name:F,filename:L,blob:B,base64:I})}else{if(Cn(D))return i(D);throw new Error("Unknown input type")}},i=function(D){if(!D.blob||!D.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var B=D.id||fv("blobid"),I=D.name||B,F=D.blob;return{id:Ge(B),name:Ge(I),filename:Ge(D.filename||I+"."+n(F.type)),blob:Ge(F),base64:Ge(D.base64),blobUri:Ge(D.blobUri||URL.createObjectURL(F)),uri:Ge(D.uri)}},u=function(D){v(D.id())||e.push(D)},c=function(D){return hr(e,D).getOrUndefined()},v=function(D){return c(function(B){return B.id()===D})},m=function(D){return c(function(B){return B.blobUri()===D})},g=function(D,B){return c(function(I){return I.base64()===D&&I.blob().type===B})},C=function(D){e=bt(e,function(B){return B.blobUri()===D?(URL.revokeObjectURL(B.blobUri()),!1):!0})},T=function(){Ne(e,function(D){URL.revokeObjectURL(D.blobUri())}),e=[]};return{create:a,add:u,get:v,getByUri:m,getByData:g,findFirst:c,removeByUri:C,destroy:T}},u8=function(e,n){var a={},i=function(F,L){return F?F.replace(/\/$/,"")+"/"+L.replace(/^\//,""):L},u=function(F,L,$,G){var q=new XMLHttpRequest;q.open("POST",n.url),q.withCredentials=n.credentials,q.upload.onprogress=function(ie){G(ie.loaded/ie.total*100)},q.onerror=function(){$("Image upload failed due to a XHR Transport error. Code: "+q.status)},q.onload=function(){if(q.status<200||q.status>=300){$("HTTP Error: "+q.status);return}var ie=JSON.parse(q.responseText);if(!ie||typeof ie.location!="string"){$("Invalid JSON: "+q.responseText);return}L(i(n.basePath,ie.location))};var Q=new FormData;Q.append("file",F.blob(),F.filename()),q.send(Q)},c=function(){return new uo(function(F){F([])})},v=function(F,L){return{url:L,blobInfo:F,status:!0}},m=function(F,L,$){return{url:"",blobInfo:F,status:!1,error:{message:L,options:$}}},g=function(F,L){Ce.each(a[F],function($){$(L)}),delete a[F]},C=function(F,L,$){return e.markPending(F.blobUri()),new uo(function(G){var q,Q;try{var ie=function(){q&&(q.close(),Q=Ve)},Y=function(pe){ie(),e.markUploaded(F.blobUri(),pe),g(F.blobUri(),v(F,pe)),G(v(F,pe))},se=function(pe,Re){var Pt=Re||{};ie(),e.removeFailed(F.blobUri()),g(F.blobUri(),m(F,pe,Pt)),G(m(F,pe,Pt))};Q=function(pe){pe<0||pe>100||U.from(q).orThunk(function(){return U.from($).map(x)}).each(function(Re){q=Re,Re.progressBar.value(pe)})},L(F,Y,se,Q)}catch(pe){G(m(F,pe.message,{}))}})},T=function(F){return F===u},D=function(F){var L=F.blobUri();return new uo(function($){a[L]=a[L]||[],a[L].push($)})},B=function(F,L){return F=Ce.grep(F,function($){return!e.isUploaded($.blobUri())}),uo.all(Ce.map(F,function($){return e.isPending($.blobUri())?D($):C($,n.handler,L)}))},I=function(F,L){return!n.url&&T(n.handler)?c():B(F,L)};return Fe(n.handler)===!1&&(n.handler=u),{upload:I}},fo=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},S4=function(e,n){return u8(n,{url:ml(e),basePath:z0(e),credentials:jO(e),handler:Ql(e)})},k4=function(e){var n=x4(),a=S4(e,n);return{upload:function(i,u){return u===void 0&&(u=!0),a.upload(i,u?fo(e):void 0)}}},A4=function(e){var n=di(null);e.on("change AddUndo",function(i){n.set(Vt({},i.level))});var a=function(){var i=e.undoManager.data;cn(i).filter(function(u){return!Hd(n.get(),u)}).each(function(u){e.setDirty(!0),e.fire("change",{level:u,lastLevel:st(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},E4=function(e){var n=i8(),a,i,u=x4(),c=[],v=A4(e),m=function(ie){return function(Y){return e.selection?ie(Y):[]}},g=function(ie){return ie+(ie.indexOf("?")===-1?"?":"&")+new Date().getTime()},C=function(ie,Y,se){var pe=0;do pe=ie.indexOf(Y,pe),pe!==-1&&(ie=ie.substring(0,pe)+se+ie.substr(pe+Y.length),pe+=se.length-Y.length+1);while(pe!==-1);return ie},T=function(ie,Y,se){var pe='src="'+se+'"'+(se===Lt.transparentSrc?' data-mce-placeholder="1"':"");return ie=C(ie,'src="'+Y+'"',pe),ie=C(ie,'data-mce-src="'+Y+'"','data-mce-src="'+se+'"'),ie},D=function(ie,Y){Ne(e.undoManager.data,function(se){se.type==="fragmented"?se.fragments=Yt(se.fragments,function(pe){return T(pe,ie,Y)}):se.content=T(se.content,ie,Y)})},B=function(ie,Y){var se=e.convertURL(Y,"src");D(ie.src,Y),e.$(ie).attr({src:ip(e)?g(Y):Y,"data-mce-src":se})},I=function(ie){return a||(a=S4(e,u)),G().then(m(function(Y){var se=Yt(Y,function(pe){return pe.blobInfo});return a.upload(se,fo(e)).then(m(function(pe){var Re=[],Pt=Yt(pe,function(vt,De){var Qt=Y[De].blobInfo,Le=Y[De].image;return vt.status&&up(e)?(n.removeByUri(Le.src),wl(e)||B(Le,vt.url)):vt.error&&(vt.error.options.remove&&(D(Le.getAttribute("src"),Lt.transparentSrc),Re.push(Le)),p4(e,vt.error.message)),{element:Le,status:vt.status,uploadUri:vt.url,blobInfo:Qt}});return Pt.length>0&&v.fireIfChanged(),Re.length>0&&(wl(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){Ne(Re,function(vt){e.dom.remove(vt),n.removeByUri(vt.src)})})),ie&&ie(Pt),Pt}))}))},F=function(ie){if(Hf(e))return I(ie)},L=function(ie){if(Ma(c,function(se){return se(ie)})===!1)return!1;if(ie.getAttribute("src").indexOf("data:")===0){var Y=UO(e);return Y(ie)}return!0},$=function(ie){c.push(ie)},G=function(){return i||(i=mz(u,n)),i.findAll(e.getBody(),L).then(m(function(ie){return ie=bt(ie,function(Y){return typeof Y=="string"?(qd(e,Y),!1):!0}),wl(e)||Ne(ie,function(Y){D(Y.image.src,Y.blobInfo.blobUri()),Y.image.src=Y.blobInfo.blobUri(),Y.image.removeAttribute("data-mce-src")}),ie}))},q=function(){n.destroy(),u.destroy(),i=a=null},Q=function(ie){return ie.replace(/src="(blob:[^"]+)"/g,function(Y,se){var pe=u.getResultUri(se);if(pe)return'src="'+pe+'"';var Re=n.getByUri(se);if(Re||(Re=yr(e.editorManager.get(),function(vt,De){return vt||De.editorUpload&&De.editorUpload.blobCache.getByUri(se)},null)),Re){var Pt=Re.blob();return'src="data:'+Pt.type+";base64,"+Re.base64()+'"'}return Y})};return e.on("SetContent",function(){Hf(e)?F():G()}),e.on("RawSaveContent",function(ie){ie.content=Q(ie.content)}),e.on("GetContent",function(ie){ie.source_view||ie.format==="raw"||ie.format==="tree"||(ie.content=Q(ie.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(ie){Ne(ie,function(Y){var se=Y.attr("src");if(!n.getByUri(se)){var pe=u.getResultUri(se);pe&&Y.attr("src",pe)}})})}),{blobCache:n,addFilter:$,uploadImages:I,uploadImagesAuto:F,scanForImages:G,destroy:q}},T4=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,u){return fn(a)&&a.hasAttribute("href")},onformat:function(a,i,u){Ce.each(u,function(c,v){e.setAttrib(a,v,c)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ce.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},gw=function(e){var n={},a=function(v){return an(v)?n[v]:n},i=function(v){return Sn(n,v)},u=function(v,m){v&&(bn(v)?($t(m)||(m=[m]),Ne(m,function(g){fe(g.deep)&&(g.deep=!pu(g)),fe(g.split)&&(g.split=!pu(g)||Oo(g)),fe(g.remove)&&pu(g)&&!Oo(g)&&(g.remove="none"),pu(g)&&Oo(g)&&(g.mixed=!0,g.block_expand=!0),bn(g.classes)&&(g.classes=g.classes.split(/\s+/))}),n[v]=m):or(v,function(g,C){u(C,g)}))},c=function(v){return v&&n[v]&&delete n[v],n};return u(T4(e.dom)),u(ZO(e)),{get:a,has:i,register:u,unregister:c}},x1=Ce.each,yi=Lr.DOM,O4=function(e,n){var a,i,u,c=n&&n.schema||Fn({}),v=function(T,D){D.classes.length&&yi.addClass(T,D.classes.join(" ")),yi.setAttribs(T,D.attrs)},m=function(T){i=typeof T=="string"?{name:T,classes:[],attrs:{}}:T;var D=yi.create(i.name);return v(D,i),D},g=function(T,D){var B=typeof T!="string"?T.nodeName.toLowerCase():T,I=c.getElementRule(B),F=I&&I.parentsRequired;return F&&F.length?D&&Ce.inArray(F,D)!==-1?D:F[0]:!1},C=function(T,D,B){var I,F,L=D.length>0&&D[0],$=L&&L.name,G=g(T,$);if(G)$===G?(F=D[0],D=D.slice(1)):F=G;else if(L)F=D[0],D=D.slice(1);else if(!B)return T;return F&&(I=m(F),I.appendChild(T)),B&&(I||(I=yi.create("div"),I.appendChild(T)),Ce.each(B,function(q){var Q=m(q);I.insertBefore(Q,T)})),C(I,D,F&&F.siblings)};return e&&e.length?(i=e[0],a=m(i),u=yi.create("div"),u.appendChild(C(a,e.slice(1),i.siblings)),u):""},s8=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=Ce.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,u,c,v,m){switch(u){case"#":a.attrs.id=c;break;case".":a.classes.push(c);break;case":":Ce.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(a.attrs[c]=c);break}if(v==="["){var g=m.match(/([\w\-]+)(?:\=\"([^\"]+))?/);g&&(a.attrs[g[1]]=g[2])}return""})),a.name=n||"div",a},c8=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ce.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=Ce.map(n.split(/(?:~\+|~|\+)/),s8),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},Rc=function(e,n){var a,i,u="",c,v=JO(e);if(v==="")return"";var m=function(D){return D.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var g=$n(n,"preview");if(Af(g,!1))return"";v=g.getOr(v)}a=n.block||n.inline||"span";var C=c8(n.selector);C.length?(C[0].name||(C[0].name=a),a=n.selector,i=O4(C,e)):i=O4([a],e);var T=yi.select(a,i)[0]||i.firstChild;return x1(n.styles,function(D,B){var I=m(D);I&&yi.setStyle(T,B,I)}),x1(n.attributes,function(D,B){var I=m(D);I&&yi.setAttrib(T,B,I)}),x1(n.classes,function(D){var B=m(D);yi.hasClass(T,B)||yi.addClass(T,B)}),e.fire("PreviewFormats"),yi.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),c=yi.getStyle(e.getBody(),"fontSize",!0),c=/px$/.test(c)?parseInt(c,10):0,x1(v.split(" "),function(D){var B=yi.getStyle(T,D,!0);if(!(D==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(B)&&(B=yi.getStyle(e.getBody(),D,!0),yi.toHex(B).toLowerCase()==="#ffffff"))&&!(D==="color"&&yi.toHex(B).toLowerCase()==="#000000")){if(D==="font-size"&&/em|%$/.test(B)){if(c===0)return;var I=parseFloat(B)/(/%$/.test(B)?100:1);B=I*c+"px"}D==="border"&&B&&(u+="padding:0 2px;"),u+=D+":"+B+";"}}),e.fire("AfterPreviewFormats"),yi.remove(i),u},l8=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},D4=function(e){var n=gw(e),a=di(null);return l8(e),c6(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,u,c){F3(e,i,u,c)},remove:function(i,u,c,v){l1(e,i,u,c,v)},toggle:function(i,u,c){tz(e,i,u,c)},match:function(i,u,c,v){return Q6(e,i,u,c,v)},closest:function(i){return P3(e,i)},matchAll:function(i,u){return ez(e,i,u)},matchNode:function(i,u,c,v){return Y2(e,i,u,c,v)},canApply:function(i){return Bg(e,i)},formatChanged:function(i,u,c,v){return nz(e,a,i,u,c,v)},getCssText:nt(Rc,e)}},_4=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},f8=function(e,n,a){var i=di(!1),u=function(g){c1(n,!1,a),n.add({},g)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(g){var C=g.command;_4(C)||(cv(n,a),n.beforeChange())}),e.on("ExecCommand",function(g){var C=g.command;_4(C)||u(g)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",u),e.on("dragend",u),e.on("keyup",function(g){var C=g.keyCode;g.isDefaultPrevented()||((C>=33&&C<=36||C>=37&&C<=40||C===45||g.ctrlKey)&&(u(),e.nodeChanged()),(C===46||C===8)&&e.nodeChanged(),i.get()&&n.typing&&Hd(W2(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(g){var C=g.keyCode;if(!g.isDefaultPrevented()){if(C>=33&&C<=36||C>=37&&C<=40||C===45){n.typing&&u(g);return}var T=g.ctrlKey&&!g.altKey||g.metaKey;(C<16||C>20)&&C!==224&&C!==91&&!n.typing&&!T&&(n.beforeChange(),c1(n,!0,a),n.add({},g),i.set(!0))}}),e.on("mousedown",function(g){n.typing&&u(g)});var c=function(g){return g.inputType==="insertReplacementText"},v=function(g){return g.inputType==="insertText"&&g.data===null},m=function(g){return g.inputType==="insertFromPaste"||g.inputType==="insertFromDrop"};e.on("input",function(g){g.inputType&&(c(g)||v(g)||m(g))&&u(g)}),e.on("AddUndo Undo Redo ClearUndos",function(g){g.isDefaultPrevented()||e.nodeChanged()})},v8=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},ga=function(e){var n=jl(),a=di(0),i=di(0),u={data:[],typing:!1,beforeChange:function(){K6(e,a,n)},add:function(c,v){return D3(e,u,i,a,n,c,v)},undo:function(){return X6(e,u,a,i)},redo:function(){return Y6(e,i,u.data)},clear:function(){_3(e,u,i)},reset:function(){B3(e,u)},hasUndo:function(){return z3(e,u,i)},hasRedo:function(){return M3(e,u,i)},transact:function(c){return R3(e,u,a,c)},ignore:function(c){Z6(e,a,c)},extra:function(c,v){J6(e,u,i,c,v)}};return wl(e)||f8(e,u,a),v8(e),u},B4=[9,27,Xt.HOME,Xt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Xt.DOWN,Xt.UP,Xt.LEFT,Xt.RIGHT].concat(Lt.browser.isFirefox()?[224]:[]),hw="data-mce-placeholder",ms=function(e){return e.type==="keydown"||e.type==="keyup"},pw=function(e){var n=e.keyCode;return n===Xt.BACKSPACE||n===Xt.DELETE},d8=function(e){if(ms(e)){var n=e.keyCode;return!pw(e)&&(Xt.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||dt(B4,n))}else return!1},m8=function(e){return ms(e)&&!(pw(e)||e.type==="keyup"&&e.keyCode===229)},bw=function(e,n,a){if(Co(E.fromDom(n),!1)){var i=a==="",u=n.firstElementChild;return u?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(u):a===u.nodeName.toLowerCase():!0}else return!1},g8=function(e){var n=e.dom,a=ei(e),i=YO(e),u=function(c,v){if(!d8(c)){var m=e.getBody(),g=m8(c)?!1:bw(n,m,a),C=n.getAttrib(m,hw)!=="";(C!==g||v)&&(n.setAttrib(m,hw,g?i:null),n.setAttrib(m,"aria-placeholder",g?i:null),XS(e,g),e.on(g?"keydown":"keyup",u),e.off(g?"keyup":"keydown",u))}};i&&e.on("init",function(c){u(c,!0),e.on("change SetContent ExecCommand",u),e.on("paste",function(v){return Lo.setEditorTimeout(e,function(){return u(v)})})})},Gd=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,h8=function(e){return Gd.test(e)},mf=function(e,n){return ct(E.fromDom(n),KO(e))},z4=function(e){return Lr.DOM.getStyle(e,"direction",!0)==="rtl"||h8(e.textContent)},yw=function(e,n,a){return bt(Lr.DOM.getParents(a.container(),"*",n),e)},Cl=function(e,n,a){var i=yw(e,n,a);return U.from(i[i.length-1])},ww=function(e,n,a){var i=ef(n,e),u=ef(a,e);return i&&i===u},p8=function(e){return jt(e)||Ib(e)},Wu=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?zr(a)?Ct(a.nextSibling)?he(a.nextSibling,0):he.after(a):jt(n)?he(a,i+1):n:zr(a)?Ct(a.previousSibling)?he(a.previousSibling,a.previousSibling.data.length):he.before(a):Ib(n)?he(a,i-1):n},M4=nt(Wu,!0),ju=nt(Wu,!1),b8=function(e){return function(n){return tn(e,E.fromDom(n.dom.parentNode))}},y8=function(e){return al(e)||ci(e)},S1=function(e,n){return pr(e,n)?Sh(n,y8,b8(e)):U.none()},Vg=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},R4=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),Vg(e))},P4=function(e,n,a){return Yo(Ri(a),Vs(a),function(i,u){var c=Wu(!0,i),v=Wu(!1,u),m=Wu(!1,n);return e?ls(a,m).exists(function(g){return g.isEqual(v)&&n.isEqual(c)}):fs(a,m).exists(function(g){return g.isEqual(c)&&n.isEqual(v)})}).getOr(!0)},F4=function(e,n){return{block:e,position:n}},I4=function(e,n){return{from:e,to:n}},Cw=function(e,n){var a=E.fromDom(e),i=E.fromDom(n.container());return S1(a,i).map(function(u){return F4(u,n)})},w8=function(e){return tn(e.from.block,e.to.block)===!1},gf=function(e){return ba(e.from.block).bind(function(n){return ba(e.to.block).filter(function(a){return tn(n,a)})}).isSome()},C8=function(e){return Gr(e.from.block.dom)===!1&&Gr(e.to.block.dom)===!1},x8=function(e,n,a){return Sr(a.position.getNode())&&Co(a.block)===!1?cs(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?Uo(n,e,i).bind(function(u){return Cw(e,u)}):U.some(a)}).getOr(a):a},S8=function(e,n,a){var i=Cw(e,he.fromRangeStart(a)),u=i.bind(function(c){return Uo(n,e,c.position).bind(function(v){return Cw(e,v).map(function(m){return x8(e,n,m)})})});return Yo(i,u,I4).filter(function(c){return w8(c)&&gf(c)&&C8(c)})},k8=function(e,n,a){return a.collapsed?S8(e,n,a):U.none()},A8=function(e){var n=ui(e);return va(n,Mu).fold(Ge(n),function(a){return n.slice(0,a)})},N4=function(e){var n=A8(e);return Ne(n,ka),n},L4=function(e,n){var a=bl(n,e);return hr(a.reverse(),function(i){return Co(i)}).each(ka)},E8=function(e){return bt(xr(e),function(n){return!Co(n)}).length===0},T8=function(e,n,a,i){if(Co(a))return Qf(a),Ri(a.dom);E8(i)&&Co(n)&&Bu(i,E.fromTag("br"));var u=fs(a.dom,he.before(i.dom));return Ne(N4(n),function(c){Bu(i,c)}),L4(e,n),u},O8=function(e,n,a){if(Co(a))return ka(a),Co(n)&&Qf(n),Ri(n.dom);var i=Vs(a.dom);return Ne(N4(n),function(u){wo(a,u)}),L4(e,n),i},D8=function(e,n){var a=bl(n,e);return U.from(a[a.length-1])},_8=function(e,n){return pr(n,e)?D8(n,e):U.none()},Kd=function(e,n){cs(e,n.dom).map(function(a){return a.getNode()}).map(E.fromDom).filter(Yv).each(ka)},$4=function(e,n,a){return Kd(!0,n),Kd(!1,a),_8(n,a).fold(nt(O8,e,n,a),nt(T8,e,n,a))},k1=function(e,n,a,i){return n?$4(e,i,a):$4(e,a,i)},A1=function(e,n){var a=E.fromDom(e.getBody()),i=k8(a.dom,n,e.selection.getRng()).bind(function(u){return k1(a,n,u.from.block,u.to.block)});return i.each(function(u){e.selection.setRng(u.toRange())}),i.isSome()},B8=function(e,n){var a=n.getRng();return Yo(S1(e,E.fromDom(a.startContainer)),S1(e,E.fromDom(a.endContainer)),function(i,u){return tn(i,u)===!1?(a.deleteContents(),k1(e,!0,i,u).each(function(c){n.setRng(c.toRange())}),!0):!1}).getOr(!1)},H4=function(e,n){var a=E.fromDom(n),i=nt(tn,e);return xm(a,Rs,i).isSome()},z8=function(e,n){return H4(e,n.startContainer)||H4(e,n.endContainer)},vv=function(e,n){var a=fs(e.dom,he.fromRangeStart(n)).isNone(),i=ls(e.dom,he.fromRangeEnd(n)).isNone();return!z8(e,n)&&a&&i},dv=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},E1=function(e){var n=E.fromDom(e.getBody()),a=e.selection.getRng();return vv(n,a)?dv(e):B8(n,e.selection)},mv=function(e,n){return e.selection.isCollapsed()?!1:E1(e)},gv=as,hv=Gr,gs=function(e,n,a,i,u){return U.from(n._selectionOverrides.showCaret(e,a,i,u))},T1=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},pv=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?U.none():U.some(T1(n))},O1=function(e,n,a){var i=vp(1,e.getBody(),n),u=he.fromRangeStart(i),c=u.getNode();if(lo(c))return gs(1,e,c,!u.isAtEnd(),!1);var v=u.getNode(!0);if(lo(v))return gs(1,e,v,!1,!1);var m=e.dom.getParent(u.getNode(),function(g){return hv(g)||gv(g)});return lo(m)?gs(1,e,m,!1,a):U.none()},Ug=function(e,n,a){return n.collapsed?O1(e,n,a).getOr(n):n},V4=function(e){return of(e)||Fd(e)},U4=function(e){return uf(e)||Id(e)},Xd=function(e,n){Ct(n)&&n.data.length===0&&e.remove(n)},xw=function(e,n,a,i,u,c){return gs(i,e,c.getNode(!u),u,!0).each(function(v){if(n.collapsed){var m=n.cloneRange();u?m.setEnd(v.startContainer,v.startOffset):m.setStart(v.endContainer,v.endOffset),m.deleteContents()}else n.deleteContents();e.selection.setRng(v)}),Xd(e.dom,a),!0},W4=function(e,n){var a=e.selection.getRng();if(!Ct(a.commonAncestorContainer))return!1;var i=n?To.Forwards:To.Backwards,u=Hs(e.getBody()),c=nt(W0,n?u.next:u.prev),v=n?V4:U4,m=hd(i,e.getBody(),a),g=Wu(n,c(m));if(!g||!dp(m,g))return!1;if(v(g))return xw(e,a,m.getNode(),i,n,g);var C=c(g);return C&&v(C)&&dp(g,C)?xw(e,a,m.getNode(),i,n,C):!1},Wg=function(e,n){return W4(e,n)},D1=function(e){return Rs(E.fromDom(e))||ci(E.fromDom(e))},Yi=Ft.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),j4=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return fn(a)&&a.getAttribute("data-mce-caret")===i},q4=function(e,n,a,i){var u=function(c){return Jo(E.fromDom(c))&&!kc(a,i,e)};return U0(!n,a).fold(function(){return U0(n,i).fold(yt,u)},u)},Sw=function(e,n,a,i){var u=i.getNode(n===!1);return S1(E.fromDom(e),E.fromDom(a.getNode())).map(function(c){return Co(c)?Yi.remove(c.dom):Yi.moveToElement(u)}).orThunk(function(){return U.some(Yi.moveToElement(u))})},Pc=function(e,n,a){return Uo(n,e,a).bind(function(i){return D1(i.getNode())||q4(e,n,a,i)?U.none():n&&Gr(i.getNode())||n===!1&&Gr(i.getNode(!0))?Sw(e,n,a,i):n&&uf(a)||n===!1&&of(a)?U.some(Yi.moveToPosition(i)):U.none()})},G4=function(e,n){return e&&Gr(n.nextSibling)?U.some(Yi.moveToElement(n.nextSibling)):e===!1&&Gr(n.previousSibling)?U.some(Yi.moveToElement(n.previousSibling)):U.none()},K4=function(e,n,a){return a.fold(function(i){return U.some(Yi.remove(i))},function(i){return U.some(Yi.moveToElement(i))},function(i){return kc(n,i,e)?U.none():U.some(Yi.moveToPosition(i))})},hf=function(e,n,a){return j4(n,a)?G4(n,a.getNode(n===!1)).fold(function(){return Pc(e,n,a)},U.some):Pc(e,n,a).bind(function(i){return K4(e,a,i)})},hs=function(e,n,a){var i=vp(n?1:-1,e,a),u=he.fromRangeStart(i),c=E.fromDom(e);return n===!1&&uf(u)?U.some(Yi.remove(u.getNode(!0))):n&&of(u)?U.some(Yi.remove(u.getNode())):n===!1&&of(u)&&Hy(c,u)?iB(c,u).map(function(v){return Yi.remove(v.getNode())}):n&&uf(u)&&$y(c,u)?uB(c,u).map(function(v){return Yi.remove(v.getNode())}):hf(e,n,u)},M8=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),ev(e,n,E.fromDom(a)),!0}},R8=function(e,n){return function(a){var i=n?he.before(a):he.after(a);return e.selection.setRng(i.toRange()),!0}},P8=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},X4=function(e,n){return U.from(Ad(e.getBody(),n))},F8=function(e,n){var a=e.selection.getNode();return X4(e,a).filter(Gr).fold(function(){return hs(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(M8(e,n),R8(e,n),P8(e))})},Ht)},I8=function(e){Ne(Bi(e,".mce-offscreen-selection"),ka)},N8=function(e,n){var a=e.selection.getNode();if(Gr(a)&&!jv(a)){var i=X4(e,a.parentNode).filter(Gr);return i.fold(function(){return I8(E.fromDom(e.getBody())),ev(e,n,E.fromDom(e.selection.getNode())),R4(e),!0},Ht)}return!1},Y4=function(e){var n=e.dom,a=e.selection,i=Ad(e.getBody(),a.getNode());if(as(i)&&n.isBlock(i)&&n.isEmpty(i)){var u=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(u),a.setRng(he.before(u).toRange())}return!0},_1=function(e,n){return e.selection.isCollapsed()?F8(e,n):N8(e,n)},L8=function(e,n){var a=he.fromRangeStart(e.selection.getRng());return Uo(n,e.getBody(),a).filter(function(i){return n?eB(i):tB(i)}).bind(function(i){return U.from(dd(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},B1=function(e,n){return e.selection.isCollapsed()?L8(e,n):!1},Yd=Ct,z1=function(e){return Yd(e)&&e.data[0]===ae},M1=function(e){return Yd(e)&&e.data[e.data.length-1]===ae},kw=function(e){return e.ownerDocument.createTextNode(ae)},$8=function(e){if(Yd(e.previousSibling))return M1(e.previousSibling)||e.previousSibling.appendData(ae),e.previousSibling;if(Yd(e))return z1(e)||e.insertData(0,ae),e;var n=kw(e);return e.parentNode.insertBefore(n,e),n},H8=function(e){if(Yd(e.nextSibling))return z1(e.nextSibling)||e.nextSibling.insertData(0,ae),e.nextSibling;if(Yd(e))return M1(e)||e.appendData(ae),e;var n=kw(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},jg=function(e,n){return e?$8(n):H8(n)},Z4=nt(jg,!0),Aw=nt(jg,!1),Ew=function(e,n){return Ct(e.container())?jg(n,e.container()):jg(n,e.getNode())},Tw=function(e,n){var a=n.get();return a&&e.container()===a&&zr(a)},qg=function(e,n){return n.fold(function(a){Vf(e.get());var i=Z4(a);return e.set(i),U.some(he(i,i.length-1))},function(a){return Ri(a).map(function(i){if(Tw(i,e))return he(e.get(),1);Vf(e.get());var u=Ew(i,!0);return e.set(u),he(u,1)})},function(a){return Vs(a).map(function(i){if(Tw(i,e))return he(e.get(),e.get().length-1);Vf(e.get());var u=Ew(i,!1);return e.set(u),he(u,u.length-1)})},function(a){Vf(e.get());var i=Aw(a);return e.set(i),U.some(he(i,1))})},J4=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return U.none()},wi=Ft.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Xs=function(e,n){var a=ef(n,e);return a||e},ps=function(e,n,a){var i=M4(a),u=Xs(n,i.container());return Cl(e,u,i).fold(function(){return ls(u,i).bind(nt(Cl,e,u)).map(function(c){return wi.before(c)})},U.none)},R1=function(e,n){return tf(e,n)===null},Ow=function(e,n,a){return Cl(e,n,a).filter(nt(R1,n))},P1=function(e,n,a){var i=ju(a);return Ow(e,n,i).bind(function(u){var c=fs(u,i);return c.isNone()?U.some(wi.start(u)):U.none()})},Q4=function(e,n,a){var i=M4(a);return Ow(e,n,i).bind(function(u){var c=ls(u,i);return c.isNone()?U.some(wi.end(u)):U.none()})},eE=function(e,n,a){var i=ju(a),u=Xs(n,i.container());return Cl(e,u,i).fold(function(){return fs(u,i).bind(nt(Cl,e,u)).map(function(c){return wi.after(c)})},U.none)},Dw=function(e){return z4(F1(e))===!1},Ys=function(e,n,a){var i=J4([ps,P1,Q4,eE],[e,n,a]);return i.filter(Dw)},F1=function(e){return e.fold(Rt,Rt,Rt,Rt)},_w=function(e){return e.fold(Ge("before"),Ge("start"),Ge("end"),Ge("after"))},bv=function(e){return e.fold(wi.before,wi.before,wi.after,wi.after)},Zd=function(e){return e.fold(wi.start,wi.start,wi.end,wi.end)},Bw=function(e,n){return _w(e)===_w(n)&&F1(e)===F1(n)},V8=function(e,n,a,i,u,c){return Yo(Cl(n,a,i),Cl(n,a,u),function(v,m){return v!==m&&ww(a,v,m)?wi.after(e?v:m):c}).getOr(c)},U8=function(e,n){return e.fold(Ht,function(a){return!Bw(a,n)})},W8=function(e,n,a,i,u){var c=Wu(e,u),v=Uo(e,a,c).map(nt(Wu,e)),m=v.fold(function(){return i.map(bv)},function(g){return Ys(n,a,g).map(nt(V8,e,n,a,c,g)).filter(nt(U8,i))});return m.filter(Dw)},j8=function(e,n){return e?n.fold(lr(U.some,wi.start),U.none,lr(U.some,wi.after),U.none):n.fold(U.none,lr(U.some,wi.before),U.none,lr(U.some,wi.end))},I1=function(e,n,a,i){var u=Wu(e,i),c=Ys(n,a,u);return Ys(n,a,u).bind(nt(j8,e)).orThunk(function(){return W8(e,n,a,c,i)})};nt(I1,!1),nt(I1,!0);var q8=function(e){return Fe(e.selection.getSel().modify)},tE=function(e,n,a){var i=e?1:-1;return n.setRng(he(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},zw=function(e,n){var a=n.selection.getRng(),i=e?he.fromRangeEnd(a):he.fromRangeStart(a);return q8(n)?e&&jt(i)?tE(!0,n.selection,i):!e&&Ib(i)?tE(!1,n.selection,i):!1:!1},Fc;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Fc||(Fc={}));var N1=function(e,n){return e===To.Backwards?Xe(n):n},G8=function(e,n,a){return e===To.Forwards?n.next(a):n.prev(a)},K8=function(e,n,a,i){return Sr(i.getNode(n===To.Forwards))?Fc.Br:kc(a,i)===!1?Fc.Block:Fc.Wrap},nE=function(e,n,a,i){for(var u=Hs(a),c=i,v=[];c;){var m=G8(n,u,c);if(!m)break;if(Sr(m.getNode(!1)))return n===To.Forwards?{positions:N1(n,v).concat([m]),breakType:Fc.Br,breakAt:U.some(m)}:{positions:N1(n,v),breakType:Fc.Br,breakAt:U.some(m)};if(!m.isVisible()){c=m;continue}if(e(c,m)){var g=K8(a,n,c,m);return{positions:N1(n,v),breakType:g,breakAt:U.some(m)}}v.push(m),c=m}return{positions:N1(n,v),breakType:Fc.Eol,breakAt:U.none()}},rE=function(e,n,a,i){return n(a,i).breakAt.map(function(u){var c=n(a,u).positions;return e===To.Backwards?c.concat(u):[u].concat(c)}).getOr([])},Mw=function(e,n){return yr(e,function(a,i){return a.fold(function(){return U.some(i)},function(u){return Yo(Ut(u.getClientRects()),Ut(i.getClientRects()),function(c,v){var m=Math.abs(n-c.left),g=Math.abs(n-v.left);return g<=m?i:u}).or(a)})},U.none())},Gg=function(e,n){return Ut(n.getClientRects()).bind(function(a){return Mw(e,a.left)})},pf=nt(nE,he.isAbove,-1),yv=nt(nE,he.isBelow,1),X8=nt(rE,-1,pf),Y8=nt(rE,1,yv),Z8=function(e,n){return pf(e,n).breakAt.isNone()},J8=function(e,n){return yv(e,n).breakAt.isNone()},aE=function(e){return Ri(e).map(function(n){return[n].concat(yv(e,n).positions)}).getOr([])},Q8=function(e){return Vs(e).map(function(n){return pf(e,n).positions.concat(n)}).getOr([])},e7=function(e){var n=function(i){return Yt(i,function(u){var c=Xl(u);return c.node=e,c})};if(fn(e))return n(e.getClientRects());if(Ct(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},Kg=function(e){return za(e,e7)},wv;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(wv||(wv={}));var t7=function(e,n,a,i){for(;i=jf(i,e,Ha,n);)if(a(i))return},oE=function(e,n,a,i,u,c){var v=0,m=[],g=function(D){var B=Kg([D]);e===-1&&(B=B.reverse());for(var I=0;I<B.length;I++){var F=B[I];if(!a(F,C)){if(m.length>0&&n(F,xi(m))&&v++,F.line=v,u(F))return!0;m.push(F)}}},C=xi(c.getClientRects());if(!C)return m;var T=c.getNode();return g(T),t7(e,i,g,T),m},n7=function(e,n){return n.line>e},r7=function(e,n){return n.line===e},a7=nt(oE,wv.Up,Yl,Zl),o7=nt(oE,wv.Down,Zl,Yl),L1=function(e,n,a,i){var u=Hs(n),c,v,m,g,C=[],T=0,D=function(L){return xi(L.getClientRects())};e===1?(c=u.next,v=Zl,m=Yl,g=he.after(i)):(c=u.prev,v=Yl,m=Zl,g=he.before(i));var B=D(g);do if(!!g.isVisible()){var I=D(g);if(!m(I,B)){C.length>0&&v(I,xi(C))&&T++;var F=Xl(I);if(F.position=g,F.line=T,a(F))return C;C.push(F)}}while(g=c(g));return C},Xg=function(e){return function(n){return n7(e,n)}},Rw=function(e){return function(n){return r7(e,n)}},i7=Gr,Yg=jf,Pw=function(e,n){return Math.abs(e.left-n)},Fw=function(e,n){return Math.abs(e.right-n)},iE=function(e,n){return e>=n.left&&e<=n.right},u7=function(e,n){return e>=n.top&&e<=n.bottom},s7=function(e){return Ur(e,"node")},$1=function(e,n,a){return a===void 0&&(a=Ht),Ii(e,function(i,u){if(iE(n,u))return a(u)?u:i;if(iE(n,i))return a(i)?i:u;var c=Math.min(Pw(i,n),Fw(i,n)),v=Math.min(Pw(u,n),Fw(u,n));return v===c&&s7(u)&&i7(u.node)||v<c?u:i})},uE=function(e,n,a,i,u){var c=Yg(i,e,Ha,n,!u);do if(!c||a(c))return;while(c=Yg(c,e,Ha,n))},c7=function(e,n,a){a===void 0&&(a=!0);var i=[],u=function(c,v){var m=bt(Kg([v]),function(g){return!c(g,n)});return i=i.concat(m),m.length===0};return i.push(n),uE(wv.Up,e,nt(u,Yl),n.node,a),uE(wv.Down,e,nt(u,Zl),n.node,a),i},l7=function(e){return bt(kt(e.getElementsByTagName("*")),Uf)},f7=function(e,n){return{node:e.node,before:Pw(e,n)<Fw(e,n)}},v7=function(e,n,a){var i=Kg(l7(e)),u=bt(i,nt(u7,a)),c=function(g){return!Ya(g.node)&&!Oi(g.node)},v=$1(u,n,c);if(v){var m=c(v);if(v=$1(c7(e,v,m),n,c),v&&Uf(v.node))return f7(v,n)}return null},xl=function(e,n){e.selection.setRng(n),Dd(e,e.selection.getRng())},xu=function(e,n,a){return U.some(Ug(e,n,a))},H1=function(e,n,a,i,u,c){var v=n===To.Forwards,m=Hs(e.getBody()),g=nt(W0,v?m.next:m.prev),C=v?i:u;if(!a.collapsed){var T=Qh(a);if(c(T))return gs(n,e,T,n===To.Backwards,!1)}var D=hd(n,e.getBody(),a);if(C(D))return pv(e,D.getNode(!v));var B=Wu(v,g(D)),I=dc(a);if(!B)return I?U.some(a):U.none();if(C(B))return gs(n,e,B.getNode(!v),v,!1);var F=g(B);return F&&C(F)&&dp(B,F)?gs(n,e,F.getNode(!v),v,!1):I?xu(e,B.toRange(),!1):U.none()},Iw=function(e,n,a,i,u,c){var v=hd(n,e.getBody(),a),m=xi(v.getClientRects()),g=n===wv.Down;if(!m)return U.none();var C=g?o7:a7,T=C(e.getBody(),Xg(1),v),D=bt(T,Rw(1)),B=m.left,I=$1(D,B);if(I&&c(I.node)){var F=Math.abs(B-I.left),L=Math.abs(B-I.right);return gs(n,e,I.node,F<L,!1)}var $;if(i(v)?$=v.getNode():u(v)?$=v.getNode(!0):$=Qh(a),$){var G=L1(n,e.getBody(),Xg(1),$),q=$1(bt(G,Rw(1)),B);if(q||(q=xi(bt(G,Rw(0))),q))return xu(e,q.position.toRange(),!1)}return D.length===0?V1(e,g).filter(g?u:i).map(function(Q){return Ug(e,Q.toRange(),!1)}):U.none()},V1=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var u=he.fromRangeEnd(a),c=yv(i,u);return cn(c.positions)}else{var u=he.fromRangeStart(a),c=pf(i,u);return Ut(c.positions)}},sE=function(e,n,a){return V1(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},Zg=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},cE=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},Nw=function(e,n,a){return qg(n,a).map(function(i){return Zg(e,i),a})},d7=function(e,n,a){var i=e.getBody(),u=he.fromRangeStart(e.selection.getRng()),c=nt(mf,e),v=I1(a,c,i,u);return v.bind(function(m){return Nw(e,n,m)})},m7=function(e,n,a){var i=Yt(Bi(E.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(v){return v.dom}),u=bt(i,e),c=bt(a,e);Ne(et(u,c),nt(cE,!1)),Ne(et(c,u),nt(cE,!0))},g7=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=he.fromRangeStart(e.selection.getRng());he.isTextPosition(a)&&p8(a)===!1&&(Zg(e,hS(n.get(),a)),n.set(null))}},Jd=function(e,n,a,i){if(n.selection.isCollapsed()){var u=bt(i,e);Ne(u,function(c){var v=he.fromRangeStart(n.selection.getRng());Ys(e,n.getBody(),v).bind(function(m){return Nw(n,a,m)})})}},Lw=function(e,n,a){return jm(e)?d7(e,n,a).isSome():!1},$w=function(e,n,a){return jm(n)?zw(e,n):!1},lE=function(e){var n=di(null),a=nt(mf,e);return e.on("NodeChange",function(i){jm(e)&&!(Lt.browser.isIE()&&i.initial)&&(m7(a,e.dom,i.parents),g7(e,n),Jd(a,e,n,i.parents))}),n},Hw=nt($w,!0),h7=nt($w,!1),U1=function(e,n,a){if(jm(e)){var i=V1(e,n).getOrThunk(function(){var u=e.selection.getRng();return n?he.fromRangeEnd(u):he.fromRangeStart(u)});return Ys(nt(mf,e),e.getBody(),i).exists(function(u){var c=bv(u);return qg(a,c).exists(function(v){return Zg(e,v),!0})})}else return!1},p7=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},b7=function(e){return Yo(Ri(e),Vs(e),function(n,a){var i=Wu(!0,n),u=Wu(!1,a);return ls(e,i).forall(function(c){return c.isEqual(u)})}).getOr(!0)},fE=function(e,n){return function(a){return qg(n,a).exists(function(i){return Zg(e,i),!0})}},vE=function(e,n,a,i){var u=e.getBody(),c=nt(mf,e);e.undoManager.ignore(function(){e.selection.setRng(p7(a,i)),e.execCommand("Delete"),Ys(c,u,he.fromRangeStart(e.selection.getRng())).map(Zd).map(fE(e,n))}),e.nodeChanged()},Zs=function(e,n){var a=ef(n,e);return a||e},y7=function(e,n,a,i){var u=Zs(e.getBody(),i.container()),c=nt(mf,e),v=Ys(c,u,i);return v.bind(function(m){return a?m.fold(Ge(U.some(Zd(m))),U.none,Ge(U.some(bv(m))),U.none):m.fold(U.none,Ge(U.some(bv(m))),U.none,Ge(U.some(Zd(m))))}).map(fE(e,n)).getOrThunk(function(){var m=Zm(a,u,i),g=m.bind(function(C){return Ys(c,u,C)});return Yo(v,g,function(){return Cl(c,u,i).exists(function(C){return b7(C)?(ev(e,a,E.fromDom(C)),!0):!1})}).orThunk(function(){return g.bind(function(C){return m.map(function(T){return a?vE(e,n,i,T):vE(e,n,T,i),!0})})}).getOr(!1)})},W1=function(e,n,a){if(e.selection.isCollapsed()&&jm(e)){var i=he.fromRangeStart(e.selection.getRng());return y7(e,n,a,i)}return!1},w7=function(e,n){var a=bl(n,e);return va(a,Mu).fold(Ge(a),function(i){return a.slice(0,i)})},C7=function(e){return yh(e)===1},x7=function(e,n,a,i){var u=nt(l6,n),c=Yt(bt(i,u),function(m){return m.dom});if(c.length===0)ev(n,e,a);else{var v=UA(a.dom,c);n.selection.setRng(v.toRange())}},S7=function(e,n){var a=E.fromDom(e.getBody()),i=E.fromDom(e.selection.getStart()),u=bt(w7(a,i),C7);return cn(u).exists(function(c){var v=he.fromRangeStart(e.selection.getRng());return P4(n,v,c.dom)&&!k2(c)?(x7(n,e,c,u),!0):!1})},j1=function(e,n){return e.selection.isCollapsed()?S7(e,n):!1},Ic=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),ev(e,n,E.fromDom(a)),!0},k7=function(e,n){var a=n?Fd:Id,i=n?To.Forwards:To.Backwards,u=hd(i,e.getBody(),e.selection.getRng());return a(u)?Ic(e,n,u.getNode(!n)):U.from(Wu(n,u)).filter(function(c){return a(c)&&dp(u,c)}).exists(function(c){return Ic(e,n,c.getNode(!n))})},A7=function(e,n){var a=e.selection.getNode();return Oi(a)?Ic(e,n,a):!1},Jg=function(e,n){return e.selection.isCollapsed()?k7(e,n):A7(e,n)},Vw=function(e){return Sh(e,function(n){return as(n.dom)||Gr(n.dom)}).exists(function(n){return as(n.dom)})},Uw=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},dE=function(e,n){var a=e||_5(n)?"margin":"padding",i=Pn(n,"direction")==="rtl"?"-right":"-left";return a+i},E7=function(e,n,a,i,u,c){var v=dE(a,E.fromDom(c));if(n==="outdent"){var m=Math.max(0,Uw(c.style[v])-i);e.setStyle(c,v,m?m+u:"")}else{var m=Uw(c.style[v])+i+u;e.setStyle(c,v,m)}},Cv=function(e,n){return Ma(n,function(a){var i=dE(oS(e),a),u=Zo(a,i).map(Uw).getOr(0),c=e.dom.getContentEditable(a.dom);return c!=="false"&&u>0})},mE=function(e){var n=hE(e);return!e.mode.isReadOnly()&&(n.length>1||Cv(e,n))},gE=function(e){return Ah(e)||ci(e)},T7=function(e){return ba(e).exists(gE)},hE=function(e){return bt(wO(e.selection.getSelectedBlocks()),function(n){return!gE(n)&&!T7(n)&&Vw(n)})},q1=function(e,n){var a=e.dom,i=e.selection,u=e.formatter,c=iS(e),v=/[a-z%]+$/i.exec(c)[0],m=parseInt(c,10),g=oS(e),C=ei(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&C===""&&!a.getParent(i.getNode(),a.isBlock)&&u.apply("div"),Ne(hE(e),function(T){E7(a,n,g,m,v,T.dom)})},G1=function(e,n){if(e.selection.isCollapsed()&&mE(e)){var a=e.dom,i=e.selection.getRng(),u=he.fromRangeStart(i),c=a.getParent(i.startContainer,a.isBlock);if(c!==null&&Ly(E.fromDom(c),u))return q1(e,"outdent"),!0}return!1},Ww=function(e,n){e.getDoc().execCommand(n,!1,null)},pE=function(e,n){if(!G1(e)){if(_1(e,!1))return;if(Wg(e,!1))return;if(W1(e,n,!1))return;if(A1(e,!1))return;if(wg(e))return;if(B1(e,!1))return;if(Jg(e,!1))return;if(mv(e))return;if(j1(e,!1))return;Ww(e,"Delete"),R4(e)}},bE=function(e,n){if(!_1(e,!0)){if(Wg(e,!0))return;if(W1(e,n,!0))return;if(A1(e,!0))return;if(wg(e))return;if(B1(e,!0))return;if(Jg(e,!0))return;if(mv(e))return;if(j1(e,!0))return;Ww(e,"ForwardDelete")}},O7=function(e,n){e.addCommand("delete",function(){pE(e,n)}),e.addCommand("forwardDelete",function(){bE(e,n)})},Qd=5,D7=400,yE=function(e){return e.touches===void 0||e.touches.length!==1?U.none():U.some(e.touches[0])},_7=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>Qd||i>Qd},em=function(e){var n=jl(),a=di(!1),i=h0(function(u){e.fire("longpress",Vt(Vt({},u),{type:"longpress"})),a.set(!0)},D7);e.on("touchstart",function(u){yE(u).each(function(c){i.cancel();var v={x:c.clientX,y:c.clientY,target:u.target};i.throttle(u),a.set(!1),n.set(v)})},!0),e.on("touchmove",function(u){i.cancel(),yE(u).each(function(c){n.on(function(v){_7(c,v)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(u){i.cancel(),u.type!=="touchcancel"&&n.get().filter(function(c){return c.target.isEqualNode(u.target)}).each(function(){a.get()?u.preventDefault():e.fire("tap",Vt(Vt({},u),{type:"tap"}))})},!0)},jw=function(e,n){return Sn(e,n.nodeName)},Sl=function(e,n){return Ct(n)?!0:fn(n)?!jw(e,n)&&!qi(n):!1},B7=function(e,n,a){return yn(Kk(E.fromDom(a),E.fromDom(n)),function(i){return jw(e,i.dom)})},qw=function(e,n){if(Ct(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||jw(e,n.nextSibling)))return!0}return!1},Gw=function(e){var n=e.dom,a=e.selection,i=e.schema,u=i.getBlockElements(),c=a.getStart(),v=e.getBody(),m,g,C,T=ei(e);if(!(!c||!fn(c)||!T)){var D=v.nodeName.toLowerCase();if(!(!i.isValidChild(D,T.toLowerCase())||B7(u,v,c))){var B=a.getRng(),I=B.startContainer,F=B.startOffset,L=B.endContainer,$=B.endOffset,G=Jf(e);for(c=v.firstChild;c;)if(Sl(u,c)){if(qw(u,c)){g=c,c=c.nextSibling,n.remove(g);continue}m||(m=n.create(T,Um(e)),c.parentNode.insertBefore(m,c),C=!0),g=c,c=c.nextSibling,m.appendChild(g)}else m=null,c=c.nextSibling;C&&G&&(B.setStart(I,F),B.setEnd(L,$),a.setRng(B),e.nodeChanged())}}},z7=function(e){ei(e)&&e.on("NodeChange",nt(Gw,e))},M7=function(e){return Kv(E.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},R7=function(e){e.selection.setRng(e.selection.getRng())},Kw=function(e,n){n.hasAttribute("data-mce-caret")&&(Nb(n),R7(e),e.selection.scrollIntoView(n))},P7=function(e,n){var a=M7(e);if(!!a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),Kw(e,a);return}Am(a)&&(Kw(e,a),e.undoManager.add())}},F7=function(e){e.on("keyup compositionstart",nt(P7,e))},wE=Gr,I7=function(e,n,a){return H1(n,e,a,of,uf,wE)},CE=function(e,n,a){var i=function(c){return of(c)||qk(c)},u=function(c){return uf(c)||Gk(c)};return Iw(n,e,a,i,u,wE)},N7=function(e){var n=e.dom.create(ei(e));return(!Lt.ie||Lt.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},bf=function(e,n,a){var i=Hs(e.getBody()),u=nt(W0,n===1?i.next:i.prev);if(a.collapsed&&iD(e)){var c=e.dom.getParent(a.startContainer,"PRE");if(!c)return;var v=u(he.fromRangeStart(a));if(!v){var m=N7(e);n===1?e.$(c).after(m):e.$(c).before(m),e.selection.select(m,!0),e.selection.collapse()}}},L7=function(e,n){var a=n?To.Forwards:To.Backwards,i=e.selection.getRng();return I7(a,e,i).orThunk(function(){return bf(e,a,i),U.none()})},Qg=function(e,n){var a=n?1:-1,i=e.selection.getRng();return CE(a,e,i).orThunk(function(){return bf(e,a,i),U.none()})},Xw=function(e,n){return L7(e,n).exists(function(a){return xl(e,a),!0})},K1=function(e,n){return Qg(e,n).exists(function(a){return xl(e,a),!0})},X1=function(e,n){var a=n?uf:of;return sE(e,n,a)},$7=function(e){return dt(["figcaption"],Pr(e))},xE=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},SE=function(e,n,a){a?wo(e,n):mm(e,n)},Yw=function(e,n){var a=E.fromTag("br");return SE(e,a,n),xE(a)},H7=function(e,n,a,i){var u=E.fromTag(a),c=E.fromTag("br");return O(u,i),wo(u,c),SE(e,u,n),xE(c)},V7=function(e,n,a,i){return n===""?Yw(e,i):H7(e,i,n,a)},U7=function(e,n){var a=nt(tn,n);return Sh(E.fromDom(e.container()),Mu,a).filter($7)},W7=function(e,n,a){return n?J8(e.dom,a):Z8(e.dom,a)},kE=function(e,n){var a=E.fromDom(e.getBody()),i=he.fromRangeStart(e.selection.getRng()),u=ei(e),c=Um(e);return U7(i,a).exists(function(){if(W7(a,n,i)){var v=V7(a,u,c,n);return e.selection.setRng(v),!0}else return!1})},AE=function(e,n){return e.selection.isCollapsed()?kE(e,n):!1},j7=function(e){return Yt(e,function(n){return Vt({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Ve},n)})},q7=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},G7=function(e,n){return za(j7(e),function(a){return q7(a,n)?[a]:[]})},Gn=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},tm=function(e,n){return hr(G7(e,n),function(a){return a.action()})},EE=function(e,n){var a=n?To.Forwards:To.Backwards,i=e.selection.getRng();return H1(e,a,i,Fd,Id,Oi).exists(function(u){return xl(e,u),!0})},TE=function(e,n){var a=n?1:-1,i=e.selection.getRng();return Iw(e,a,i,Fd,Id,Oi).exists(function(u){return xl(e,u),!0})},Zw=function(e,n){var a=n?Id:Fd;return sE(e,n,a)},K7=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},OE=function(e,n){return za(n,function(a){var i=K7(Xl(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},X7=function(e,n,a){return yr(e,function(i,u){return i.fold(function(){return U.some(u)},function(c){var v=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-a)),m=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-a));return U.some(m<v?u:c)})},U.none())},DE=function(e,n,a,i,u){var c=Bi(E.fromDom(a),"td,th,caption").map(function(m){return m.dom}),v=bt(OE(e,c),function(m){return n(m,u)});return X7(v,i,u).map(function(m){return m.cell})},Y7=function(e){return e.bottom},Z7=function(e){return e.top},J7=function(e,n){return e.y<n},Q7=function(e,n){return e.y>n},eM=nt(DE,Y7,J7),tM=nt(DE,Z7,Q7),nM=function(e,n){return Ut(n.getClientRects()).bind(function(a){return eM(e,a.left,a.top)}).bind(function(a){return Gg(Q8(a),n)})},rM=function(e,n){return cn(n.getClientRects()).bind(function(a){return tM(e,a.left,a.top)}).bind(function(a){return Gg(aE(a),n)})},aM=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},oM=function(e){return e.breakType===Fc.Wrap&&e.positions.length===0},iM=function(e){return e.breakType===Fc.Br&&e.positions.length===1},Jw=function(e,n,a){var i=e(n,a);return oM(i)||!Sr(a.getNode())&&iM(i)?!aM(e,n,i):i.breakAt.isNone()},uM=nt(Jw,pf),sM=nt(Jw,yv),_E=function(e,n,a){var i=he.fromRangeStart(n);return cs(!e,a).exists(function(u){return u.isEqual(i)})},BE=function(e,n,a,i){var u=e.selection.getRng(),c=n?1:-1;return yS()&&_E(n,u,a)?(gs(c,e,a,!n,!1).each(function(v){xl(e,v)}),!0):!1},Y1=function(e,n,a){return nM(n,a).orThunk(function(){return Ut(a.getClientRects()).bind(function(i){return Mw(X8(e,he.before(n)),i.left)})}).getOr(he.before(n))},zE=function(e,n,a){return rM(n,a).orThunk(function(){return Ut(a.getClientRects()).bind(function(i){return Mw(Y8(e,he.after(n)),i.left)})}).getOr(he.after(n))},Z1=function(e,n){var a=n.getNode(e);return fn(a)&&a.nodeName==="TABLE"?U.some(a):U.none()},Qw=function(e,n,a,i){var u=ei(n);u?n.undoManager.transact(function(){var c=E.fromTag(u);O(c,Um(n)),wo(c,E.fromTag("br")),e?Rl(E.fromDom(a),c):Bu(E.fromDom(a),c);var v=n.dom.createRng();v.setStart(c.dom,0),v.setEnd(c.dom,0),xl(n,v)}):xl(n,i.toRange())},eC=function(e,n,a){var i=Z1(!!n,a),u=n===!1;i.fold(function(){return xl(e,a.toRange())},function(c){return cs(u,e.getBody()).filter(function(v){return v.isEqual(a)}).fold(function(){return xl(e,a.toRange())},function(v){return Qw(n,e,c,a)})})},cM=function(e,n,a,i){var u=e.selection.getRng(),c=he.fromRangeStart(u),v=e.getBody();if(!n&&uM(i,c)){var m=Y1(v,a,c);return eC(e,n,m),!0}else if(n&&sM(i,c)){var m=zE(v,a,c);return eC(e,n,m),!0}else return!1},tC=function(e,n,a){return U.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return U.from(e.dom.getParent(i,"table")).map(function(u){return a(e,n,u,i)})}).getOr(!1)},xv=function(e,n){return tC(e,n,BE)},nC=function(e,n){return tC(e,n,cM)},rC=function(e,n,a){var i=Dt().os;tm([{keyCode:Xt.RIGHT,action:Gn(Xw,e,!0)},{keyCode:Xt.LEFT,action:Gn(Xw,e,!1)},{keyCode:Xt.UP,action:Gn(K1,e,!1)},{keyCode:Xt.DOWN,action:Gn(K1,e,!0)},{keyCode:Xt.RIGHT,action:Gn(xv,e,!0)},{keyCode:Xt.LEFT,action:Gn(xv,e,!1)},{keyCode:Xt.UP,action:Gn(nC,e,!1)},{keyCode:Xt.DOWN,action:Gn(nC,e,!0)},{keyCode:Xt.RIGHT,action:Gn(EE,e,!0)},{keyCode:Xt.LEFT,action:Gn(EE,e,!1)},{keyCode:Xt.UP,action:Gn(TE,e,!1)},{keyCode:Xt.DOWN,action:Gn(TE,e,!0)},{keyCode:Xt.RIGHT,action:Gn(Lw,e,n,!0)},{keyCode:Xt.LEFT,action:Gn(Lw,e,n,!1)},{keyCode:Xt.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Gn(Hw,e,n)},{keyCode:Xt.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Gn(h7,e,n)},{keyCode:Xt.UP,action:Gn(AE,e,!1)},{keyCode:Xt.DOWN,action:Gn(AE,e,!0)}],a).each(function(u){a.preventDefault()})},lM=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&rC(e,n,a)})},aC=function(e,n,a){tm([{keyCode:Xt.BACKSPACE,action:Gn(G1,e,!1)},{keyCode:Xt.BACKSPACE,action:Gn(_1,e,!1)},{keyCode:Xt.DELETE,action:Gn(_1,e,!0)},{keyCode:Xt.BACKSPACE,action:Gn(Wg,e,!1)},{keyCode:Xt.DELETE,action:Gn(Wg,e,!0)},{keyCode:Xt.BACKSPACE,action:Gn(W1,e,n,!1)},{keyCode:Xt.DELETE,action:Gn(W1,e,n,!0)},{keyCode:Xt.BACKSPACE,action:Gn(wg,e,!1)},{keyCode:Xt.DELETE,action:Gn(wg,e,!0)},{keyCode:Xt.BACKSPACE,action:Gn(B1,e,!1)},{keyCode:Xt.DELETE,action:Gn(B1,e,!0)},{keyCode:Xt.BACKSPACE,action:Gn(Jg,e,!1)},{keyCode:Xt.DELETE,action:Gn(Jg,e,!0)},{keyCode:Xt.BACKSPACE,action:Gn(mv,e,!1)},{keyCode:Xt.DELETE,action:Gn(mv,e,!0)},{keyCode:Xt.BACKSPACE,action:Gn(A1,e,!1)},{keyCode:Xt.DELETE,action:Gn(A1,e,!0)},{keyCode:Xt.BACKSPACE,action:Gn(j1,e,!1)},{keyCode:Xt.DELETE,action:Gn(j1,e,!0)}],a).each(function(i){a.preventDefault()})},fM=function(e,n){tm([{keyCode:Xt.BACKSPACE,action:Gn(Y4,e)},{keyCode:Xt.DELETE,action:Gn(Y4,e)}],n)},vM=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&aC(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&fM(e,a)})},dM=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},eh=function(e,n){var a,i=n,u=e.dom,c=e.schema.getMoveCaretBeforeOnEnterElements();if(!!n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var v=dM(n.firstChild);v&&/^(UL|OL|DL)$/.test(v.nodeName)&&n.insertBefore(u.doc.createTextNode(Ui),n.firstChild)}var m=u.createRng();if(n.normalize(),n.hasChildNodes()){for(var g=new Tr(n,n);a=g.current();){if(Ct(a)){m.setStart(a,0),m.setEnd(a,0);break}if(c[a.nodeName.toLowerCase()]){m.setStartBefore(a),m.setEndBefore(a);break}i=a,a=g.next()}a||(m.setStart(i,0),m.setEnd(i,0))}else Sr(n)?n.nextSibling&&u.isBlock(n.nextSibling)?(m.setStartBefore(n),m.setEndBefore(n)):(m.setStartAfter(n),m.setEndAfter(n)):(m.setStart(n,0),m.setEnd(n,0));e.selection.setRng(m),Dd(e,m)}},mM=function(e,n){var a=e.getRoot(),i,u;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(u=i),i=i.parentNode;return i!==a?u:a},oC=function(e){return U.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},ME=function(e){return oC(e).fold(Ge(""),function(n){return n.nodeName.toUpperCase()})},nm=function(e){return oC(e).filter(function(n){return ci(E.fromDom(n))}).isSome()},gM=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},iC=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},RE=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},uC=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},PE=function(e){return uC(e)&&uC(e.parentNode)},th=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},nh=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!fn(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},sC=function(e,n,a,i,u){var c=e.dom,v=e.selection.getRng();if(a!==e.getBody()){PE(a)&&(u="LI");var m=u?n(u):c.create("BR");if(nh(a,i,!0)&&nh(a,i,!1))if(RE(a,"LI")){var g=th(a);c.insertAfter(m,g),iC(a)?c.remove(g):c.remove(a)}else c.replace(m,a);else if(nh(a,i,!0))RE(a,"LI")?(c.insertAfter(m,th(a)),m.appendChild(c.doc.createTextNode(" ")),m.appendChild(a)):a.parentNode.insertBefore(m,a),c.remove(i);else if(nh(a,i,!1))c.insertAfter(m,th(a)),c.remove(i);else{a=th(a);var C=v.cloneRange();C.setStartAfter(i),C.setEndAfter(a);var T=C.extractContents();u==="LI"&&gM(T,"LI")?(m=T.firstChild,c.insertAfter(T,a)):(c.insertAfter(T,a),c.insertAfter(m,a)),c.remove(i)}eh(e,m)}},FE=function(e){Ne(w0(E.fromDom(e),Sa),function(n){var a=n.dom;a.nodeValue=vc(a.nodeValue)})},hM=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},pM=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},rm=function(e){e.innerHTML='<br data-mce-bogus="1">'},cC=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},IE=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},bM=function(e,n,a){var i=a,u=[],c;if(!!i){for(;i=i.firstChild;){if(e.isBlock(i))return;fn(i)&&!n[i.nodeName.toLowerCase()]&&u.push(i)}for(c=u.length;c--;)i=u[c],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||hM(e,i))&&e.remove(i)}},J1=function(e,n,a){return Ct(n)===!1?a:e?a===1&&n.data.charAt(a-1)===ae?0:a:a===n.data.length-1&&n.data.charAt(a)===ae?n.data.length:a},yM=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,J1(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,J1(!1,e.endContainer,e.endOffset)),n},wM=function(e){do Ct(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},Zi=function(e,n){var a=e.getRoot(),i,u;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(u=i),i=i.parentNode;return i!==a?u:a},CM=function(e,n,a){var i=e.dom;U.from(a.style).map(i.parseStyle).each(function(g){var C=xh(E.fromDom(n)),T=Vt(Vt({},C),g);i.setStyles(n,T)});var u=U.from(a.class).map(function(g){return g.split(/\s+/)}),c=U.from(n.className).map(function(g){return bt(g.split(/\s+/),function(C){return C!==""})});Yo(u,c,function(g,C){var T=bt(C,function(B){return!dt(g,B)}),D=Mo(Mo([],g,!0),T,!0);i.setAttrib(n,"class",D.join(" "))});var v=["style","class"],m=Bn(a,function(g,C){return!dt(v,C)});i.setAttribs(n,m)},Sv=function(e,n){var a=ei(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Um(e);CM(e,n,i)}},NE=function(e,n,a,i,u){var c,v,m,g,C,T,D=n||"P",B=e.dom,I=Zi(B,i);if(v=B.getParent(i,B.isBlock),!v||!IE(B,v)){if(v=v||I,v===e.getBody()||pM(v)?T=v.nodeName.toLowerCase():T=v.parentNode.nodeName.toLowerCase(),!v.hasChildNodes())return c=B.create(D),Sv(e,c),v.appendChild(c),a.setStart(c,0),a.setEnd(c,0),c;for(g=i;g.parentNode!==v;)g=g.parentNode;for(;g&&!B.isBlock(g);)m=g,g=g.previousSibling;if(m&&e.schema.isValidChild(T,D.toLowerCase())){for(c=B.create(D),Sv(e,c),m.parentNode.insertBefore(c,m),g=m;g&&!B.isBlock(g);)C=g.nextSibling,c.appendChild(g),g=C;a.setStart(i,u),a.setEnd(i,u)}}return i},lC=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},xM=function(e,n){var a,i,u,c,v,m,g,C,T,D,B=e.dom,I=e.schema,F=I.getNonEmptyElements(),L=e.selection.getRng(),$=function(pe){var Re=i,Pt,vt,De,Qt=I.getTextInlineElements();if(pe||C==="TABLE"||C==="HR"?Pt=B.create(pe||T):Pt=c.cloneNode(!1),De=Pt,Wm(e)===!1)B.setAttrib(Pt,"style",null),B.setAttrib(Pt,"class",null);else do if(Qt[Re.nodeName]){if(Us(Re)||qi(Re))continue;vt=Re.cloneNode(!1),B.setAttrib(vt,"id",""),Pt.hasChildNodes()?(vt.appendChild(Pt.firstChild),Pt.appendChild(vt)):(De=vt,Pt.appendChild(vt))}while((Re=Re.parentNode)&&Re!==Y);return Sv(e,Pt),rm(De),Pt},G=function(pe){var Re,Pt,vt=J1(pe,i,u);if(Ct(i)&&(pe?vt>0:vt<i.nodeValue.length))return!1;if(i.parentNode===c&&D&&!pe||pe&&fn(i)&&i===c.firstChild)return!0;if(cC(i,"TABLE")||cC(i,"HR"))return D&&!pe||!D&&pe;var De=new Tr(i,c);for(Ct(i)&&(pe&&vt===0?De.prev():!pe&&vt===i.nodeValue.length&&De.next());Re=De.current();){if(fn(Re)){if(!Re.getAttribute("data-mce-bogus")&&(Pt=Re.nodeName.toLowerCase(),F[Pt]&&Pt!=="br"))return!1}else if(Ct(Re)&&!Ps(Re.nodeValue))return!1;pe?De.prev():De.next()}return!0},q=function(){/^(H[1-6]|PRE|FIGURE)$/.test(C)&&se!=="HGROUP"?v=$(T):v=$(),nS(e)&&IE(B,g)&&B.isEmpty(c)?v=B.split(g,c):B.insertAfter(v,c),eh(e,v)};ug(B,L).each(function(pe){L.setStart(pe.startContainer,pe.startOffset),L.setEnd(pe.endContainer,pe.endOffset)}),i=L.startContainer,u=L.startOffset,T=ei(e);var Q=!!(n&&n.shiftKey),ie=!!(n&&n.ctrlKey);fn(i)&&i.hasChildNodes()&&(D=u>i.childNodes.length-1,i=i.childNodes[Math.min(u,i.childNodes.length-1)]||i,D&&Ct(i)?u=i.nodeValue.length:u=0);var Y=Zi(B,i);if(!!Y){(T&&!Q||!T&&Q)&&(i=NE(e,T,L,i,u)),c=B.getParent(i,B.isBlock),g=c?B.getParent(c.parentNode,B.isBlock):null,C=c?c.nodeName.toUpperCase():"";var se=g?g.nodeName.toUpperCase():"";if(se==="LI"&&!ie&&(c=g,g=g.parentNode,C=se),/^(LI|DT|DD)$/.test(C)&&B.isEmpty(c)){sC(e,$,g,c,T);return}T&&c===e.getBody()||(T=T||"P",ua(c)?(v=Nb(c),B.isEmpty(c)&&rm(c),Sv(e,v),eh(e,v)):G()?q():G(!0)?(v=c.parentNode.insertBefore($(),c),eh(e,cC(c,"HR")?v:c)):(a=yM(L).cloneRange(),a.setEndAfter(c),m=a.extractContents(),FE(m),wM(m),v=m.firstChild,B.insertAfter(m,c),bM(B,F,v),lC(B,c),B.isEmpty(c)&&rm(c),v.normalize(),B.isEmpty(v)?(B.remove(v),q()):(Sv(e,v),eh(e,v))),B.setAttrib(v,"id",""),e.fire("NewBlock",{newBlock:v}))}},SM=function(e,n,a){for(var i=new Tr(n,a),u,c=e.getNonEmptyElements();u=i.next();)if(c[u.nodeName.toLowerCase()]||u.length>0)return!0},fC=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),Dd(e,i)},kM=function(e,n){var a=e.selection,i=e.dom,u=a.getRng(),c,v;ug(i,u).each(function(F){u.setStart(F.startContainer,F.startOffset),u.setEnd(F.endContainer,F.endOffset)});var m=u.startOffset,g=u.startContainer;if(g.nodeType===1&&g.hasChildNodes()){var C=m>g.childNodes.length-1;g=g.childNodes[Math.min(m,g.childNodes.length-1)]||g,C&&g.nodeType===3?m=g.nodeValue.length:m=0}var T=i.getParent(g,i.isBlock),D=T?i.getParent(T.parentNode,i.isBlock):null,B=D?D.nodeName.toUpperCase():"",I=!!(n&&n.ctrlKey);B==="LI"&&!I&&(T=D),g&&g.nodeType===3&&m>=g.nodeValue.length&&(SM(e.schema,g,T)||(c=i.create("br"),u.insertNode(c),u.setStartAfter(c),u.setEndAfter(c),v=!0)),c=i.create("br"),Hm(i,u,c),fC(e,c,v),e.undoManager.add()},AM=function(e,n){var a=E.fromTag("br");Bu(E.fromDom(n),a),e.undoManager.add()},EM=function(e,n){OM(e.getBody(),n)||Rl(E.fromDom(n),E.fromTag("br"));var a=E.fromTag("br");Rl(E.fromDom(n),a),fC(e,a.dom,!1),e.undoManager.add()},TM=function(e){return Sr(e.getNode())},OM=function(e,n){return TM(he.after(n))?!0:ls(e,he.after(n)).map(function(a){return Sr(a.getNode())}).getOr(!1)},LE=function(e){return e&&e.nodeName==="A"&&"href"in e},DM=function(e){return e.fold(yt,LE,LE,yt)},_M=function(e){var n=nt(mf,e),a=he.fromRangeStart(e.selection.getRng());return Ys(n,e.getBody(),a).filter(DM)},BM=function(e,n){n.fold(Ve,nt(AM,e),nt(EM,e),Ve)},_o=function(e,n){var a=_M(e);a.isSome()?a.each(nt(BM,e)):kM(e,n)},$E=function(e,n){return oC(e).filter(function(a){return n.length>0&&ct(E.fromDom(a),n)}).isSome()},zM=function(e){return $E(e,tS(e))},MM=function(e){return $E(e,$O(e))},aa=Ft.generate([{br:[]},{block:[]},{none:[]}]),RM=function(e,n){return MM(e)},Q1=function(e){return function(n,a){var i=ei(n)==="";return i===e}},HE=function(e){return function(n,a){return nm(n)===e}},kv=function(e,n){return function(a,i){var u=ME(a)===e.toUpperCase();return u===n}},eb=function(e){return kv("pre",e)},PM=function(){return kv("summary",!0)},am=function(e){return function(n,a){return LO(n)===e}},FM=function(e,n){return zM(e)},rh=function(e,n){return n},VE=function(e){var n=ei(e),a=mM(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},qu=function(e,n){return function(a,i){var u=yr(e,function(c,v){return c&&v(a,i)},!0);return u?U.some(n):U.none()}},IM=function(e,n){return J4([qu([RM],aa.none()),qu([PM()],aa.br()),qu([eb(!0),am(!1),rh],aa.br()),qu([eb(!0),am(!1)],aa.block()),qu([eb(!0),am(!0),rh],aa.block()),qu([eb(!0),am(!0)],aa.br()),qu([HE(!0),rh],aa.br()),qu([HE(!0)],aa.block()),qu([Q1(!0),rh,VE],aa.block()),qu([Q1(!0)],aa.br()),qu([FM],aa.br()),qu([Q1(!1),rh],aa.br()),qu([VE],aa.block())],[e,!!(n&&n.shiftKey)]).getOr(aa.none())},UE=function(e,n){IM(e,n).fold(function(){_o(e,n)},function(){xM(e,n)},Ve)},tb=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),Vd(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),UE(e,n)}))},WE=function(e){e.on("keydown",function(n){n.keyCode===Xt.ENTER&&tb(e,n)})},NM=function(e,n,a){tm([{keyCode:Xt.END,action:Gn(X1,e,!0)},{keyCode:Xt.HOME,action:Gn(X1,e,!1)},{keyCode:Xt.END,action:Gn(Zw,e,!0)},{keyCode:Xt.HOME,action:Gn(Zw,e,!1)},{keyCode:Xt.END,action:Gn(U1,e,!0,n)},{keyCode:Xt.HOME,action:Gn(U1,e,!1,n)}],a).each(function(i){a.preventDefault()})},LM=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&NM(e,n,a)})},$M=Dt().browser,HM=function(e){var n=Dr(function(){e.composing||qn(e)},0);$M.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},VM=function(e){HM(e),e.on("input",function(n){n.isComposing===!1&&qn(e)})},vC=Dt(),jE=function(e,n,a){tm([{keyCode:Xt.PAGE_UP,action:Gn(U1,e,!1,n)},{keyCode:Xt.PAGE_DOWN,action:Gn(U1,e,!0,n)}],a)},dC=function(e){return e.stopImmediatePropagation()},mC=function(e){return e.keyCode===Xt.PAGE_UP||e.keyCode===Xt.PAGE_DOWN},qE=function(e,n,a){a&&!e.get()?n.on("NodeChange",dC,!0):!a&&e.get()&&n.off("NodeChange",dC),e.set(a)},UM=function(e,n){if(!vC.os.isOSX()){var a=di(!1);e.on("keydown",function(i){mC(i)&&qE(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&jE(e,n,i),mC(i)&&a.get()&&(qE(a,e,!1),e.nodeChanged())})}},GE=function(e,n){var a=n.container(),i=n.offset();return Ct(a)?(a.insertData(i,e),U.some(he(a,i+e.length))):Km(n).map(function(u){var c=E.fromText(e);return n.isAtEnd()?Rl(u,c):Bu(u,c),he(c.dom,e.length)})},WM=nt(GE,Ui),jM=nt(GE," "),qM=function(e){return function(n){return n.fold(function(a){return fs(e.dom,he.before(a))},function(a){return Ri(a)},function(a){return Vs(a)},function(a){return ls(e.dom,he.after(a))})}},KE=function(e,n){return function(a){return Vy(e,a)?WM(n):jM(n)}},GM=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},KM=function(e){var n=he.fromRangeStart(e.selection.getRng()),a=E.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=nt(mf,e),u=he.fromRangeStart(e.selection.getRng());return Ys(i,e.getBody(),u).bind(qM(a)).bind(KE(a,n)).exists(GM(e))}else return!1},XM=function(e,n){tm([{keyCode:Xt.SPACEBAR,action:Gn(KM,e)}],n).each(function(a){n.preventDefault()})},YM=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&XM(e,n)})},XE=function(e){var n=lE(e);return F7(e),lM(e,n),vM(e,n),WE(e),YM(e),VM(e),LM(e,n),UM(e,n),n},ZM=function(e){return wl(e)?di(null):XE(e)},JM=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(u){var c=n.selection.getRng(),v={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(u.type==="nodechange"||!xp(v,a))&&n.fire("SelectionChange"),a=v}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var u=n.selection.getStart(!0);!u||!Lt.range&&n.selection.isCollapsed()||Yf(n)&&!i.isSameElementPath(u)&&n.dom.isChildOf(u,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(u){!u.isDefaultPrevented()&&Yf(n)&&(n.selection.getNode().nodeName==="IMG"?Lo.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,u,c;this.editor.initialized&&a&&!uD(this.editor)&&!this.editor.mode.isReadOnly()&&(c=this.editor.getBody(),i=a.getStart(!0)||c,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,c))&&(i=c),u=[],this.editor.dom.getParent(i,function(v){if(v===c)return!0;u.push(v)}),n=n||{},n.element=i,n.parents=u,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),QM=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},eR=function(e){e.parser.addNodeFilter("details",function(n){Ne(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){Ne(n,function(a){var i=a.attr("data-mce-open");a.attr("open",bn(i)?i:null),a.attr("data-mce-open",null)})})},YE=function(e){QM(e),eR(e)},ah=function(e){return fn(e)&&al(E.fromDom(e))},ZE=function(e){var n=e.selection.getRng(),a=he.fromRangeStart(n),i=he.fromRangeEnd(n);if(he.isElementPosition(a)){var u=a.container();ah(u)&&Ri(u).each(function(c){return n.setStart(c.container(),c.offset())})}if(he.isElementPosition(i)){var u=a.container();ah(u)&&Vs(u).each(function(v){return n.setEnd(v.container(),v.offset())})}e.selection.setRng(r2(n))},JE=function(e){e.on("click",function(n){n.detail>=3&&ZE(e)})},QE=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,u=a.defaultView;return{top:n.top+u.pageYOffset-i.clientTop,left:n.left+u.pageXOffset-i.clientLeft}},tR=function(e){return e.inline?QE(e.getBody()):{left:0,top:0}},gC=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},nR=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},u={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:u},rR=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=QE(e.getContentAreaContainer()),i=nR(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},aR=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},oR=function(e,n){return aR(tR(e),gC(e),rR(e,n))},Ji=Gr,eT=as,tT=function(e,n){return Ji(n)&&n!==e},iR=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!Ji(n)},uR=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},sR=function(e,n,a,i){var u=e.dom,c=n.cloneNode(!0);u.setStyles(c,{width:a,height:i}),u.setAttrib(c,"data-mce-selected",null);var v=u.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return u.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),u.setStyles(c,{margin:0,boxSizing:"border-box"}),v.appendChild(c),v},cR=function(e,n){e.parentNode!==n&&n.appendChild(e)},lR=function(e,n,a,i,u,c){var v=0,m=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>u&&(v=n.pageX+a-u),n.pageY+i>c&&(m=n.pageY+i-c),e.style.width=a-v+"px",e.style.height=i-m+"px"},nT=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},fR=function(e){return e.button===0},hC=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},vR=function(e,n){return function(a){if(fR(a)){var i=hr(n.dom.getParents(a.target),SO(Ji,eT)).getOr(null);if(tT(n.getBody(),i)){var u=n.dom.getPos(i),c=n.getBody(),v=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?c.scrollWidth:v.offsetWidth)-2,maxY:(n.inline?c.scrollHeight:v.offsetHeight)-2,relX:a.pageX-u.x,relY:a.pageY-u.y,width:i.offsetWidth,height:i.offsetHeight,ghost:sR(n,i,i.offsetWidth,i.offsetHeight)})}}}},dR=function(e,n){var a=Lo.throttle(function(i,u){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,u)},0);return n.on("remove",a.stop),function(i){return e.on(function(u){var c=Math.max(Math.abs(i.screenX-u.screenX),Math.abs(i.screenY-u.screenY));if(!u.dragging&&c>10){var v=n.fire("dragstart",{target:u.element});if(v.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){var m=hC(u,oR(n,i));cR(u.ghost,n.getBody()),lR(u.ghost,m,u.width,u.height,u.maxX,u.maxY),a(i.clientX,i.clientY)}})}},rT=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},mR=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(iR(n,rT(n.selection),i.element)){var u=uR(i.element),c=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});c.isDefaultPrevented()||n.undoManager.transact(function(){nT(i.element),n.insertContent(n.dom.getOuterHTML(u)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),aT(e)}},gR=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),aT(e)}},aT=function(e){e.on(function(n){nT(n.ghost)}),e.clear()},hR=function(e){var n=jl(),a=Lr.DOM,i=document,u=vR(n,e),c=dR(n,e),v=mR(n,e),m=gR(n,e);e.on("mousedown",u),e.on("mousemove",c),e.on("mouseup",v),a.bind(i,"mousemove",c),a.bind(i,"mouseup",m),e.on("remove",function(){a.unbind(i,"mousemove",c),a.unbind(i,"mouseup",m)}),e.on("keydown",function(g){g.keyCode===Xt.ESC&&m()})},pR=function(e){e.on("drop",function(n){var a=typeof n.clientX!="undefined"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(Ji(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},bR=function(e){var n=function(u){if(!u.isDefaultPrevented()){var c=u.dataTransfer;c&&(dt(c.types,"Files")||c.files.length>0)&&(u.preventDefault(),u.type==="drop"&&qd(e,"Dropped file type is not supported"))}},a=function(u){zp(e,u.target)&&n(u)},i=function(){var u=Lr.DOM,c=e.dom,v=document,m=e.inline?e.getBody():e.getDoc(),g=["drop","dragover"];Ne(g,function(C){u.bind(v,C,a),c.bind(m,C,n)}),e.on("remove",function(){Ne(g,function(C){u.unbind(v,C,a),c.unbind(m,C,n)})})};e.on("init",function(){Lo.setEditorTimeout(e,i,0)})},pC=function(e){hR(e),pR(e),fD(e)&&bR(e)},yR=function(e){var n=Dr(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=Ug(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},oT=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Oi(a)){var i=Ad(e.getBody(),a),u=Gr(i)?i:a;e.selection.getNode()!==u&&pv(e,u).each(function(c){return e.selection.setRng(c)})}})})},iT=as,Av=Gr,nb=function(e,n){return Ad(e.getBody(),n)},wR=function(e){var n=e.selection,a=e.dom,i=a.isBlock,u=e.getBody(),c=xD(e,u,i,function(){return Jf(e)}),v="sel-"+a.uniqueId(),m="data-mce-selected",g,C=function(De){return a.hasClass(De,"mce-offscreen-selection")},T=function(De){return De!==u&&(Av(De)||Oi(De))&&a.isChildOf(De,u)},D=function(De){return of(De)||uf(De)||Fd(De)||Id(De)},B=function(){var De=a.get(v);return De&&De.getElementsByTagName("*")[0]},I=function(De){De&&n.setRng(De)},F=n.getRng,L=function(De,Qt,Le,ft){ft===void 0&&(ft=!0);var Ie=e.fire("ShowCaret",{target:Qt,direction:De,before:Le});return Ie.isDefaultPrevented()?null:(ft&&n.scrollIntoView(Qt,De===-1),c.show(Le,Qt))},$=function(De){De.hasAttribute("data-mce-caret")&&(Nb(De),I(F()),n.scrollIntoView(De))},G=function(){e.on("mouseup",function(Ie){var Qe=F();Qe.collapsed&&g4(e,Ie.clientX,Ie.clientY)&&O1(e,Qe,!1).each(I)}),e.on("click",function(Ie){var Qe=nb(e,Ie.target);Qe&&(Av(Qe)&&(Ie.preventDefault(),e.focus()),iT(Qe)&&a.isChildOf(Qe,n.getNode())&&Re())}),e.on("blur NewBlock",Re),e.on("ResizeWindow FullscreenStateChanged",c.reposition);var De=function(Ie){var Qe=Ie.firstChild;if(rn(Qe))return!1;var ht=he.before(Qe);if(Sr(ht.getNode())&&Ie.childNodes.length===1)return!D(ht);var Be=Hs(Ie),pt=Be.next(ht);return pt&&!D(pt)},Qt=function(Ie,Qe){var ht=a.getParent(Ie,i),Be=a.getParent(Qe,i);return ht===Be},Le=function(Ie,Qe){var ht=a.getParent(Ie,i),Be=a.getParent(Qe,i);return rn(ht)?!1:Ie!==Be&&a.isChildOf(ht,Be)&&Av(nb(e,ht))===!1?!0:!a.isChildOf(Be,ht)&&!Qt(ht,Be)&&De(ht)};e.on("tap",function(Ie){var Qe=Ie.target,ht=nb(e,Qe);Av(ht)?(Ie.preventDefault(),pv(e,ht).each(pe)):T(Qe)&&pv(e,Qe).each(pe)},!0),e.on("mousedown",function(Ie){var Qe=Ie.target;if(!(Qe!==u&&Qe.nodeName!=="HTML"&&!a.isChildOf(Qe,u))&&g4(e,Ie.clientX,Ie.clientY)!==!1){var ht=nb(e,Qe);if(ht)Av(ht)?(Ie.preventDefault(),pv(e,ht).each(pe)):(Re(),!(iT(ht)&&Ie.shiftKey)&&!og(Ie.clientX,Ie.clientY,n.getRng())&&(vt(),n.placeCaretAt(Ie.clientX,Ie.clientY)));else if(T(Qe))pv(e,Qe).each(pe);else if(Uf(Qe)===!1){Re(),vt();var Be=v7(u,Ie.clientX,Ie.clientY);if(Be&&!Le(Qe,Be.node)){Ie.preventDefault();var pt=L(1,Be.node,Be.before,!1);I(pt),e.getBody().focus()}}}}),e.on("keypress",function(Ie){Xt.modifierPressed(Ie)||Av(n.getNode())&&Ie.preventDefault()}),e.on("GetSelectionRange",function(Ie){var Qe=Ie.range;if(g){if(!g.parentNode){g=null;return}Qe=Qe.cloneRange(),Qe.selectNode(g),Ie.range=Qe}}),e.on("SetSelectionRange",function(Ie){Ie.range=ie(Ie.range);var Qe=pe(Ie.range,Ie.forward);Qe&&(Ie.range=Qe)});var ft=function(Ie){return Ie.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(Ie){var Qe=Ie.range,ht=Qe.startContainer.parentNode;!Q(Qe)&&!ft(ht)&&vt(),C(ht)||Re()}),e.on("copy",function(Ie){var Qe=Ie.clipboardData;if(!Ie.isDefaultPrevented()&&Ie.clipboardData&&!Lt.ie){var ht=B();ht&&(Ie.preventDefault(),Qe.clearData(),Qe.setData("text/html",ht.outerHTML),Qe.setData("text/plain",ht.outerText||ht.innerText))}}),pC(e),yR(e),oT(e)},q=function(De){return Pu(De)||Eh(De)||Th(De)},Q=function(De){return q(De.startContainer)||q(De.endContainer)},ie=function(De){var Qt=e.schema.getShortEndedElements(),Le=a.createRng(),ft=De.startContainer,Ie=De.startOffset,Qe=De.endContainer,ht=De.endOffset;return Sn(Qt,ft.nodeName.toLowerCase())?Ie===0?Le.setStartBefore(ft):Le.setStartAfter(ft):Le.setStart(ft,Ie),Sn(Qt,Qe.nodeName.toLowerCase())?ht===0?Le.setEndBefore(Qe):Le.setEndAfter(Qe):Le.setEnd(Qe,ht),Le},Y=function(De,Qt,Le){var ft=e.$,Ie=Kv(E.fromDom(e.getBody()),"#"+v).fold(function(){return ft([])},function(Be){return ft([Be.dom])});Ie.length===0&&(Ie=ft('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",v),Ie.appendTo(e.getBody()));var Qe=a.createRng();Qt===Le&&Lt.ie?(Ie.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(Qt),Qe.setStartAfter(Ie[0].firstChild.firstChild),Qe.setEndAfter(Qt)):(Ie.empty().append(Ui).append(Qt).append(Ui),Qe.setStart(Ie[0].firstChild,1),Qe.setEnd(Ie[0].lastChild,0)),Ie.css({top:a.getPos(De,e.getBody()).y}),Ie[0].focus();var ht=n.getSel();return ht.removeAllRanges(),ht.addRange(Qe),Qe},se=function(De){var Qt=De.cloneNode(!0),Le=e.fire("ObjectSelected",{target:De,targetClone:Qt});if(Le.isDefaultPrevented())return null;var ft=Y(De,Le.targetClone,Qt),Ie=E.fromDom(De);return Ne(Bi(E.fromDom(e.getBody()),"*[data-mce-selected]"),function(Qe){tn(Ie,Qe)||we(Qe,m)}),a.getAttrib(De,m)||De.setAttribute(m,"1"),g=De,vt(),ft},pe=function(De,Qt){if(!De)return null;if(De.collapsed){if(!Q(De)){var Le=Qt?1:-1,ft=hd(Le,u,De),Ie=ft.getNode(!Qt);if(Uf(Ie))return L(Le,Ie,Qt?!ft.isAtEnd():!1,!1);var Qe=ft.getNode(Qt);if(Uf(Qe))return L(Le,Qe,Qt?!1:!ft.isAtEnd(),!1)}return null}var ht=De.startContainer,Be=De.startOffset,pt=De.endOffset;if(ht.nodeType===3&&Be===0&&Av(ht.parentNode)&&(ht=ht.parentNode,Be=a.nodeIndex(ht),ht=ht.parentNode),ht.nodeType!==1)return null;if(pt===Be+1&&ht===De.endContainer){var gn=ht.childNodes[Be];if(T(gn))return se(gn)}return null},Re=function(){g&&g.removeAttribute(m),Kv(E.fromDom(e.getBody()),"#"+v).each(ka),g=null},Pt=function(){c.destroy(),g=null},vt=function(){c.hide()};return Lt.ceFalse&&!wl(e)&&G(),{showCaret:L,showBlockCaretContainer:$,hideFakeCaret:vt,destroy:Pt}},eo=function(e){var n=Ce.each,a=Xt.BACKSPACE,i=Xt.DELETE,u=e.dom,c=e.selection,v=e.parser,m=Lt.gecko,g=Lt.ie,C=Lt.webkit,T="data:text/mce-internal,",D=g?"Text":"URL",B=function(ze,le){try{e.getDoc().execCommand(ze,!1,le)}catch(Me){}},I=function(ze){return ze.isDefaultPrevented()},F=function(ze){var le,Me;ze.dataTransfer&&(e.selection.isCollapsed()&&ze.target.tagName==="IMG"&&c.select(ze.target),le=e.selection.getContent(),le.length>0&&(Me=T+escape(e.id)+","+escape(le),ze.dataTransfer.setData(D,Me)))},L=function(ze){var le;return ze.dataTransfer&&(le=ze.dataTransfer.getData(D),le&&le.indexOf(T)>=0)?(le=le.substr(T.length).split(","),{id:unescape(le[0]),html:unescape(le[1])}):null},$=function(ze,le){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:ze,internal:le}):e.execCommand("mceInsertContent",!1,ze)},G=function(){var ze=function(Me){var ve=u.create("body"),St=Me.cloneContents();return ve.appendChild(St),c.serializer.serialize(ve,{format:"html"})},le=function(Me){var ve=ze(Me),St=u.createRng();St.selectNode(e.getBody());var Ze=ze(St);return ve===Ze};e.on("keydown",function(Me){var ve=Me.keyCode,St,Ze;if(!I(Me)&&(ve===i||ve===a)){if(St=e.selection.isCollapsed(),Ze=e.getBody(),St&&!u.isEmpty(Ze)||!St&&!le(e.selection.getRng()))return;Me.preventDefault(),e.setContent(""),Ze.firstChild&&u.isBlock(Ze.firstChild)?e.selection.setCursorLocation(Ze.firstChild,0):e.selection.setCursorLocation(Ze,0),e.nodeChanged()}})},q=function(){e.shortcuts.add("meta+a",null,"SelectAll")},Q=function(){e.inline||u.bind(e.getDoc(),"mousedown mouseup",function(ze){var le;if(ze.target===e.getDoc().documentElement)if(le=c.getRng(),e.getBody().focus(),ze.type==="mousedown"){if(Pu(le.startContainer))return;c.placeCaretAt(ze.clientX,ze.clientY)}else c.setRng(le)})},ie=function(){e.on("keydown",function(ze){if(!I(ze)&&ze.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){var le=c.getNode(),Me=le.previousSibling;if(le.nodeName==="HR"){u.remove(le),ze.preventDefault();return}Me&&Me.nodeName&&Me.nodeName.toLowerCase()==="hr"&&(u.remove(Me),ze.preventDefault())}}})},Y=function(){Range.prototype.getClientRects||e.on("mousedown",function(ze){if(!I(ze)&&ze.target.nodeName==="HTML"){var le=e.getBody();le.blur(),Lo.setEditorTimeout(e,function(){le.focus()})}})},se=function(){e.on("click",function(ze){var le=ze.target;/^(IMG|HR)$/.test(le.nodeName)&&u.getContentEditableParent(le)!=="false"&&(ze.preventDefault(),e.selection.select(le),e.nodeChanged()),le.nodeName==="A"&&u.hasClass(le,"mce-item-anchor")&&(ze.preventDefault(),c.select(le))})},pe=function(){var ze=function(){var Me=u.getAttribs(c.getStart().cloneNode(!1));return function(){var ve=c.getStart();ve!==e.getBody()&&(u.setAttrib(ve,"style",null),n(Me,function(St){ve.setAttributeNode(St.cloneNode(!0))}))}},le=function(){return!c.isCollapsed()&&u.getParent(c.getStart(),u.isBlock)!==u.getParent(c.getEnd(),u.isBlock)};e.on("keypress",function(Me){var ve;if(!I(Me)&&(Me.keyCode===8||Me.keyCode===46)&&le())return ve=ze(),e.getDoc().execCommand("delete",!1,null),ve(),Me.preventDefault(),!1}),u.bind(e.getDoc(),"cut",function(Me){var ve;!I(Me)&&le()&&(ve=ze(),Lo.setEditorTimeout(e,function(){ve()}))})},Re=function(){e.on("keydown",function(ze){if(!I(ze)&&ze.keyCode===a&&c.isCollapsed()&&c.getRng().startOffset===0){var le=c.getNode().previousSibling;if(le&&le.nodeName&&le.nodeName.toLowerCase()==="table")return ze.preventDefault(),!1}})},Pt=function(){e.on("keydown",function(ze){var le,Me;if(!(I(ze)||ze.keyCode!==Xt.BACKSPACE)){le=c.getRng();var ve=le.startContainer,St=le.startOffset,Ze=u.getRoot();if(Me=ve,!(!le.collapsed||St!==0)){for(;Me&&Me.parentNode&&Me.parentNode.firstChild===Me&&Me.parentNode!==Ze;)Me=Me.parentNode;Me.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Me),le=u.createRng(),le.setStart(ve,0),le.setEnd(ve,0),c.setRng(le))}}})},vt=function(){var ze=function(){B("StyleWithCSS",!1),B("enableInlineTableEditing",!1),M0(e)||B("enableObjectResizing",!1)};sD(e)||e.on("BeforeExecCommand mousedown",ze)},De=function(){var ze=function(){n(u.select("a"),function(le){var Me=le.parentNode,ve=u.getRoot();if(Me.lastChild===le){for(;Me&&!u.isBlock(Me);){if(Me.parentNode.lastChild!==Me||Me===ve)return;Me=Me.parentNode}u.add(Me,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(le){(le.type==="setcontent"||le.command==="mceInsertLink")&&ze()})},Qt=function(){ei(e)&&e.on("init",function(){B("DefaultParagraphSeparator",ei(e))})},Le=function(){e.on("keyup focusin mouseup",function(ze){Xt.modifierPressed(ze)||c.normalize()},!0)},ft=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ie=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Qe=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(ze){var le;if(ze.target.nodeName==="HTML"){if(Lt.ie>11){e.getBody().focus();return}le=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(le),e.selection.normalize(),e.nodeChanged()}}))},ht=function(){Lt.mac&&e.on("keydown",function(ze){if(Xt.metaKeyPressed(ze)&&!ze.shiftKey&&(ze.keyCode===37||ze.keyCode===39)){ze.preventDefault();var le=e.selection.getSel();le.modify("move",ze.keyCode===37?"backward":"forward","lineboundary")}})},Be=function(){B("AutoUrlDetect",!1)},pt=function(){e.on("click",function(ze){var le=ze.target;do if(le.tagName==="A"){ze.preventDefault();return}while(le=le.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},gn=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(ze){ze.preventDefault()})})},mr=function(){v.addNodeFilter("br",function(ze){for(var le=ze.length;le--;)ze[le].attr("class")==="Apple-interchange-newline"&&ze[le].remove()})},Un=function(){e.on("dragstart",function(ze){F(ze)}),e.on("drop",function(ze){if(!I(ze)){var le=L(ze);if(le&&le.id!==e.id){ze.preventDefault();var Me=py(ze.x,ze.y,e.getDoc());c.setRng(Me),$(le.html,!0)}}})},wa=Ve,fa=function(){if(!m||e.removed)return!1;var ze=e.selection.getSel();return!ze||!ze.rangeCount||ze.rangeCount===0},Pi=function(){C&&(Q(),se(),gn(),q(),Lt.iOS&&(Ie(),Qe(),pt())),m&&(Y(),vt(),ft(),ht())},Qi=function(){Pt(),G(),Lt.windowsPhone||Le(),C&&(Q(),se(),Qt(),gn(),Re(),mr(),Lt.iOS?(Ie(),Qe(),pt()):q()),Lt.ie>=11&&(Qe(),Re()),Lt.ie&&(q(),Be(),Un()),m&&(ie(),Y(),pe(),vt(),De(),ft(),ht(),Re())};return wl(e)?Pi():Qi(),{refreshContentEditable:wa,isHidden:fa}},bC=Lr.DOM,CR=function(e,n){var a=E.fromDom(e.getBody()),i=Jc(si(a)),u=E.fromTag("style");w(u,"type","text/css"),wo(u,E.fromText(n)),wo(i,u),e.on("remove",function(){ka(u)})},xR=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},yC=function(e){return Bn(e,function(n){return fe(n)===!1})},rb=function(e){var n=e.settings,a=e.editorUpload.blobCache;return yC({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:xR(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},SR=function(e){var n=e.settings;return Vt(Vt({},rb(e)),yC({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before,block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements}))},uT=function(e){var n=uw(rb(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var u=a.length,c,v,m=e.dom,g="data-mce-"+i;u--;)if(c=a[u],v=c.attr(i),v&&!c.attr(g)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;i==="style"?(v=m.serializeStyle(m.parseStyle(v),c.name),v.length||(v=null),c.attr(g,v),c.attr(i,v)):i==="tabindex"?(c.attr(g,v),c.attr(i,null)):c.attr(g,e.convertURL(v,i,c.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var u=a[i],c=u.attr("type")||"no/type";c.indexOf("mce-")!==0&&u.attr("type","mce-"+c)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var u=a[i];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode(u.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,u=e.schema.getNonEmptyElements();i--;){var c=a[i];c.isEmpty(u)&&c.getAll("br").length===0&&(c.append(new Uu("br",1)).shortEnded=!0)}}),n},kR=function(e){e.settings.auto_focus&&Lo.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},AR=function(e){var n=e.dom.getRoot();!e.inline&&(!Yf(e)||e.selection.getStart(!0)===n)&&Ri(n).each(function(a){var i=a.getNode(),u=Ya(i)?Ri(i).getOr(a):a;Lt.browser.isIE()?gk(e,u.toRange()):e.selection.setRng(u.toRange())})},ER=function(e){e.bindPendingEventDelegates(),e.initialized=!0,Oc(e),e.focus(!0),AR(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),kR(e)},sT=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},TR=function(e,n,a){var i=[new uo(function(u,c){return sT(e).loadAll(n,u,c)})];return e.inline?i:i.concat([new uo(function(u,c){return e.ui.styleSheetLoader.loadAll(a,u,c)})])},cT=function(e){var n=sT(e),a=uS(e),i=e.contentCSS,u=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},c=function(){e.removed?u():e.on("remove",u)};if(e.contentStyles.length>0){var v="";Ce.each(e.contentStyles,function(g){v+=g+`\r
`}),e.dom.addStyle(v)}var m=uo.all(TR(e,i,a)).then(c).catch(c);return e.settings.content_style&&CR(e,e.settings.content_style),m},OR=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();vy(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,bC.setAttrib(i,"spellcheck","false")),e.quirks=eo(e),kr(e);var u=sS(e);u!==void 0&&(i.dir=u),n.protect&&e.on("BeforeSetContent",function(c){Ce.each(n.protect,function(v){c.content=c.content.replace(v,function(m){return"<!--mce:protected "+escape(m)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(c){e.composing=c.type==="compositionstart"})},DR=function(e){wl(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},wC=function(e){e.removed!==!0&&(DR(e),ER(e))},CC=function(e,n){var a=e.settings,i=e.getElement(),u=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(u.open(),u.write(e.iframeHTML),u.close()),e.inline&&(bC.addClass(i,"mce-content-body"),e.contentDocument=u=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var c=e.getBody();c.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&bC.getStyle(c,"position",!0)==="static"&&(c.style.position="relative"),c.contentEditable=e.getParam("content_editable_state",!0)),c.disabled=!1,e.editorUpload=E4(e),e.schema=Fn(a),e.dom=Lr(u,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:cp(e),referrerPolicy:rS(e),onSetAttrib:function(g){e.fire("SetAttrib",g)}}),e.parser=uT(e),e.serializer=a4(SR(e),e),e.selection=tw(e.dom,e.getWin(),e.serializer,e),e.annotator=ag(e),e.formatter=D4(e),e.undoManager=ga(e),e._nodeChangeDispatcher=new JM(e),e._selectionOverrides=wR(e),em(e),YE(e),wl(e)||JE(e);var v=ZM(e);O7(e,v),z7(e),g8(e);var m=O3(e);OR(e),m.fold(function(){cT(e).then(function(){return wC(e)})},function(g){e.setProgressState(!0),cT(e).then(function(){g().then(function(C){e.setProgressState(!1),wC(e)},function(C){e.notificationManager.open({type:"error",text:String(C)}),wC(e)})})})},oh=Lr.DOM,_R=function(e,n){if(document.domain!==window.location.hostname&&Lt.browser.isIE()){var a=fv("mce");e[a]=function(){CC(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return oh.setAttrib(n,"src",i),!0}return!1},BR=function(e,n,a,i){var u=E.fromTag("iframe");return O(u,i),O(u,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),sd(u,"tox-edit-area__iframe"),u},lT=function(e){var n=PO(e)+"<html><head>";FO(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=IO(e),i=NO(e),u=e.translate(mD(e));return eS(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+eS(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+u+'">')+"<br></body></html>",n},zR=function(e,n){var a=e.translate("Rich Text Area"),i=BR(e.id,a,n.height,RO(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var u=_R(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=lT(e),oh.add(n.iframeContainer,i),u},MR=function(e,n){var a=zR(e,n);n.editorContainer&&(oh.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=oh.isHidden(n.editorContainer)),e.getElement().style.display="none",oh.setAttrib(e.id,"aria-hidden","true"),a||CC(e)},fT=Lr.DOM,vT=function(e,n,a){var i=Xi.get(a),u=Xi.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=Ce.trim(a),i&&Ce.inArray(n,a)===-1){if(Ce.each(Xi.dependencies(a),function(v){vT(e,n,v)}),e.plugins[a])return;try{var c=new i(e,u,e.$);e.plugins[a]=c,c.init&&(c.init(e,u),n.push(a))}catch(v){y4(e,a,v)}}},xC=function(e){return e.replace(/^\-/,"")},RR=function(e){var n=[];Ce.each(F0(e).split(/[ ,]/),function(a){vT(e,n,xC(a))})},dT=function(e){var n=Ce.trim(sp(e)),a=e.ui.registry.getAll().icons,i=Vt(Vt({},p1.get("default").icons),p1.get(n).icons);or(i,function(u,c){Sn(a,c)||e.ui.registry.addIcon(c,u)})},mT=function(e){var n=fd(e);if(bn(n)){e.settings.theme=xC(n);var a=Cu.get(n);e.theme=new a(e,Cu.urls[n]),e.theme.init&&e.theme.init(e,Cu.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},gT=function(e){return e.theme.renderUI()},PR=function(e){var n=e.getElement(),a=fd(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},hT=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},FR=function(e){var n=fT.create("div");return fT.insertAfter(n,e),hT(n)},pT=function(e){var n=e.getElement();return e.inline?hT(null):FR(n)},IR=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,bn(fd(e))?gT(e):Fe(fd(e))?PR(e):pT(e)},NR=function(e,n){var a={show:U.from(n.show).getOr(Ve),hide:U.from(n.hide).getOr(Ve),disable:U.from(n.disable).getOr(Ve),isDisabled:U.from(n.isDisabled).getOr(yt),enable:function(){e.mode.isReadOnly()||U.from(n.enable).map(je)}};e.ui=Vt(Vt({},e.ui),a)},SC=function(e){e.fire("ScriptsLoaded"),dT(e),mT(e),RR(e);var n=IR(e);NR(e,U.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,mw(e),e.inline?CC(e):MR(e,a)},Ev=Lr.DOM,bT=function(e){return e.charAt(0)==="-"},yT=function(e,n){var a=aS(n),i=qO(n);if(zn.hasCode(a)===!1&&a!=="en"){var u=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(u,Ve,void 0,function(){r8(n,u,a)})}},LR=function(e,n,a,i){var u=fd(n);if(bn(u)){if(!bT(u)&&!Sn(Cu.urls,u)){var c=R0(n);c?Cu.load(u,n.documentBaseURI.toAbsolute(c)):Cu.load(u,"themes/"+u+"/theme"+a+".js")}e.loadQueue(function(){Cu.waitFor(u,i)})}else i()},$R=function(e){return U.from(WO(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:U.none()}})},wT=function(e,n,a){return U.from(n).filter(function(i){return i.length>0&&!p1.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:U.some(i)}})},CT=function(e,n,a){var i=wT(n,"default",a),u=$R(n).orThunk(function(){return wT(n,sp(n),"")});Ne(Ch([i,u]),function(c){e.add(c.url,Ve,void 0,function(){b4(n,c.url,c.name.getOrUndefined())})})},xT=function(e,n){Ce.each(lD(e),function(a,i){Xi.load(i,a,Ve,void 0,function(){w1(e,a,i)}),e.settings.plugins+=" "+i}),Ce.each(F0(e).split(/[ ,]/),function(a){if(a=Ce.trim(a),a&&!Xi.urls[a])if(bT(a)){a=a.substr(1,a.length);var i=Xi.dependencies(a);Ce.each(i,function(c){var v={prefix:"plugins/",resource:c,suffix:"/plugin"+n+".js"},m=Xi.createUrl(v,c);Xi.load(m.resource,m,Ve,void 0,function(){w1(e,m.prefix+m.resource+m.suffix,m.resource)})})}else{var u={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};Xi.load(a,u,Ve,void 0,function(){w1(e,u.prefix+u.resource+u.suffix,a)})}})},HR=function(e,n){var a=fl.ScriptLoader;LR(a,e,n,function(){yT(a,e),CT(a,e,n),xT(e,n),a.loadQueue(function(){e.removed||SC(e)},e,function(){e.removed||SC(e)})})},VR=function(e,n){return Ms.forElement(e,{contentCssCors:cD(n),referrerPolicy:rS(n)})},UR=function(e){var n=e.id;zn.setCode(aS(e));var a=function(){Ev.unbind(window,"ready",a),e.render()};if(!$l.Event.domLoaded){Ev.bind(window,"ready",a);return}if(!!e.getElement()&&!!Lt.contentEditable){var i=E.fromDom(e.getElement()),u=zt(i);e.on("remove",function(){at(i.dom.attributes,function(v){return we(i,v.name)}),O(i,u)}),e.ui.styleSheetLoader=VR(i,e),P0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var c=e.getElement().form||Ev.getParent(n,"form");c&&(e.formElement=c,tD(e)&&!lu(e.getElement())&&(Ev.insertAfter(Ev.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(v){e.fire(v.type,v)},Ev.bind(c,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),nD(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)})),e.windowManager=jd(e),e.notificationManager=Ki(e),rD(e)&&e.on("GetContent",function(v){v.save&&(v.content=Ev.encode(v.content))}),aD(e)&&e.on("submit",function(){e.initialized&&e.save()}),oD(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),HR(e,e.suffix)}},WR=function(e,n){return N3(e,n)},jR={"font-size":"size","font-family":"face"},qR=function(e,n,a){var i=function(c){return Zo(c,e).orThunk(function(){return Pr(c)==="font"?$n(jR,e).bind(function(v){return V(c,v)}):U.none()})},u=function(c){return tn(E.fromDom(n),c)};return v2(E.fromDom(a),function(c){return i(c)},u)},GR=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},KR=function(e,n){return U.from(Lr.DOM.getStyle(n,e,!0))},ST=function(e){return function(n,a){return U.from(a).map(E.fromDom).filter(Yr).bind(function(i){return qR(e,n,i.dom).or(KR(e,i.dom))}).getOr("")}},XR=ST("font-size"),ab=lr(GR,ST("font-family")),kT=function(e){return Ri(e.getBody()).map(function(n){var a=n.container();return Ct(a)?a.parentNode:a})},AT=function(e){return U.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?U.none():U.from(e.selection.getStart(!0))})},YR=function(e,n){return AT(e).orThunk(nt(kT,e)).map(E.fromDom).filter(Yr).bind(n)},ob=function(e,n){return YR(e,K(U.some,n))},kC=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=HO(e),u=VO(e);return u?u[a-1]||n:i[a-1]||n}else return n}else return n},ZR=function(e){var n=e.split(/\s*,\s*/);return Yt(n,function(a){return a.indexOf(" ")!==-1&&!(na(a,'"')||na(a,"'"))?"'"+a+"'":a}).join(",")},JR=function(e,n){var a=kC(e,n);e.formatter.toggle("fontname",{value:ZR(a)}),e.nodeChanged()},QR=function(e){return ob(e,function(n){return ab(e.getBody(),n.dom)}).getOr("")},AC=function(e,n){e.formatter.toggle("fontsize",{value:kC(e,n)}),e.nodeChanged()},eP=function(e){return ob(e,function(n){return XR(e.getBody(),n.dom)}).getOr("")},EC=function(e){return ob(e,function(n){var a=E.fromDom(e.getBody()),i=v2(n,function(c){return Zo(c,"line-height")},nt(tn,a)),u=function(){var c=parseFloat(Pn(n,"line-height")),v=parseFloat(Pn(n,"font-size"));return String(c/v)};return i.getOrThunk(u)}).getOr("")},tP=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},nP=function(e){if(typeof e!="string"){var n=Ce.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},rP=function(e,n){var a=nP(n);I3(e,a.content,a.details)},ih=Ce.each,aP=Ce.map,oP=Ce.inArray,ET=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,u){var c,v=!1,m=this;if(!m.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!u||!u.skip_focus)?m.editor.focus():A_(m.editor)),u=m.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),u.isDefaultPrevented())return!1;var g=n.toLowerCase();if(c=m.commands.exec[g])return c(g,a,i),m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(ih(this.editor.plugins,function(C){if(C.execCommand&&C.execCommand(n,a,i))return m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),v=!0,!1}),v)return v;if(m.editor.theme&&m.editor.theme.execCommand&&m.editor.theme.execCommand(n,a,i))return m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{v=m.editor.getDoc().execCommand(n,a,i)}catch(C){}return v?(m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch(i){}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch(i){}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;ih(n,function(u,c){ih(c.toLowerCase().split(","),function(v){i.commands[a][v]=u})})},e.prototype.addCommand=function(n,a,i){var u=this;n=n.toLowerCase(),this.commands.exec[n]=function(c,v,m,g){return a.call(i||u.editor,v,m,g)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch(a){}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var u=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||u.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var u=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||u.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Ve,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(u,c,v){P_(n,v)},"Cut,Copy,Paste":function(u){var c=n.getDoc(),v;try{a.execNativeCommand(u)}catch(g){v=!0}if(u==="paste"&&!c.queryCommandEnabled(u)&&(v=!0),v||!c.queryCommandSupported(u)){var m=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Lt.mac&&(m=m.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:m,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var u=n.dom.getParent(n.selection.getStart(),"a");u&&n.dom.remove(u,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(u){var c=u.substring(7);c==="full"&&(c="justify"),ih("left,center,right,justify".split(","),function(v){c!==v&&n.formatter.remove("align"+v)}),c!=="none"&&a.toggleFormat("align"+c)},"InsertUnorderedList,InsertOrderedList":function(u){var c;a.execNativeCommand(u);var v=n.dom.getParent(n.selection.getNode(),"ol,ul");v&&(c=v.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(c.nodeName)&&(a.storeSelection(),n.dom.split(c,v),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(u){a.toggleFormat(u)},"ForeColor,HiliteColor":function(u,c,v){a.toggleFormat(u,{value:v})},FontName:function(u,c,v){JR(n,v)},FontSize:function(u,c,v){AC(n,v)},LineHeight:function(u,c,v){tP(n,v)},Lang:function(u,c,v){a.toggleFormat(u,{value:v.code,customValue:v.customCode})},RemoveFormat:function(u){n.formatter.remove(u)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(u,c,v){return a.toggleFormat(v||"p")},mceCleanup:function(){var u=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(u)},mceRemoveNode:function(u,c,v){var m=v||n.selection.getNode();m!==n.getBody()&&(a.storeSelection(),n.dom.remove(m,!0),a.restoreSelection())},mceSelectNodeDepth:function(u,c,v){var m=0;n.dom.getParent(n.selection.getNode(),function(g){if(g.nodeType===1&&m++===v)return n.selection.select(g),!1},n.getBody())},mceSelectNode:function(u,c,v){n.selection.select(v)},mceInsertContent:function(u,c,v){rP(n,v)},mceInsertRawHTML:function(u,c,v){n.selection.setContent("tiny_mce_marker");var m=n.getContent();n.setContent(m.replace(/tiny_mce_marker/g,function(){return v}))},mceInsertNewLine:function(u,c,v){UE(n,v)},mceToggleFormat:function(u,c,v){a.toggleFormat(v)},mceSetContent:function(u,c,v){n.setContent(v)},"Indent,Outdent":function(u){q1(n,u)},mceRepaint:Ve,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(u,c,v){n.execCommand("mceInsertContent",!1,v.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(u,c,v){typeof v=="string"&&(v={href:v});var m=n.dom.getParent(n.selection.getNode(),"a");v.href=v.href.replace(/ /g,"%20"),(!m||!v.href)&&n.formatter.remove("link"),v.href&&n.formatter.apply("link",v,m)},selectAll:function(){var u=n.dom.getParent(n.selection.getStart(),as);if(u){var c=n.dom.createRng();c.selectNodeContents(u),n.selection.setRng(c)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(u,c,v){return _o(n,v),!0}});var i=function(u){return function(){var c=n.selection,v=c.isCollapsed()?[n.dom.getParent(c.getNode(),n.dom.isBlock)]:c.getSelectedBlocks(),m=aP(v,function(g){return!!n.formatter.matchNode(g,u)});return oP(m,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(u){return a.isFormatMatch(u)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return mE(n)},"InsertUnorderedList,InsertOrderedList":function(u){var c=n.dom.getParent(n.selection.getNode(),"ul,ol");return c&&(u==="insertunorderedlist"&&c.tagName==="UL"||u==="insertorderedlist"&&c.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return QR(n)},this),a.addQueryValueHandler("FontSize",function(){return eP(n)},this),a.addQueryValueHandler("LineHeight",function(){return EC(n)},this)},e}(),Tv="data-mce-contenteditable",iP=function(e,n,a){y0(e,n)&&a===!1?b0(e,n):a&&sd(e,n)},ti=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch(i){}},Nc=function(e,n){e.dom.contentEditable=n?"true":"false"},uP=function(e){Ne(Bi(e,'*[contenteditable="true"]'),function(n){w(n,Tv,"true"),Nc(n,!1)})},sP=function(e){Ne(Bi(e,"*["+Tv+'="true"]'),function(n){we(n,Tv),Nc(n,!0)})},cP=function(e){U.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},lP=function(e){e.selection.setRng(e.selection.getRng())},fP=function(e,n){var a=E.fromDom(e.getBody());iP(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),cP(e),e.readonly=!0,Nc(a,!1),uP(a)):(e.readonly=!1,Nc(a,!0),sP(a),ti(e,"StyleWithCSS",!1),ti(e,"enableInlineTableEditing",!1),ti(e,"enableObjectResizing",!1),R_(e)&&e.focus(),lP(e),e.nodeChanged())},Ov=function(e){return e.readonly},TC=function(e){e.parser.addAttributeFilter("contenteditable",function(n){Ov(e)&&Ne(n,function(a){a.attr(Tv,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Tv,function(n){Ov(e)&&Ne(n,function(a){a.attr("contenteditable",a.attr(Tv))})}),e.serializer.addTempAttr(Tv)},om=function(e){e.serializer?TC(e):e.on("PreInit",function(){TC(e)})},vP=function(e){return e.type==="click"},dP=function(e,n){var a=function(i){return tn(i,E.fromDom(e.getBody()))};return Aa(n,"a",a).bind(function(i){return V(i,"href")})},mP=function(e,n){if(vP(n)&&!Xt.metaKeyPressed(n)){var a=E.fromDom(n.target);dP(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var u=e.dom.select(i+',[name="'+oc(i,"#")+'"]');u.length&&e.selection.scrollIntoView(u[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},Js=function(e){e.on("ShowCaret",function(n){Ov(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){Ov(e)&&n.preventDefault()})},gP=Ce.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),OC=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||yt}return e.isNative=function(n){return!!gP[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),u=dx(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(u);var c=this.bindings[i];if(c)for(var v=0,m=c.length;v<m;v++){var g=c[v];if(!g.removed){if(g.once&&this.off(i,g.func),u.isImmediatePropagationStopped())return u;if(g.func.call(this.scope,u)===!1)return u.preventDefault(),u}}return u},e.prototype.on=function(n,a,i,u){if(a===!1&&(a=yt),a){var c={func:a,removed:!1};u&&Ce.extend(c,u);for(var v=n.toLowerCase().split(" "),m=v.length;m--;){var g=v[m],C=this.bindings[g];C||(C=[],this.toggleEvent(g,!0)),i?C=Mo([c],C,!0):C=Mo(Mo([],C,!0),[c],!1),this.bindings[g]=C}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var u=n.toLowerCase().split(" "),c=u.length;c--;){var v=u[c],m=this.bindings[v];if(!v)return or(this.bindings,function(C,T){i.toggleEvent(T,!1),delete i.bindings[T]}),this;if(m){if(!a)m.length=0;else{var g=Ln(m,function(C){return C.func===a});m=g.fail,this.bindings[v]=m,Ne(g.pass,function(C){C.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[v])}}else or(this.bindings,function(C,T){i.toggleEvent(T,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),im=function(e){return e._eventDispatcher||(e._eventDispatcher=new OC({scope:e,toggleEvent:function(n,a){OC.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},ib={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var u=im(i).fire(e,n);if(a!==!1&&i.parent)for(var c=i.parent();c&&!u.isPropagationStopped();)c.fire(e,u,!1),c=c.parent();return u},on:function(e,n,a){return im(this).on(e,n,a)},off:function(e,n){return im(this).off(e,n)},once:function(e,n){return im(this).once(e,n)},hasEventListeners:function(e){return im(this).has(e)}},uh=Lr.DOM,yf,um=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=cS(e);return a?(e.eventRoot||(e.eventRoot=uh.select(a)[0]),e.eventRoot):e.getBody()},hP=function(e){return!e.hidden&&!Ov(e)},TT=function(e,n,a){hP(e)?e.fire(n,a):Ov(e)&&mP(e,a)},OT=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=um(e,n);if(cS(e)){if(yf||(yf={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||yf&&(or(yf,function(u,c){e.dom.unbind(um(e,c))}),yf=null)})),yf[n])return;a=function(u){for(var c=u.target,v=e.editorManager.get(),m=v.length;m--;){var g=v[m].getBody();(g===c||uh.isChildOf(c,g))&&TT(v[m],n,u)}},yf[n]=a,uh.bind(i,n,a)}else a=function(u){TT(e,n,u)},uh.bind(i,n,a),e.delegates[n]=a}},DT=Vt(Vt({},ib),{bindPendingEventDelegates:function(){var e=this;Ce.each(e._pendingNativeEvents,function(n){OT(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?OT(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(um(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(or(e.delegates,function(i,u){e.dom.unbind(um(e,u),u,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),pP=["design","readonly"],DC=function(e,n,a,i){var u=a[n.get()],c=a[i];try{c.activate()}catch(v){console.error("problem while activating editor mode "+i+":",v);return}u.deactivate(),u.editorReadOnly!==c.editorReadOnly&&fP(e,c.editorReadOnly),n.set(i),GS(e,i)},_T=function(e,n,a,i){if(i!==a.get()){if(!Sn(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?DC(e,a,n,i):e.on("init",function(){return DC(e,a,n,i)})}},bP=function(e,n,a){var i;if(dt(pP,n))throw new Error("Cannot override default mode "+n);return Vt(Vt({},e),(i={},i[n]=Vt(Vt({},a),{deactivate:function(){try{a.deactivate()}catch(u){console.error("problem while deactivating editor mode "+n+":",u)}}}),i))},BT=function(e){var n=di("design"),a=di({design:{activate:Ve,deactivate:Ve,editorReadOnly:!1},readonly:{activate:Ve,deactivate:Ve,editorReadOnly:!0}});return om(e),Js(e),{isReadOnly:function(){return Ov(e)},set:function(i){return _T(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,u){a.set(bP(a.get(),i,u))}}},_C=Ce.each,BC=Ce.explode,yP={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},zT=Ce.makeMap("alt,ctrl,shift,meta,access"),MT=function(e){var n,a={};_C(BC(e.toLowerCase(),"+"),function(u){u in zT?a[u]=!0:/^[0-9]{2,}$/.test(u)?a.keyCode=parseInt(u,10):(a.charCode=u.charCodeAt(0),a.keyCode=yP[u]||u.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in zT)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Lt.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Lt.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},ub=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(_C(a.shortcuts,function(u){if(a.matchShortcut(i,u))return a.pendingPatterns=u.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(u),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,u){var c=this,v=c.normalizeCommandFunc(i);return _C(BC(Ce.trim(n)),function(m){var g=c.createShortcut(m,a,v,u);c.shortcuts[g.id]=g}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:Ce.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,u){var c=Ce.map(BC(n,">"),MT);return c[c.length-1]=Ce.extend(c[c.length-1],{func:i,scope:u||this.editor}),Ce.extend(c[0],{desc:this.editor.translate(a),subpatterns:c.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),RT=function(){var e={},n={},a={},i={},u={},c={},v={},m=function(C,T){return function(D,B){return C[D.toLowerCase()]=Vt(Vt({},B),{type:T})}},g=function(C,T){return i[C.toLowerCase()]=T};return{addButton:m(e,"button"),addGroupToolbarButton:m(e,"grouptoolbarbutton"),addToggleButton:m(e,"togglebutton"),addMenuButton:m(e,"menubutton"),addSplitButton:m(e,"splitbutton"),addMenuItem:m(n,"menuitem"),addNestedMenuItem:m(n,"nestedmenuitem"),addToggleMenuItem:m(n,"togglemenuitem"),addAutocompleter:m(a,"autocompleter"),addContextMenu:m(u,"contextmenu"),addContextToolbar:m(c,"contexttoolbar"),addContextForm:m(c,"contextform"),addSidebar:m(v,"sidebar"),addIcon:g,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:u,contextToolbars:c,sidebars:v}}}},wP=function(){var e=RT();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Dv=Lr.DOM,sb=Ce.extend,PT=Ce.each,FT=Ce.resolve,CP=Lt.ie,cb=function(){function e(n,a,i){var u=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,sb(this,DT),this.settings=Kz(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(fl.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Lr.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),la.languageLoad=this.settings.language_load,la.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new pl(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new ub(this),this.editorCommands=new ET(this),this.settings.cache_suffix&&(Lt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:wP(),styleSheetLoader:void 0,show:Ve,hide:Ve,enable:Ve,disable:Ve,isDisabled:yt};var c=this,v=BT(c);this.mode=v,this.setMode=v.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=wn.overrideDefaults(function(){return{context:u.inline?u.getBody():u.getDoc(),element:u.getBody()}})}return e.prototype.render=function(){UR(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return Jf(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var u=this,c=u.settings[n],v;if(!!c)return u.callbackLookup&&(v=u.callbackLookup[n])&&(c=v.func,v=v.scope),typeof c=="string"&&(v=c.replace(/\.\w+$/,""),v=v?FT(v):0,c=FT(c),u.callbackLookup=u.callbackLookup||{},u.callbackLookup[n]={func:c,scope:v}),c.apply(v||u,a)},e.prototype.translate=function(n){return zn.translate(n)},e.prototype.getParam=function(n,a,i){return Xz(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=dt(F0(this).split(/[ ,]/),n);return i?a?Xi.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,u){this.shortcuts.add(n,a,i,u)},e.prototype.execCommand=function(n,a,i,u){return this.editorCommands.execCommand(n,a,i,u)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Dv.show(n.getContainer()),Dv.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(CP&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Dv.hide(n.getContainer()),Dv.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),u;if(a.removed)return"";if(i){n=n||{},n.load=!0;var c=lu(i)?i.value:i.innerHTML;return u=a.setContent(c,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,u}},e.prototype.save=function(n){var a=this,i=a.getElement(),u,c;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,u=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),u=n.content,lu(i)?i.value=u:((n.is_removing||!a.inline)&&(i.innerHTML=u),(c=Dv.getParent(a.id,"form"))&&PT(c.elements,function(v){if(v.name===a.id)return v.value=u,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),u},e.prototype.setContent=function(n,a){return sw(this,n,a)},e.prototype.getContent=function(n){return Tz(this,n)},e.prototype.insertContent=function(n,a){a&&(n=sb({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?sw(this,this.startContent,{format:"raw"}):sw(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=Dv.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Dv.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var u=this,c=u.settings;return c.urlconverter_callback?u.execCallback("urlconverter_callback",n,i,!0,a):!c.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:c.relative_urls?u.documentBaseURI.toRelative(n):(n=u.documentBaseURI.toAbsolute(n,c.remove_script_host),n)},e.prototype.addVisual=function(n){WR(this,n)},e.prototype.remove=function(){Bz(this)},e.prototype.destroy=function(n){Fg(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),bs=Lr.DOM,xP=Ce.explode,Lc=Ce.each,SP=Ce.extend,kP=0,IT=!1,vo,$c=[],Da=[],NT=function(e){return e!=="length"},zC=function(e){var n=e.type;Lc(kl.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},LT=function(e){e!==IT&&(e?wn(window).on("resize scroll",zC):wn(window).off("resize scroll",zC),IT=e)},lb=function(e){var n=Da;delete $c[e.id];for(var a=0;a<$c.length;a++)if($c[a]===e){$c.splice(a,1);break}return Da=bt(Da,function(i){return e!==i}),kl.activeEditor===e&&(kl.activeEditor=Da.length>0?Da[0]:null),kl.focusedEditor===e&&(kl.focusedEditor=null),n.length!==Da.length},MC=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(lb(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},$T=document.compatMode!=="CSS1Compat",kl=Vt(Vt({},ib),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:wn,majorVersion:"5",minorVersion:"10.4",releaseDate:"2022-04-27",editors:$c,i18n:zn,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=pl.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var u=window.tinymce||window.tinyMCEPreInit;if(u)n=u.base||u.baseURL,i=u.suffix;else{for(var c=document.getElementsByTagName("script"),v=0;v<c.length;v++){var m=c[v].src||"";if(m!==""){var g=m.substring(m.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(m)){g.indexOf(".min")!==-1&&(i=".min"),n=m.substring(0,m.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var m=document.currentScript.src;m.indexOf(".min")!==-1&&(i=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new pl(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new pl(e.baseURL),e.suffix=i,wk(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&or(i,function(u,c){la.PluginManager.urls[c]=u})},init:function(e){var n=this,a,i=Ce.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),u=function(D,B){return D.inline&&B.tagName.toLowerCase()in i},c=function(D){var B=D.id;return B||(B=$n(D,"name").filter(function(I){return!bs.get(I)}).getOrThunk(bs.uniqueId),D.setAttribute("id",B)),B},v=function(D){var B=e[D];if(!!B)return B.apply(n,[])},m=function(D,B){return B.constructor===RegExp?B.test(D.className):bs.hasClass(D,B)},g=function(D){var B=[];if(Lt.browser.isIE()&&Lt.browser.version.major<11)return C1("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if($T)return C1("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(D.types)return Lc(D.types,function(F){B=B.concat(bs.select(F.selector))}),B;if(D.selector)return bs.select(D.selector);if(D.target)return[D.target];switch(D.mode){case"exact":var I=D.elements||"";I.length>0&&Lc(xP(I),function(F){var L=bs.get(F);L?B.push(L):Lc(document.forms,function($){Lc($.elements,function(G){G.name===F&&(F="mce_editor_"+kP++,bs.setAttrib(G,"id",F),B.push(G))})})});break;case"textareas":case"specific_textareas":Lc(bs.select("textarea"),function(F){D.editor_deselector&&m(F,D.editor_deselector)||(!D.editor_selector||m(F,D.editor_selector))&&B.push(F)});break}return B},C=function(D){a=D},T=function(){var D=0,B=[],I,F=function(L,$,G){var q=new cb(L,$,n);B.push(q),q.on("init",function(){++D===I.length&&C(B)}),q.targetElm=q.targetElm||G,q.render()};if(bs.unbind(window,"ready",T),v("onpageload"),I=wn.unique(g(e)),e.types){Lc(e.types,function(L){Ce.each(I,function($){return bs.is($,L.selector)?(F(c($),SP({},e,L),$),!1):!0})});return}Ce.each(I,function(L){MC(n.get(L.id))}),I=Ce.grep(I,function(L){return!n.get(L.id)}),I.length===0?C([]):Lc(I,function(L){u(e,L)?C1("Could not initialize inline editor on invalid inline target element",L):F(c(L),e,L)})};return n.settings=e,bs.bind(window,"ready",T),new uo(function(D){a?D(a):C=function(B){D(B)}})},get:function(e){return arguments.length===0?Da.slice(0):bn(e)?hr(Da,function(n){return n.id===e}).getOr(null):ut(e)&&Da[e]?Da[e]:null},add:function(e){var n=this,a=$c[e.id];return a===e||(n.get(e.id)===null&&(NT(e.id)&&($c[e.id]=e),$c.push(e),Da.push(e)),LT(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),vo||(vo=function(i){var u=n.fire("BeforeUnload");if(u.returnValue)return i.preventDefault(),i.returnValue=u.returnValue,u.returnValue},window.addEventListener("beforeunload",vo))),e},createEditor:function(e,n){return this.add(new cb(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Da.length-1;a>=0;a--)n.remove(Da[a]);return}if(bn(e)){Lc(bs.select(e),function(u){i=n.get(u.id),i&&n.remove(i)});return}return i=e,X(n.get(i.id))?null:(lb(i)&&n.fire("RemoveEditor",{editor:i}),Da.length===0&&window.removeEventListener("beforeunload",vo),i.remove(),LT(Da.length>0),i)},execCommand:function(e,n,a){var i=this,u=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new cb(a,i.settings,i).render(),!0;case"mceRemoveEditor":return u&&u.remove(),!0;case"mceToggleEditor":return u?(u.isHidden()?u.show():u.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Lc(Da,function(e){e.save()})},addI18n:function(e,n){zn.add(e,n)},translate:function(e){return zn.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new pl(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new pl(this.baseURL)}});kl.setup();var HT=Math.min,sm=Math.max,fb=Math.round,VT=function(e,n,a){var i=n.x,u=n.y,c=e.w,v=e.h,m=n.w,g=n.h,C=(a||"").split("");return C[0]==="b"&&(u+=g),C[1]==="r"&&(i+=m),C[0]==="c"&&(u+=fb(g/2)),C[1]==="c"&&(i+=fb(m/2)),C[3]==="b"&&(u-=v),C[4]==="r"&&(i-=c),C[3]==="c"&&(u-=fb(v/2)),C[4]==="c"&&(i-=fb(c/2)),cm(i,u,c,v)},AP=function(e,n,a,i){var u,c;for(c=0;c<i.length;c++)if(u=VT(e,n,i[c]),u.x>=a.x&&u.x+u.w<=a.w+a.x&&u.y>=a.y&&u.y+u.h<=a.h+a.y)return i[c];return null},UT=function(e,n,a){return cm(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},EP=function(e,n){var a=sm(e.x,n.x),i=sm(e.y,n.y),u=HT(e.x+e.w,n.x+n.w),c=HT(e.y+e.h,n.y+n.h);return u-a<0||c-i<0?null:cm(a,i,u-a,c-i)},TP=function(e,n,a){var i=e.x,u=e.y,c=e.x+e.w,v=e.y+e.h,m=n.x+n.w,g=n.y+n.h,C=sm(0,n.x-i),T=sm(0,n.y-u),D=sm(0,c-m),B=sm(0,v-g);return i+=C,u+=T,a&&(c+=C,v+=T,i-=D,u-=B),c-=D,v-=B,cm(i,u,c-i,v-u)},cm=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},OP=function(e){return cm(e.left,e.top,e.width,e.height)},DP={inflate:UT,relativePosition:VT,findBestRelativePosition:AP,intersect:EP,clamp:TP,create:cm,fromClientRect:OP},_P=function(e,n,a){a===void 0&&(a=1e3);var i=!1,u=null,c=function(C){return function(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];i||(i=!0,u!==null&&(clearTimeout(u),u=null),C.apply(null,T))}},v=c(e),m=c(n),g=function(){for(var C=[],T=0;T<arguments.length;T++)C[T]=arguments[T];!i&&u===null&&(u=setTimeout(function(){return m.apply(null,C)},a))};return{start:g,resolve:v,reject:m}},WT=function(){var e={},n={},a=function(u,c){var v='Script at URL "'+c+'" failed to load',m='Script at URL "'+c+"\" did not call `tinymce.Resource.add('"+u+"', data)` within 1 second";if(e[u]!==void 0)return e[u];var g=new uo(function(C,T){var D=_P(C,T);n[u]=D.resolve,fl.ScriptLoader.loadScript(c,function(){return D.start(m)},function(){return D.reject(v)})});return e[u]=g,g},i=function(u,c){n[u]!==void 0&&(n[u](c),delete n[u]),e[u]=uo.resolve(c)};return{load:a,add:i}},BP=WT(),vb=Ce.each,zP=Ce.extend,db,_v,Al=function(){};Al.extend=db=function(e){var n=this,a=n.prototype,i=function(){var m,g,C,T=this;if(!_v&&(T.init&&T.init.apply(T,arguments),g=T.Mixins,g))for(m=g.length;m--;)C=g[m],C.init&&C.init.apply(T,arguments)},u=function(){return this},c=function(m,g){return function(){var C=this,T=C._super;C._super=a[m];var D=g.apply(C,arguments);return C._super=T,D}};_v=!0;var v=new n;return _v=!1,e.Mixins&&(vb(e.Mixins,function(m){for(var g in m)g!=="init"&&(e[g]=m[g])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&vb(e.Methods.split(","),function(m){e[m]=u}),e.Properties&&vb(e.Properties.split(","),function(m){var g="_"+m;e[m]=function(C){var T=this;return C!==void 0?(T[g]=C,T):T[g]}}),e.Statics&&vb(e.Statics,function(m,g){i[g]=m}),e.Defaults&&a.Defaults&&(e.Defaults=zP({},a.Defaults,e.Defaults)),or(e,function(m,g){typeof m=="function"&&a[g]?v[g]=c(g,m):v[g]=m}),i.prototype=v,i.constructor=i,i.extend=db,i};var El=Math.min,lm=Math.max,Tl=Math.round,jT=function(e){var n={},a=0,i=0,u=0,c=function(D,B,I){var F,L,$;F=0,L=0,$=0,D=D/255,B=B/255,I=I/255;var G=El(D,El(B,I)),q=lm(D,lm(B,I));if(G===q)return $=G,{h:0,s:0,v:$*100};var Q=D===G?B-I:I===G?D-B:I-D;return F=D===G?3:I===G?1:5,F=60*(F-Q/(q-G)),L=(q-G)/q,$=q,{h:Tl(F),s:Tl(L*100),v:Tl($*100)}},v=function(D,B,I){if(D=(parseInt(D,10)||0)%360,B=parseInt(B,10)/100,I=parseInt(I,10)/100,B=lm(0,El(B,1)),I=lm(0,El(I,1)),B===0){a=i=u=Tl(255*I);return}var F=D/60,L=I*B,$=L*(1-Math.abs(F%2-1)),G=I-L;switch(Math.floor(F)){case 0:a=L,i=$,u=0;break;case 1:a=$,i=L,u=0;break;case 2:a=0,i=L,u=$;break;case 3:a=0,i=$,u=L;break;case 4:a=$,i=0,u=L;break;case 5:a=L,i=0,u=$;break;default:a=i=u=0}a=Tl(255*(a+G)),i=Tl(255*(i+G)),u=Tl(255*(u+G))},m=function(){var D=function(B){return B=parseInt(B,10).toString(16),B.length>1?B:"0"+B};return"#"+D(a)+D(i)+D(u)},g=function(){return{r:a,g:i,b:u}},C=function(){return c(a,i,u)},T=function(D){var B;return typeof D=="object"?"r"in D?(a=D.r,i=D.g,u=D.b):"v"in D&&v(D.h,D.s,D.v):(B=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(D))?(a=parseInt(B[1],10),i=parseInt(B[2],10),u=parseInt(B[3],10)):(B=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(D))?(a=parseInt(B[1],16),i=parseInt(B[2],16),u=parseInt(B[3],16)):(B=/#([0-F])([0-F])([0-F])/gi.exec(D))&&(a=parseInt(B[1]+B[1],16),i=parseInt(B[2]+B[2],16),u=parseInt(B[3]+B[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,u=u<0?0:u>255?255:u,n};return e&&T(e),n.toRgb=g,n.toHsv=C,n.toHex=m,n.parse=T,n},qT=function(e){var n=JSON.stringify(e);return bn(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},RC={serialize:qT,parse:function(e){try{return JSON.parse(e)}catch(n){}}},GT={callbacks:{},count:0,send:function(e){var n=this,a=Lr.DOM,i=e.count!==void 0?e.count:n.count,u="tinymce_jsonp_"+i;n.callbacks[i]=function(c){a.remove(u),delete n.callbacks[i],e.callback(c)},a.add(a.doc.body,"script",{id:u,src:e.url,type:"text/javascript"}),n.count++}},sh=Vt(Vt({},ib),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Lo.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",sh.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Ce.each(e.requestheaders,function(u){n.setRequestHeader(u.key,u.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=sh.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Lo.setTimeout(i,10)}}),KT=Ce.extend,MP=function(){function e(n){this.settings=KT({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,u=KT(this.settings,n);u.success=function(c,v){c=RC.parse(c),typeof c=="undefined"&&(c={error:"JSON Parse error."}),c.error?a.call(u.error_scope||u.scope,c.error,v):i.call(u.success_scope||u.scope,c.result)},u.error=function(c,v){a&&a.call(u.error_scope||u.scope,c,v)},u.data=RC.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),u.content_type="application/json",sh.send(u)},e}(),RP=function(){return function(){var e={},n=[],a={getItem:function(i){var u=e[i];return u||null},setItem:function(i,u){n.push(i),e[i]=String(u)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(u){return u===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},ch;try{var PC="__storage_test__";ch=window.localStorage,ch.setItem(PC,PC),ch.removeItem(PC)}catch(e){ch=RP()}var PP=ch,XT={geom:{Rect:DP},util:{Promise:uo,Delay:Lo,Tools:Ce,VK:Xt,URI:pl,Class:Al,EventDispatcher:OC,Observable:ib,I18n:zn,XHR:sh,JSON:RC,JSONRequest:MP,JSONP:GT,LocalStorage:PP,Color:jT,ImageUploader:k4},dom:{EventUtils:$l,Sizzle:Or,DomQuery:wn,TreeWalker:Tr,TextSeeker:Jh,DOMUtils:Lr,ScriptLoader:fl,RangeUtils:sg,Serializer:a4,StyleSheetLoader:rx,ControlSelection:YS,BookmarkManager:Zf,Selection:tw,Event:$l.Event},html:{Styles:il,Entities:Fs,Node:Uu,Schema:Fn,SaxParser:Np,DomParser:uw,Writer:Nk,Serializer:Pd},Env:Lt,AddOnManager:la,Annotator:ag,Formatter:D4,UndoManager:ga,EditorCommands:ET,WindowManager:jd,NotificationManager:Ki,EditorObservable:DT,Shortcuts:ub,Editor:cb,FocusManager:Ay,EditorManager:kl,DOM:Lr.DOM,ScriptLoader:fl.ScriptLoader,PluginManager:Xi,ThemeManager:Cu,IconManager:p1,Resource:BP,trim:Ce.trim,isArray:Ce.isArray,is:Ce.is,toArray:Ce.toArray,makeMap:Ce.makeMap,each:Ce.each,map:Ce.map,grep:Ce.grep,inArray:Ce.inArray,extend:Ce.extend,create:Ce.create,walk:Ce.walk,createNS:Ce.createNS,resolve:Ce.resolve,explode:Ce.explode,_addCacheSuffix:Ce._addCacheSuffix,isOpera:Lt.opera,isWebKit:Lt.webkit,isIE:Lt.ie,isGecko:Lt.gecko,isMac:Lt.mac},FC=Ce.extend(kl,XT),FP=function(e){try{We.exports=e}catch(n){}},IP=function(e){window.tinymce=e,window.tinyMCE=e};IP(FC),FP(FC)})()})(vW);(function(){var We=function(fe){var rn=fe,an=function(){return rn},Fe=function(ut){rn=ut};return{get:an,set:Fe}},Tt=Object.hasOwnProperty,At=function(fe,rn){return Tt.call(fe,rn)},Rn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Nt=tinymce.util.Tools.resolve("tinymce.Env"),Dn=tinymce.util.Tools.resolve("tinymce.util.Delay"),pn=function(fe){return fe.fire("ResizeEditor")},cr=function(fe){return fe.getParam("min_height",fe.getElement().offsetHeight,"number")},Yn=function(fe){return fe.getParam("max_height",0,"number")},nr=function(fe){return fe.getParam("autoresize_overflow_padding",1,"number")},Kr=function(fe){return fe.getParam("autoresize_bottom_margin",50,"number")},Jt=function(fe){return fe.getParam("autoresize_on_init",!0,"boolean")},Wn=function(fe){return fe.plugins.fullscreen&&fe.plugins.fullscreen.isFullscreen()},Vr=function(fe,rn,an,Fe,ut){Dn.setEditorTimeout(fe,function(){Cn(fe,rn),an--?Vr(fe,rn,an,Fe,ut):ut&&ut()},Fe)},Xr=function(fe,rn){var an=fe.getBody();an&&(an.style.overflowY=rn?"":"hidden",rn||(an.scrollTop=0))},Pe=function(fe,rn,an,Fe){var ut=parseInt(fe.getStyle(rn,an,Fe),10);return isNaN(ut)?0:ut},bn=function(fe){if((fe==null?void 0:fe.type.toLowerCase())==="setcontent"){var rn=fe;return rn.selection===!0||rn.paste===!0}else return!1},Cn=function(fe,rn,an){var Fe=fe.dom,ut=fe.getDoc();if(!!ut){if(Wn(fe)){Xr(fe,!0);return}var Ve=ut.documentElement,lr=Kr(fe),K=cr(fe),Ge=Pe(Fe,Ve,"margin-top",!0),Rt=Pe(Fe,Ve,"margin-bottom",!0),ta=Ve.offsetHeight+Ge+Rt+lr;ta<0&&(ta=0);var nt=fe.getContainer().offsetHeight,Wa=fe.getContentAreaContainer().offsetHeight,Ba=nt-Wa;ta+Ba>cr(fe)&&(K=ta+Ba);var x=Yn(fe);if(x&&K>x?(K=x,Xr(fe,!0)):Xr(fe,!1),K!==rn.get()){var je=K-rn.get();if(Fe.setStyle(fe.getContainer(),"height",K+"px"),rn.set(K),pn(fe),Nt.browser.isSafari()&&Nt.mac){var yt=fe.getWin();yt.scrollTo(yt.pageXOffset,yt.pageYOffset)}fe.hasFocus()&&bn(an)&&fe.selection.scrollIntoView(),Nt.webkit&&je<0&&Cn(fe,rn,an)}}},$t=function(fe,rn){fe.on("init",function(){var an=nr(fe),Fe=fe.dom;Fe.setStyles(fe.getDoc().documentElement,{height:"auto"}),Fe.setStyles(fe.getBody(),{paddingLeft:an,paddingRight:an,"min-height":0})}),fe.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(an){Cn(fe,rn,an)}),Jt(fe)&&fe.on("init",function(){Vr(fe,rn,20,100,function(){Vr(fe,rn,5,1e3)})})},X=function(fe,rn){fe.addCommand("mceAutoResize",function(){Cn(fe,rn)})};function Mt(){Rn.add("autoresize",function(fe){if(At(fe.settings,"resize")||(fe.settings.resize=!1),!fe.inline){var rn=We(0);X(fe,rn),$t(fe,rn)}})}Mt()})();(function(){var We=tinymce.util.Tools.resolve("tinymce.PluginManager"),Tt=function(Fe,ut,Ve){return ut===""||Fe.length>=ut.length&&Fe.substr(Ve,Ve+ut.length)===ut},At=function(Fe,ut){return Fe.indexOf(ut)!==-1},Rn=function(Fe,ut){return Tt(Fe,ut,0)},Nt=tinymce.util.Tools.resolve("tinymce.Env"),Dn=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-+~=.,%()\/\w]*[-+~=%()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},pn=new RegExp("^"+Dn().source+"$","i"),cr=function(Fe){return Fe.getParam("autolink_pattern",pn)},Yn=function(Fe){return Fe.getParam("default_link_target",!1)},nr=function(Fe){return Fe.getParam("link_default_protocol","http","string")},Kr=function(Fe){return/^[(\[{ \u00a0]$/.test(Fe)},Jt=function(Fe){return Fe.nodeType===3},Wn=function(Fe){return Fe.nodeType===1},Vr=function(Fe){return fe(Fe,-1)},Xr=function(Fe){return fe(Fe,0)},Pe=function(Fe){return fe(Fe,-1)},bn=function(Fe,ut){if(ut<0&&(ut=0),Jt(Fe)){var Ve=Fe.data.length;ut>Ve&&(ut=Ve)}return ut},Cn=function(Fe,ut,Ve){!Wn(ut)||ut.hasChildNodes()?Fe.setStart(ut,bn(ut,Ve)):Fe.setStartBefore(ut)},$t=function(Fe,ut,Ve){!Wn(ut)||ut.hasChildNodes()?Fe.setEnd(ut,bn(ut,Ve)):Fe.setEndAfter(ut)},X=function(Fe){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Fe)},Mt=function(Fe){return/[?!,.;:]/.test(Fe)},fe=function(Fe,ut){var Ve,lr,K,Ge,Rt,ta,nt,Wa=cr(Fe),Ba=Yn(Fe);if(Fe.dom.getParent(Fe.selection.getNode(),"a[href]")===null){var x=Fe.selection.getRng().cloneRange();if(x.startOffset<5){if(Rt=x.endContainer.previousSibling,!Rt){if(!x.endContainer.firstChild||!x.endContainer.firstChild.nextSibling)return;Rt=x.endContainer.firstChild.nextSibling}if(ta=Rt.length,Cn(x,Rt,ta),$t(x,Rt,ta),x.endOffset<5)return;Ve=x.endOffset,lr=Rt}else{if(lr=x.endContainer,!Jt(lr)&&lr.firstChild){for(;!Jt(lr)&&lr.firstChild;)lr=lr.firstChild;Jt(lr)&&(Cn(x,lr,0),$t(x,lr,lr.nodeValue.length))}x.endOffset===1?Ve=2:Ve=x.endOffset-1-ut}var je=Ve;do Cn(x,lr,Ve>=2?Ve-2:0),$t(x,lr,Ve>=1?Ve-1:0),Ve-=1,nt=x.toString();while(!Kr(nt)&&Ve-2>=0);Kr(x.toString())?(Cn(x,lr,Ve),$t(x,lr,je),Ve+=1):x.startOffset===0?(Cn(x,lr,0),$t(x,lr,je)):(Cn(x,lr,Ve),$t(x,lr,je)),Ge=x.toString(),Mt(Ge.charAt(Ge.length-1))&&$t(x,lr,je-1),Ge=x.toString().trim();var yt=Ge.match(Wa),Ht=nr(Fe);if(yt){var Nn=yt[0];Rn(Nn,"www.")?Nn=Ht+"://"+Nn:At(Nn,"@")&&!X(Nn)&&(Nn="mailto:"+Nn),K=Fe.selection.getBookmark(),Fe.selection.setRng(x),Fe.execCommand("createlink",!1,Nn),Ba!==!1&&Fe.dom.setAttrib(Fe.selection.getNode(),"target",Ba),Fe.selection.moveToBookmark(K),Fe.nodeChanged()}}},rn=function(Fe){var ut;if(Fe.on("keydown",function(Ve){if(Ve.keyCode===13)return Pe(Fe)}),Nt.browser.isIE()){Fe.on("focus",function(){if(!ut){ut=!0;try{Fe.execCommand("AutoUrlDetect",!1,!0)}catch(Ve){}}});return}Fe.on("keypress",function(Ve){if(Ve.keyCode===41||Ve.keyCode===93||Ve.keyCode===125)return Vr(Fe)}),Fe.on("keyup",function(Ve){if(Ve.keyCode===32)return Xr(Fe)})};function an(){We.add("autolink",function(Fe){rn(Fe)})}an()})();(function(){var We=tinymce.util.Tools.resolve("tinymce.PluginManager"),Tt=tinymce.util.Tools.resolve("tinymce.util.VK"),At=function(P){var Z=typeof P;return P===null?"null":Z==="object"&&(Array.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="Array")?"array":Z==="object"&&(String.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="String")?"string":Z},Rn=function(P){return function(Z){return At(Z)===P}},Nt=function(P){return function(Z){return typeof Z===P}},Dn=function(P){return function(Z){return P===Z}},pn=Rn("string"),cr=Rn("array"),Yn=Dn(null),nr=Nt("boolean"),Kr=Nt("function"),Jt=function(){},Wn=function(P){return function(){return P}},Vr=function(P){return P},Xr=function(P,Z){return P===Z},Pe=Wn(!1),bn=Wn(!0),Cn=function(){return $t},$t=function(){var P=function(ke){return ke()},Z=Vr,ue={fold:function(ke,He){return ke()},isSome:Pe,isNone:bn,getOr:Z,getOrThunk:P,getOrDie:function(ke){throw new Error(ke||"error: getOrDie called on none.")},getOrNull:Wn(null),getOrUndefined:Wn(void 0),or:Z,orThunk:P,map:Cn,each:Jt,bind:Cn,exists:Pe,forall:bn,filter:function(){return Cn()},toArray:function(){return[]},toString:Wn("none()")};return ue}(),X=function(P){var Z=Wn(P),ue=function(){return He},ke=function(Dt){return Dt(P)},He={fold:function(Dt,tr){return tr(P)},isSome:bn,isNone:Pe,getOr:Z,getOrThunk:Z,getOrDie:Z,getOrNull:Z,getOrUndefined:Z,or:ue,orThunk:ue,map:function(Dt){return X(Dt(P))},each:function(Dt){Dt(P)},bind:ke,exists:ke,forall:ke,filter:function(Dt){return Dt(P)?He:$t},toArray:function(){return[P]},toString:function(){return"some("+P+")"}};return He},Mt=function(P){return P==null?$t:X(P)},fe={some:X,none:Cn,from:Mt},rn=Array.prototype.indexOf,an=Array.prototype.push,Fe=function(P,Z){return rn.call(P,Z)},ut=function(P,Z){return Fe(P,Z)>-1},Ve=function(P,Z){for(var ue=P.length,ke=new Array(ue),He=0;He<ue;He++){var Dt=P[He];ke[He]=Z(Dt,He)}return ke},lr=function(P,Z){for(var ue=0,ke=P.length;ue<ke;ue++){var He=P[ue];Z(He,ue)}},K=function(P,Z,ue){return lr(P,function(ke,He){ue=Z(ue,ke,He)}),ue},Ge=function(P){for(var Z=[],ue=0,ke=P.length;ue<ke;++ue){if(!cr(P[ue]))throw new Error("Arr.flatten item "+ue+" was not an array, input: "+P);an.apply(Z,P[ue])}return Z},Rt=function(P,Z){return Ge(Ve(P,Z))},ta=function(P,Z){for(var ue=0;ue<P.length;ue++){var ke=Z(P[ue],ue);if(ke.isSome())return ke}return fe.none()},nt=function(P,Z,ue){return ue===void 0&&(ue=Xr),P.exists(function(ke){return ue(ke,Z)})},Wa=function(P){for(var Z=[],ue=function(He){Z.push(He)},ke=0;ke<P.length;ke++)P[ke].each(ue);return Z},Ba=function(P,Z){return P?fe.some(Z):fe.none()},x=function(P){var Z=P.getParam("link_assume_external_targets",!1);return nr(Z)&&Z?1:pn(Z)&&(Z==="http"||Z==="https")?Z:0},je=function(P){return P.getParam("link_context_toolbar",!1,"boolean")},yt=function(P){return P.getParam("link_list")},Ht=function(P){return P.getParam("default_link_target")},Nn=function(P){return P.getParam("target_list",!0)},ar=function(P){return P.getParam("rel_list",[],"array")},_n=function(P){return P.getParam("link_class_list",[],"array")},Cr=function(P){return P.getParam("link_title",!0,"boolean")},U=function(P){return P.getParam("allow_unsafe_link_target",!1,"boolean")},Bo=function(P){return P.getParam("link_quicklink",!1,"boolean")},Ke=function(P){return P.getParam("link_default_protocol","http","string")},be=tinymce.util.Tools.resolve("tinymce.util.Tools"),sn=function(P){return pn(P.value)?P.value:""},Bt=function(P){return pn(P.text)?P.text:pn(P.title)?P.title:""},dt=function(P,Z){var ue=[];return be.each(P,function(ke){var He=Bt(ke);if(ke.menu!==void 0){var Dt=dt(ke.menu,Z);ue.push({text:He,items:Dt})}else{var tr=Z(ke);ue.push({text:He,value:tr})}}),ue},yn=function(P){return P===void 0&&(P=sn),function(Z){return fe.from(Z).map(function(ue){return dt(ue,P)})}},Yt=function(P){return yn(sn)(P)},Ne=function(P,Z){return function(ue){return{name:P,type:"listbox",label:Z,items:ue}}},at={sanitize:Yt,sanitizeWith:yn,createUi:Ne,getValue:sn},Ln=function(){return Ln=Object.assign||function(Z){for(var ue,ke=1,He=arguments.length;ke<He;ke++){ue=arguments[ke];for(var Dt in ue)Object.prototype.hasOwnProperty.call(ue,Dt)&&(Z[Dt]=ue[Dt])}return Z},Ln.apply(this,arguments)},bt=Object.keys,er=Object.hasOwnProperty,yr=function(P,Z){for(var ue=bt(P),ke=0,He=ue.length;ke<He;ke++){var Dt=ue[ke],tr=P[Dt];Z(tr,Dt)}},ur=function(P){return function(Z,ue){P[ue]=Z}},hr=function(P,Z,ue,ke){var He={};return yr(P,function(Dt,tr){(Z(Dt,tr)?ue:ke)(Dt,tr)}),He},va=function(P,Z){var ue={};return hr(P,Z,ur(ue),Jt),ue},pa=function(P,Z){return er.call(P,Z)},za=function(P,Z){return pa(P,Z)&&P[Z]!==void 0&&P[Z]!==null},Ma=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Xe=tinymce.util.Tools.resolve("tinymce.util.URI"),et=function(P){return P&&P.nodeName.toLowerCase()==="a"},lt=function(P){return et(P)&&!!Ut(P)},gt=function(P,Z){if(P.collapsed)return[];var ue=P.cloneContents(),ke=new Ma(ue.firstChild,ue),He=[],Dt=ue.firstChild;do Z(Dt)&&He.push(Dt);while(Dt=ke.next());return He},st=function(P){return/^\w+:/i.test(P)},Ut=function(P){var Z=P.getAttribute("data-mce-href");return Z||P.getAttribute("href")},cn=function(P,Z){var ue=["noopener"],ke=P?P.split(/\s+/):[],He=function(xn){return be.trim(xn.sort().join(" "))},Dt=function(xn){return xn=tr(xn),xn.length>0?xn.concat(ue):ue},tr=function(xn){return xn.filter(function(Er){return be.inArray(ue,Er)===-1})},dr=Z?Dt(ke):tr(ke);return dr.length>0?He(dr):""},kt=function(P){return P.replace(/\uFEFF/g,"")},fr=function(P,Z){return Z=Z||P.selection.getNode(),go(Z)?P.dom.select("a[href]",Z)[0]:P.dom.getParent(Z,"a[href]")},wr=function(P,Z){var ue=Z?Z.innerText||Z.textContent:P.getContent({format:"text"});return kt(ue)},Ar=function(P){return be.grep(P,lt).length>0},or=function(P){return gt(P,lt).length>0},ja=function(P){var Z=P.schema.getTextInlineElements(),ue=function(He){return He.nodeType===1&&!et(He)&&!pa(Z,He.nodeName.toLowerCase())},ke=gt(P.selection.getRng(),ue);return ke.length===0},go=function(P){return P&&P.nodeName==="FIGURE"&&/\bimage\b/i.test(P.className)},xa=function(P){var Z=["title","rel","class","target"];return K(Z,function(ue,ke){return P[ke].each(function(He){ue[ke]=He.length>0?He:null}),ue},{href:P.href})},Ot=function(P,Z){return(Z==="http"||Z==="https")&&!st(P)?Z+"://"+P:P},mn=function(P,Z){var ue=Ln({},Z);if(!(ar(P).length>0)&&U(P)===!1){var ke=cn(ue.rel,ue.target==="_blank");ue.rel=ke||null}return fe.from(ue.target).isNone()&&Nn(P)===!1&&(ue.target=Ht(P)),ue.href=Ot(ue.href,x(P)),ue},Bn=function(P,Z,ue,ke){ue.each(function(He){pa(Z,"innerText")?Z.innerText=He:Z.textContent=He}),P.dom.setAttribs(Z,ke),P.selection.select(Z)},Rr=function(P,Z,ue,ke){go(Z)?Fi(P,Z,ke):ue.fold(function(){P.execCommand("mceInsertLink",!1,ke)},function(He){P.insertContent(P.dom.createHTML("a",ke,P.dom.encode(He)))})},ho=function(P,Z,ue){var ke=P.selection.getNode(),He=fr(P,ke),Dt=mn(P,xa(ue));P.undoManager.transact(function(){ue.href===Z.href&&Z.attach(),He?(P.focus(),Bn(P,He,ue.text,Dt)):Rr(P,ke,ue.text,Dt)})},$n=function(P){var Z=P.dom,ue=P.selection,ke=ue.getBookmark(),He=ue.getRng().cloneRange(),Dt=Z.getParent(He.startContainer,"a[href]",P.getBody()),tr=Z.getParent(He.endContainer,"a[href]",P.getBody());Dt&&He.setStartBefore(Dt),tr&&He.setEndAfter(tr),ue.setRng(He),P.execCommand("unlink"),ue.moveToBookmark(ke)},Sn=function(P){P.undoManager.transact(function(){var Z=P.selection.getNode();go(Z)?Ga(P,Z):$n(P),P.focus()})},Ur=function(P){var Z=P.class,ue=P.href,ke=P.rel,He=P.target,Dt=P.text,tr=P.title;return va({class:Z.getOrNull(),href:ue,rel:ke.getOrNull(),target:He.getOrNull(),text:Dt.getOrNull(),title:tr.getOrNull()},function(dr,xn){return Yn(dr)===!1})},qo=function(P,Z){var ue=Z.href;return Ln(Ln({},Z),{href:Xe.isDomSafe(ue,"a",P.settings)?ue:""})},zo=function(P,Z,ue){var ke=qo(P,ue);P.hasPlugin("rtc",!0)?P.execCommand("createlink",!1,Ur(ke)):ho(P,Z,ke)},qa=function(P){P.hasPlugin("rtc",!0)?P.execCommand("unlink"):Sn(P)},Ga=function(P,Z){var ue=P.dom.select("img",Z)[0];if(ue){var ke=P.dom.getParents(ue,"a[href]",Z)[0];ke&&(ke.parentNode.insertBefore(ue,ke),P.dom.remove(ke))}},Fi=function(P,Z,ue){var ke=P.dom.select("img",Z)[0];if(ke){var He=P.dom.create("a",ue);ke.parentNode.insertBefore(He,ke),He.appendChild(ke)}},po=function(P){return za(P,"items")},Ka=function(P,Z){return ta(Z,function(ue){return po(ue)?Ka(P,ue.items):Ba(ue.value===P,ue)})},Ii=function(P,Z,ue,ke){var He=ke[Z],Dt=P.length>0;return He!==void 0?Ka(He,ue).map(function(tr){return{url:{value:tr.value,meta:{text:Dt?P:tr.text,attach:Jt}},text:Dt?P:tr.text}}):fe.none()},Zn=function(P,Z){return Z==="link"?P.link:Z==="anchor"?P.anchor:fe.none()},xi=function(P,Z){var ue={text:P.text,title:P.title},ke=function(xn){return Ba(ue.title.length<=0,fe.from(xn.meta.title).getOr(""))},He=function(xn){return Ba(ue.text.length<=0,fe.from(xn.meta.text).getOr(xn.value))},Dt=function(xn){var Er=He(xn.url),Wr=ke(xn.url);return Er.isSome()||Wr.isSome()?fe.some(Ln(Ln({},Er.map(function($i){return{text:$i}}).getOr({})),Wr.map(function($i){return{title:$i}}).getOr({}))):fe.none()},tr=function(xn,Er){var Wr=Zn(Z,Er.name).getOr([]);return Ii(ue.text,Er.name,Wr,xn)},dr=function(xn,Er){var Wr=Er.name;return Wr==="url"?Dt(xn()):ut(["anchor","link"],Wr)?tr(xn(),Er):((Wr==="text"||Wr==="title")&&(ue[Wr]=xn()[Wr]),fe.none())};return{onChange:dr}},Vt={init:xi,getDelta:Ii},jc=tinymce.util.Tools.resolve("tinymce.util.Delay"),Mo=tinymce.util.Tools.resolve("tinymce.util.Promise"),eu=function(P,Z,ue){var ke=P.selection.getRng();jc.setEditorTimeout(P,function(){P.windowManager.confirm(Z,function(He){P.selection.setRng(ke),ue(He)})})},Ro=function(P){var Z=P.href,ue=Z.indexOf("@")>0&&Z.indexOf("/")===-1&&Z.indexOf("mailto:")===-1;return ue?fe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(ke){return Ln(Ln({},ke),{href:"mailto:"+Z})}}):fe.none()},Ni=function(P,Z){return function(ue){var ke=ue.href,He=P===1&&!st(ke)||P===0&&/^\s*www(\.|\d\.)/i.test(ke);return He?fe.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Z+":// prefix?",preprocess:function(Dt){return Ln(Ln({},Dt),{href:Z+"://"+ke})}}):fe.none()}},rc=function(P,Z){return ta([Ro,Ni(x(P),Ke(P))],function(ue){return ue(Z)}).fold(function(){return Mo.resolve(Z)},function(ue){return new Mo(function(ke){eu(P,ue.message,function(He){ke(He?ue.preprocess(Z):Z)})})})},Si={preprocess:rc},xs=function(P){var Z=P.dom.select("a:not([href])"),ue=Rt(Z,function(ke){var He=ke.name||ke.id;return He?[{text:He,value:"#"+He}]:[]});return ue.length>0?fe.some([{text:"None",value:""}].concat(ue)):fe.none()},no={getAnchors:xs},Go=function(P){var Z=_n(P);return Z.length>0?at.sanitize(Z):fe.none()},Ye={getClasses:Go},Ss=tinymce.util.Tools.resolve("tinymce.util.XHR"),Yu=function(P){try{return fe.some(JSON.parse(P))}catch(Z){return fe.none()}},Zu=function(P){var Z=function(ke){return P.convertURL(ke.value||ke.url,"href")},ue=yt(P);return new Mo(function(ke){pn(ue)?Ss.send({url:ue,success:function(He){return ke(Yu(He))},error:function(He){return ke(fe.none())}}):Kr(ue)?ue(function(He){return ke(fe.some(He))}):ke(fe.from(ue))}).then(function(ke){return ke.bind(at.sanitizeWith(Z)).map(function(He){if(He.length>0){var Dt=[{text:"None",value:""}];return Dt.concat(He)}else return He})})},ac={getLinks:Zu},Po=function(P,Z){var ue=ar(P);if(ue.length>0){var ke=nt(Z,"_blank"),He=U(P)===!1,Dt=function(dr){return cn(at.getValue(dr),ke)},tr=He?at.sanitizeWith(Dt):at.sanitize;return tr(ue)}return fe.none()},oc={getRels:Po},oa=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],na=function(P){var Z=Nn(P);return cr(Z)?at.sanitize(Z).orThunk(function(){return fe.some(oa)}):Z===!1?fe.none():fe.some(oa)},bo={getTargets:na},Fo=function(P,Z,ue){var ke=P.getAttrib(Z,ue);return ke!==null&&ke.length>0?fe.some(ke):fe.none()},ks=function(P,Z){var ue=P.dom,ke=ja(P),He=ke?fe.some(wr(P.selection,Z)):fe.none(),Dt=Z?fe.some(ue.getAttrib(Z,"href")):fe.none(),tr=Z?fe.from(ue.getAttrib(Z,"target")):fe.none(),dr=Fo(ue,Z,"rel"),xn=Fo(ue,Z,"class"),Er=Fo(ue,Z,"title");return{url:Dt,text:He,title:Er,target:tr,rel:dr,linkClass:xn}},yo=function(P,Z){return ac.getLinks(P).then(function(ue){var ke=ks(P,Z);return{anchor:ke,catalogs:{targets:bo.getTargets(P),rels:oc.getRels(P,ke.target),classes:Ye.getClasses(P),anchor:no.getAnchors(P),link:ue},optNode:fe.from(Z),flags:{titleEnabled:Cr(P)}}})},ii={collect:yo},Eu=function(P,Z){return function(ue){var ke=ue.getData();if(!ke.url.value){qa(P),ue.close();return}var He=function(dr){return fe.from(ke[dr]).filter(function(xn){return!nt(Z.anchor[dr],xn)})},Dt={href:ke.url.value,text:He("text"),target:He("target"),rel:He("rel"),class:He("linkClass"),title:He("title")},tr={href:ke.url.value,attach:ke.url.meta!==void 0&&ke.url.meta.attach?ke.url.meta.attach:Jt};Si.preprocess(P,Dt).then(function(dr){zo(P,tr,dr)}),ue.close()}},Tu=function(P){var Z=fr(P);return ii.collect(P,Z)},ro=function(P,Z){var ue=P.anchor,ke=ue.url.getOr("");return{url:{value:ke,meta:{original:{value:ke}}},text:ue.text.getOr(""),title:ue.title.getOr(""),anchor:ke,link:ke,rel:ue.rel.getOr(""),target:ue.target.or(Z).getOr(""),linkClass:ue.linkClass.getOr("")}},Ko=function(P,Z,ue){var ke=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],He=P.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),Dt=P.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],tr=fe.from(Ht(ue)),dr=ro(P,tr),xn=P.catalogs,Er=Vt.init(dr,xn),Wr={type:"panel",items:Ge([ke,He,Dt,Wa([xn.anchor.map(at.createUi("anchor","Anchors")),xn.rels.map(at.createUi("rel","Rel")),xn.targets.map(at.createUi("target","Open link in...")),xn.link.map(at.createUi("link","Link list")),xn.classes.map(at.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Wr,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:dr,onChange:function($i,ic){var uc=ic.name;Er.onChange($i.getData,{name:uc}).each(function(Lt){$i.setData(Lt)})},onSubmit:Z}},tu=function(P){var Z=Tu(P);Z.then(function(ue){var ke=Eu(P,ue);return Ko(ue,ke,P)}).then(function(ue){P.windowManager.open(ue)})},Li=function(P,Z){document.body.appendChild(P),P.dispatchEvent(Z),document.body.removeChild(P)},As=function(P){var Z=document.createElement("a");Z.target="_blank",Z.href=P,Z.rel="noreferrer noopener";var ue=document.createEvent("MouseEvents");ue.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Li(Z,ue)},Ju=function(P,Z){return P.dom.getParent(Z,"a[href]")},ki=function(P){return Ju(P,P.selection.getStart())},Qu=function(P){return P.altKey===!0&&P.shiftKey===!1&&P.ctrlKey===!1&&P.metaKey===!1},Ai=function(P,Z){if(Z){var ue=Ut(Z);if(/^#/.test(ue)){var ke=P.$(ue);ke.length&&P.selection.scrollIntoView(ke[0],!0)}else As(Z.href)}},ra=function(P){return function(){tu(P)}},Ou=function(P){return function(){Ai(P,ki(P))}},nu=function(P){P.on("click",function(Z){var ue=Ju(P,Z.target);ue&&Tt.metaKeyPressed(Z)&&(Z.preventDefault(),Ai(P,ue))}),P.on("keydown",function(Z){var ue=ki(P);ue&&Z.keyCode===13&&Qu(Z)&&(Z.preventDefault(),Ai(P,ue))})},Io=function(P,Z){return P.on("NodeChange",Z),function(){return P.off("NodeChange",Z)}},Ra=function(P){return function(Z){var ue=function(){return Z.setActive(!P.mode.isReadOnly()&&fr(P,P.selection.getNode())!==null)};return ue(),Io(P,ue)}},es=function(P){return function(Z){var ue=function(){return Z.setDisabled(fr(P,P.selection.getNode())===null)};return ue(),Io(P,ue)}},ru=function(P){return function(Z){var ue=function(He){return Ar(He)||or(P.selection.getRng())},ke=P.dom.getParents(P.selection.getStart());return Z.setDisabled(!ue(ke)),Io(P,function(He){return Z.setDisabled(!ue(He.parents))})}},au=function(P){P.addCommand("mceLink",function(){Bo(P)?P.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):ra(P)()})},ts=function(P){P.addShortcut("Meta+K","",function(){P.execCommand("mceLink")})},Du=function(P){P.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ra(P),onSetup:Ra(P)}),P.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ou(P),onSetup:es(P)}),P.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return qa(P)},onSetup:ru(P)})},Ei=function(P){P.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ou(P),onSetup:es(P)}),P.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ra(P)}),P.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return qa(P)},onSetup:ru(P)})},Es=function(P){var Z="link unlink openlink",ue="link";P.ui.registry.addContextMenu("link",{update:function(ke){return Ar(P.dom.getParents(ke,"a"))?Z:ue}})},ns=function(P){var Z=function(He){He.selection.collapse(!1)},ue=function(He){var Dt=P.selection.getNode();return He.setDisabled(!fr(P,Dt)),Jt},ke=function(He){var Dt=fr(P),tr=ja(P);if(!Dt&&tr){var dr=wr(P.selection,Dt);return fe.some(dr.length>0?dr:He)}else return fe.none()};P.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ra(P)},label:"Link",predicate:function(He){return!!fr(P,He)&&je(P)},initValue:function(){var He=fr(P);return He?Ut(He):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(He){var Dt=P.selection.getNode();return He.setActive(!!fr(P,Dt)),Ra(P)(He)},onAction:function(He){var Dt=He.getValue(),tr=ke(Dt),dr={href:Dt,attach:Jt};zo(P,dr,{href:Dt,text:tr,title:fe.none(),rel:fe.none(),target:fe.none(),class:fe.none()}),Z(P),He.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ue,onAction:function(He){qa(P),He.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ue,onAction:function(He){Ou(P)(),He.hide()}}]})};function rs(){We.add("link",function(P){Du(P),Ei(P),Es(P),ns(P),nu(P),au(P),ts(P)})}rs()})();(function(){var We=tinymce.util.Tools.resolve("tinymce.PluginManager");function Tt(){We.add("textcolor",function(){})}Tt()})();(function(){var We=function(b){var _=b,j=function(){return _},J=function(ge){_=ge};return{get:j,set:J}},Tt=tinymce.util.Tools.resolve("tinymce.PluginManager"),At=function(b){return b.hasPlugin("powerpaste",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},Rn=function(b){return{clipboard:b}},Nt=function(b){var _=typeof b;return b===null?"null":_==="object"&&(Array.prototype.isPrototypeOf(b)||b.constructor&&b.constructor.name==="Array")?"array":_==="object"&&(String.prototype.isPrototypeOf(b)||b.constructor&&b.constructor.name==="String")?"string":_},Dn=function(b){return function(_){return Nt(_)===b}},pn=function(b){return function(_){return typeof _===b}},cr=Dn("array"),Yn=function(b){return b==null},nr=function(b){return!Yn(b)},Kr=pn("function"),Jt=function(){},Wn=function(b){return function(){return b}},Vr=function(b){return b},Xr=Wn(!1),Pe=Wn(!0),bn=function(){return Cn},Cn=function(){var b=function(J){return J()},_=Vr,j={fold:function(J,ge){return J()},isSome:Xr,isNone:Pe,getOr:_,getOrThunk:b,getOrDie:function(J){throw new Error(J||"error: getOrDie called on none.")},getOrNull:Wn(null),getOrUndefined:Wn(void 0),or:_,orThunk:b,map:bn,each:Jt,bind:bn,exists:Xr,forall:Pe,filter:function(){return bn()},toArray:function(){return[]},toString:Wn("none()")};return j}(),$t=function(b){var _=Wn(b),j=function(){return ge},J=function(Ue){return Ue(b)},ge={fold:function(Ue,en){return en(b)},isSome:Pe,isNone:Xr,getOr:_,getOrThunk:_,getOrDie:_,getOrNull:_,getOrUndefined:_,or:j,orThunk:j,map:function(Ue){return $t(Ue(b))},each:function(Ue){Ue(b)},bind:J,exists:J,forall:J,filter:function(Ue){return Ue(b)?ge:Cn},toArray:function(){return[b]},toString:function(){return"some("+b+")"}};return ge},X=function(b){return b==null?Cn:$t(b)},Mt={some:$t,none:bn,from:X},fe=Array.prototype.slice,rn=Array.prototype.push,an=function(b,_){for(var j=0,J=b.length;j<J;j++){var ge=b[j];if(_(ge,j))return!0}return!1},Fe=function(b,_){for(var j=b.length,J=new Array(j),ge=0;ge<j;ge++){var Ue=b[ge];J[ge]=_(Ue,ge)}return J},ut=function(b,_){for(var j=0,J=b.length;j<J;j++){var ge=b[j];_(ge,j)}},Ve=function(b,_){for(var j=[],J=0,ge=b.length;J<ge;J++){var Ue=b[J];_(Ue,J)&&j.push(Ue)}return j},lr=function(b,_,j){return ut(b,function(J,ge){j=_(j,J,ge)}),j},K=function(b){for(var _=[],j=0,J=b.length;j<J;++j){if(!cr(b[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+b);rn.apply(_,b[j])}return _},Ge=function(b,_){return K(Fe(b,_))},Rt=Kr(Array.from)?Array.from:function(b){return fe.call(b)},ta=function(){return ta=Object.assign||function(_){for(var j,J=1,ge=arguments.length;J<ge;J++){j=arguments[J];for(var Ue in j)Object.prototype.hasOwnProperty.call(j,Ue)&&(_[Ue]=j[Ue])}return _},ta.apply(this,arguments)},nt=function(b){var _=We(Mt.none()),j=function(){return _.get().each(b)},J=function(){j(),_.set(Mt.none())},ge=function(){return _.get().isSome()},Ue=function(){return _.get()},en=function(on){j(),_.set(Mt.some(on))};return{clear:J,isSet:ge,get:Ue,set:en}},Wa=function(){var b=nt(Jt),_=function(j){return b.get().each(j)};return ta(ta({},b),{on:_})},Ba=function(b,_,j){return _===""||b.length>=_.length&&b.substr(j,j+_.length)===_},x=function(b,_){return Ba(b,_,0)},je=function(b,_){return Ba(b,_,b.length-_.length)},yt=function(b,_){return _<=0?"":new Array(_+1).join(b)},Ht=tinymce.util.Tools.resolve("tinymce.Env"),Nn=tinymce.util.Tools.resolve("tinymce.util.Delay"),ar=tinymce.util.Tools.resolve("tinymce.util.Promise"),_n=tinymce.util.Tools.resolve("tinymce.util.VK"),Cr=function(b,_,j,J){return b.fire("PastePreProcess",{content:_,internal:j,wordContent:J})},U=function(b,_,j,J){return b.fire("PastePostProcess",{node:_,internal:j,wordContent:J})},Bo=function(b,_){return b.fire("PastePlainTextToggle",{state:_})},Ke=function(b,_){return b.fire("paste",{ieFake:_})},be=tinymce.util.Tools.resolve("tinymce.util.Tools"),sn=function(b){return b.getParam("paste_block_drop",!1)},Bt=function(b){return b.getParam("paste_data_images",!1)},dt=function(b){return b.getParam("paste_filter_drop",!0)},yn=function(b){return b.getParam("paste_preprocess")},Yt=function(b){return b.getParam("paste_postprocess")},Ne=function(b){return b.getParam("paste_webkit_styles")},at=function(b){return b.getParam("paste_remove_styles_if_webkit",!0)},Ln=function(b){return b.getParam("paste_merge_formats",!0)},bt=function(b){return b.getParam("smart_paste",!0)},er=function(b){return b.getParam("paste_as_text",!1)},yr=function(b){return b.getParam("paste_retain_style_properties")},ur=function(b){var _="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return b.getParam("paste_word_valid_elements",_)},hr=function(b){return b.getParam("paste_convert_word_fake_lists",!0)},va=function(b){return b.getParam("paste_enable_default_filters",!0)},pa=function(b){return b.getParam("validate")},za=function(b){return b.getParam("allow_html_data_urls",!1,"boolean")},Ma=function(b){return b.getParam("paste_data_images",!1,"boolean")},Xe=function(b){return b.getParam("images_dataimg_filter")},et=function(b){return b.getParam("images_reuse_filename")},lt=function(b){return b.getParam("forced_root_block")},gt=function(b){return b.getParam("forced_root_block_attrs")},st=function(b){return b.getParam("paste_tab_spaces",4,"number")},Ut=function(b){var _="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return be.explode(b.getParam("images_file_types",_,"string"))},cn="x-tinymce/html",kt="<!-- "+cn+" -->",fr=function(b){return kt+b},wr=function(b){return b.replace(kt,"")},Ar=function(b){return b.indexOf(kt)!==-1},or=Wn(cn),ja=Object.hasOwnProperty,go=function(b,_){return ja.call(b,_)},xa=tinymce.util.Tools.resolve("tinymce.html.Entities"),Ot=function(b){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(b)},mn=function(b){return b.replace(/\r?\n/g,"<br>")},Bn=function(b,_){var j=[],J="<"+b;if(typeof _=="object"){for(var ge in _)go(_,ge)&&j.push(ge+'="'+xa.encodeAllRaw(_[ge])+'"');j.length&&(J+=" "+j.join(" "))}return J+">"},Rr=function(b,_,j){var J=b.split(/\n\n/),ge=Bn(_,j),Ue="</"+_+">",en=be.map(J,function(ct){return ct.split(/\n/).join("<br />")}),on=function(ct){return ge+ct+Ue};return en.length===1?en[0]:be.map(en,on).join("")},ho=function(b,_,j){return _?Rr(b,_===!0?"p":_,j):mn(b)},$n=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Sn=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Ur="\xA0",qo=tinymce.util.Tools.resolve("tinymce.html.Node"),zo=tinymce.util.Tools.resolve("tinymce.html.Schema"),qa=function(b){return b.constructor===RegExp},Ga=function(b,_){return be.each(_,function(j){qa(j)?b=b.replace(j,""):b=b.replace(j[0],j[1])}),b},Fi=function(b){var _=zo(),j=$n({},_),J="",ge=_.getShortEndedElements(),Ue=be.makeMap("script noscript style textarea video audio iframe object"," "),en=_.getBlockElements(),on=function(ct){var Wt=ct.name,kn=ct;if(Wt==="br"){J+=`
`;return}if(Wt!=="wbr"){if(ge[Wt]&&(J+=" "),Ue[Wt]){J+=" ";return}if(ct.type===3&&(J+=ct.value),!ct.shortEnded&&(ct=ct.firstChild))do on(ct);while(ct=ct.next);en[Wt]&&kn.next&&(J+=`
`,Wt==="p"&&(J+=`
`))}};return b=Ga(b,[/<!\[[^\]]+\]>/g]),on(j.parse(b)),J},po=function(b){var _=function(j,J,ge){return!J&&!ge?" ":Ur};return b=Ga(b,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,_],/<br class="Apple-interchange-newline">/g,/<br>$/i]),b},Ka=function(b){var _=0;return function(){return b+_++}},Ii=function(b){var _=b.toLowerCase(),j={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return be.hasOwn(j,_)?"image/"+j[_]:"image/"+_},Zn=function(b){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(b)||/class="OutlineElement/.test(b)||/id="?docs\-internal\-guid\-/.test(b)},xi=function(b){var _=!1,j=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return b=b.replace(/^[\u00a0 ]+/,""),be.each(j,function(J){if(J.test(b))return _=!0,!1}),_},Vt=function(b){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(b)},jc=function(b){for(var _,j,J=1,ge=function(Zt){var pr="";if(Zt.type===3)return Zt.value;if(Zt=Zt.firstChild)do pr+=ge(Zt);while(Zt=Zt.next);return pr},Ue=function(Zt,pr){if(Zt.type===3&&pr.test(Zt.value))return Zt.value=Zt.value.replace(pr,""),!1;if(Zt=Zt.firstChild)do if(!Ue(Zt,pr))return!1;while(Zt=Zt.next);return!0},en=function(Zt){if(Zt._listIgnore){Zt.remove();return}if(Zt=Zt.firstChild)do en(Zt);while(Zt=Zt.next)},on=function(Zt,pr,Pr){var ou=Zt._listLevel||J;ou!==J&&(ou<J?_&&(_=_.parent.parent):(j=_,_=null)),!_||_.name!==pr?(j=j||_,_=new qo(pr,1),Pr>1&&_.attr("start",""+Pr),Zt.wrap(_)):_.append(Zt),Zt.name="li",ou>J&&j&&j.lastChild.append(_),J=ou,en(Zt),Ue(Zt,/^\u00a0+/),Ue(Zt,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Ue(Zt,/^\u00a0+/)},ct=[],Wt=b.firstChild;typeof Wt!="undefined"&&Wt!==null;)if(ct.push(Wt),Wt=Wt.walk(),Wt!==null)for(;typeof Wt!="undefined"&&Wt.parent!==b;)Wt=Wt.walk();for(var kn=0;kn<ct.length;kn++)if(b=ct[kn],b.name==="p"&&b.firstChild){var Kn=ge(b);if(Vt(Kn)){on(b,"ul");continue}if(xi(Kn)){var tn=/([0-9]+)\./.exec(Kn),qr=1;tn&&(qr=parseInt(tn[1],10)),on(b,"ol",qr);continue}if(b._listLevel){on(b,"ul",1);continue}_=null}else j=_,_=null},Mo=function(b,_,j,J){var ge={},Ue=b.dom.parseStyle(J);be.each(Ue,function(on,ct){switch(ct){case"mso-list":var Wt=/\w+ \w+([0-9]+)/i.exec(J);Wt&&(j._listLevel=parseInt(Wt[1],10)),/Ignore/i.test(on)&&j.firstChild&&(j._listIgnore=!0,j.firstChild._listIgnore=!0);break;case"horiz-align":ct="text-align";break;case"vert-align":ct="vertical-align";break;case"font-color":case"mso-foreground":ct="color";break;case"mso-background":case"mso-highlight":ct="background";break;case"font-weight":case"font-style":on!=="normal"&&(ge[ct]=on);return;case"mso-element":if(/^(comment|comment-list)$/i.test(on)){j.remove();return}break}if(ct.indexOf("mso-comment")===0){j.remove();return}ct.indexOf("mso-")!==0&&(yr(b)==="all"||_&&_[ct])&&(ge[ct]=on)}),/(bold)/i.test(ge["font-weight"])&&(delete ge["font-weight"],j.wrap(new qo("b",1))),/(italic)/i.test(ge["font-style"])&&(delete ge["font-style"],j.wrap(new qo("i",1)));var en=b.dom.serializeStyle(ge,j.name);return en||null},eu=function(b,_){var j,J=yr(b);J&&(j=be.makeMap(J.split(/[, ]/))),_=Ga(_,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Ur],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(ct,Wt){return Wt.length>0?Wt.replace(/./," ").slice(Math.floor(Wt.length/2)).split("").join(Ur):""}]]);var ge=ur(b),Ue=zo({valid_elements:ge,valid_children:"-li[p]"});be.each(Ue.elements,function(ct){ct.attributes.class||(ct.attributes.class={},ct.attributesOrder.push("class")),ct.attributes.style||(ct.attributes.style={},ct.attributesOrder.push("style"))});var en=$n({},Ue);en.addAttributeFilter("style",function(ct){for(var Wt=ct.length,kn;Wt--;)kn=ct[Wt],kn.attr("style",Mo(b,j,kn,kn.attr("style"))),kn.name==="span"&&kn.parent&&!kn.attributes.length&&kn.unwrap()}),en.addAttributeFilter("class",function(ct){for(var Wt=ct.length,kn,Kn;Wt--;)kn=ct[Wt],Kn=kn.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Kn)&&kn.remove(),kn.attr("class",null)}),en.addNodeFilter("del",function(ct){for(var Wt=ct.length;Wt--;)ct[Wt].remove()}),en.addNodeFilter("a",function(ct){for(var Wt=ct.length,kn,Kn,tn;Wt--;){if(kn=ct[Wt],Kn=kn.attr("href"),tn=kn.attr("name"),Kn&&Kn.indexOf("#_msocom_")!==-1){kn.remove();continue}if(Kn&&Kn.indexOf("file://")===0&&(Kn=Kn.split("#")[1],Kn&&(Kn="#"+Kn)),!Kn&&!tn)kn.unwrap();else{if(tn&&!/^_?(?:toc|edn|ftn)/i.test(tn)){kn.unwrap();continue}kn.attr({href:Kn,name:tn})}}});var on=en.parse(_);return hr(b)&&jc(on),_=Sn({validate:pa(b)},Ue).serialize(on),_},Ro=function(b,_){return va(b)?eu(b,_):_},Ni=function(b,_){var j=$n({},b.schema);j.addNodeFilter("meta",function(ge){be.each(ge,function(Ue){Ue.remove()})});var J=j.parse(_,{forced_root_block:!1,isRootContent:!0});return Sn({validate:pa(b)},b.schema).serialize(J)},rc=function(b,_){return{content:b,cancelled:_}},Si=function(b,_,j,J){var ge=b.dom.create("div",{style:"display:none"},_),Ue=U(b,ge,j,J);return rc(Ue.node.innerHTML,Ue.isDefaultPrevented())},xs=function(b,_,j,J){var ge=Cr(b,_,j,J),Ue=Ni(b,ge.content);return b.hasEventListeners("PastePostProcess")&&!ge.isDefaultPrevented()?Si(b,Ue,j,J):rc(Ue,ge.isDefaultPrevented())},no=function(b,_,j){var J=Zn(_),ge=J?Ro(b,_):_;return xs(b,ge,j,J)},Go=function(b,_){return b.insertContent(_,{merge:Ln(b),paste:!0}),!0},Ye=function(b){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(b)},Ss=function(b,_){return Ye(_)&&an(Ut(b),function(j){return je(_.toLowerCase(),"."+j.toLowerCase())})},Yu=function(b,_,j){return b.undoManager.extra(function(){j(b,_)},function(){b.insertContent('<img src="'+_+'">')}),!0},Zu=function(b,_,j){return b.undoManager.extra(function(){j(b,_)},function(){b.execCommand("mceInsertLink",!1,_)}),!0},ac=function(b,_,j){return b.selection.isCollapsed()===!1&&Ye(_)?Zu(b,_,j):!1},Po=function(b,_,j){return Ss(b,_)?Yu(b,_,j):!1},oc=function(b,_){be.each([ac,Po,Go],function(j){return j(b,_,Go)!==!0})},oa=function(b,_,j){j||bt(b)===!1?Go(b,_):oc(b,_)},na=function(b){return" \f	\v".indexOf(b)!==-1},bo=function(b){return b===`
`||b==="\r"},Fo=function(b,_){return _<b.length&&_>=0?bo(b[_]):!1},ks=function(b,_){var j=yt(" ",st(b)),J=_.replace(/\t/g,j),ge=lr(J,function(Ue,en){return na(en)||en===Ur?Ue.pcIsSpace||Ue.str===""||Ue.str.length===J.length-1||Fo(J,Ue.str.length+1)?{pcIsSpace:!1,str:Ue.str+Ur}:{pcIsSpace:!0,str:Ue.str+" "}:{pcIsSpace:bo(en),str:Ue.str+en}},{pcIsSpace:!1,str:""});return ge.str},yo=function(b,_,j,J){var ge=no(b,_,j);ge.cancelled===!1&&oa(b,ge.content,J)},ii=function(b,_,j){var J=j||Ar(_);yo(b,wr(_),J,!1)},Eu=function(b,_){var j=b.dom.encode(_).replace(/\r\n/g,`
`),J=ks(b,j),ge=ho(J,lt(b),gt(b));yo(b,ge,!1,!0)},Tu=function(b){var _={},j="data:text/mce-internal,";if(b){if(b.getData){var J=b.getData("Text");J&&J.length>0&&J.indexOf(j)===-1&&(_["text/plain"]=J)}if(b.types)for(var ge=0;ge<b.types.length;ge++){var Ue=b.types[ge];try{_[Ue]=b.getData(Ue)}catch(en){_[Ue]=""}}}return _},ro=function(b,_){return Tu(_.clipboardData||b.getDoc().dataTransfer)},Ko=function(b,_){return _ in b&&b[_].length>0},tu=function(b){return Ko(b,"text/html")||Ko(b,"text/plain")},Li=function(b){var _=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(b);return _?{type:_[1],data:decodeURIComponent(_[2])}:{type:null,data:null}},As=function(b,_){var j=Xe(b);return j?j(_):!0},Ju=function(b,_){var j=_.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return nr(j)?b.dom.encode(j[1]):null},ki=Ka("mceclip"),Qu=function(b,_){var j=Li(_.uri),J=j.data,ge=j.type,Ue=ki(),en=_.blob,on=new Image;if(on.src=_.uri,As(b,on)){var ct=b.editorUpload.blobCache,Wt=void 0,kn=ct.getByData(J,ge);if(kn)Wt=kn;else{var Kn=et(b)&&nr(en.name),tn=Kn?Ju(b,en.name):Ue,qr=Kn?en.name:void 0;Wt=ct.create(Ue,en,J,tn,qr),ct.add(Wt)}ii(b,'<img src="'+Wt.blobUri()+'">',!1)}else ii(b,'<img src="'+_.uri+'">',!1)},Ai=function(b){return b.type==="paste"},ra=function(b){return nr(b.getAsFile)},Ou=function(b){return ar.all(Fe(b,function(_){return new ar(function(j){var J=ra(_)?_.getAsFile():_,ge=new window.FileReader;ge.onload=function(){j({blob:J,uri:ge.result})},ge.readAsDataURL(J)})}))},nu=function(b){var _=Ut(b);return function(j){return x(j.type,"image/")&&an(_,function(J){return Ii(J)===j.type})}},Io=function(b,_){var j=_.items?Ge(Rt(_.items),function(ge){return ge.kind==="file"?[ge.getAsFile()]:[]}):[],J=_.files?Rt(_.files):[];return Ve(j.length>0?j:J,nu(b))},Ra=function(b,_,j){var J=Ai(_)?_.clipboardData:_.dataTransfer;if(Ma(b)&&J){var ge=Io(b,J);if(ge.length>0)return _.preventDefault(),Ou(ge).then(function(Ue){j&&b.selection.setRng(j),ut(Ue,function(en){Qu(b,en)})}),!0}return!1},es=function(b){var _=b.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&_&&_.items&&_.items.length===0},ru=function(b){return _n.metaKeyPressed(b)&&b.keyCode===86||b.shiftKey&&b.keyCode===45},au=function(b,_,j){var J=Wa(),ge=Wa(),Ue;b.on("keyup",ge.clear),b.on("keydown",function(ct){var Wt=function(kn){ru(kn)&&!kn.isDefaultPrevented()&&_.remove()};if(ru(ct)&&!ct.isDefaultPrevented()){if(Ue=ct.shiftKey&&ct.keyCode===86,Ue&&Ht.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(ct.stopImmediatePropagation(),J.set(ct),ge.set(!0),Ht.ie&&Ue){ct.preventDefault(),Ke(b,!0);return}_.remove(),_.create(),b.once("keyup",Wt),b.once("paste",function(){b.off("keyup",Wt)})}});var en=function(ct,Wt,kn,Kn,tn){var qr;Ko(Wt,"text/html")?qr=Wt["text/html"]:(qr=_.getHtml(),tn=tn||Ar(qr),_.isDefaultContent(qr)&&(Kn=!0)),qr=po(qr),_.remove();var Zt=tn===!1&&Ot(qr),pr=Ye(qr);if((!qr.length||Zt&&!pr)&&(Kn=!0),(Kn||pr)&&(Ko(Wt,"text/plain")&&Zt?qr=Wt["text/plain"]:qr=Fi(qr)),_.isDefaultContent(qr)){kn||ct.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Kn?Eu(ct,qr):ii(ct,qr,tn)},on=function(){return _.getLastRng()||b.selection.getRng()};b.on("paste",function(ct){var Wt=J.isSet()||ge.isSet();Wt&&J.clear();var kn=ro(b,ct),Kn=j.get()==="text"||Ue,tn=Ko(kn,or());if(Ue=!1,ct.isDefaultPrevented()||es(ct)){_.remove();return}if(!tu(kn)&&Ra(b,ct,on())){_.remove();return}Wt||ct.preventDefault(),Ht.ie&&(!Wt||ct.ieFake)&&!Ko(kn,"text/html")&&(_.create(),b.dom.bind(_.getEl(),"paste",function(qr){qr.stopPropagation()}),b.getDoc().execCommand("Paste",!1,null),kn["text/html"]=_.getHtml()),Ko(kn,"text/html")?(ct.preventDefault(),tn||(tn=Ar(kn["text/html"])),en(b,kn,Wt,Kn,tn)):Nn.setEditorTimeout(b,function(){en(b,kn,Wt,Kn,tn)},0)})},ts=function(b,_,j){au(b,_,j);var J;b.parser.addNodeFilter("img",function(ge,Ue,en){var on=function(tn){return tn.data&&tn.data.paste===!0},ct=function(tn){!tn.attr("data-mce-object")&&J!==Ht.transparentSrc&&tn.remove()},Wt=function(tn){return tn.indexOf("webkit-fake-url")===0},kn=function(tn){return tn.indexOf("data:")===0};if(!Ma(b)&&on(en))for(var Kn=ge.length;Kn--;)J=ge[Kn].attr("src"),!!J&&(Wt(J)||!za(b)&&kn(J))&&ct(ge[Kn])})},Du=function(b){return Ht.ie&&b.inline?document.body:b.getBody()},Ei=function(b){return Du(b)!==b.getBody()},Es=function(b,_,j){Ei(b)&&b.dom.bind(_,"paste keyup",function(J){He(b,j)||b.fire("paste")})},ns=function(b,_,j){var J=b.dom,ge=b.getBody();_.set(b.selection.getRng());var Ue=b.dom.add(Du(b),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},j);(Ht.ie||Ht.gecko)&&J.setStyle(Ue,"left",J.getStyle(ge,"direction",!0)==="rtl"?65535:-65535),J.bind(Ue,"beforedeactivate focusin focusout",function(en){en.stopPropagation()}),Es(b,Ue,j),Ue.focus(),b.selection.select(Ue,!0)},rs=function(b,_){if(P(b)){for(var j=void 0,J=_.get();j=b.dom.get("mcepastebin");)b.dom.remove(j),b.dom.unbind(j);J&&b.selection.setRng(J)}_.set(null)},P=function(b){return b.dom.get("mcepastebin")},Z=function(b){var _=function(on,ct){on.appendChild(ct),b.dom.remove(ct,!0)},j=be.grep(Du(b).childNodes,function(on){return on.id==="mcepastebin"}),J=j.shift();be.each(j,function(on){_(J,on)});for(var ge=b.dom.select("div[id=mcepastebin]",J),Ue=ge.length-1;Ue>=0;Ue--){var en=b.dom.create("div");J.insertBefore(en,ge[Ue]),_(en,ge[Ue])}return J?J.innerHTML:""},ue=function(b,_){return _===b},ke=function(b){return b&&b.id==="mcepastebin"},He=function(b,_){var j=P(b);return ke(j)&&ue(_,j.innerHTML)},Dt=function(b){var _=We(null),j="%MCEPASTEBIN%";return{create:function(){return ns(b,_,j)},remove:function(){return rs(b,_)},getEl:function(){return P(b)},getHtml:function(){return Z(b)},getLastRng:_.get,isDefault:function(){return He(b,j)},isDefaultContent:function(J){return ue(j,J)}}},tr=function(b,_){var j=Dt(b);return b.on("PreInit",function(){return ts(b,j,_)}),{pasteFormat:_,pasteHtml:function(J,ge){return ii(b,J,ge)},pasteText:function(J){return Eu(b,J)},pasteImageData:function(J,ge){return Ra(b,J,ge)},getDataTransferItems:Tu,hasHtmlOrText:tu,hasContentType:Ko}},dr=function(b,_){_.pasteFormat.get()==="text"?(_.pasteFormat.set("html"),Bo(b,!1)):(_.pasteFormat.set("text"),Bo(b,!0)),b.focus()},xn=function(b,_){b.addCommand("mceTogglePlainTextPaste",function(){dr(b,_)}),b.addCommand("mceInsertClipboardContent",function(j,J){J.content&&_.pasteHtml(J.content,J.internal),J.text&&_.pasteText(J.text)})},Er=function(b){return Ht.iOS===!1&&typeof(b==null?void 0:b.setData)=="function"},Wr=function(b,_,j){if(Er(b))try{return b.clearData(),b.setData("text/html",_),b.setData("text/plain",j),b.setData(or(),_),!0}catch(J){return!1}else return!1},$i=function(b,_,j,J){Wr(b.clipboardData,_.html,_.text)?(b.preventDefault(),J()):j(_.html,J)},ic=function(b){return function(_,j){var J=fr(_),ge=b.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Ue=b.dom.create("div",{contenteditable:"true"},J);b.dom.setStyles(ge,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),ge.appendChild(Ue),b.dom.add(b.getBody(),ge);var en=b.selection.getRng();Ue.focus();var on=b.dom.createRng();on.selectNodeContents(Ue),b.selection.setRng(on),Nn.setTimeout(function(){b.selection.setRng(en),ge.parentNode.removeChild(ge),j()},0)}},uc=function(b){return{html:b.selection.getContent({contextual:!0}),text:b.selection.getContent({format:"text"})}},Lt=function(b){return!!b.dom.getParent(b.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",b.getBody())},Ts=function(b){return!b.selection.isCollapsed()||Lt(b)},qc=function(b){return function(_){Ts(b)&&$i(_,uc(b),ic(b),function(){if(Ht.browser.isChrome()||Ht.browser.isFirefox()){var j=b.selection.getRng();Nn.setEditorTimeout(b,function(){b.selection.setRng(j),b.execCommand("Delete")},0)}else b.execCommand("Delete")})}},Hi=function(b){return function(_){Ts(b)&&$i(_,uc(b),ic(b),Jt)}},Dl=function(b){b.on("cut",qc(b)),b.on("copy",Hi(b))},Cf=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),_l=function(b,_){return Cf.getCaretRangeFromPoint(_.clientX,_.clientY,b.getDoc())},jr=function(b){var _=b["text/plain"];return _?_.indexOf("file://")===0:!1},Os=function(b,_){b.focus(),b.selection.setRng(_)},xf=function(b,_,j){sn(b)&&b.on("dragend dragover draggesture dragdrop drop drag",function(J){J.preventDefault(),J.stopPropagation()}),Bt(b)||b.on("drop",function(J){var ge=J.dataTransfer;ge&&ge.files&&ge.files.length>0&&J.preventDefault()}),b.on("drop",function(J){var ge=_l(b,J);if(!(J.isDefaultPrevented()||j.get())){var Ue=_.getDataTransferItems(J.dataTransfer),en=_.hasContentType(Ue,or());if(!((!_.hasHtmlOrText(Ue)||jr(Ue))&&_.pasteImageData(J,ge))&&ge&&dt(b)){var on=Ue["mce-internal"]||Ue["text/html"]||Ue["text/plain"];on&&(J.preventDefault(),Nn.setEditorTimeout(b,function(){b.undoManager.transact(function(){Ue["mce-internal"]&&b.execCommand("Delete"),Os(b,ge),on=po(on),Ue["text/html"]?_.pasteHtml(on,en):_.pasteText(on)})}))}}}),b.on("dragstart",function(J){j.set(!0)}),b.on("dragover dragend",function(J){Bt(b)&&j.get()===!1&&(J.preventDefault(),Os(b,_l(b,J))),J.type==="dragend"&&j.set(!1)})},Ti=function(b){var _=b.plugins.paste,j=yn(b);j&&b.on("PastePreProcess",function(ge){j.call(_,_,ge)});var J=Yt(b);J&&b.on("PastePostProcess",function(ge){J.call(_,_,ge)})},ao=function(b,_){b.on("PastePreProcess",function(j){j.content=_(b,j.content,j.internal,j.wordContent)})},sc=function(b,_){b.on("PastePostProcess",function(j){_(b,j.node)})},Ce=function(b,_){if(!Zn(_))return _;var j=[];be.each(b.schema.getBlockElements(),function(ge,Ue){j.push(Ue)});var J=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+j.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return _=Ga(_,[[J,"$1"]]),_=Ga(_,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),_},Ds=function(b,_,j,J){if(J||j)return _;var ge=Ne(b),Ue;if(at(b)===!1||ge==="all")return _;if(ge&&(Ue=ge.split(/[, ]/)),Ue){var en=b.dom,on=b.selection.getNode();_=_.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(ct,Wt,kn,Kn){var tn=en.parseStyle(en.decode(kn)),qr={};if(Ue==="none")return Wt+Kn;for(var Zt=0;Zt<Ue.length;Zt++){var pr=tn[Ue[Zt]],Pr=en.getStyle(on,Ue[Zt],!0);/color/.test(Ue[Zt])&&(pr=en.toHex(pr),Pr=en.toHex(Pr)),Pr!==pr&&(qr[Ue[Zt]]=pr)}var ou=en.serializeStyle(qr,"span");return ou?Wt+' style="'+ou+'"'+Kn:Wt+Kn})}else _=_.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return _=_.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(ct,Wt,kn,Kn){return Wt+' style="'+kn+'"'+Kn}),_},La=function(b,_){b.$("a",_).find("font,u").each(function(j,J){b.dom.remove(J,!0)})},Bl=function(b){Ht.webkit&&ao(b,Ds),Ht.ie&&(ao(b,Ce),sc(b,La))},_u=function(b,_){return function(j){j.setActive(_.pasteFormat.get()==="text");var J=function(ge){return j.setActive(ge.state)};return b.on("PastePlainTextToggle",J),function(){return b.off("PastePlainTextToggle",J)}}},k=function(b,_){var j=function(){return b.execCommand("mceTogglePlainTextPaste")};b.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:j,onSetup:_u(b,_)}),b.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:j,onSetup:_u(b,_)})};function E(){Tt.add("paste",function(b){if(At(b)===!1){var _=We(!1),j=We(er(b)?"text":"html"),J=tr(b,j);return Bl(b),k(b,J),xn(b,J),Ti(b),Dl(b),xf(b,J,_),Rn(J)}})}E()})();(function(){var We=tinymce.util.Tools.resolve("tinymce.PluginManager"),Tt=function(w){var O=typeof w;return w===null?"null":O==="object"&&(Array.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="Array")?"array":O==="object"&&(String.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="String")?"string":O},At=function(w){return function(O){return Tt(O)===w}},Rn=function(w){return function(O){return typeof O===w}},Nt=At("string"),Dn=At("object"),pn=At("array"),cr=Rn("boolean"),Yn=Rn("function"),nr=Rn("number"),Kr=function(){},Jt=function(w){return function(){return w}},Wn=function(w){return w},Vr=function(w,O){return w===O},Xr=function(w){return function(O){return!w(O)}},Pe=Jt(!1),bn=Jt(!0),Cn=function(){return $t},$t=function(){var w=function(V){return V()},O=Wn,M={fold:function(V,oe){return V()},isSome:Pe,isNone:bn,getOr:O,getOrThunk:w,getOrDie:function(V){throw new Error(V||"error: getOrDie called on none.")},getOrNull:Jt(null),getOrUndefined:Jt(void 0),or:O,orThunk:w,map:Cn,each:Kr,bind:Cn,exists:Pe,forall:bn,filter:function(){return Cn()},toArray:function(){return[]},toString:Jt("none()")};return M}(),X=function(w){var O=Jt(w),M=function(){return oe},V=function(we){return we(w)},oe={fold:function(we,zt){return zt(w)},isSome:bn,isNone:Pe,getOr:O,getOrThunk:O,getOrDie:O,getOrNull:O,getOrUndefined:O,or:M,orThunk:M,map:function(we){return X(we(w))},each:function(we){we(w)},bind:V,exists:V,forall:V,filter:function(we){return we(w)?oe:$t},toArray:function(){return[w]},toString:function(){return"some("+w+")"}};return oe},Mt=function(w){return w==null?$t:X(w)},fe={some:X,none:Cn,from:Mt},rn=Array.prototype.slice,an=Array.prototype.push,Fe=function(w,O){for(var M=w.length,V=new Array(M),oe=0;oe<M;oe++){var we=w[oe];V[oe]=O(we,oe)}return V},ut=function(w,O){for(var M=0,V=w.length;M<V;M++){var oe=w[M];O(oe,M)}},Ve=function(w,O){for(var M=[],V=0,oe=w.length;V<oe;V++){var we=w[V];O(we,V)&&M.push(we)}return M},lr=function(w,O){if(w.length===0)return[];for(var M=O(w[0]),V=[],oe=[],we=0,zt=w.length;we<zt;we++){var vn=w[we],Jn=O(vn);Jn!==M&&(V.push(oe),oe=[]),M=Jn,oe.push(vn)}return oe.length!==0&&V.push(oe),V},K=function(w,O,M){return ut(w,function(V,oe){M=O(M,V,oe)}),M},Ge=function(w,O,M){for(var V=0,oe=w.length;V<oe;V++){var we=w[V];if(O(we,V))return fe.some(we);if(M(we,V))break}return fe.none()},Rt=function(w,O){return Ge(w,O,Pe)},ta=function(w){for(var O=[],M=0,V=w.length;M<V;++M){if(!pn(w[M]))throw new Error("Arr.flatten item "+M+" was not an array, input: "+w);an.apply(O,w[M])}return O},nt=function(w,O){return ta(Fe(w,O))},Wa=function(w){var O=rn.call(w,0);return O.reverse(),O},Ba=function(w,O){return O>=0&&O<w.length?fe.some(w[O]):fe.none()},x=function(w){return Ba(w,0)},je=function(w){return Ba(w,w.length-1)},yt=function(w,O){for(var M=0;M<w.length;M++){var V=O(w[M],M);if(V.isSome())return V}return fe.none()},Ht=function(){return Ht=Object.assign||function(O){for(var M,V=1,oe=arguments.length;V<oe;V++){M=arguments[V];for(var we in M)Object.prototype.hasOwnProperty.call(M,we)&&(O[we]=M[we])}return O},Ht.apply(this,arguments)};function Nn(w,O,M){if(M||arguments.length===2)for(var V=0,oe=O.length,we;V<oe;V++)(we||!(V in O))&&(we||(we=Array.prototype.slice.call(O,0,V)),we[V]=O[V]);return w.concat(we||Array.prototype.slice.call(O))}var ar=function(w){var O=!1,M;return function(){for(var V=[],oe=0;oe<arguments.length;oe++)V[oe]=arguments[oe];return O||(O=!0,M=w.apply(null,V)),M}},_n=function(w,O,M,V){var oe=w.isiOS()&&/ipad/i.test(M)===!0,we=w.isiOS()&&!oe,zt=w.isiOS()||w.isAndroid(),vn=zt||V("(pointer:coarse)"),Jn=oe||!we&&zt&&V("(min-device-width:768px)"),Pn=we||zt&&!Jn,Ir=O.isSafari()&&w.isiOS()&&/safari/i.test(M)===!1,Zo=!Pn&&!Jn&&!Ir;return{isiPad:Jt(oe),isiPhone:Jt(we),isTablet:Jt(Jn),isPhone:Jt(Pn),isTouch:Jt(vn),isAndroid:w.isAndroid,isiOS:w.isiOS,isWebView:Jt(Ir),isDesktop:Jt(Zo)}},Cr=function(w,O){for(var M=0;M<w.length;M++){var V=w[M];if(V.test(O))return V}},U=function(w,O){var M=Cr(w,O);if(!M)return{major:0,minor:0};var V=function(oe){return Number(O.replace(M,"$"+oe))};return be(V(1),V(2))},Bo=function(w,O){var M=String(O).toLowerCase();return w.length===0?Ke():U(w,M)},Ke=function(){return be(0,0)},be=function(w,O){return{major:w,minor:O}},sn={nu:be,detect:Bo,unknown:Ke},Bt=function(w,O){return yt(O.brands,function(M){var V=M.brand.toLowerCase();return Rt(w,function(oe){var we;return V===((we=oe.brand)===null||we===void 0?void 0:we.toLowerCase())}).map(function(oe){return{current:oe.name,version:sn.nu(parseInt(M.version,10),0)}})})},dt=function(w,O){var M=String(O).toLowerCase();return Rt(w,function(V){return V.search(M)})},yn=function(w,O){return dt(w,O).map(function(M){var V=sn.detect(M.versionRegexes,O);return{current:M.name,version:V}})},Yt=function(w,O){return dt(w,O).map(function(M){var V=sn.detect(M.versionRegexes,O);return{current:M.name,version:V}})},Ne=function(w,O){return w.indexOf(O)!==-1},at=function(w){return function(O){return O.replace(w,"")}},Ln=at(/^\s+|\s+$/g),bt=function(w){return w.length>0},er=function(w){return!bt(w)},yr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ur=function(w){return function(O){return Ne(O,w)}},hr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(w){return Ne(w,"edge/")&&Ne(w,"chrome")&&Ne(w,"safari")&&Ne(w,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yr],search:function(w){return Ne(w,"chrome")&&!Ne(w,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(w){return Ne(w,"msie")||Ne(w,"trident")}},{name:"Opera",versionRegexes:[yr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ur("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ur("firefox")},{name:"Safari",versionRegexes:[yr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(w){return(Ne(w,"safari")||Ne(w,"mobile/"))&&Ne(w,"applewebkit")}}],va=[{name:"Windows",search:ur("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(w){return Ne(w,"iphone")||Ne(w,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ur("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ur("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ur("linux"),versionRegexes:[]},{name:"Solaris",search:ur("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ur("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ur("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pa={browsers:Jt(hr),oses:Jt(va)},za="Edge",Ma="Chrome",Xe="IE",et="Opera",lt="Firefox",gt="Safari",st=function(){return Ut({current:void 0,version:sn.unknown()})},Ut=function(w){var O=w.current,M=w.version,V=function(oe){return function(){return O===oe}};return{current:O,version:M,isEdge:V(za),isChrome:V(Ma),isIE:V(Xe),isOpera:V(et),isFirefox:V(lt),isSafari:V(gt)}},cn={unknown:st,nu:Ut,edge:Jt(za),chrome:Jt(Ma),ie:Jt(Xe),opera:Jt(et),firefox:Jt(lt),safari:Jt(gt)},kt="Windows",fr="iOS",wr="Android",Ar="Linux",or="OSX",ja="Solaris",go="FreeBSD",xa="ChromeOS",Ot=function(){return mn({current:void 0,version:sn.unknown()})},mn=function(w){var O=w.current,M=w.version,V=function(oe){return function(){return O===oe}};return{current:O,version:M,isWindows:V(kt),isiOS:V(fr),isAndroid:V(wr),isOSX:V(or),isLinux:V(Ar),isSolaris:V(ja),isFreeBSD:V(go),isChromeOS:V(xa)}},Bn={unknown:Ot,nu:mn,windows:Jt(kt),ios:Jt(fr),android:Jt(wr),linux:Jt(Ar),osx:Jt(or),solaris:Jt(ja),freebsd:Jt(go),chromeos:Jt(xa)},Rr=function(w,O,M){var V=pa.browsers(),oe=pa.oses(),we=O.bind(function(Jn){return Bt(V,Jn)}).orThunk(function(){return yn(V,w)}).fold(cn.unknown,cn.nu),zt=Yt(oe,w).fold(Bn.unknown,Bn.nu),vn=_n(zt,we,w,M);return{browser:we,os:zt,deviceType:vn}},ho={detect:Rr},$n=function(w){return window.matchMedia(w).matches},Sn=ar(function(){return ho.detect(navigator.userAgent,fe.from(navigator.userAgentData),$n)}),Ur=function(){return Sn()},qo=function(w,O,M){return(w.compareDocumentPosition(O)&M)!==0},zo=function(w,O){return qo(w,O,Node.DOCUMENT_POSITION_CONTAINED_BY)},qa=1,Ga=function(w,O){var M=O||document,V=M.createElement("div");if(V.innerHTML=w,!V.hasChildNodes()||V.childNodes.length>1)throw console.error("HTML does not have a single root node",w),new Error("HTML must have a single root node");return Ka(V.childNodes[0])},Fi=function(w,O){var M=O||document,V=M.createElement(w);return Ka(V)},po=function(w,O){var M=O||document,V=M.createTextNode(w);return Ka(V)},Ka=function(w){if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},Ii=function(w,O,M){return fe.from(w.dom.elementFromPoint(O,M)).map(Ka)},Zn={fromHtml:Ga,fromTag:Fi,fromText:po,fromDom:Ka,fromPoint:Ii},xi=function(w,O){var M=w.dom;if(M.nodeType!==qa)return!1;var V=M;if(V.matches!==void 0)return V.matches(O);if(V.msMatchesSelector!==void 0)return V.msMatchesSelector(O);if(V.webkitMatchesSelector!==void 0)return V.webkitMatchesSelector(O);if(V.mozMatchesSelector!==void 0)return V.mozMatchesSelector(O);throw new Error("Browser lacks native selectors")},Vt=function(w,O){return w.dom===O.dom},jc=function(w,O){var M=w.dom,V=O.dom;return M===V?!1:M.contains(V)},Mo=function(w,O){return zo(w.dom,O.dom)},eu=function(w,O){return Ur().browser.isIE()?Mo(w,O):jc(w,O)},Ro=xi,Ni=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),rc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Si=tinymce.util.Tools.resolve("tinymce.util.VK"),xs=Object.keys,no=function(w,O){for(var M=xs(w),V=0,oe=M.length;V<oe;V++){var we=M[V],zt=w[we];O(zt,we)}},Go=function(w){return function(O,M){w[M]=O}},Ye=function(w,O,M,V){var oe={};return no(w,function(we,zt){(O(we,zt)?M:V)(we,zt)}),oe},Ss=function(w,O){var M={};return Ye(w,O,Go(M),Kr),M};typeof window!="undefined"||Function("return this;")();var Yu=function(w){var O=w.dom.nodeName;return O.toLowerCase()},Zu=function(w){return w.dom.nodeType},ac=function(w){return function(O){return Zu(O)===w}},Po=ac(qa),oc=function(w){return function(O){return Po(O)&&Yu(O)===w}},oa=function(w,O,M){if(Nt(M)||cr(M)||nr(M))w.setAttribute(O,M+"");else throw console.error("Invalid call to Attribute.set. Key ",O,":: Value ",M,":: Element ",w),new Error("Attribute value was not simple")},na=function(w,O){var M=w.dom;no(O,function(V,oe){oa(M,oe,V)})},bo=function(w){return K(w.dom.attributes,function(O,M){return O[M.name]=M.value,O},{})},Fo=function(w){return fe.from(w.dom.parentNode).map(Zn.fromDom)},ks=function(w){return Fe(w.dom.childNodes,Zn.fromDom)},yo=function(w,O){var M=w.dom.childNodes;return fe.from(M[O]).map(Zn.fromDom)},ii=function(w){return yo(w,0)},Eu=function(w){return yo(w,w.dom.childNodes.length-1)},Tu=function(w,O){var M=Fo(w);M.each(function(V){V.dom.insertBefore(O.dom,w.dom)})},ro=function(w,O){w.dom.appendChild(O.dom)},Ko=function(w,O){ut(O,function(M){Tu(w,M)})},tu=function(w,O){ut(O,function(M){ro(w,M)})},Li=function(w){var O=w.dom;O.parentNode!==null&&O.parentNode.removeChild(O)},As=function(w,O){return Zn.fromDom(w.dom.cloneNode(O))},Ju=function(w){return As(w,!0)},ki=function(w,O){var M=Zn.fromTag(O),V=bo(w);return na(M,V),M},Qu=function(w,O){var M=ki(w,O);Tu(w,M);var V=ks(w);return tu(M,V),Li(w),M},Ai=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ra=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ou=function(w){return function(O){return O&&O.nodeName.toLowerCase()===w}},nu=function(w){return function(O){return O&&w.test(O.nodeName)}},Io=function(w){return w&&w.nodeType===3},Ra=nu(/^(OL|UL|DL)$/),es=nu(/^(OL|UL)$/),ru=Ou("ol"),au=nu(/^(LI|DT|DD)$/),ts=nu(/^(DT|DD)$/),Du=nu(/^(TH|TD)$/),Ei=Ou("br"),Es=function(w){return w.parentNode.firstChild===w},ns=function(w,O){return O&&!!w.schema.getTextBlockElements()[O.nodeName]},rs=function(w,O){return w&&w.nodeName in O},P=function(w,O){return Ei(O)?w.isBlock(O.nextSibling)&&!Ei(O.previousSibling):!1},Z=function(w,O,M){var V=w.isEmpty(O);return M&&w.select("span[data-mce-type=bookmark]",O).length>0?!1:V},ue=function(w,O){return w.isChildOf(O,w.getRoot())},ke=function(w){return w.getParam("lists_indent_on_tab",!0)},He=function(w){var O=w.getParam("forced_root_block","p");return O===!1?"":O===!0?"p":O},Dt=function(w){return w.getParam("forced_root_block_attrs",{})},tr=function(w,O){var M=w.dom,V=w.schema.getBlockElements(),oe=M.createFragment(),we=He(w),zt,vn,Jn;if(we&&(vn=M.create(we),vn.tagName===we.toUpperCase()&&M.setAttribs(vn,Dt(w)),rs(O.firstChild,V)||oe.appendChild(vn)),O)for(;zt=O.firstChild;){var Pn=zt.nodeName;!Jn&&(Pn!=="SPAN"||zt.getAttribute("data-mce-type")!=="bookmark")&&(Jn=!0),rs(zt,V)?(oe.appendChild(zt),vn=null):we?(vn||(vn=M.create(we),oe.appendChild(vn)),vn.appendChild(zt)):oe.appendChild(zt)}return we?Jn||vn.appendChild(M.create("br",{"data-mce-bogus":"1"})):oe.appendChild(M.create("br")),oe},dr=Ai.DOM,xn=function(w,O,M){var V=function(Pn){ra.each(oe,function(Ir){Pn.parentNode.insertBefore(Ir,M.parentNode)}),dr.remove(Pn)},oe=dr.select('span[data-mce-type="bookmark"]',O),we=tr(w,M),zt=dr.createRng();zt.setStartAfter(M),zt.setEndAfter(O);for(var vn=zt.extractContents(),Jn=vn.firstChild;Jn;Jn=Jn.firstChild)if(Jn.nodeName==="LI"&&w.dom.isEmpty(Jn)){dr.remove(Jn);break}w.dom.isEmpty(vn)||dr.insertAfter(vn,O),dr.insertAfter(we,O),Z(w.dom,M.parentNode)&&V(M.parentNode),dr.remove(M),Z(w.dom,O)&&dr.remove(O)},Er=oc("dd"),Wr=oc("dt"),$i=function(w,O){Er(O)?Qu(O,"dt"):Wr(O)&&Fo(O).each(function(M){return xn(w,M.dom,O.dom)})},ic=function(w){Wr(w)&&Qu(w,"dd")},uc=function(w,O,M){O==="Indent"?ut(M,ic):ut(M,function(V){return $i(w,V)})},Lt=function(w,O){if(Io(w))return{container:w,offset:O};var M=Ni.getNode(w,O);return Io(M)?{container:M,offset:O>=w.childNodes.length?M.data.length:0}:M.previousSibling&&Io(M.previousSibling)?{container:M.previousSibling,offset:M.previousSibling.data.length}:M.nextSibling&&Io(M.nextSibling)?{container:M.nextSibling,offset:0}:{container:w,offset:O}},Ts=function(w){var O=w.cloneRange(),M=Lt(w.startContainer,w.startOffset);O.setStart(M.container,M.offset);var V=Lt(w.endContainer,w.endOffset);return O.setEnd(V.container,V.offset),O},qc=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Hi=function(w,O){var M=O||w.selection.getStart(!0);return w.dom.getParent(M,"OL,UL,DL",Ti(w,M))},Dl=function(w,O){return w&&O.length===1&&O[0]===w},Cf=function(w){return Ve(w.querySelectorAll("ol,ul,dl"),Ra)},_l=function(w){var O=Hi(w),M=w.selection.getSelectedBlocks();return Dl(O,M)?Cf(O):Ve(M,function(V){return Ra(V)&&O!==V})},jr=function(w,O){var M=ra.map(O,function(V){var oe=w.dom.getParent(V,"li,dd,dt",Ti(w,V));return oe||V});return qc.unique(M)},Os=function(w){var O=w.selection.getSelectedBlocks();return Ve(jr(w,O),au)},xf=function(w){return Ve(Os(w),ts)},Ti=function(w,O){var M=w.dom.getParents(O,"TD,TH");return M.length>0?M[0]:w.getBody()},ao=function(w,O){var M=w.dom.getParents(O,"ol,ul",Ti(w,O));return je(M)},sc=function(w){var O=ao(w,w.selection.getStart()),M=Ve(w.selection.getSelectedBlocks(),es);return O.toArray().concat(M)},Ce=function(w){var O=sc(w);return Ds(w,O)},Ds=function(w,O){var M=Fe(O,function(V){return ao(w,V).getOr(V)});return qc.unique(M)},La=function(w,O,M){return M===void 0&&(M=Vr),w.exists(function(V){return M(V,O)})},Bl=function(w,O,M){return w.isSome()&&O.isSome()?fe.some(M(w.getOrDie(),O.getOrDie())):fe.none()},_u=function(w,O){var M=O||document,V=M.createDocumentFragment();return ut(w,function(oe){V.appendChild(oe.dom)}),Zn.fromDom(V)},k=function(w,O,M){return w.fire("ListMutation",{action:O,element:M})},E=function(w){return w.style!==void 0&&Yn(w.style.getPropertyValue)},b=function(w,O,M){if(!Nt(M))throw console.error("Invalid call to CSS.set. Property ",O,":: Value ",M,":: Element ",w),new Error("CSS value must be a string: "+M);E(w)&&w.style.setProperty(O,M)},_=function(w,O,M){var V=w.dom;b(V,O,M)},j=function(w,O){ro(w.item,O.list)},J=function(w){for(var O=1;O<w.length;O++)j(w[O-1],w[O])},ge=function(w,O){Bl(je(w),x(O),j)},Ue=function(w,O){var M={list:Zn.fromTag(O,w),item:Zn.fromTag("li",w)};return ro(M.list,M.item),M},en=function(w,O,M){for(var V=[],oe=0;oe<M;oe++)V.push(Ue(w,O.listType));return V},on=function(w,O){for(var M=0;M<w.length-1;M++)_(w[M].item,"list-style-type","none");je(w).each(function(V){na(V.list,O.listAttributes),na(V.item,O.itemAttributes),tu(V.item,O.content)})},ct=function(w,O){Yu(w.list)!==O.listType&&(w.list=Qu(w.list,O.listType)),na(w.list,O.listAttributes)},Wt=function(w,O,M){var V=Zn.fromTag("li",w);return na(V,O),tu(V,M),V},kn=function(w,O){ro(w.list,O),w.item=O},Kn=function(w,O,M){var V=O.slice(0,M.depth);return je(V).each(function(oe){var we=Wt(w,M.itemAttributes,M.content);kn(oe,we),ct(oe,M)}),V},tn=function(w,O,M){var V=en(w,M,M.depth-O.length);return J(V),on(V,M),ge(O,V),O.concat(V)},qr=function(w,O){var M=K(O,function(V,oe){return oe.depth>V.length?tn(w,V,oe):Kn(w,V,oe)},[]);return x(M).map(function(V){return V.list})},Zt=function(w){return Ro(w,"OL,UL")},pr=function(w){return ii(w).exists(Zt)},Pr=function(w){return Eu(w).exists(Zt)},ou=function(w){return w.depth>0},Tn=function(w){return w.isSelected},Rv=function(w){var O=ks(w),M=Pr(w)?O.slice(0,-1):O;return Fe(M,Ju)},Yr=function(w,O,M){return Fo(w).filter(Po).map(function(V){return{depth:O,dirty:!1,isSelected:M,content:Rv(w),itemAttributes:bo(w),listAttributes:bo(V),listType:Yu(V)}})},Sa=function(w,O){switch(w){case"Indent":O.depth++;break;case"Outdent":O.depth--;break;case"Flatten":O.depth=0}O.dirty=!0},ph=function(w,O){w.listType=O.listType,w.listAttributes=Ht({},O.listAttributes)},oo=function(w){w.listAttributes=Ss(w.listAttributes,function(O,M){return M!=="start"})},dm=function(w,O){var M=w[O].depth,V=function(we){return we.depth===M&&!we.dirty},oe=function(we){return we.depth<M};return Ge(Wa(w.slice(0,O)),V,oe).orThunk(function(){return Ge(w.slice(O+1),V,oe)})},Pv=function(w){return ut(w,function(O,M){dm(w,M).fold(function(){O.dirty&&oo(O)},function(V){return ph(O,V)})}),w},ln=function(w){var O=w,M=function(){return O},V=function(oe){O=oe};return{get:M,set:V}},_s=function(w,O,M,V){return ii(V).filter(Zt).fold(function(){O.each(function(zt){Vt(zt.start,V)&&M.set(!0)});var oe=Yr(V,w,M.get());O.each(function(zt){Vt(zt.end,V)&&M.set(!1)});var we=Eu(V).filter(Zt).map(function(zt){return cc(w,O,M,zt)}).getOr([]);return oe.toArray().concat(we)},function(oe){return cc(w,O,M,oe)})},cc=function(w,O,M,V){return nt(ks(V),function(oe){var we=Zt(oe)?cc:_s,zt=w+1;return we(zt,O,M,oe)})},ba=function(w,O){var M=ln(!1),V=0;return Fe(w,function(oe){return{sourceList:oe,entries:cc(V,O,M,oe)}})},bh=function(w,O){var M=Pv(O);return Fe(M,function(V){var oe=_u(V.content);return Zn.fromDom(tr(w,oe.dom))})},io=function(w,O){var M=Pv(O);return qr(w.contentDocument,M).toArray()},Gc=function(w,O){return nt(lr(O,ou),function(M){var V=x(M).exists(ou);return V?io(w,M):bh(w,M)})},zl=function(w,O){ut(Ve(w,Tn),function(M){return Sa(O,M)})},xr=function(w){var O=Fe(Os(w),Zn.fromDom);return Bl(Rt(O,Xr(pr)),Rt(Wa(O),Xr(pr)),function(M,V){return{start:M,end:V}})},Kc=function(w,O,M){var V=ba(O,xr(w));ut(V,function(oe){zl(oe.entries,M);var we=Gc(w,oe.entries);ut(we,function(zt){k(w,M==="Indent"?"IndentList":"OutdentList",zt.dom)}),Ko(oe.sourceList,we),Li(oe.sourceList)})},ui=function(w,O){var M=Fe(Ce(w),Zn.fromDom),V=Fe(xf(w),Zn.fromDom),oe=!1;if(M.length||V.length){var we=w.selection.getBookmark();Kc(w,M,O),uc(w,O,V),w.selection.moveToBookmark(we),w.selection.setRng(Ts(w.selection.getRng())),w.nodeChanged(),oe=!0}return oe},Xc=function(w){return ui(w,"Indent")},$a=function(w){return ui(w,"Outdent")},iu=function(w){return ui(w,"Flatten")},yh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Yc=Ai.DOM,Br=function(w){var O={},M=function(V){var oe=w[V?"startContainer":"endContainer"],we=w[V?"startOffset":"endOffset"];if(oe.nodeType===1){var zt=Yc.create("span",{"data-mce-type":"bookmark"});oe.hasChildNodes()?(we=Math.min(we,oe.childNodes.length-1),V?oe.insertBefore(zt,oe.childNodes[we]):Yc.insertAfter(zt,oe.childNodes[we])):oe.appendChild(zt),oe=zt,we=0}O[V?"startContainer":"endContainer"]=oe,O[V?"startOffset":"endOffset"]=we};return M(!0),w.collapsed||M(),O},Ml=function(w){var O=function(V){var oe,we=function(Jn){for(var Pn=Jn.parentNode.firstChild,Ir=0;Pn;){if(Pn===Jn)return Ir;(Pn.nodeType!==1||Pn.getAttribute("data-mce-type")!=="bookmark")&&Ir++,Pn=Pn.nextSibling}return-1},zt=oe=w[V?"startContainer":"endContainer"],vn=w[V?"startOffset":"endOffset"];!zt||(zt.nodeType===1&&(vn=we(zt),zt=zt.parentNode,Yc.remove(oe),!zt.hasChildNodes()&&Yc.isBlock(zt)&&zt.appendChild(Yc.create("br"))),w[V?"startContainer":"endContainer"]=zt,w[V?"startOffset":"endOffset"]=vn)};O(!0),O();var M=Yc.createRng();return M.setStart(w.startContainer,w.startOffset),w.endContainer&&M.setEnd(w.endContainer,w.endOffset),Ts(M)},Zc=function(w){switch(w){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},si=function(w){return/\btox\-/.test(w.className)},Jc=function(w,O,M){var V=function(we){var zt=Ge(we.parents,Ra,Du).filter(function(vn){return vn.nodeName===O&&!si(vn)}).isSome();M(zt)},oe=w.dom.getParents(w.selection.getNode());return V({parents:oe}),w.on("NodeChange",V),function(){return w.off("NodeChange",V)}},Fv=function(w,O,M){var V=M["list-style-type"]?M["list-style-type"]:null;w.setStyle(O,"list-style-type",V)},wh=function(w,O){ra.each(O,function(M,V){w.setAttribute(V,M)})},Xo=function(w,O,M){wh(O,M["list-attributes"]),ra.each(w.select("li",O),function(V){wh(V,M["list-item-attributes"])})},lc=function(w,O,M){Fv(w,O,M),Xo(w,O,M)},Bu=function(w,O,M){ra.each(M,function(V){var oe;return w.setStyle(O,(oe={},oe[V]="",oe))})},Rl=function(w,O,M,V){var oe=O[M?"startContainer":"endContainer"],we=O[M?"startOffset":"endOffset"];for(oe.nodeType===1&&(oe=oe.childNodes[Math.min(we,oe.childNodes.length-1)]||oe),!M&&Ei(oe.nextSibling)&&(oe=oe.nextSibling);oe.parentNode!==V;){if(ns(w,oe)||/^(TD|TH)$/.test(oe.parentNode.nodeName))return oe;oe=oe.parentNode}return oe},mm=function(w,O,M){for(var V=[],oe=w.dom,we=Rl(w,O,!0,M),zt=Rl(w,O,!1,M),vn,Jn=[],Pn=we;Pn&&(Jn.push(Pn),Pn!==zt);Pn=Pn.nextSibling);return ra.each(Jn,function(Ir){if(ns(w,Ir)){V.push(Ir),vn=null;return}if(oe.isBlock(Ir)||Ei(Ir)){Ei(Ir)&&oe.remove(Ir),vn=null;return}var Zo=Ir.nextSibling;if(yh.isBookmarkNode(Ir)&&(Ra(Zo)||ns(w,Zo)||!Zo&&Ir.parentNode===M)){vn=null;return}vn||(vn=oe.create("p"),Ir.parentNode.insertBefore(vn,Ir),V.push(vn)),vn.appendChild(Ir)}),V},wo=function(w,O,M){var V=w.getStyle(O,"list-style-type"),oe=M?M["list-style-type"]:"";return oe=oe===null?"":oe,V===oe},Iv=function(w,O,M){var V=w.selection.getRng(),oe="LI",we=Ti(w,w.selection.getStart(!0)),zt=w.dom;if(zt.getContentEditable(w.selection.getNode())!=="false"){O=O.toUpperCase(),O==="DL"&&(oe="DT");var vn=Br(V),Jn=mm(w,V,we);ra.each(Jn,function(Pn){var Ir,Zo=Pn.previousSibling,xh=Pn.parentNode;au(xh)||(Zo&&Ra(Zo)&&Zo.nodeName===O&&wo(zt,Zo,M)?(Ir=Zo,Pn=zt.rename(Pn,oe),Zo.appendChild(Pn)):(Ir=zt.create(O),Pn.parentNode.insertBefore(Ir,Pn),Ir.appendChild(Pn),Pn=zt.rename(Pn,oe)),Bu(zt,Pn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),lc(zt,Ir,M),Lv(w.dom,Ir))}),w.selection.setRng(Ml(vn))}},xb=function(w,O){return w&&O&&Ra(w)&&w.nodeName===O.nodeName},Nv=function(w,O,M){var V=w.getStyle(O,"list-style-type",!0),oe=w.getStyle(M,"list-style-type",!0);return V===oe},gm=function(w,O){return w.className===O.className},ka=function(w,O,M){return xb(O,M)&&Nv(w,O,M)&&gm(O,M)},Lv=function(w,O){var M,V;if(M=O.nextSibling,ka(w,O,M)){for(;V=M.firstChild;)O.appendChild(V);w.remove(M)}if(M=O.previousSibling,ka(w,O,M)){for(;V=M.lastChild;)O.insertBefore(V,O.firstChild);w.remove(M)}},Sf=function(w,O,M,V){if(O.nodeName!==M){var oe=w.dom.rename(O,M);lc(w.dom,oe,V),k(w,Zc(M),oe)}else lc(w.dom,O,V),k(w,Zc(M),O)},No=function(w,O,M,V,oe){var we=Ra(O);if(we&&O.nodeName===V&&!Qc(oe))iu(w);else{Iv(w,V,oe);var zt=Br(w.selection.getRng()),vn=we?Nn([O],M,!0):M;ra.each(vn,function(Jn){Sf(w,Jn,V,oe)}),w.selection.setRng(Ml(zt))}},Qc=function(w){return"list-style-type"in w},Sb=function(w,O,M,V){if(O!==w.getBody())if(O)if(O.nodeName===M&&!Qc(V)&&!si(O))iu(w);else{var oe=Br(w.selection.getRng());lc(w.dom,O,V);var we=w.dom.rename(O,M);Lv(w.dom,we),w.selection.setRng(Ml(oe)),Iv(w,M,V),k(w,Zc(M),we)}else Iv(w,M,V),k(w,Zc(M),O)},el=function(w,O,M){var V=Hi(w),oe=_l(w),we=Dn(M)?M:{};oe.length>0?No(w,V,oe,O,we):Sb(w,V,O,we)},$v=Ai.DOM,uu=function(w,O){var M=O.parentNode;if(M.nodeName==="LI"&&M.firstChild===O){var V=M.previousSibling;V&&V.nodeName==="LI"?(V.appendChild(O),Z(w,M)&&$v.remove(M)):$v.setStyle(M,"listStyleType","none")}if(Ra(M)){var V=M.previousSibling;V&&V.nodeName==="LI"&&V.appendChild(O)}},hm=function(w,O){var M=ra.grep(w.select("ol,ul",O));ra.each(M,function(V){uu(w,V)})},su=function(w,O,M,V){var oe=O.startContainer,we=O.startOffset;if(Io(oe)&&(M?we<oe.data.length:we>0))return oe;var zt=w.schema.getNonEmptyElements();oe.nodeType===1&&(oe=Ni.getNode(oe,we));var vn=new rc(oe,V);for(M&&P(w.dom,oe)&&vn.next();oe=vn[M?"next":"prev2"]();)if(oe.nodeName==="LI"&&!oe.hasChildNodes()||zt[oe.nodeName]||Io(oe)&&oe.data.length>0)return oe},Hv=function(w,O){var M=O.childNodes;return M.length===1&&!Ra(M[0])&&w.isBlock(M[0])},kb=function(w,O){Hv(w,O)&&w.remove(O.firstChild,!0)},pm=function(w,O,M){var V,oe=Hv(w,M)?M.firstChild:M;if(kb(w,O),!Z(w,O,!0))for(;V=O.firstChild;)oe.appendChild(V)},kf=function(w,O,M){var V,oe=O.parentNode;if(!(!ue(w,O)||!ue(w,M))){Ra(M.lastChild)&&(V=M.lastChild),oe===M.lastChild&&Ei(oe.previousSibling)&&w.remove(oe.previousSibling);var we=M.lastChild;we&&Ei(we)&&O.hasChildNodes()&&w.remove(we),Z(w,M,!0)&&w.$(M).empty(),pm(w,O,M),V&&M.appendChild(V);var zt=eu(Zn.fromDom(M),Zn.fromDom(O)),vn=zt?w.getParents(O,Ra,M):[];w.remove(O),ut(vn,function(Jn){Z(w,Jn)&&Jn!==w.getRoot()&&w.remove(Jn)})}},Pl=function(w,O,M){w.dom.$(M).empty(),kf(w.dom,O,M),w.selection.setCursorLocation(M,0)},Vv=function(w,O,M,V){var oe=w.dom;if(oe.isEmpty(V))Pl(w,M,V);else{var we=Br(O);kf(oe,M,V),w.selection.setRng(Ml(we))}},fn=function(w,O,M,V){var oe=Br(O);kf(w.dom,M,V);var we=Ml(oe);w.selection.setRng(we)},cu=function(w,O){var M=w.dom,V=w.selection,oe=V.getStart(),we=Ti(w,oe),zt=M.getParent(V.getStart(),"LI",we);if(zt){var vn=zt.parentNode;if(vn===w.getBody()&&Z(M,vn))return!0;var Jn=Ts(V.getRng()),Pn=M.getParent(su(w,Jn,O,we),"LI",we);if(Pn&&Pn!==zt)return w.undoManager.transact(function(){O?Vv(w,Jn,Pn,zt):Es(zt)?$a(w):fn(w,Jn,zt,Pn)}),!0;if(!Pn&&!O&&Jn.startOffset===0&&Jn.endOffset===0)return w.undoManager.transact(function(){iu(w)}),!0}return!1},Uv=function(w,O,M){var V=w.getParent(O.parentNode,w.isBlock,M);w.remove(O),V&&w.isEmpty(V)&&w.remove(V)},Wv=function(w,O){var M=w.dom,V=w.selection.getStart(),oe=Ti(w,V),we=M.getParent(V,M.isBlock,oe);if(we&&M.isEmpty(we)){var zt=Ts(w.selection.getRng()),vn=M.getParent(su(w,zt,O,oe),"LI",oe);if(vn)return w.undoManager.transact(function(){Uv(M,we,oe),Lv(M,vn.parentNode),w.selection.select(vn,!0),w.selection.collapse(O)}),!0}return!1},Ab=function(w,O){return cu(w,O)||Wv(w,O)},tl=function(w){var O=w.selection.getStart(),M=Ti(w,O),V=w.dom.getParent(O,"LI,DT,DD",M);return V||Os(w).length>0?(w.undoManager.transact(function(){w.execCommand("Delete"),hm(w.dom,w.getBody())}),!0):!1},Xa=function(w,O){return w.selection.isCollapsed()?Ab(w,O):tl(w)},Ya=function(w){w.on("keydown",function(O){O.keyCode===Si.BACKSPACE?Xa(w,!1)&&O.preventDefault():O.keyCode===Si.DELETE&&Xa(w,!0)&&O.preventDefault()})},fc=function(w){return{backspaceDelete:function(O){Xa(w,O)}}},lu=function(w,O){var M=Hi(w);w.undoManager.transact(function(){Dn(O.styles)&&w.dom.setStyles(M,O.styles),Dn(O.attrs)&&no(O.attrs,function(V,oe){return w.dom.setAttrib(M,oe,V)})})},Ct=function(w){var O=Wa(Ln(w).split("")),M=Fe(O,function(V,oe){var we=V.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,oe)*we});return K(M,function(V,oe){return V+oe},0)},nl=function(w){if(w--,w<0)return"";var O=w%26,M=Math.floor(w/26),V=nl(M),oe=String.fromCharCode("A".charCodeAt(0)+O);return V+oe},bm=function(w){return/^[A-Z]+$/.test(w)},An=function(w){return/^[a-z]+$/.test(w)},Sr=function(w){return/^[0-9]+$/.test(w)},ym=function(w){return Sr(w)?2:bm(w)?0:An(w)?1:er(w)?3:4},as=function(w){switch(ym(w)){case 2:return fe.some({listStyleType:fe.none(),start:w});case 0:return fe.some({listStyleType:fe.some("upper-alpha"),start:Ct(w).toString()});case 1:return fe.some({listStyleType:fe.some("lower-alpha"),start:Ct(w).toString()});case 3:return fe.some({listStyleType:fe.none(),start:""});case 4:return fe.none()}},Gr=function(w){var O=parseInt(w.start,10);return La(w.listStyleType,"upper-alpha")?nl(O):La(w.listStyleType,"lower-alpha")?nl(O).toLowerCase():w.start},jv=function(w){var O=Hi(w);!ru(O)||w.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Gr({start:w.dom.getAttrib(O,"start","1"),listStyleType:fe.some(w.dom.getStyle(O,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(M){var V=M.getData();as(V.start).each(function(oe){w.execCommand("mceListUpdate",!1,{attrs:{start:oe.start==="1"?"":oe.start},styles:{"list-style-type":oe.listStyleType.getOr("")}})}),M.close()}})},Oi=function(w,O){return function(){var M=Hi(w);return M&&M.nodeName===O}},Af=function(w){w.addCommand("mceListProps",function(){jv(w)})},Ch=function(w){w.on("BeforeExecCommand",function(O){var M=O.command.toLowerCase();M==="indent"?Xc(w):M==="outdent"&&$a(w)}),w.addCommand("InsertUnorderedList",function(O,M){el(w,"UL",M)}),w.addCommand("InsertOrderedList",function(O,M){el(w,"OL",M)}),w.addCommand("InsertDefinitionList",function(O,M){el(w,"DL",M)}),w.addCommand("RemoveList",function(){iu(w)}),Af(w),w.addCommand("mceListUpdate",function(O,M){Dn(M)&&lu(w,M)}),w.addQueryStateHandler("InsertUnorderedList",Oi(w,"UL")),w.addQueryStateHandler("InsertOrderedList",Oi(w,"OL")),w.addQueryStateHandler("InsertDefinitionList",Oi(w,"DL"))},Yo=function(w){w.on("keydown",function(O){O.keyCode!==Si.TAB||Si.metaKeyPressed(O)||w.undoManager.transact(function(){(O.shiftKey?$a(w):Xc(w))&&O.preventDefault()})})},Eb=function(w){ke(w)&&Yo(w),Ya(w)},Tb=function(w){var O=function(M){return function(){return w.execCommand(M)}};w.hasPlugin("advlist")||(w.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:O("InsertOrderedList"),onSetup:function(M){return Jc(w,"OL",M.setActive)}}),w.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:O("InsertUnorderedList"),onSetup:function(M){return Jc(w,"UL",M.setActive)}}))},Zr=function(w){var O={text:"List properties...",icon:"ordered-list",onAction:function(){return w.execCommand("mceListProps")},onSetup:function(M){return Jc(w,"OL",function(V){return M.setDisabled(!V)})}};w.ui.registry.addMenuItem("listprops",O),w.ui.registry.addContextMenu("lists",{update:function(M){var V=Hi(w,M);return ru(V)?["listprops"]:[]}})};function wm(){We.add("lists",function(w){return w.hasPlugin("rtc",!0)===!1?(Eb(w),Ch(w)):Af(w),Tb(w),Zr(w),fc(w)})}wm()})();(function(){var We=tinymce.util.Tools.resolve("tinymce.PluginManager"),Tt=function(){return Tt=Object.assign||function(E){for(var b,_=1,j=arguments.length;_<j;_++){b=arguments[_];for(var J in b)Object.prototype.hasOwnProperty.call(b,J)&&(E[J]=b[J])}return E},Tt.apply(this,arguments)},At=function(k){var E=typeof k;return k===null?"null":E==="object"&&(Array.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="Array")?"array":E==="object"&&(String.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="String")?"string":E},Rn=function(k){return function(E){return At(E)===k}},Nt=function(k){return function(E){return typeof E===k}},Dn=function(k){return function(E){return k===E}},pn=Rn("string"),cr=Rn("object"),Yn=Rn("array"),nr=Dn(null),Kr=Nt("boolean"),Jt=function(k){return k==null},Wn=function(k){return!Jt(k)},Vr=Nt("function"),Xr=Nt("number"),Pe=function(){},bn=function(k){return function(){return k}},Cn=function(k){return k},$t=bn(!1),X=bn(!0),Mt=function(){return fe},fe=function(){var k=function(_){return _()},E=Cn,b={fold:function(_,j){return _()},isSome:$t,isNone:X,getOr:E,getOrThunk:k,getOrDie:function(_){throw new Error(_||"error: getOrDie called on none.")},getOrNull:bn(null),getOrUndefined:bn(void 0),or:E,orThunk:k,map:Mt,each:Pe,bind:Mt,exists:$t,forall:X,filter:function(){return Mt()},toArray:function(){return[]},toString:bn("none()")};return b}(),rn=function(k){var E=bn(k),b=function(){return j},_=function(J){return J(k)},j={fold:function(J,ge){return ge(k)},isSome:X,isNone:$t,getOr:E,getOrThunk:E,getOrDie:E,getOrNull:E,getOrUndefined:E,or:b,orThunk:b,map:function(J){return rn(J(k))},each:function(J){J(k)},bind:_,exists:_,forall:_,filter:function(J){return J(k)?j:fe},toArray:function(){return[k]},toString:function(){return"some("+k+")"}};return j},an=function(k){return k==null?fe:rn(k)},Fe={some:rn,none:Mt,from:an},ut=Object.keys,Ve=Object.hasOwnProperty,lr=function(k,E){for(var b=ut(k),_=0,j=b.length;_<j;_++){var J=b[_],ge=k[J];E(ge,J)}},K=function(k){return function(E,b){k[b]=E}},Ge=function(k,E,b,_){var j={};return lr(k,function(J,ge){(E(J,ge)?b:_)(J,ge)}),j},Rt=function(k,E){var b={};return Ge(k,E,K(b),Pe),b},ta=function(k,E){return Ve.call(k,E)},nt=function(k,E){return ta(k,E)&&k[E]!==void 0&&k[E]!==null},Wa=Array.prototype.push,Ba=function(k){for(var E=[],b=0,_=k.length;b<_;++b){if(!Yn(k[b]))throw new Error("Arr.flatten item "+b+" was not an array, input: "+k);Wa.apply(E,k[b])}return E},x=function(k,E){return E>=0&&E<k.length?Fe.some(k[E]):Fe.none()},je=function(k){return x(k,0)},yt=function(k,E){for(var b=0;b<k.length;b++){var _=E(k[b],b);if(_.isSome())return _}return Fe.none()};typeof window!="undefined"||Function("return this;")();var Ht=function(k,E,b){if(pn(b)||Kr(b)||Xr(b))k.setAttribute(E,b+"");else throw console.error("Invalid call to Attribute.set. Key ",E,":: Value ",b,":: Element ",k),new Error("Attribute value was not simple")},Nn=function(k,E,b){Ht(k.dom,E,b)},ar=function(k,E){k.dom.removeAttribute(E)},_n=function(k,E){var b=E||document,_=b.createElement("div");if(_.innerHTML=k,!_.hasChildNodes()||_.childNodes.length>1)throw console.error("HTML does not have a single root node",k),new Error("HTML must have a single root node");return Bo(_.childNodes[0])},Cr=function(k,E){var b=E||document,_=b.createElement(k);return Bo(_)},U=function(k,E){var b=E||document,_=b.createTextNode(k);return Bo(_)},Bo=function(k){if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},Ke=function(k,E,b){return Fe.from(k.dom.elementFromPoint(E,b)).map(Bo)},be={fromHtml:_n,fromTag:Cr,fromText:U,fromDom:Bo,fromPoint:Ke},sn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Bt=tinymce.util.Tools.resolve("tinymce.util.Promise"),dt=tinymce.util.Tools.resolve("tinymce.util.URI"),yn=tinymce.util.Tools.resolve("tinymce.util.XHR"),Yt=function(k){return k.getParam("image_dimensions",!0,"boolean")},Ne=function(k){return k.getParam("image_advtab",!1,"boolean")},at=function(k){return k.getParam("image_uploadtab",!0,"boolean")},Ln=function(k){return k.getParam("image_prepend_url","","string")},bt=function(k){return k.getParam("image_class_list")},er=function(k){return k.getParam("image_description",!0,"boolean")},yr=function(k){return k.getParam("image_title",!1,"boolean")},ur=function(k){return k.getParam("image_caption",!1,"boolean")},hr=function(k){return k.getParam("image_list",!1)},va=function(k){return Wn(k.getParam("images_upload_url"))},pa=function(k){return Wn(k.getParam("images_upload_handler"))},za=function(k){return k.getParam("a11y_advanced_options",!1,"boolean")},Ma=function(k){return k.getParam("automatic_uploads",!0,"boolean")},Xe=function(k,E){return Math.max(parseInt(k,10),parseInt(E,10))},et=function(k){return new Bt(function(E){var b=document.createElement("img"),_=function(J){b.onload=b.onerror=null,b.parentNode&&b.parentNode.removeChild(b),E(J)};b.onload=function(){var J=Xe(b.width,b.clientWidth),ge=Xe(b.height,b.clientHeight),Ue={width:J,height:ge};_(Bt.resolve(Ue))},b.onerror=function(){_(Bt.reject("Failed to get image dimensions for: "+k))};var j=b.style;j.visibility="hidden",j.position="fixed",j.bottom=j.left="0px",j.width=j.height="auto",document.body.appendChild(b),b.src=k})},lt=function(k){return k&&(k=k.replace(/px$/,"")),k},gt=function(k){return k.length>0&&/^[0-9]+$/.test(k)&&(k+="px"),k},st=function(k){if(k.margin){var E=String(k.margin).split(" ");switch(E.length){case 1:k["margin-top"]=k["margin-top"]||E[0],k["margin-right"]=k["margin-right"]||E[0],k["margin-bottom"]=k["margin-bottom"]||E[0],k["margin-left"]=k["margin-left"]||E[0];break;case 2:k["margin-top"]=k["margin-top"]||E[0],k["margin-right"]=k["margin-right"]||E[1],k["margin-bottom"]=k["margin-bottom"]||E[0],k["margin-left"]=k["margin-left"]||E[1];break;case 3:k["margin-top"]=k["margin-top"]||E[0],k["margin-right"]=k["margin-right"]||E[1],k["margin-bottom"]=k["margin-bottom"]||E[2],k["margin-left"]=k["margin-left"]||E[1];break;case 4:k["margin-top"]=k["margin-top"]||E[0],k["margin-right"]=k["margin-right"]||E[1],k["margin-bottom"]=k["margin-bottom"]||E[2],k["margin-left"]=k["margin-left"]||E[3]}delete k.margin}return k},Ut=function(k,E){var b=hr(k);pn(b)?yn.send({url:b,success:function(_){E(JSON.parse(_))}}):Vr(b)?b(E):E(b)},cn=function(k,E,b){var _=function(){b.onload=b.onerror=null,k.selection&&(k.selection.select(b),k.nodeChanged())};b.onload=function(){!E.width&&!E.height&&Yt(k)&&k.dom.setAttribs(b,{width:String(b.clientWidth),height:String(b.clientHeight)}),_()},b.onerror=_},kt=function(k){return new Bt(function(E,b){var _=new FileReader;_.onload=function(){E(_.result)},_.onerror=function(){b(_.error.message)},_.readAsDataURL(k)})},fr=function(k){return k.nodeName==="IMG"&&(k.hasAttribute("data-mce-object")||k.hasAttribute("data-mce-placeholder"))},wr=function(k,E){return dt.isDomSafe(E,"img",k.settings)},Ar=sn.DOM,or=function(k){return k.style.marginLeft&&k.style.marginRight&&k.style.marginLeft===k.style.marginRight?lt(k.style.marginLeft):""},ja=function(k){return k.style.marginTop&&k.style.marginBottom&&k.style.marginTop===k.style.marginBottom?lt(k.style.marginTop):""},go=function(k){return k.style.borderWidth?lt(k.style.borderWidth):""},xa=function(k,E){return k.hasAttribute(E)?k.getAttribute(E):""},Ot=function(k,E){return k.style[E]?k.style[E]:""},mn=function(k){return k.parentNode!==null&&k.parentNode.nodeName==="FIGURE"},Bn=function(k,E,b){b===""?k.removeAttribute(E):k.setAttribute(E,b)},Rr=function(k){var E=Ar.create("figure",{class:"image"});Ar.insertAfter(E,k),E.appendChild(k),E.appendChild(Ar.create("figcaption",{contentEditable:"true"},"Caption")),E.contentEditable="false"},ho=function(k){var E=k.parentNode;Ar.insertAfter(k,E),Ar.remove(E)},$n=function(k){mn(k)?ho(k):Rr(k)},Sn=function(k,E){var b=k.getAttribute("style"),_=E(b!==null?b:"");_.length>0?(k.setAttribute("style",_),k.setAttribute("data-mce-style",_)):k.removeAttribute("style")},Ur=function(k,E){return function(b,_,j){b.style[_]?(b.style[_]=gt(j),Sn(b,E)):Bn(b,_,j)}},qo=function(k,E){return k.style[E]?lt(k.style[E]):xa(k,E)},zo=function(k,E){var b=gt(E);k.style.marginLeft=b,k.style.marginRight=b},qa=function(k,E){var b=gt(E);k.style.marginTop=b,k.style.marginBottom=b},Ga=function(k,E){var b=gt(E);k.style.borderWidth=b},Fi=function(k,E){k.style.borderStyle=E},po=function(k){return Ot(k,"borderStyle")},Ka=function(k){return k.nodeName==="FIGURE"},Ii=function(k){return k.nodeName==="IMG"},Zn=function(k){return Ar.getAttrib(k,"alt").length===0&&Ar.getAttrib(k,"role")==="presentation"},xi=function(k){return Zn(k)?"":xa(k,"alt")},Vt=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},jc=function(k,E){var b=document.createElement("img");return Bn(b,"style",E.style),(or(b)||E.hspace!=="")&&zo(b,E.hspace),(ja(b)||E.vspace!=="")&&qa(b,E.vspace),(go(b)||E.border!=="")&&Ga(b,E.border),(po(b)||E.borderStyle!=="")&&Fi(b,E.borderStyle),k(b.getAttribute("style"))},Mo=function(k,E){var b=document.createElement("img");if(xs(k,Tt(Tt({},E),{caption:!1}),b),Ni(b,E.alt,E.isDecorative),E.caption){var _=Ar.create("figure",{class:"image"});return _.appendChild(b),_.appendChild(Ar.create("figcaption",{contentEditable:"true"},"Caption")),_.contentEditable="false",_}else return b},eu=function(k,E){return{src:xa(E,"src"),alt:xi(E),title:xa(E,"title"),width:qo(E,"width"),height:qo(E,"height"),class:xa(E,"class"),style:k(xa(E,"style")),caption:mn(E),hspace:or(E),vspace:ja(E),border:go(E),borderStyle:Ot(E,"borderStyle"),isDecorative:Zn(E)}},Ro=function(k,E,b,_,j){b[_]!==E[_]&&j(k,_,b[_])},Ni=function(k,E,b){if(b){Ar.setAttrib(k,"role","presentation");var _=be.fromDom(k);Nn(_,"alt","")}else{if(nr(E)){var _=be.fromDom(k);ar(_,"alt")}else{var _=be.fromDom(k);Nn(_,"alt",E)}Ar.getAttrib(k,"role")==="presentation"&&Ar.setAttrib(k,"role","")}},rc=function(k,E,b){(b.alt!==E.alt||b.isDecorative!==E.isDecorative)&&Ni(k,b.alt,b.isDecorative)},Si=function(k,E){return function(b,_,j){k(b,j),Sn(b,E)}},xs=function(k,E,b){var _=eu(k,b);Ro(b,_,E,"caption",function(j,J,ge){return $n(j)}),Ro(b,_,E,"src",Bn),Ro(b,_,E,"title",Bn),Ro(b,_,E,"width",Ur("width",k)),Ro(b,_,E,"height",Ur("height",k)),Ro(b,_,E,"class",Bn),Ro(b,_,E,"style",Si(function(j,J){return Bn(j,"style",J)},k)),Ro(b,_,E,"hspace",Si(zo,k)),Ro(b,_,E,"vspace",Si(qa,k)),Ro(b,_,E,"border",Si(Ga,k)),Ro(b,_,E,"borderStyle",Si(Fi,k)),rc(b,_,E)},no=function(k,E){var b=k.dom.styles.parse(E),_=st(b),j=k.dom.styles.parse(k.dom.styles.serialize(_));return k.dom.styles.serialize(j)},Go=function(k){var E=k.selection.getNode(),b=k.dom.getParent(E,"figure.image");return b?k.dom.select("img",b)[0]:E&&(E.nodeName!=="IMG"||fr(E))?null:E},Ye=function(k,E){var b=k.dom,_=Rt(k.schema.getTextBlockElements(),function(J,ge){return!k.schema.isValidChild(ge,"figure")}),j=b.getParent(E.parentNode,function(J){return nt(_,J.nodeName)},k.getBody());return j?b.split(j,E):E},Ss=function(k){var E=Go(k);return E?eu(function(b){return no(k,b)},E):Vt()},Yu=function(k,E){var b=Mo(function(J){return no(k,J)},E);k.dom.setAttrib(b,"data-mce-id","__mcenew"),k.focus(),k.selection.setContent(b.outerHTML);var _=k.dom.select('*[data-mce-id="__mcenew"]')[0];if(k.dom.setAttrib(_,"data-mce-id",null),Ka(_)){var j=Ye(k,_);k.selection.select(j)}else k.selection.select(_)},Zu=function(k,E){k.dom.setAttrib(E,"src",E.getAttribute("src"))},ac=function(k,E){if(E){var b=k.dom.is(E.parentNode,"figure.image")?E.parentNode:E;k.dom.remove(b),k.focus(),k.nodeChanged(),k.dom.isEmpty(k.getBody())&&(k.setContent(""),k.selection.setCursorLocation())}},Po=function(k,E){var b=Go(k);if(xs(function(j){return no(k,j)},E,b),Zu(k,b),Ka(b.parentNode)){var _=b.parentNode;Ye(k,_),k.selection.select(b.parentNode)}else k.selection.select(b),cn(k,E,b)},oc=function(k,E){var b=E.src;return Tt(Tt({},E),{src:wr(k,b)?b:""})},oa=function(k,E){var b=Go(k);if(b){var _=eu(function(ge){return no(k,ge)},b),j=Tt(Tt({},_),E),J=oc(k,j);j.src?Po(k,J):ac(k,b)}else E.src&&Yu(k,Tt(Tt({},Vt()),E))},na=function(k,E){var b=cr(k)&&cr(E);return b?Fo(k,E):E},bo=function(k){return function(){for(var E=[],b=0;b<arguments.length;b++)E[b]=arguments[b];if(E.length===0)throw new Error("Can't merge zero objects");for(var _={},j=0;j<E.length;j++){var J=E[j];for(var ge in J)ta(J,ge)&&(_[ge]=k(_[ge],J[ge]))}return _}},Fo=bo(na),ks=function(k){return k.length>0},yo=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),ii=tinymce.util.Tools.resolve("tinymce.util.Tools"),Eu=function(k){return pn(k.value)?k.value:""},Tu=function(k){return pn(k.text)?k.text:pn(k.title)?k.title:""},ro=function(k,E){var b=[];return ii.each(k,function(_){var j=Tu(_);if(_.menu!==void 0){var J=ro(_.menu,E);b.push({text:j,items:J})}else{var ge=E(_);b.push({text:j,value:ge})}}),b},Ko=function(k){return k===void 0&&(k=Eu),function(E){return E?Fe.from(E).map(function(b){return ro(b,k)}):Fe.none()}},tu=function(k){return Ko(Eu)(k)},Li=function(k){return ta(k,"items")},As=function(k,E){return yt(k,function(b){return Li(b)?As(b.items,E):b.value===E?Fe.some(b):Fe.none()})},Ju=function(k,E){return k.bind(function(b){return As(b,E)})},ki={sanitizer:Ko,sanitize:tu,findEntry:Ju},Qu=function(k){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ai={makeTab:Qu},ra=function(k){var E=ki.sanitizer(function(Zt){return k.convertURL(Zt.value||Zt.url,"src")}),b=new Bt(function(Zt){Ut(k,function(pr){Zt(E(pr).map(function(Pr){return Ba([[{text:"None",value:""}],Pr])}))})}),_=ki.sanitize(bt(k)),j=Ne(k),J=at(k),ge=va(k),Ue=pa(k),en=Ss(k),on=er(k),ct=yr(k),Wt=Yt(k),kn=ur(k),Kn=za(k),tn=Ma(k),qr=Fe.some(Ln(k)).filter(function(Zt){return pn(Zt)&&Zt.length>0});return b.then(function(Zt){return{image:en,imageList:Zt,classList:_,hasAdvTab:j,hasUploadTab:J,hasUploadUrl:ge,hasUploadHandler:Ue,hasDescription:on,hasImageTitle:ct,hasDimensions:Wt,hasImageCaption:kn,prependURL:qr,hasAccessibilityOptions:Kn,automaticUploads:tn}})},Ou=function(k){var E={name:"src",type:"urlinput",filetype:"image",label:"Source"},b=k.imageList.map(function(ct){return{name:"images",type:"listbox",label:"Image list",items:ct}}),_={name:"alt",type:"input",label:"Alternative description",disabled:k.hasAccessibilityOptions&&k.image.isDecorative},j={name:"title",type:"input",label:"Image title"},J={name:"dimensions",type:"sizeinput"},ge={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ue=k.classList.map(function(ct){return{name:"classes",type:"listbox",label:"Class",items:ct}}),en={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},on=function(ct){return ct?{type:"grid",columns:2}:{type:"panel"}};return Ba([[E],b.toArray(),k.hasAccessibilityOptions&&k.hasDescription?[ge]:[],k.hasDescription?[_]:[],k.hasImageTitle?[j]:[],k.hasDimensions?[J]:[],[Tt(Tt({},on(k.classList.isSome()&&k.hasImageCaption)),{items:Ba([Ue.toArray(),k.hasImageCaption?[en]:[]])})]])},nu=function(k){return{title:"General",name:"general",items:Ou(k)}},Io={makeTab:nu,makeItems:Ou},Ra=function(k){var E=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:E}},es={makeTab:Ra},ru=function(k){return{prevImage:ki.findEntry(k.imageList,k.image.src),prevAlt:k.image.alt,open:!0}},au=function(k){return{src:{value:k.src,meta:{}},images:k.src,alt:k.alt,title:k.title,dimensions:{width:k.width,height:k.height},classes:k.class,caption:k.caption,style:k.style,vspace:k.vspace,border:k.border,hspace:k.hspace,borderstyle:k.borderStyle,fileinput:[],isDecorative:k.isDecorative}},ts=function(k,E){return{src:k.src.value,alt:k.alt.length===0&&E?null:k.alt,title:k.title,width:k.dimensions.width,height:k.dimensions.height,class:k.classes,style:k.style,caption:k.caption,hspace:k.hspace,vspace:k.vspace,border:k.border,borderStyle:k.borderstyle,isDecorative:k.isDecorative}},Du=function(k,E){return/^(?:[a-zA-Z]+:)?\/\//.test(E)?Fe.none():k.prependURL.bind(function(b){return E.substring(0,b.length)!==b?Fe.some(b+E):Fe.none()})},Ei=function(k,E){var b=E.getData();Du(k,b.src.value).each(function(_){E.setData({src:{value:_,meta:b.src.meta}})})},Es=function(k,E,b){k.hasDescription&&pn(b.alt)&&(E.alt=b.alt),k.hasAccessibilityOptions&&(E.isDecorative=b.isDecorative||E.isDecorative||!1),k.hasImageTitle&&pn(b.title)&&(E.title=b.title),k.hasDimensions&&(pn(b.width)&&(E.dimensions.width=b.width),pn(b.height)&&(E.dimensions.height=b.height)),pn(b.class)&&ki.findEntry(k.classList,b.class).each(function(_){E.classes=_.value}),k.hasImageCaption&&Kr(b.caption)&&(E.caption=b.caption),k.hasAdvTab&&(pn(b.style)&&(E.style=b.style),pn(b.vspace)&&(E.vspace=b.vspace),pn(b.border)&&(E.border=b.border),pn(b.hspace)&&(E.hspace=b.hspace),pn(b.borderstyle)&&(E.borderstyle=b.borderstyle))},ns=function(k,E){var b=E.getData(),_=b.src.meta;if(_!==void 0){var j=Fo({},b);Es(k,j,_),E.setData(j)}},rs=function(k,E,b,_){var j=_.getData(),J=j.src.value,ge=j.src.meta||{};!ge.width&&!ge.height&&E.hasDimensions&&(ks(J)?k.imageSize(J).then(function(Ue){b.open&&_.setData({dimensions:Ue})}).catch(function(Ue){return console.error(Ue)}):_.setData({dimensions:{width:"",height:""}}))},P=function(k,E,b){var _=b.getData(),j=ki.findEntry(k.imageList,_.src.value);E.prevImage=j,b.setData({images:j.map(function(J){return J.value}).getOr("")})},Z=function(k,E,b,_){Ei(E,_),ns(E,_),rs(k,E,b,_),P(E,b,_)},ue=function(k,E,b,_){var j=_.getData(),J=ki.findEntry(E.imageList,j.images);J.each(function(ge){var Ue=j.alt===""||b.prevImage.map(function(en){return en.text===j.alt}).getOr(!1);Ue?ge.value===""?_.setData({src:ge,alt:b.prevAlt}):_.setData({src:ge,alt:ge.text}):_.setData({src:ge})}),b.prevImage=J,Z(k,E,b,_)},ke=function(k){var E=k["margin-top"]&&k["margin-bottom"]&&k["margin-top"]===k["margin-bottom"];return E?lt(String(k["margin-top"])):""},He=function(k){var E=k["margin-right"]&&k["margin-left"]&&k["margin-right"]===k["margin-left"];return E?lt(String(k["margin-right"])):""},Dt=function(k){return k["border-width"]?lt(String(k["border-width"])):""},tr=function(k){return k["border-style"]?String(k["border-style"]):""},dr=function(k,E,b){return E(k(E(b)))},xn=function(k,E,b){var _=st(k(b.style)),j=Fo({},b);return j.vspace=ke(_),j.hspace=He(_),j.border=Dt(_),j.borderstyle=tr(_),j.style=dr(k,E,_),j},Er=function(k,E){var b=E.getData(),_=xn(k.parseStyle,k.serializeStyle,b);E.setData(_)},Wr=function(k,E,b){var _=Fo(au(E.image),b.getData()),j=jc(k.normalizeCss,ts(_,!1));b.setData({style:j})},$i=function(k,E,b,_){var j=_.getData();_.block("Uploading image"),je(j.fileinput).fold(function(){_.unblock()},function(J){var ge=URL.createObjectURL(J),Ue=function(){_.unblock(),URL.revokeObjectURL(ge)},en=function(on){_.setData({src:{value:on,meta:{}}}),_.showTab("general"),Z(k,E,b,_)};kt(J).then(function(on){var ct=k.createBlobCache(J,ge,on);E.automaticUploads?k.uploadImage(ct).then(function(Wt){en(Wt.url),Ue()}).catch(function(Wt){Ue(),k.alertErr(Wt)}):(k.addToBlobCache(ct),en(ct.blobUri()),_.unblock())})})},ic=function(k,E,b){return function(_,j){j.name==="src"?Z(k,E,b,_):j.name==="images"?ue(k,E,b,_):j.name==="alt"?b.prevAlt=_.getData().alt:j.name==="style"?Er(k,_):j.name==="vspace"||j.name==="hspace"||j.name==="border"||j.name==="borderstyle"?Wr(k,E,_):j.name==="fileinput"?$i(k,E,b,_):j.name==="isDecorative"&&(_.getData().isDecorative?_.disable("alt"):_.enable("alt"))}},uc=function(k){return function(){k.open=!1}},Lt=function(k){if(k.hasAdvTab||k.hasUploadUrl||k.hasUploadHandler){var E={type:"tabpanel",tabs:Ba([[Io.makeTab(k)],k.hasAdvTab?[Ai.makeTab(k)]:[],k.hasUploadTab&&(k.hasUploadUrl||k.hasUploadHandler)?[es.makeTab(k)]:[]])};return E}else{var b={type:"panel",items:Io.makeItems(k)};return b}},Ts=function(k){return function(E){var b=ru(E);return{title:"Insert/Edit Image",size:"normal",body:Lt(E),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:au(E.image),onSubmit:k.onSubmit(E),onChange:ic(k,E,b),onClose:uc(b)}}},qc=function(k){return function(E){return function(b){var _=Fo(au(E.image),b.getData());k.execCommand("mceUpdateImage",!1,ts(_,E.hasAccessibilityOptions)),k.editorUpload.uploadImagesAuto(),b.close()}}},Hi=function(k){return function(E){return wr(k,E)?et(k.documentBaseURI.toAbsolute(E)).then(function(b){return{width:String(b.width),height:String(b.height)}}):Bt.resolve({width:"",height:""})}},Dl=function(k){return function(E,b,_){return k.editorUpload.blobCache.create({blob:E,blobUri:b,name:E.name?E.name.replace(/\.[^\.]+$/,""):null,filename:E.name,base64:_.split(",")[1]})}},Cf=function(k){return function(E){k.editorUpload.blobCache.add(E)}},_l=function(k){return function(E){k.windowManager.alert(E)}},jr=function(k){return function(E){return no(k,E)}},Os=function(k){return function(E){return k.dom.parseStyle(E)}},xf=function(k){return function(E,b){return k.dom.serializeStyle(E,b)}},Ti=function(k){return function(E){return yo(k).upload([E],!1).then(function(b){return b.length===0?Bt.reject("Failed to upload image"):b[0].status===!1?Bt.reject(b[0].error.message):b[0]})}},ao=function(k){var E={onSubmit:qc(k),imageSize:Hi(k),addToBlobCache:Cf(k),createBlobCache:Dl(k),alertErr:_l(k),normalizeCss:jr(k),parseStyle:Os(k),serializeStyle:xf(k),uploadImage:Ti(k)},b=function(){ra(k).then(Ts(E)).then(k.windowManager.open)};return{open:b}},sc=function(k){k.addCommand("mceImage",ao(k).open),k.addCommand("mceUpdateImage",function(E,b){k.undoManager.transact(function(){return oa(k,b)})})},Ce=function(k){var E=k.attr("class");return E&&/\bimage\b/.test(E)},Ds=function(k){return function(E){for(var b=E.length,_=function(J){J.attr("contenteditable",k?"true":null)};b--;){var j=E[b];Ce(j)&&(j.attr("contenteditable",k?"false":null),ii.each(j.getAll("figcaption"),_))}}},La=function(k){k.on("PreInit",function(){k.parser.addNodeFilter("figure",Ds(!0)),k.serializer.addNodeFilter("figure",Ds(!1))})},Bl=function(k){k.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ao(k).open,onSetup:function(E){return E.setActive(Wn(Go(k))),k.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",E.setActive).unbind}}),k.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ao(k).open}),k.ui.registry.addContextMenu("image",{update:function(E){return Ka(E)||Ii(E)&&!fr(E)?["image"]:[]}})};function _u(){We.add("image",function(k){La(k),Bl(k),sc(k)})}_u()})();(function(){var We=tinymce.util.Tools.resolve("tinymce.PluginManager"),Tt=function(){},At=function(je){return function(){return je}},Rn=function(je){return je},Nt=At(!1),Dn=At(!0),pn=function(){return cr},cr=function(){var je=function(Nn){return Nn()},yt=Rn,Ht={fold:function(Nn,ar){return Nn()},isSome:Nt,isNone:Dn,getOr:yt,getOrThunk:je,getOrDie:function(Nn){throw new Error(Nn||"error: getOrDie called on none.")},getOrNull:At(null),getOrUndefined:At(void 0),or:yt,orThunk:je,map:pn,each:Tt,bind:pn,exists:Nt,forall:Dn,filter:function(){return pn()},toArray:function(){return[]},toString:At("none()")};return Ht}(),Yn=function(je){var yt=At(je),Ht=function(){return ar},Nn=function(_n){return _n(je)},ar={fold:function(_n,Cr){return Cr(je)},isSome:Dn,isNone:Nt,getOr:yt,getOrThunk:yt,getOrDie:yt,getOrNull:yt,getOrUndefined:yt,or:Ht,orThunk:Ht,map:function(_n){return Yn(_n(je))},each:function(_n){_n(je)},bind:Nn,exists:Nn,forall:Nn,filter:function(_n){return _n(je)?ar:cr},toArray:function(){return[je]},toString:function(){return"some("+je+")"}};return ar},nr=function(je){return je==null?cr:Yn(je)},Kr={some:Yn,none:pn,from:nr},Jt=function(je,yt){return yt>=0&&yt<je.length?Kr.some(je[yt]):Kr.none()},Wn=function(je){return Jt(je,0)},Vr=function(je,yt){return je?Kr.some(yt):Kr.none()},Xr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Pe=function(je){return je&&je.nodeName==="PRE"&&je.className.indexOf("language-")!==-1},bn=function(je){return function(yt,Ht){return je(Ht)}},Cn=typeof window!="undefined"?window:Function("return this;")(),$t={},X={exports:$t},Mt={};(function(je,yt,Ht,Nn){var ar=window.Prism;window.Prism={manual:!0},function(Cr,U){typeof yt=="object"&&typeof Ht!="undefined"?Ht.exports=U():typeof je=="function"&&je.amd?je(U):(Cr=typeof globalThis!="undefined"?globalThis:Cr||self,Cr.EphoxContactWrapper=U())}(this,function(){var Cr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Mt!="undefined"?Mt:typeof self!="undefined"?self:{},U={exports:{}};(function(be){var sn=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},Bt=function(dt){var yn=/\blang(?:uage)?-([\w-]+)\b/i,Yt=0,Ne={},at={manual:dt.Prism&&dt.Prism.manual,disableWorkerMessageHandler:dt.Prism&&dt.Prism.disableWorkerMessageHandler,util:{encode:function Xe(et){return et instanceof Ln?new Ln(et.type,Xe(et.content),et.alias):Array.isArray(et)?et.map(Xe):et.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Xe){return Object.prototype.toString.call(Xe).slice(8,-1)},objId:function(Xe){return Xe.__id||Object.defineProperty(Xe,"__id",{value:++Yt}),Xe.__id},clone:function Xe(et,lt){lt=lt||{};var gt,st;switch(at.util.type(et)){case"Object":if(st=at.util.objId(et),lt[st])return lt[st];gt={},lt[st]=gt;for(var Ut in et)et.hasOwnProperty(Ut)&&(gt[Ut]=Xe(et[Ut],lt));return gt;case"Array":return st=at.util.objId(et),lt[st]?lt[st]:(gt=[],lt[st]=gt,et.forEach(function(cn,kt){gt[kt]=Xe(cn,lt)}),gt);default:return et}},getLanguage:function(Xe){for(;Xe&&!yn.test(Xe.className);)Xe=Xe.parentElement;return Xe?(Xe.className.match(yn)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(gt){var Xe=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(gt.stack)||[])[1];if(Xe){var et=document.getElementsByTagName("script");for(var lt in et)if(et[lt].src==Xe)return et[lt]}return null}},isActive:function(Xe,et,lt){for(var gt="no-"+et;Xe;){var st=Xe.classList;if(st.contains(et))return!0;if(st.contains(gt))return!1;Xe=Xe.parentElement}return!!lt}},languages:{plain:Ne,plaintext:Ne,text:Ne,txt:Ne,extend:function(Xe,et){var lt=at.util.clone(at.languages[Xe]);for(var gt in et)lt[gt]=et[gt];return lt},insertBefore:function(Xe,et,lt,gt){gt=gt||at.languages;var st=gt[Xe],Ut={};for(var cn in st)if(st.hasOwnProperty(cn)){if(cn==et)for(var kt in lt)lt.hasOwnProperty(kt)&&(Ut[kt]=lt[kt]);lt.hasOwnProperty(cn)||(Ut[cn]=st[cn])}var fr=gt[Xe];return gt[Xe]=Ut,at.languages.DFS(at.languages,function(wr,Ar){Ar===fr&&wr!=Xe&&(this[wr]=Ut)}),Ut},DFS:function Xe(et,lt,gt,st){st=st||{};var Ut=at.util.objId;for(var cn in et)if(et.hasOwnProperty(cn)){lt.call(et,cn,et[cn],gt||cn);var kt=et[cn],fr=at.util.type(kt);fr==="Object"&&!st[Ut(kt)]?(st[Ut(kt)]=!0,Xe(kt,lt,null,st)):fr==="Array"&&!st[Ut(kt)]&&(st[Ut(kt)]=!0,Xe(kt,lt,cn,st))}}},plugins:{},highlightAll:function(Xe,et){at.highlightAllUnder(document,Xe,et)},highlightAllUnder:function(Xe,et,lt){var gt={callback:lt,container:Xe,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};at.hooks.run("before-highlightall",gt),gt.elements=Array.prototype.slice.apply(gt.container.querySelectorAll(gt.selector)),at.hooks.run("before-all-elements-highlight",gt);for(var st=0,Ut;Ut=gt.elements[st++];)at.highlightElement(Ut,et===!0,gt.callback)},highlightElement:function(Xe,et,lt){var gt=at.util.getLanguage(Xe),st=at.languages[gt];Xe.className=Xe.className.replace(yn,"").replace(/\s+/g," ")+" language-"+gt;var Ut=Xe.parentElement;Ut&&Ut.nodeName.toLowerCase()==="pre"&&(Ut.className=Ut.className.replace(yn,"").replace(/\s+/g," ")+" language-"+gt);var cn=Xe.textContent,kt={element:Xe,language:gt,grammar:st,code:cn};function fr(Ar){kt.highlightedCode=Ar,at.hooks.run("before-insert",kt),kt.element.innerHTML=kt.highlightedCode,at.hooks.run("after-highlight",kt),at.hooks.run("complete",kt),lt&&lt.call(kt.element)}if(at.hooks.run("before-sanity-check",kt),Ut=kt.element.parentElement,Ut&&Ut.nodeName.toLowerCase()==="pre"&&!Ut.hasAttribute("tabindex")&&Ut.setAttribute("tabindex","0"),!kt.code){at.hooks.run("complete",kt),lt&&lt.call(kt.element);return}if(at.hooks.run("before-highlight",kt),!kt.grammar){fr(at.util.encode(kt.code));return}if(et&&dt.Worker){var wr=new Worker(at.filename);wr.onmessage=function(Ar){fr(Ar.data)},wr.postMessage(JSON.stringify({language:kt.language,code:kt.code,immediateClose:!0}))}else fr(at.highlight(kt.code,kt.grammar,kt.language))},highlight:function(Xe,et,lt){var gt={code:Xe,grammar:et,language:lt};return at.hooks.run("before-tokenize",gt),gt.tokens=at.tokenize(gt.code,gt.grammar),at.hooks.run("after-tokenize",gt),Ln.stringify(at.util.encode(gt.tokens),gt.language)},tokenize:function(Xe,et){var lt=et.rest;if(lt){for(var gt in lt)et[gt]=lt[gt];delete et.rest}var st=new yr;return ur(st,st.head,Xe),er(Xe,st,et,st.head,0),va(st)},hooks:{all:{},add:function(Xe,et){var lt=at.hooks.all;lt[Xe]=lt[Xe]||[],lt[Xe].push(et)},run:function(Xe,et){var lt=at.hooks.all[Xe];if(!(!lt||!lt.length))for(var gt=0,st;st=lt[gt++];)st(et)}},Token:Ln};dt.Prism=at;function Ln(Xe,et,lt,gt){this.type=Xe,this.content=et,this.alias=lt,this.length=(gt||"").length|0}Ln.stringify=function Xe(et,lt){if(typeof et=="string")return et;if(Array.isArray(et)){var gt="";return et.forEach(function(fr){gt+=Xe(fr,lt)}),gt}var st={type:et.type,content:Xe(et.content,lt),tag:"span",classes:["token",et.type],attributes:{},language:lt},Ut=et.alias;Ut&&(Array.isArray(Ut)?Array.prototype.push.apply(st.classes,Ut):st.classes.push(Ut)),at.hooks.run("wrap",st);var cn="";for(var kt in st.attributes)cn+=" "+kt+'="'+(st.attributes[kt]||"").replace(/"/g,"&quot;")+'"';return"<"+st.tag+' class="'+st.classes.join(" ")+'"'+cn+">"+st.content+"</"+st.tag+">"};function bt(Xe,et,lt,gt){Xe.lastIndex=et;var st=Xe.exec(lt);if(st&&gt&&st[1]){var Ut=st[1].length;st.index+=Ut,st[0]=st[0].slice(Ut)}return st}function er(Xe,et,lt,gt,st,Ut){for(var cn in lt)if(!(!lt.hasOwnProperty(cn)||!lt[cn])){var kt=lt[cn];kt=Array.isArray(kt)?kt:[kt];for(var fr=0;fr<kt.length;++fr){if(Ut&&Ut.cause==cn+","+fr)return;var wr=kt[fr],Ar=wr.inside,or=!!wr.lookbehind,ja=!!wr.greedy,go=wr.alias;if(ja&&!wr.pattern.global){var xa=wr.pattern.toString().match(/[imsuy]*$/)[0];wr.pattern=RegExp(wr.pattern.source,xa+"g")}for(var Ot=wr.pattern||wr,mn=gt.next,Bn=st;mn!==et.tail&&!(Ut&&Bn>=Ut.reach);Bn+=mn.value.length,mn=mn.next){var Rr=mn.value;if(et.length>Xe.length)return;if(!(Rr instanceof Ln)){var ho=1,$n;if(ja){if($n=bt(Ot,Bn,Xe,or),!$n)break;var zo=$n.index,Sn=$n.index+$n[0].length,Ur=Bn;for(Ur+=mn.value.length;zo>=Ur;)mn=mn.next,Ur+=mn.value.length;if(Ur-=mn.value.length,Bn=Ur,mn.value instanceof Ln)continue;for(var qo=mn;qo!==et.tail&&(Ur<Sn||typeof qo.value=="string");qo=qo.next)ho++,Ur+=qo.value.length;ho--,Rr=Xe.slice(Bn,Ur),$n.index-=Bn}else if($n=bt(Ot,0,Rr,or),!$n)continue;var zo=$n.index,qa=$n[0],Ga=Rr.slice(0,zo),Fi=Rr.slice(zo+qa.length),po=Bn+Rr.length;Ut&&po>Ut.reach&&(Ut.reach=po);var Ka=mn.prev;Ga&&(Ka=ur(et,Ka,Ga),Bn+=Ga.length),hr(et,Ka,ho);var Ii=new Ln(cn,Ar?at.tokenize(qa,Ar):qa,go,qa);if(mn=ur(et,Ka,Ii),Fi&&ur(et,mn,Fi),ho>1){var Zn={cause:cn+","+fr,reach:po};er(Xe,et,lt,mn.prev,Bn,Zn),Ut&&Zn.reach>Ut.reach&&(Ut.reach=Zn.reach)}}}}}}function yr(){var Xe={value:null,prev:null,next:null},et={value:null,prev:Xe,next:null};Xe.next=et,this.head=Xe,this.tail=et,this.length=0}function ur(Xe,et,lt){var gt=et.next,st={value:lt,prev:et,next:gt};return et.next=st,gt.prev=st,Xe.length++,st}function hr(Xe,et,lt){for(var gt=et.next,st=0;st<lt&&gt!==Xe.tail;st++)gt=gt.next;et.next=gt,gt.prev=et,Xe.length-=st}function va(Xe){for(var et=[],lt=Xe.head.next;lt!==Xe.tail;)et.push(lt.value),lt=lt.next;return et}if(!dt.document)return dt.addEventListener&&(at.disableWorkerMessageHandler||dt.addEventListener("message",function(Xe){var et=JSON.parse(Xe.data),lt=et.language,gt=et.code,st=et.immediateClose;dt.postMessage(at.highlight(gt,at.languages[lt],lt)),st&&dt.close()},!1)),at;var pa=at.util.currentScript();pa&&(at.filename=pa.src,pa.hasAttribute("data-manual")&&(at.manual=!0));function za(){at.manual||at.highlightAll()}if(!at.manual){var Ma=document.readyState;Ma==="loading"||Ma==="interactive"&&pa&&pa.defer?document.addEventListener("DOMContentLoaded",za):window.requestAnimationFrame?window.requestAnimationFrame(za):window.setTimeout(za,16)}return at}(sn);be.exports&&(be.exports=Bt),typeof Cr!="undefined"&&(Cr.Prism=Bt)})(U),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(be){function sn(Bt,dt){return"___"+Bt.toUpperCase()+dt+"___"}Object.defineProperties(be.languages["markup-templating"]={},{buildPlaceholders:{value:function(Bt,dt,yn,Yt){if(Bt.language===dt){var Ne=Bt.tokenStack=[];Bt.code=Bt.code.replace(yn,function(at){if(typeof Yt=="function"&&!Yt(at))return at;for(var Ln=Ne.length,bt;Bt.code.indexOf(bt=sn(dt,Ln))!==-1;)++Ln;return Ne[Ln]=at,bt}),Bt.grammar=be.languages.markup}}},tokenizePlaceholders:{value:function(Bt,dt){if(Bt.language!==dt||!Bt.tokenStack)return;Bt.grammar=be.languages[dt];var yn=0,Yt=Object.keys(Bt.tokenStack);function Ne(at){for(var Ln=0;Ln<at.length&&!(yn>=Yt.length);Ln++){var bt=at[Ln];if(typeof bt=="string"||bt.content&&typeof bt.content=="string"){var er=Yt[yn],yr=Bt.tokenStack[er],ur=typeof bt=="string"?bt:bt.content,hr=sn(dt,er),va=ur.indexOf(hr);if(va>-1){++yn;var pa=ur.substring(0,va),za=new be.Token(dt,be.tokenize(yr,Bt.grammar),"language-"+dt,yr),Ma=ur.substring(va+hr.length),Xe=[];pa&&Xe.push.apply(Xe,Ne([pa])),Xe.push(za),Ma&&Xe.push.apply(Xe,Ne([Ma])),typeof bt=="string"?at.splice.apply(at,[Ln,1].concat(Xe)):bt.content=Xe}}else bt.content&&Ne(bt.content)}return at}Ne(Bt.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean,function(be){var sn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,Bt=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return sn.source});be.languages.cpp=be.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return sn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:sn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),be.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return Bt})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),be.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:be.languages.cpp}}}}),be.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),be.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:be.languages.extend("cpp",{})}}),be.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},be.languages.cpp["base-clause"])}(Prism),function(be){function sn(Bn,Rr){return Bn.replace(/<<(\d+)>>/g,function(ho,$n){return"(?:"+Rr[+$n]+")"})}function Bt(Bn,Rr,ho){return RegExp(sn(Bn,Rr),ho||"")}function dt(Bn,Rr){for(var ho=0;ho<Rr;ho++)Bn=Bn.replace(/<<self>>/g,function(){return"(?:"+Bn+")"});return Bn.replace(/<<self>>/g,"[^\\s\\S]")}var yn={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Yt(Bn){return"\\b(?:"+Bn.trim().replace(/ /g,"|")+")\\b"}var Ne=Yt(yn.typeDeclaration),at=RegExp(Yt(yn.type+" "+yn.typeDeclaration+" "+yn.contextual+" "+yn.other)),Ln=Yt(yn.typeDeclaration+" "+yn.contextual+" "+yn.other),bt=Yt(yn.type+" "+yn.typeDeclaration+" "+yn.other),er=dt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),yr=dt(/\((?:[^()]|<<self>>)*\)/.source,2),ur=/@?\b[A-Za-z_]\w*\b/.source,hr=sn(/<<0>>(?:\s*<<1>>)?/.source,[ur,er]),va=sn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Ln,hr]),pa=/\[\s*(?:,\s*)*\]/.source,za=sn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[va,pa]),Ma=sn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[er,yr,pa]),Xe=sn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Ma]),et=sn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Xe,va,pa]),lt={keyword:at,punctuation:/[<>()?,.:[\]]/},gt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,st=/"(?:\\.|[^\\"\r\n])*"/.source,Ut=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;be.languages.csharp=be.languages.extend("clike",{string:[{pattern:Bt(/(^|[^$\\])<<0>>/.source,[Ut]),lookbehind:!0,greedy:!0},{pattern:Bt(/(^|[^@$\\])<<0>>/.source,[st]),lookbehind:!0,greedy:!0},{pattern:RegExp(gt),greedy:!0,alias:"character"}],"class-name":[{pattern:Bt(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[va]),lookbehind:!0,inside:lt},{pattern:Bt(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[ur,et]),lookbehind:!0,inside:lt},{pattern:Bt(/(\busing\s+)<<0>>(?=\s*=)/.source,[ur]),lookbehind:!0},{pattern:Bt(/(\b<<0>>\s+)<<1>>/.source,[Ne,hr]),lookbehind:!0,inside:lt},{pattern:Bt(/(\bcatch\s*\(\s*)<<0>>/.source,[va]),lookbehind:!0,inside:lt},{pattern:Bt(/(\bwhere\s+)<<0>>/.source,[ur]),lookbehind:!0},{pattern:Bt(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[za]),lookbehind:!0,inside:lt},{pattern:Bt(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[et,bt,ur]),inside:lt}],keyword:at,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),be.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),be.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:Bt(/([(,]\s*)<<0>>(?=\s*:)/.source,[ur]),lookbehind:!0,alias:"punctuation"}}),be.languages.insertBefore("csharp","class-name",{namespace:{pattern:Bt(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[ur]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:Bt(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[yr]),lookbehind:!0,alias:"class-name",inside:lt},"return-type":{pattern:Bt(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[et,va]),inside:lt,alias:"class-name"},"constructor-invocation":{pattern:Bt(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[et]),lookbehind:!0,inside:lt,alias:"class-name"},"generic-method":{pattern:Bt(/<<0>>\s*<<1>>(?=\s*\()/.source,[ur,er]),inside:{function:Bt(/^<<0>>/.source,[ur]),generic:{pattern:RegExp(er),alias:"class-name",inside:lt}}},"type-list":{pattern:Bt(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[Ne,hr,ur,et,at.source,yr,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:Bt(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[hr,yr]),lookbehind:!0,greedy:!0,inside:be.languages.csharp},keyword:at,"class-name":{pattern:RegExp(et),greedy:!0,inside:lt},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var cn=st+"|"+gt,kt=sn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[cn]),fr=dt(sn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[kt]),2),wr=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Ar=sn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[va,fr]);be.languages.insertBefore("csharp","class-name",{attribute:{pattern:Bt(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[wr,Ar]),lookbehind:!0,greedy:!0,inside:{target:{pattern:Bt(/^<<0>>(?=\s*:)/.source,[wr]),alias:"keyword"},"attribute-arguments":{pattern:Bt(/\(<<0>>*\)/.source,[fr]),inside:be.languages.csharp},"class-name":{pattern:RegExp(va),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var or=/:[^}\r\n]+/.source,ja=dt(sn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[kt]),2),go=sn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[ja,or]),xa=dt(sn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[cn]),2),Ot=sn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[xa,or]);function mn(Bn,Rr){return{interpolation:{pattern:Bt(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Bn]),lookbehind:!0,inside:{"format-string":{pattern:Bt(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Rr,or]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:be.languages.csharp}}},string:/[\s\S]+/}}be.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:Bt(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[go]),lookbehind:!0,greedy:!0,inside:mn(go,ja)},{pattern:Bt(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Ot]),lookbehind:!0,greedy:!0,inside:mn(Ot,xa)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,function(be){var sn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;be.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+sn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+sn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+sn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:sn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},be.languages.css.atrule.inside.rest=be.languages.css;var Bt=be.languages.markup;Bt&&(Bt.tag.addInlined("style","css"),Bt.tag.addAttribute("style","css"))}(Prism),function(be){var sn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,Bt=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,dt={pattern:RegExp(Bt+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};be.languages.java=be.languages.extend("clike",{"class-name":[dt,{pattern:RegExp(Bt+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:dt.inside}],keyword:sn,function:[be.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),be.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),be.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":dt,keyword:sn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return sn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(be){be.type==="entity"&&(be.attributes.title=be.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(sn,Bt){var dt={};dt["language-"+Bt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[Bt]},dt.cdata=/^<!\[CDATA\[|\]\]>$/i;var yn={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:dt}};yn["language-"+Bt]={pattern:/[\s\S]+/,inside:Prism.languages[Bt]};var Yt={};Yt[sn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return sn}),"i"),lookbehind:!0,greedy:!0,inside:yn},Prism.languages.insertBefore("markup","cdata",Yt)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(be,sn){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+be+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[sn,"language-"+sn],inside:Prism.languages[sn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(be){var sn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,Bt=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],dt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,yn=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Yt=/[{}\[\](),:;]/;be.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:sn,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Bt,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:dt,operator:yn,punctuation:Yt};var Ne={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:be.languages.php},at=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Ne}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Ne}}];be.languages.insertBefore("php","variable",{string:at,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:sn,string:at,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Bt,number:dt,operator:yn,punctuation:Yt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),be.hooks.add("before-tokenize",function(Ln){if(!!/<\?/.test(Ln.code)){var bt=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi;be.languages["markup-templating"].buildPlaceholders(Ln,"php",bt)}}),be.hooks.add("after-tokenize",function(Ln){be.languages["markup-templating"].tokenizePlaceholders(Ln,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(be){be.languages.ruby=be.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var sn={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:be.languages.ruby}};delete be.languages.ruby.function,be.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:sn}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:sn}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:be.languages.ruby}}}),be.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),be.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:sn}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:sn}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:sn}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],be.languages.rb=be.languages.ruby}(Prism);var Bo=U.exports,Ke={boltExport:Bo};return Ke});var _n=window.Prism;return window.Prism=ar,_n})(void 0,$t,X);var fe=X.exports.boltExport,rn=function(je){return je.getParam("codesample_languages")},an=function(je){return je.getParam("codesample_global_prismjs",!1,"boolean")},Fe=function(je){return Cn.Prism&&an(je)?Cn.Prism:fe},ut=function(je){var yt=je.selection?je.selection.getNode():null;return Vr(Pe(yt),yt)},Ve=function(je,yt,Ht){je.undoManager.transact(function(){var Nn=ut(je);return Ht=Xr.DOM.encode(Ht),Nn.fold(function(){je.insertContent('<pre id="__new" class="language-'+yt+'">'+Ht+"</pre>"),je.selection.select(je.$("#__new").removeAttr("id")[0])},function(ar){je.dom.setAttrib(ar,"class","language-"+yt),ar.innerHTML=Ht,Fe(je).highlightElement(ar),je.selection.select(ar)})})},lr=function(je){var yt=ut(je);return yt.fold(At(""),function(Ht){return Ht.textContent})},K=function(je){var yt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],Ht=rn(je);return Ht||yt},Ge=function(je,yt){var Ht=ut(je);return Ht.fold(function(){return yt},function(Nn){var ar=Nn.className.match(/language-(\w+)/);return ar?ar[1]:yt})},Rt=function(je){var yt=K(je),Ht=Wn(yt).fold(At(""),function(_n){return _n.value}),Nn=Ge(je,Ht),ar=lr(je);je.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:yt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Nn,code:ar},onSubmit:function(_n){var Cr=_n.getData();Ve(je,Cr.language,Cr.code),_n.close()}})},ta=function(je){je.addCommand("codesample",function(){var yt=je.selection.getNode();je.selection.isCollapsed()||Pe(yt)?Rt(je):je.formatter.toggle("code")})},nt=function(je){var yt=je.$;je.on("PreProcess",function(Ht){yt("pre[contenteditable=false]",Ht.node).filter(bn(Pe)).each(function(Nn,ar){var _n=yt(ar),Cr=ar.textContent;_n.attr("class",yt.trim(_n.attr("class"))),_n.removeAttr("contentEditable"),_n.empty().append(yt("<code></code>").each(function(){this.textContent=Cr}))})}),je.on("SetContent",function(){var Ht=yt("pre").filter(bn(Pe)).filter(function(Nn,ar){return ar.contentEditable!=="false"});Ht.length&&je.undoManager.transact(function(){Ht.each(function(Nn,ar){yt(ar).find("br").each(function(_n,Cr){Cr.parentNode.replaceChild(je.getDoc().createTextNode(`
`),Cr)}),ar.contentEditable="false",ar.innerHTML=je.dom.encode(ar.textContent),Fe(je).highlightElement(ar),ar.className=yt.trim(ar.className)})})})},Wa=function(je){var yt=je.selection.getStart();return je.dom.is(yt,'pre[class*="language-"]')},Ba=function(je){var yt=function(){return je.execCommand("codesample")};je.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:yt,onSetup:function(Ht){var Nn=function(){Ht.setActive(Wa(je))};return je.on("NodeChange",Nn),function(){return je.off("NodeChange",Nn)}}}),je.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:yt})};function x(){We.add("codesample",function(je){nt(je),Ba(je),ta(je),je.on("dblclick",function(yt){Pe(yt.target)&&Rt(je)})})}x()})();const GC=Mv(""),dW={class:"h-full border border-solid border-[#cccccc] focus-within:border-[#2296f3]"},mW=y5({setup(We){const Tt=Mv();return setTimeout(()=>{const At=Tt.value;At==null||At.focus(),At==null||At.goToLine()},500),(At,Rn)=>(qC(),ON("div",dW,[XU(KU,{ref_key:"editor",ref:Tt,modelValue:p5(GC),"onUpdate:modelValue":Rn[0]||(Rn[0]=Nt=>YU(GC)?GC.value=Nt:null),language:"html"},null,8,["modelValue"])]))}}),gW=jU.global.t;tinymce.PluginManager.add("monaco",function(We){function Tt(){We.focus(),We.selection.collapse(!0),We.settings.monaco.saveCursorPosition&&We.selection.setContent('<span style="display: none;" class="CmCaReT">&#x0;</span>');const At={title:gW("common.HtmlSourceCode"),size:"large",body:{type:"panel",items:[{type:"htmlpanel",html:'<div class="__mce_monaco" style="height: 100%;"></div>'}]},resizable:!0,maximizable:!0,fullScreen:We.settings.monaco.fullscreen,buttons:[{type:"cancel",text:"Close",onclick:"close"},{type:"submit",text:"Save",primary:!0}],onSubmit:function(Dn){We.setContent(GC.value),Dn.close()}},Rn=We.windowManager.open(At);GC.value=We.getContent(),qU(mW).mount(".__mce_monaco");const Nt=document.querySelector(".tox-form__group");Nt&&(Nt.style.height="calc(100% - 14px)"),We.settings.monaco.fullscreen&&Rn.fullscreen(!0)}We.ui.registry.addButton("code",{title:"Source code",icon:"sourcecode",onAction:Tt}),We.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",context:"tools",onAction:Tt})});(function(){var We=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},Tt=function(t){return function(r){return We(r)===t}},At=function(t){return function(r){return typeof r===t}},Rn=function(t){return function(r){return t===r}},Nt=Tt("string"),Dn=Tt("object"),pn=Tt("array"),cr=Rn(null),Yn=At("boolean"),nr=Rn(void 0),Kr=function(t){return t==null},Jt=function(t){return!Kr(t)},Wn=At("function"),Vr=At("number"),Xr=function(t,r){if(pn(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},Pe=function(){},bn=function(t){return function(){return t()}},Cn=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},$t=function(t,r){return function(o){return t(r(o))}},X=function(t){return function(){return t}},Mt=function(t){return t},fe=function(t,r){return t===r};function rn(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var f=r.concat(s);return t.apply(null,f)}}var an=function(t){return function(r){return!t(r)}},Fe=function(t){return function(){throw new Error(t)}},ut=X(!1),Ve=X(!0),lr=tinymce.util.Tools.resolve("tinymce.ThemeManager"),K=function(){return K=Object.assign||function(r){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(r[f]=o[f])}return r},K.apply(this,arguments)};function Ge(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(o[s[l]]=t[s[l]]);return o}function Rt(t,r,o){if(o||arguments.length===2)for(var s=0,l=r.length,f;s<l;s++)(f||!(s in r))&&(f||(f=Array.prototype.slice.call(r,0,s)),f[s]=r[s]);return t.concat(f||Array.prototype.slice.call(r))}var ta=function(){return nt},nt=function(){var t=function(s){return s()},r=Mt,o={fold:function(s,l){return s()},isSome:ut,isNone:Ve,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:X(null),getOrUndefined:X(void 0),or:r,orThunk:t,map:ta,each:Pe,bind:ta,exists:ut,forall:Ve,filter:function(){return ta()},toArray:function(){return[]},toString:X("none()")};return o}(),Wa=function(t){var r=X(t),o=function(){return l},s=function(f){return f(t)},l={fold:function(f,d){return d(t)},isSome:Ve,isNone:ut,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(f){return Wa(f(t))},each:function(f){f(t)},bind:s,exists:s,forall:s,filter:function(f){return f(t)?l:nt},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return l},Ba=function(t){return t==null?nt:Wa(t)},x={some:Wa,none:ta,from:Ba},je=Array.prototype.slice,yt=Array.prototype.indexOf,Ht=Array.prototype.push,Nn=function(t,r){return yt.call(t,r)},ar=function(t,r){var o=Nn(t,r);return o===-1?x.none():x.some(o)},_n=function(t,r){return Nn(t,r)>-1},Cr=function(t,r){for(var o=0,s=t.length;o<s;o++){var l=t[o];if(r(l,o))return!0}return!1},U=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},Bo=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var l=je.call(t,s,s+r);o.push(l)}return o},Ke=function(t,r){for(var o=t.length,s=new Array(o),l=0;l<o;l++){var f=t[l];s[l]=r(f,l)}return s},be=function(t,r){for(var o=0,s=t.length;o<s;o++){var l=t[o];r(l,o)}},sn=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},Bt=function(t,r){for(var o=[],s=[],l=0,f=t.length;l<f;l++){var d=t[l],h=r(d,l)?o:s;h.push(d)}return{pass:o,fail:s}},dt=function(t,r){for(var o=[],s=0,l=t.length;s<l;s++){var f=t[s];r(f,s)&&o.push(f)}return o},yn=function(t,r,o){return sn(t,function(s,l){o=r(o,s,l)}),o},Yt=function(t,r,o){return be(t,function(s,l){o=r(o,s,l)}),o},Ne=function(t,r,o){for(var s=0,l=t.length;s<l;s++){var f=t[s];if(r(f,s))return x.some(f);if(o(f,s))break}return x.none()},at=function(t,r){return Ne(t,r,ut)},Ln=function(t,r){for(var o=0,s=t.length;o<s;o++){var l=t[o];if(r(l,o))return x.some(o)}return x.none()},bt=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!pn(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);Ht.apply(r,t[o])}return r},er=function(t,r){return bt(Ke(t,r))},yr=function(t,r){for(var o=0,s=t.length;o<s;++o){var l=t[o];if(r(l,o)!==!0)return!1}return!0},ur=function(t){var r=je.call(t,0);return r.reverse(),r},hr=function(t,r){return dt(t,function(o){return!_n(r,o)})},va=function(t,r){for(var o={},s=0,l=t.length;s<l;s++){var f=t[s];o[String(f)]=r(f,s)}return o},pa=function(t){return[t]},za=function(t,r){var o=je.call(t,0);return o.sort(r),o},Ma=function(t,r){return r>=0&&r<t.length?x.some(t[r]):x.none()},Xe=function(t){return Ma(t,0)},et=function(t){return Ma(t,t.length-1)},lt=Wn(Array.from)?Array.from:function(t){return je.call(t)},gt=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return x.none()},st=Object.keys,Ut=Object.hasOwnProperty,cn=function(t,r){for(var o=st(t),s=0,l=o.length;s<l;s++){var f=o[s],d=t[f];r(d,f)}},kt=function(t,r){return fr(t,function(o,s){return{k:s,v:r(o,s)}})},fr=function(t,r){var o={};return cn(t,function(s,l){var f=r(s,l);o[f.k]=f.v}),o},wr=function(t){return function(r,o){t[o]=r}},Ar=function(t,r,o,s){var l={};return cn(t,function(f,d){(r(f,d)?o:s)(f,d)}),l},or=function(t,r){var o={};return Ar(t,r,wr(o),Pe),o},ja=function(t,r){var o=[];return cn(t,function(s,l){o.push(r(s,l))}),o},go=function(t,r){for(var o=st(t),s=0,l=o.length;s<l;s++){var f=o[s],d=t[f];if(r(d,f,t))return x.some(d)}return x.none()},xa=function(t){return ja(t,Mt)},Ot=function(t,r){return mn(t,r)?x.from(t[r]):x.none()},mn=function(t,r){return Ut.call(t,r)},Bn=function(t,r){return mn(t,r)&&t[r]!==void 0&&t[r]!==null},Rr=function(t,r,o){return o===void 0&&(o=fe),t.exists(function(s){return o(s,r)})},ho=function(t,r,o){return o===void 0&&(o=fe),Ur(t,r,o).getOr(t.isNone()&&r.isNone())},$n=function(t){for(var r=[],o=function(l){r.push(l)},s=0;s<t.length;s++)t[s].each(o);return r},Sn=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return x.none()}return x.some(r)},Ur=function(t,r,o){return t.isSome()&&r.isSome()?x.some(o(t.getOrDie(),r.getOrDie())):x.none()},qo=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?x.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):x.none()},zo=function(t,r){return t!=null?x.some(r(t)):x.none()},qa=function(t,r){return t?x.some(r):x.none()},Ga=function(t,r){return t+r},Fi=function(t,r){return t.substring(r)},po=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},Ka=function(t,r){return xi(t,r)?Fi(t,r.length):t},Ii=function(t,r){return Vt(t,r)?t:Ga(t,r)},Zn=function(t,r){return t.indexOf(r)!==-1},xi=function(t,r){return po(t,r,0)},Vt=function(t,r){return po(t,r,t.length-r.length)},jc=function(t){return function(r){return r.replace(t,"")}},Mo=jc(/^\s+|\s+$/g),eu=function(t){return t.length>0},Ro=function(t){return!eu(t)},Ni=function(t){return t.style!==void 0&&Wn(t.style.getPropertyValue)},rc=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return no(s.childNodes[0])},Si=function(t,r){var o=r||document,s=o.createElement(t);return no(s)},xs=function(t,r){var o=r||document,s=o.createTextNode(t);return no(s)},no=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Go=function(t,r,o){return x.from(t.dom.elementFromPoint(r,o)).map(no)},Ye={fromHtml:rc,fromTag:Si,fromText:xs,fromDom:no,fromPoint:Go};typeof window!="undefined"||Function("return this;")();var Ss=9,Yu=11,Zu=1,ac=3,Po=function(t){var r=t.dom.nodeName;return r.toLowerCase()},oc=function(t){return t.dom.nodeType},oa=function(t){return function(r){return oc(r)===t}},na=oa(Zu),bo=oa(ac),Fo=oa(Ss),ks=oa(Yu),yo=function(t){var r=!1,o;return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return r||(r=!0,o=t.apply(null,s)),o}},ii=function(t,r,o,s){var l=t.isiOS()&&/ipad/i.test(o)===!0,f=t.isiOS()&&!l,d=t.isiOS()||t.isAndroid(),h=d||s("(pointer:coarse)"),p=l||!f&&d&&s("(min-device-width:768px)"),y=f||d&&!p,S=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,A=!y&&!p&&!S;return{isiPad:X(l),isiPhone:X(f),isTablet:X(p),isPhone:X(y),isTouch:X(h),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:X(S),isDesktop:X(A)}},Eu=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},Tu=function(t,r){var o=Eu(t,r);if(!o)return{major:0,minor:0};var s=function(l){return Number(r.replace(o,"$"+l))};return tu(s(1),s(2))},ro=function(t,r){var o=String(r).toLowerCase();return t.length===0?Ko():Tu(t,o)},Ko=function(){return tu(0,0)},tu=function(t,r){return{major:t,minor:r}},Li={nu:tu,detect:ro,unknown:Ko},As=function(t,r){return gt(r.brands,function(o){var s=o.brand.toLowerCase();return at(t,function(l){var f;return s===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(l){return{current:l.name,version:Li.nu(parseInt(o.version,10),0)}})})},Ju=function(t,r){var o=String(r).toLowerCase();return at(t,function(s){return s.search(o)})},ki=function(t,r){return Ju(t,r).map(function(o){var s=Li.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Qu=function(t,r){return Ju(t,r).map(function(o){var s=Li.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Ai=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ra=function(t){return function(r){return Zn(r,t)}},Ou=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Zn(t,"edge/")&&Zn(t,"chrome")&&Zn(t,"safari")&&Zn(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ai],search:function(t){return Zn(t,"chrome")&&!Zn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Zn(t,"msie")||Zn(t,"trident")}},{name:"Opera",versionRegexes:[Ai,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ra("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ra("firefox")},{name:"Safari",versionRegexes:[Ai,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Zn(t,"safari")||Zn(t,"mobile/"))&&Zn(t,"applewebkit")}}],nu=[{name:"Windows",search:ra("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Zn(t,"iphone")||Zn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ra("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ra("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ra("linux"),versionRegexes:[]},{name:"Solaris",search:ra("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ra("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ra("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Io={browsers:X(Ou),oses:X(nu)},Ra="Edge",es="Chrome",ru="IE",au="Opera",ts="Firefox",Du="Safari",Ei=function(){return Es({current:void 0,version:Li.unknown()})},Es=function(t){var r=t.current,o=t.version,s=function(l){return function(){return r===l}};return{current:r,version:o,isEdge:s(Ra),isChrome:s(es),isIE:s(ru),isOpera:s(au),isFirefox:s(ts),isSafari:s(Du)}},ns={unknown:Ei,nu:Es,edge:X(Ra),chrome:X(es),ie:X(ru),opera:X(au),firefox:X(ts),safari:X(Du)},rs="Windows",P="iOS",Z="Android",ue="Linux",ke="OSX",He="Solaris",Dt="FreeBSD",tr="ChromeOS",dr=function(){return xn({current:void 0,version:Li.unknown()})},xn=function(t){var r=t.current,o=t.version,s=function(l){return function(){return r===l}};return{current:r,version:o,isWindows:s(rs),isiOS:s(P),isAndroid:s(Z),isOSX:s(ke),isLinux:s(ue),isSolaris:s(He),isFreeBSD:s(Dt),isChromeOS:s(tr)}},Er={unknown:dr,nu:xn,windows:X(rs),ios:X(P),android:X(Z),linux:X(ue),osx:X(ke),solaris:X(He),freebsd:X(Dt),chromeos:X(tr)},Wr=function(t,r,o){var s=Io.browsers(),l=Io.oses(),f=r.bind(function(p){return As(s,p)}).orThunk(function(){return ki(s,t)}).fold(ns.unknown,ns.nu),d=Qu(l,t).fold(Er.unknown,Er.nu),h=ii(d,f,t,o);return{browser:f,os:d,deviceType:h}},$i={detect:Wr},ic=function(t){return window.matchMedia(t).matches},uc=yo(function(){return $i.detect(navigator.userAgent,x.from(navigator.userAgentData),ic)}),Lt=function(){return uc()},Ts=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},qc=function(t,r){return Ts(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},Hi=function(t,r){var o=t.dom;if(o.nodeType!==Zu)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},Dl=function(t){return t.nodeType!==Zu&&t.nodeType!==Ss&&t.nodeType!==Yu||t.childElementCount===0},Cf=function(t,r){var o=r===void 0?document:r.dom;return Dl(o)?[]:Ke(o.querySelectorAll(t),Ye.fromDom)},_l=function(t,r){var o=r===void 0?document:r.dom;return Dl(o)?x.none():x.from(o.querySelector(t)).map(Ye.fromDom)},jr=function(t,r){return t.dom===r.dom},Os=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},xf=function(t,r){return qc(t.dom,r.dom)},Ti=function(t,r){return Lt().browser.isIE()?xf(t,r):Os(t,r)},ao=function(t){return Ye.fromDom(t.dom.ownerDocument)},sc=function(t){return Fo(t)?t:ao(t)},Ce=function(t){return Ye.fromDom(sc(t).dom.documentElement)},Ds=function(t){return Ye.fromDom(sc(t).dom.defaultView)},La=function(t){return x.from(t.dom.parentNode).map(Ye.fromDom)},Bl=function(t){return La(t)},_u=function(t){return x.from(t.dom.offsetParent).map(Ye.fromDom)},k=function(t){return x.from(t.dom.nextSibling).map(Ye.fromDom)},E=function(t){return Ke(t.dom.childNodes,Ye.fromDom)},b=function(t,r){var o=t.dom.childNodes;return x.from(o[r]).map(Ye.fromDom)},_=function(t){return b(t,0)},j=function(t,r){return{element:t,offset:r}},J=function(t,r){var o=E(t);return o.length>0&&r<o.length?j(o[r],0):j(t,r)},ge=function(t){return ks(t)&&Jt(t.dom.host)},Ue=Wn(Element.prototype.attachShadow)&&Wn(Node.prototype.getRootNode),en=X(Ue),on=Ue?function(t){return Ye.fromDom(t.dom.getRootNode())}:sc,ct=function(t){return ge(t)?t:Ye.fromDom(sc(t).dom.body)},Wt=function(t){return kn(t).isSome()},kn=function(t){var r=on(t);return ge(r)?x.some(r):x.none()},Kn=function(t){return Ye.fromDom(t.dom.host)},tn=function(t){if(en()&&Jt(t.target)){var r=Ye.fromDom(t.target);if(na(r)&&qr(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return Xe(o)}}return x.from(t.target)},qr=function(t){return Jt(t.dom.shadowRoot)},Zt=function(t){var r=bo(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return kn(Ye.fromDom(r)).fold(function(){return o.body.contains(r)},$t(Zt,Kn))},pr=function(){return Pr(Ye.fromDom(document))},Pr=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return Ye.fromDom(r)},ou=function(t,r,o){if(Nt(o)||Yn(o)||Vr(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},Tn=function(t,r,o){ou(t.dom,r,o)},Rv=function(t,r){var o=t.dom;cn(r,function(s,l){ou(o,l,s)})},Yr=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Sa=function(t,r){return x.from(Yr(t,r))},ph=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},oo=function(t,r){t.dom.removeAttribute(r)},dm=function(t,r,o){if(!Nt(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Ni(t)&&t.style.setProperty(r,o)},Pv=function(t,r){Ni(t)&&t.style.removeProperty(r)},ln=function(t,r,o){var s=t.dom;dm(s,r,o)},_s=function(t,r){var o=t.dom;cn(r,function(s,l){dm(o,l,s)})},cc=function(t,r){var o=t.dom;cn(r,function(s,l){s.fold(function(){Pv(o,l)},function(f){dm(o,l,f)})})},ba=function(t,r){var o=t.dom,s=window.getComputedStyle(o),l=s.getPropertyValue(r);return l===""&&!Zt(t)?bh(o,r):l},bh=function(t,r){return Ni(t)?t.style.getPropertyValue(r):""},io=function(t,r){var o=t.dom,s=bh(o,r);return x.from(s).filter(function(l){return l.length>0})},Gc=function(t){var r={},o=t.dom;if(Ni(o))for(var s=0;s<o.style.length;s++){var l=o.style.item(s);r[l]=o.style[l]}return r},zl=function(t,r,o){var s=Ye.fromTag(t);ln(s,r,o);var l=io(s,r);return l.isSome()},xr=function(t,r){var o=t.dom;Pv(o,r),Rr(Sa(t,"style").map(Mo),"")&&oo(t,"style")},Kc=function(t){return t.dom.offsetWidth},ui=function(t,r){var o=function(h,p){if(!Vr(p)&&!p.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+p);var y=h.dom;Ni(y)&&(y.style[t]=p+"px")},s=function(h){var p=r(h);if(p<=0||p===null){var y=ba(h,t);return parseFloat(y)||0}return p},l=s,f=function(h,p){return Yt(p,function(y,S){var A=ba(h,S),z=A===void 0?0:parseInt(A,10);return isNaN(z)?y:y+z},0)},d=function(h,p,y){var S=f(h,y),A=p>S?p-S:0;return A};return{set:o,get:s,getOuter:l,aggregate:f,max:d}},Xc=ui("height",function(t){var r=t.dom;return Zt(t)?r.getBoundingClientRect().height:r.offsetHeight}),$a=function(t){return Xc.get(t)},iu=function(t){return Xc.getOuter(t)},yh=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=Xc.max(t,r,o);ln(t,"max-height",s+"px")},Yc=function(t,r){var o=function(s,l){return Yc(t+s,r+l)};return{left:t,top:r,translate:o}},Br=Yc,Ml=function(t){var r=t.getBoundingClientRect();return Br(r.left,r.top)},Zc=function(t,r){return t!==void 0?t:r!==void 0?r:0},si=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,l=r.documentElement;if(o===t.dom)return Br(o.offsetLeft,o.offsetTop);var f=Zc(s==null?void 0:s.pageYOffset,l.scrollTop),d=Zc(s==null?void 0:s.pageXOffset,l.scrollLeft),h=Zc(l.clientTop,o.clientTop),p=Zc(l.clientLeft,o.clientLeft);return Jc(t).translate(d-p,f-h)},Jc=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?Br(s.offsetLeft,s.offsetTop):Zt(t)?Ml(r):Br(0,0)},Fv=ui("width",function(t){return t.dom.offsetWidth}),wh=function(t,r){return Fv.set(t,r)},Xo=function(t){return Fv.get(t)},lc=function(t){return Fv.getOuter(t)},Bu=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Fv.max(t,r,o);ln(t,"max-width",s+"px")},Rl=function(t,r,o,s,l,f,d){return{target:t,x:r,y:o,stop:s,prevent:l,kill:f,raw:d}},mm=function(t){var r=Ye.fromDom(tn(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},l=Cn(s,o);return Rl(r,t.clientX,t.clientY,o,s,l,t)},wo=function(t,r){return function(o){t(o)&&r(mm(o))}},Iv=function(t,r,o,s,l){var f=wo(o,s);return t.dom.addEventListener(r,f,l),{unbind:rn(gm,t,r,f,l)}},xb=function(t,r,o,s){return Iv(t,r,o,s,!1)},Nv=function(t,r,o,s){return Iv(t,r,o,s,!0)},gm=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},ka=function(t,r){var o=La(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Lv=function(t,r){var o=k(t);o.fold(function(){var s=La(t);s.each(function(l){No(l,r)})},function(s){ka(s,r)})},Sf=function(t,r){var o=_(t);o.fold(function(){No(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},No=function(t,r){t.dom.appendChild(r.dom)},Qc=function(t,r,o){b(t,o).fold(function(){No(t,r)},function(s){ka(s,r)})},Sb=function(t,r){be(r,function(o){ka(t,o)})},el=function(t,r){be(r,function(o){No(t,o)})},$v=function(t){t.dom.textContent="",be(E(t),function(r){uu(r)})},uu=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},hm=function(t){var r=E(t);r.length>0&&Sb(t,r),uu(t)},su=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return Br(o,s)},Hv=function(t,r,o){var s=o!==void 0?o.dom:document,l=s.defaultView;l&&l.scrollTo(t,r)},kb=function(t){var r=t===void 0?window:t;return Lt().browser.isFirefox()?x.none():x.from(r.visualViewport)},pm=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},kf=function(t){var r=t===void 0?window:t,o=r.document,s=su(Ye.fromDom(o));return kb(r).fold(function(){var l=r.document.documentElement,f=l.clientWidth,d=l.clientHeight;return pm(s.left,s.top,f,d)},function(l){return pm(Math.max(l.pageLeft,s.left),Math.max(l.pageTop,s.top),l.width,l.height)})},Pl=function(t,r){var o=t.view(r);return o.fold(X([]),function(s){var l=t.owner(s),f=Pl(t,l);return[s].concat(f)})},Vv=function(t,r){var o=r.owner(t),s=Pl(r,o);return x.some(s)},fn=function(t){var r,o=t.dom===document?x.none():x.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(Ye.fromDom)},cu=function(t){return ao(t)},Uv=Object.freeze({__proto__:null,view:fn,owner:cu}),Wv=function(t){var r=Ye.fromDom(document),o=su(r),s=Vv(t,Uv);return s.fold(rn(si,t),function(l){var f=Jc(t),d=yn(l,function(h,p){var y=Jc(p);return{left:h.left+y.left,top:h.top+y.top}},{left:0,top:0});return Br(d.left+f.left+o.left,d.top+f.top+o.top)})},Ab=function(t,r,o){return{point:t,width:r,height:o}},tl=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},Xa=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Ya=function(t){var r=si(t),o=lc(t),s=iu(t);return Xa(r.left,r.top,o,s)},fc=function(t){var r=Wv(t),o=lc(t),s=iu(t);return Xa(r.left,r.top,o,s)},lu=function(){return kf(window)},Ct=function(t){var r=function(A){return Ct(t)},o=function(A){return Ct(t)},s=function(A){return Ct(A(t))},l=function(A){return Ct(t)},f=function(A){A(t)},d=function(A){return A(t)},h=function(A,z){return z(t)},p=function(A){return A(t)},y=function(A){return A(t)},S=function(){return x.some(t)};return{isValue:Ve,isError:ut,getOr:X(t),getOrThunk:X(t),getOrDie:X(t),or:r,orThunk:o,fold:h,map:s,mapError:l,each:f,bind:d,exists:p,forall:y,toOptional:S}},nl=function(t){var r=function(y){return y()},o=function(){return Fe(String(t))()},s=Mt,l=function(y){return y()},f=function(y){return nl(t)},d=function(y){return nl(y(t))},h=function(y){return nl(t)},p=function(y,S){return y(t)};return{isValue:ut,isError:Ve,getOr:Mt,getOrThunk:r,getOrDie:o,or:s,orThunk:l,fold:p,map:f,mapError:d,each:Pe,bind:h,exists:ut,forall:Ve,toOptional:x.none}},bm=function(t,r){return t.fold(function(){return nl(r)},Ct)},An={value:Ct,error:nl,fromOption:bm},Sr;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Sr||(Sr={}));var ym=function(t,r,o){return t.stype===Sr.Error?r(t.serror):o(t.svalue)},as=function(t){var r=[],o=[];return be(t,function(s){ym(s,function(l){return o.push(l)},function(l){return r.push(l)})}),{values:r,errors:o}},Gr=function(t,r){return t.stype===Sr.Error?{stype:Sr.Error,serror:r(t.serror)}:t},jv=function(t,r){return t.stype===Sr.Value?{stype:Sr.Value,svalue:r(t.svalue)}:t},Oi=function(t,r){return t.stype===Sr.Value?r(t.svalue):t},Af=function(t,r){return t.stype===Sr.Error?r(t.serror):t},Ch=function(t){return{stype:Sr.Value,svalue:t}},Yo=function(t){return{stype:Sr.Error,serror:t}},Eb=function(t){return ym(t,An.error,An.value)},Tb=function(t){return t.fold(Yo,Ch)},Zr={fromResult:Tb,toResult:Eb,svalue:Ch,partition:as,serror:Yo,bind:Oi,bindError:Af,map:jv,mapError:Gr,fold:ym},wm=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},w=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},O=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},M=function(t,r){return r},V=function(t,r){var o=Dn(t)&&Dn(r);return o?we(t,r):r},oe=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},l=0;l<r.length;l++){var f=r[l];for(var d in f)mn(f,d)&&(s[d]=t(s[d],f[d]))}return s}},we=oe(V),zt=oe(M),vn=function(){return{tag:"required",process:{}}},Jn=function(t){return{tag:"defaultedThunk",process:t}},Pn=function(t){return Jn(X(t))},Ir=function(){return{tag:"option",process:{}}},Zo=function(t){return{tag:"mergeWithThunk",process:t}},xh=function(t){return Zo(X(t))},w5=function(t,r){return t.length>0?Zr.svalue(we(r,zt.apply(void 0,t))):Zr.svalue(r)},XC=function(t){return Cn(Zr.serror,bt)(t)},YC=function(t,r){var o=Zr.partition(t);return o.errors.length>0?XC(o.errors):w5(o.values,r)},C5=function(t){var r=Zr.partition(t);return r.errors.length>0?XC(r.errors):Zr.svalue(r.values)},Ob={consolidateObj:YC,consolidateArr:C5},Db=function(t){return Dn(t)&&st(t).length>100?" removed due to size":JSON.stringify(t,null,2)},ZC=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:X("... (only showing first ten failures)")}]):t;return Ke(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},qv=function(t,r){return Zr.serror([{path:t,getErrorInfo:r}])},_b=function(t,r,o){return qv(t,function(){return'Could not find valid *required* value for "'+r+'" in '+Db(o)})},Bb=function(t,r){return qv(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},x5=function(t,r,o){return qv(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+Db(r)})},S5=function(t,r){return qv(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},k5=function(t,r){return qv(t,X(r))},Bs=function(t){var r=function(s,l){return Zr.bindError(t(l),function(f){return k5(s,f)})},o=X("val");return{extract:r,toString:o}},JC=Bs(Zr.svalue),A5=function(t,r,o,s){return Ot(r,o).fold(function(){return _b(t,o,r)},s)},zb=function(t,r,o,s){var l=Ot(t,r).getOrThunk(function(){return o(t)});return s(l)},E5=function(t,r,o){return o(Ot(t,r))},T5=function(t,r,o,s){var l=Ot(t,r).map(function(f){return f===!0?o(t):f});return s(l)},Gv=function(t,r,o,s,l){var f=function(h){return l.extract(r.concat([s]),h)},d=function(h){return h.fold(function(){return Zr.svalue(x.none())},function(p){var y=l.extract(r.concat([s]),p);return Zr.map(y,x.some)})};switch(t.tag){case"required":return A5(r,o,s,f);case"defaultedThunk":return zb(o,s,t.process,f);case"option":return E5(o,s,d);case"defaultedOptionThunk":return T5(o,s,t.process,d);case"mergeWithThunk":return zb(o,s,X({}),function(h){var p=we(t.process(o),h);return f(p)})}},Cm=function(t,r,o){for(var s={},l=[],f=0,d=o;f<d.length;f++){var h=d[f];O(h,function(p,y,S,A){var z=Gv(S,t,r,p,A);Zr.fold(z,function(R){l.push.apply(l,R)},function(R){s[y]=R})},function(p,y){s[p]=y(r)})}return l.length>0?Zr.serror(l):Zr.svalue(s)},QC=function(t){var r=function(s,l){return t().extract(s,l)},o=function(){return t().toString()};return{extract:r,toString:o}},ex=function(t){return st(or(t,Jt))},fu=function(t){var r=Ft(t),o=yn(t,function(l,f){return O(f,function(d){var h;return we(l,(h={},h[d]=!0,h))},X(l))},{}),s=function(l,f){var d=Yn(f)?[]:ex(f),h=dt(d,function(p){return!Bn(o,p)});return h.length===0?r.extract(l,f):S5(l,h)};return{extract:s,toString:r.toString}},Ft=function(t){var r=function(s,l){return Cm(s,l,t)},o=function(){var s=Ke(t,function(l){return O(l,function(f,d,h,p){return f+" -> "+p.toString()},function(f,d){return"state("+f+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},rl=function(t){var r=function(s,l){var f=Ke(l,function(d,h){return t.extract(s.concat(["["+h+"]"]),d)});return Ob.consolidateArr(f)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},Mb=function(t){var r=function(s,l){for(var f=[],d=0,h=t;d<h.length;d++){var p=h[d],y=p.extract(s,l);if(y.stype===Sr.Value)return y;f.push(y)}return Ob.consolidateArr(f)},o=function(){return"oneOf("+Ke(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},xm=function(t,r){var o=function(f,d){return rl(Bs(t)).extract(f,d)},s=function(f,d){var h=st(d),p=o(f,h);return Zr.bind(p,function(y){var S=Ke(y,function(A){return wm(A,A,vn(),r)});return Ft(S).extract(f,d)})},l=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:l}},Sh=function(t,r){var o=yo(r),s=function(f,d){return o().extract(f,d)},l=function(){return o().toString()};return{extract:s,toString:l}},Rb=Cn(rl,Ft),zs=X(JC),Ef=function(t,r){return Bs(function(o){var s=typeof o;return t(o)?Zr.svalue(o):Zr.serror("Expected type: "+r+" but got: "+s)})},Kv=Ef(Vr,"number"),Aa=Ef(Nt,"string"),uo=Ef(Yn,"boolean"),Sm=Ef(Wn,"function"),tx=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return tx(t[r])});default:return!1}},Pb=Bs(function(t){return tx(t)?Zr.svalue(t):Zr.serror("Expected value to be acceptable for sending via postMessage")}),nx=function(t,r,o,s){var l=Ot(o,s);return l.fold(function(){return x5(t,o,s)},function(f){return f.extract(t.concat(["branch: "+s]),r)})},kh=function(t,r){var o=function(l,f){var d=Ot(f,t);return d.fold(function(){return Bb(l,t)},function(h){return nx(l,f,r,h)})},s=function(){return"chooseOn("+t+"). Possible values: "+st(r)};return{extract:o,toString:s}},O5=function(){return rl(JC)},Xv=function(t){return Bs(function(r){return t(r).fold(Zr.serror,Zr.svalue)})},Lo=function(t,r){return xm(function(o){return Zr.fromResult(t(o))},r)},rx=function(t,r,o){var s=r.extract([t],o);return Zr.mapError(s,function(l){return{input:o,errors:l}})},ia=function(t,r,o){return Zr.toResult(rx(t,r,o))},Ms=function(t){return t.fold(function(r){throw new Error(Tf(r))},Mt)},Tr=function(t,r,o){return Ms(ia(t,r,o))},Tf=function(t){return`Errors: 
`+ZC(t.errors).join(`
`)+`

Input object: `+Db(t.input)},zu=function(t,r){return kh(t,kt(r,Ft))},D5=function(t,r){return Sh(t,r)},Za=wm,Di=w,ax=function(t){return Xv(function(r){return _n(t,r)?An.value(r):An.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},Te=function(t){return Za(t,t,vn(),zs())},Vi=function(t,r){return Za(t,t,vn(),r)},Fl=function(t){return Vi(t,Kv)},un=function(t){return Vi(t,Aa)},Mu=function(t,r){return Za(t,t,vn(),ax(r))},_5=function(t){return Vi(t,uo)},Jo=function(t){return Vi(t,Sm)},Yv=function(t,r){return Za(t,t,Ir(),Bs(function(o){return Zr.serror("The field: "+t+" is forbidden. "+r)}))},al=function(t,r){return Za(t,t,vn(),Ft(r))},Ah=function(t,r){return Za(t,t,vn(),Rb(r))},ci=function(t,r){return Za(t,t,vn(),rl(r))},vr=function(t){return Za(t,t,Ir(),zs())},Rs=function(t,r){return Za(t,t,Ir(),r)},km=function(t){return Rs(t,Kv)},Fr=function(t){return Rs(t,Aa)},Of=function(t){return Rs(t,Sm)},Ui=function(t,r){return Rs(t,rl(r))},vu=function(t,r){return Rs(t,Ft(r))},B5=function(t,r){return Rs(t,fu(r))},ae=function(t,r){return Za(t,t,Pn(r),zs())},Wi=function(t,r,o){return Za(t,t,Pn(r),o)},vc=function(t,r){return Wi(t,r,Kv)},Zv=function(t,r){return Wi(t,r,Aa)},Ru=function(t,r,o){return Wi(t,r,ax(o))},ua=function(t,r){return Wi(t,r,uo)},zr=function(t,r){return Wi(t,r,Sm)},Pu=function(t,r){return Wi(t,r,Pb)},Am=function(t,r,o){return Wi(t,r,rl(o))},Fb=function(t,r,o){return Wi(t,r,Ft(o))},jt=function(t){var r=t,o=function(){return r},s=function(l){r=l};return{get:o,set:s}},Ib=function(t){if(!pn(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return be(t,function(s,l){var f=st(s);if(f.length!==1)throw new Error("one and only one name per case");var d=f[0],h=s[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!pn(h))throw new Error("case arguments must be an array");r.push(d),o[d]=function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];var S=p.length;if(S!==h.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+h.length+" ("+h+"), got "+S);var A=function(z){var R=st(z);if(r.length!==R.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+R.join(","));var N=yr(r,function(W){return _n(R,W)});if(!N)throw new Error("Not all branches were specified when using match. Specified: "+R.join(", ")+`
Required: `+r.join(", "));return z[d].apply(null,p)};return{fold:function(){for(var z=[],R=0;R<arguments.length;R++)z[R]=arguments[R];if(z.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+z.length);var N=z[l];return N.apply(null,p)},match:A,log:function(z){console.log(z,{constructors:r,constructor:d,params:p})}}}}),o},Fu={generate:Ib};Fu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var z5=function(t){var r=[],o=[];return be(t,function(s){s.fold(function(l){r.push(l)},function(l){o.push(l)})}),{errors:r,values:o}},Eh=function(t,r){var o={};return cn(t,function(s,l){_n(r,l)||(o[l]=s)}),o},Th=function(t,r){var o;return o={},o[t]=r,o},M5=function(t){var r={};return be(t,function(o){r[o.key]=o.value}),r},Nb=function(t,r){return Eh(t,r)},dc=function(t,r){return Th(t,r)},Df=function(t){return M5(t)},R5=function(t,r){return t.length===0?An.value(r):An.value(we(r,zt.apply(void 0,t)))},P5=function(t){return An.error(bt(t))},F5=function(t,r){var o=z5(t);return o.errors.length>0?P5(o.errors):R5(o.values,r)},ox=function(t){return Wn(t)?t:ut},Lb=function(t,r,o){for(var s=t.dom,l=ox(o);s.parentNode;){s=s.parentNode;var f=Ye.fromDom(s),d=r(f);if(d.isSome())return d;if(l(f))break}return x.none()},$b=function(t,r,o){var s=r(t),l=ox(o);return s.orThunk(function(){return l(t)?x.none():Lb(t,r,l)})},ix=function(t,r){return jr(t.element,r.event.target)},mc={can:Ve,abort:ut,run:Pe},Jv=function(t){if(!Bn(t,"can")&&!Bn(t,"abort")&&!Bn(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return K(K({},mc),t)},Hb=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Yt(t,function(l,f){return l&&r(f).apply(void 0,o)},!0)}},I5=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Yt(t,function(l,f){return l||r(f).apply(void 0,o)},!1)}},N5=function(t){return Wn(t)?{can:Ve,abort:ut,run:t}:t},L5=function(t){var r=Hb(t,function(l){return l.can}),o=I5(t,function(l){return l.abort}),s=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];be(t,function(d){d.run.apply(void 0,l)})};return{can:r,abort:o,run:s}},Ha=X,ol=Ha("touchstart"),Ps=Ha("touchmove"),Em=Ha("touchend"),ux=Ha("touchcancel"),os=Ha("mousedown"),_f=Ha("mousemove"),Vb=Ha("mouseout"),Ub=Ha("mouseup"),Il=Ha("mouseover"),Nl=Ha("focusin"),Co=Ha("focusout"),Oh=Ha("keydown"),sx=Ha("keyup"),Qv=Ha("input"),ed=Ha("change"),Tm=Ha("click"),$5=Ha("transitioncancel"),Om=Ha("transitionend"),Wb=Ha("transitionstart"),H5=Ha("selectstart"),sa=function(t){return X("alloy."+t)},Dh={tap:sa("tap")},Ll=sa("focus"),jb=sa("blur.post"),qb=sa("paste.post"),Iu=sa("receive"),du=sa("execute"),Dm=sa("focus.item"),td=Dh.tap,Gb=sa("longpress"),_m=sa("sandbox.close"),Kb=sa("typeahead.cancel"),Bm=sa("system.init"),Xb=sa("system.touchmove"),V5=sa("system.touchend"),Yb=sa("system.scroll"),Fs=sa("system.resize"),mu=sa("system.attached"),zm=sa("system.detached"),Is=sa("system.dismissRequested"),Qo=sa("system.repositionRequested"),_h=sa("focusmanager.shifted"),Bh=sa("slotcontainer.visibility"),cx=sa("change.tab"),xo=sa("dismiss.tab"),lx=sa("highlight"),Mm=sa("dehighlight"),Fn=function(t,r){Rm(t,t.element,r,{})},qt=function(t,r,o){Rm(t,t.element,r,o)},il=function(t){Fn(t,du())},Zb=function(t,r,o){Rm(t,r,o,{})},Rm=function(t,r,o,s){var l=K({target:r},s);t.getSystem().triggerEvent(o,r,l)},fx=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},Mr=function(t){return Df(t)},vx=function(t,r){return{key:t,value:Jv({abort:r})}},dx=function(t,r){return{key:t,value:Jv({can:r})}},mx=function(t){return{key:t,value:Jv({run:function(r,o){o.event.prevent()}})}},Oe=function(t,r){return{key:t,value:Jv({run:r})}},Pm=function(t,r,o){return{key:t,value:Jv({run:function(s,l){r.apply(void 0,[s,l].concat(o))}})}},zh=function(t){return function(r){return Oe(t,r)}},Mh=function(t){return function(r){return{key:t,value:Jv({run:function(o,s){ix(o,s)&&r(o,s)}})}}},nd=function(t,r){return Oe(t,function(o,s){o.getSystem().getByUid(r).each(function(l){fx(l,l.element,t,s)})})},rd=function(t,r,o){var s=r.partUids[o];return nd(t,s)},$l=function(t,r){return Oe(t,function(o,s){var l=s.event,f=o.getSystem().getByDom(l.target).getOrThunk(function(){var d=$b(l.target,function(h){return o.getSystem().getByDom(h).toOptional()},ut);return d.getOr(o)});r(o,f,s)})},ya=function(t){return Oe(t,function(r,o){o.cut()})},Nr=function(t){return Oe(t,function(r,o){o.stop()})},ul=function(t,r){return Mh(t)(r)},ca=Mh(mu()),gu=Mh(zm()),Jb=Mh(Bm()),gc=zh(du()),Rh=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,E(Ye.fromDom(s))},hc=function(t){return t.dom.innerHTML},pc=function(t,r){var o=ao(t),s=o.dom,l=Ye.fromDom(s.createDocumentFragment()),f=Rh(r,s);el(l,f),$v(t),No(t,l)},Hl=function(t){var r=Ye.fromTag("div"),o=Ye.fromDom(t.dom.cloneNode(!0));return No(r,o),hc(r)},Nu=function(t,r){return Ye.fromDom(t.dom.cloneNode(r))},Ph=function(t){return Nu(t,!1)},bc=function(t){if(ge(t))return"#shadow-root";var r=Ph(t);return Hl(r)},ji=function(t){return bc(t)},ad=function(t,r,o){return jr(r,t.element)&&!jr(r,o)},U5=Mr([dx(Ll(),function(t,r){var o=r.event,s=o.originator,l=o.target;return ad(t,s,l)?(console.warn(Ll()+` did not get interpreted by the desired target. 
Originator: `+ji(s)+`
Target: `+ji(l)+`
Check the `+Ll()+" event handlers"),!1):!0})]),Fm=Object.freeze({__proto__:null,events:U5}),$o=0,wt=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return $o++,t+"_"+s+$o+String(o)},yc=X("alloy-id-"),W5=X("data-alloy-id"),gx=yc(),Qb=W5(),hx=function(t,r){var o=wt(gx+t);return Im(r,o),o},Im=function(t,r){Object.defineProperty(t.dom,Qb,{value:r,writable:!0})},Vl=function(t){var r=na(t)?t.dom[Qb]:null;return x.from(r)},Bf=function(t){return wt(t)},j5=Mt,Ns=function(t){var r=function(l){return"The component must be in a context to execute: "+l+(t?`
`+ji(t().element)+" is not in context.":"")},o=function(l){return function(){throw new Error(r(l))}},s=function(l){return function(){console.warn(r(l))}};return{debugInfo:X("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:ut}},q5=Ns(),G5=function(t,r,o){var s=o.toString(),l=s.indexOf(")")+1,f=s.indexOf("("),d=s.substring(f+1,l-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:wc(d.slice(0,1).concat(d.slice(3)))}},t},wc=function(t){return Ke(t,function(r){return Vt(r,"/*")?r.substring(0,r.length-2):r})},Fh=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,l=o.indexOf("("),f=o.substring(l+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:wc(f)}},t},zf=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,l=o.indexOf("("),f=o.substring(l+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:wc(f.slice(1))}},t},px=wt("alloy-premade"),Ea=function(t){return dc(px,t)},Mf=function(t){return Ot(t,px)},Nm=function(t){return zf(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,Rt([r.getApis(),r],o,!1))},t)},is={init:function(){return li({readState:X("No State required")})}},li=function(t){return t},K5=function(t,r){var o=Ke(r,function(l){return vu(l.name(),[Te("config"),ae("state",is)])}),s=ia("component.behaviours",Ft(o),t.behaviours).fold(function(l){throw new Error(Tf(l)+`
Complete spec:
`+JSON.stringify(t,null,2))},Mt);return{list:r,data:kt(s,function(l){var f=l.map(function(d){return{config:d.config,state:d.state.init(d.config)}});return X(f)})}},X5=function(t){return t.list},Y5=function(t){return t.data},bx=function(t,r){var o={};return cn(t,function(s,l){cn(s,function(f,d){var h=Ot(o,d).getOr([]);o[d]=h.concat([r(l,f)])})}),o},us=function(t){return{classes:nr(t.classes)?[]:t.classes,attributes:nr(t.attributes)?{}:t.attributes,styles:nr(t.styles)?{}:t.styles}},Ih=function(t,r){return K(K({},t),{attributes:K(K({},t.attributes),r.attributes),styles:K(K({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Z5=function(t,r,o,s){var l=K({},r);be(o,function(S){l[S.name()]=S.exhibit(t,s)});var f=bx(l,function(S,A){return{name:S,modification:A}}),d=function(S){return yn(S,function(A,z){return K(K({},z.modification),A)},{})},h=yn(f.classes,function(S,A){return A.modification.concat(S)},[]),p=d(f.attributes),y=d(f.styles);return us({classes:h,attributes:p,styles:y})},J5=function(t,r,o,s){try{var l=za(o,function(f,d){var h=f[r],p=d[r],y=s.indexOf(h),S=s.indexOf(p);if(y===-1)throw new Error("The ordering for "+t+" does not have an entry for "+h+`.
Order specified: `+JSON.stringify(s,null,2));if(S===-1)throw new Error("The ordering for "+t+" does not have an entry for "+p+`.
Order specified: `+JSON.stringify(s,null,2));return y<S?-1:S<y?1:0});return An.value(l)}catch(f){return An.error([f])}},e0=function(t,r){return{handler:t,purpose:r}},Q5=function(t,r){return{cHandler:t,purpose:r}},t0=function(t,r){return Q5(rn.apply(void 0,[t.handler].concat(r)),t.purpose)},n0=function(t){return t.cHandler},Ul=function(t,r){return{name:t,handler:r}},Wl=function(t,r){var o={};return be(t,function(s){o[s.name()]=s.handlers(r)}),o},Or=function(t,r,o){var s=K(K({},o),Wl(r,t));return bx(s,Ul)},r0=function(t,r,o,s){var l=Or(t,o,s);return tO(l,r)},Ls=function(t){var r=N5(t);return function(o,s){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];var d=[o,s].concat(l);r.abort.apply(void 0,d)?s.stop():r.can.apply(void 0,d)&&r.run.apply(void 0,d)}},yx=function(t,r){return An.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ke(r,function(o){return o.name}),null,2)])},eO=function(t,r,o){var s=r[o];return s?J5("Event: "+o,"name",t,s).map(function(l){var f=Ke(l,function(d){return d.handler});return L5(f)}):yx(o,t)},tO=function(t,r){var o=ja(t,function(s,l){var f=s.length===1?An.value(s[0].handler):eO(s,r,l);return f.map(function(d){var h=Ls(d),p=s.length>1?dt(r[l],function(y){return Cr(s,function(S){return S.name===y})}).join(" > "):s[0].name;return dc(l,e0(h,p))})});return F5(o,{})},fi,sl="alloy.base.behaviour",wx=Ft([Za("dom","dom",vn(),Ft([Te("tag"),ae("styles",{}),ae("classes",[]),ae("attributes",{}),vr("value"),vr("innerHtml")])),Te("components"),Te("uid"),ae("events",{}),ae("apis",{}),Za("eventOrder","eventOrder",xh((fi={},fi[du()]=["disabling",sl,"toggling","typeaheadevents"],fi[Ll()]=[sl,"focusing","keying"],fi[Bm()]=[sl,"disabling","toggling","representing"],fi[Qv()]=[sl,"representing","streaming","invalidating"],fi[zm()]=[sl,"representing","item-events","tooltipping"],fi[os()]=["focusing",sl,"item-type-events"],fi[ol()]=["focusing",sl,"item-type-events"],fi[Il()]=["item-type-events","tooltipping"],fi[Iu()]=["receiving","reflecting","tooltipping"],fi)),zs()),vr("domModification")]),Nh=function(t){return ia("custom.definition",wx,t)},a0=function(t){return K(K({},t.dom),{uid:t.uid,domChildren:Ke(t.components,function(r){return r.element})})},o0=function(t){return t.domModification.fold(function(){return us({})},us)},nO=function(t){return t.events},od=function(t,r){var o=Yr(t,r);return o===void 0||o===""?[]:o.split(" ")},i0=function(t,r,o){var s=od(t,r),l=s.concat([o]);return Tn(t,r,l.join(" ")),!0},u0=function(t,r,o){var s=dt(od(t,r),function(l){return l!==o});return s.length>0?Tn(t,r,s.join(" ")):oo(t,r),!1},Lh=function(t){return t.dom.classList!==void 0},Cx=function(t){return od(t,"class")},s0=function(t,r){return i0(t,"class",r)},rO=function(t,r){return u0(t,"class",r)},so=function(t,r){Lh(t)?t.dom.classList.add(r):s0(t,r)},Lm=function(t){var r=Lh(t)?t.dom.classList:Cx(t);r.length===0&&oo(t,"class")},Pa=function(t,r){if(Lh(t)){var o=t.dom.classList;o.remove(r)}else rO(t,r);Lm(t)},vi=function(t,r){return Lh(t)&&t.dom.classList.contains(r)},cl=function(t,r){be(r,function(o){so(t,o)})},Cc=function(t,r){be(r,function(o){Pa(t,o)})},xx=function(t,r){return yr(r,function(o){return vi(t,o)})},Lu=function(t){return t.dom.value},id=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Sx=function(t){var r=Ye.fromTag(t.tag);Rv(r,t.attributes),cl(r,t.classes),_s(r,t.styles),t.innerHtml.each(function(s){return pc(r,s)});var o=t.domChildren;if(el(r,o),t.value.each(function(s){id(r,s)}),!t.uid)debugger;return Im(r,t.uid),r},aO=function(t){var r=Ot(t,"behaviours").getOr({});return er(st(r),function(o){var s=r[o];return Jt(s)?[s.me]:[]})},oO=function(t,r){return K5(t,r)},iO=function(t){var r=aO(t);return oO(t,r)},uO=function(t,r,o){var s=a0(t),l=o0(t),f={"alloy.base.modification":l},d=r.length>0?Z5(o,f,r,s):l;return Ih(s,d)},c0=function(t,r,o){var s={"alloy.base.behaviour":nO(t)};return r0(o,t.eventOrder,r,s).getOrDie()},l0=function(t){var r=function(){return re},o=jt(q5),s=Ms(Nh(t)),l=iO(t),f=X5(l),d=Y5(l),h=uO(s,f,d),p=Sx(h),y=c0(s,f,d),S=jt(s.components),A=function(me){o.set(me)},z=function(){o.set(Ns(r))},R=function(){var me=E(p),ye=er(me,function(ne){return o.get().getByDom(ne).fold(function(){return[]},pa)});S.set(ye)},N=function(me){var ye=d,ne=Wn(ye[me.name()])?ye[me.name()]:function(){throw new Error("Could not find "+me.name()+" in "+JSON.stringify(t,null,2))};return ne()},W=function(me){return Wn(d[me.name()])},te=function(){return s.apis},H=function(me){return d[me]().map(function(ye){return ye.state.readState()}).getOr("not enabled")},re={uid:t.uid,getSystem:o.get,config:N,hasConfigured:W,spec:t,readState:H,getApis:te,connect:A,disconnect:z,element:p,syncComponents:R,components:S.get,events:y};return re},$u=function(t){var r=Ot(t,"components").getOr([]);return Ke(r,Ho)},sO=function(t){var r=j5(t),o=r.events,s=Ge(r,["events"]),l=$u(s),f=K(K({},s),{events:K(K({},Fm),o),components:l});return An.value(l0(f))},Rf=function(t){var r=Ye.fromText(t);return $h({element:r})},$h=function(t){var r=Tr("external.component",fu([Te("element"),vr("uid")]),t),o=jt(Ns()),s=function(h){o.set(h)},l=function(){o.set(Ns(function(){return d}))},f=r.uid.getOrThunk(function(){return Bf("external")});Im(r.element,f);var d={uid:f,getSystem:o.get,config:x.none,hasConfigured:ut,connect:s,disconnect:l,getApis:function(){return{}},element:r.element,spec:t,readState:X("No state"),syncComponents:Pe,components:X([]),events:{}};return Ea(d)},ll=Bf,kx=function(t){return mn(t,"uid")},Ho=function(t){return Mf(t).getOrThunk(function(){var r=kx(t)?t:K({uid:ll("")},t);return sO(r).getOrDie()})},hu=Ea;function Hh(t,r,o,s,l){return t(o,s)?x.some(o):Wn(l)&&l(o)?x.none():r(o,s,l)}var f0=function(t,r,o){for(var s=t.dom,l=Wn(o)?o:ut;s.parentNode;){s=s.parentNode;var f=Ye.fromDom(s);if(r(f))return x.some(f);if(l(f))break}return x.none()},wn=function(t,r,o){var s=function(l,f){return f(l)};return Hh(s,f0,t,r,o)},$m=function(t,r){var o=function(l){return r(Ye.fromDom(l))},s=at(t.dom.childNodes,o);return s.map(Ye.fromDom)},cO=function(t,r){var o=function(s){for(var l=0;l<s.childNodes.length;l++){var f=Ye.fromDom(s.childNodes[l]);if(r(f))return x.some(f);var d=o(s.childNodes[l]);if(d.isSome())return d}return x.none()};return o(t.dom)},Vh=function(t,r,o){return wn(t,r,o).isSome()},Uh=function(t,r,o){return f0(t,function(s){return Hi(s,r)},o)},lO=function(t,r){return $m(t,function(o){return Hi(o,r)})},Fa=function(t,r){return _l(r,t)},_i=function(t,r,o){var s=function(l,f){return Hi(l,f)};return Hh(s,Uh,t,r,o)},Lr=function(t){var r=wn(t,function(o){if(!na(o))return!1;var s=Yr(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=Yr(o,"id"),l=on(o);return Fa(l,'[aria-owns="'+s+'"]')})},Ax=function(){var t=wt("aria-owns"),r=function(s){Tn(s,"aria-owns",t)},o=function(s){oo(s,"aria-owns")};return{id:t,link:r,unlink:o}},v0=function(t,r){return Lr(r).exists(function(o){return Pf(t,o)})},Pf=function(t,r){return Vh(r,function(o){return jr(o,t.element)},ut)||v0(t,r)},Ex="unknown",Ff;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Ff||(Ff={}));var ud=jt({}),Tx=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(l,f,d){o.push({outcome:"cut",target:f,purpose:d})},logEventStopped:function(l,f,d){o.push({outcome:"stopped",target:f,purpose:d})},logNoParent:function(l,f,d){o.push({outcome:"no-parent",target:f,purpose:d})},logEventNoHandlers:function(l,f){o.push({outcome:"no-handlers-left",target:f})},logEventResponse:function(l,f,d){o.push({outcome:"response",purpose:d,target:f})},write:function(){var l=new Date().getTime();_n(["mousemove","mouseover","mouseout",Bm()],t)||console.log(t,{event:t,time:l-s,target:r.dom,sequence:Ke(o,function(f){return _n(["cut","stopped","response"],f.outcome)?"{"+f.purpose+"} "+f.outcome+" at ("+ji(f.target)+")":f.outcome})})}}},fl=function(t,r,o){var s=Ot(ud.get(),t).orThunk(function(){var d=st(ud.get());return gt(d,function(h){return t.indexOf(h)>-1?x.some(ud.get()[h]):x.none()})}).getOr(Ff.NORMAL);switch(s){case Ff.NORMAL:return o(d0());case Ff.LOGGING:{var l=Tx(t,r),f=o(l);return l.write(),f}case Ff.STOP:return!0}},di=["alloy/data/Fields","alloy/debugging/Debugging"],fO=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return at(r,function(o){return o.indexOf("alloy")>0&&!Cr(di,function(s){return o.indexOf(s)>-1})}).getOr(Ex)}else return Ex},vO={logEventCut:Pe,logEventStopped:Pe,logNoParent:Pe,logEventNoHandlers:Pe,logEventResponse:Pe,write:Pe},If=function(t,r,o){return fl(t,r,o)},d0=X(vO),m0=X([Te("menu"),Te("selectedMenu")]),g0=X([Te("item"),Te("selectedItem")]);X(Ft(g0().concat(m0())));var dO=X(Ft(g0())),mO=al("initSize",[Te("numColumns"),Te("numRows")]),gO=function(){return Vi("markers",dO())},Wh=function(){return al("markers",[Te("backgroundMenu")].concat(m0()).concat(g0()))},Nf=function(t){return al("markers",Ke(t,Te))},jh=function(t,r,o){return fO(),Za(r,r,o,Xv(function(s){return An.value(function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];return s.apply(void 0,l)})}))},zn=function(t){return jh("onHandler",t,Pn(Pe))},la=function(t){return jh("onKeyboardHandler",t,Pn(x.none))},Lf=function(t){return jh("onHandler",t,vn())},jl=function(t){return jh("onKeyboardHandler",t,vn())},Dr=function(t,r){return Di(t,X(r))},h0=function(t){return Di(t,Mt)},qh=X(mO),So=function(t,r,o,s,l,f,d,h){return h===void 0&&(h=!1),{x:t,y:r,bubble:o,direction:s,placement:l,restriction:f,label:d+"-"+l,alwaysFit:h}},ql=Fu.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Gh=function(t,r,o,s,l,f,d,h,p){return t.fold(r,o,s,l,f,d,h,p)},hO=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},pO=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},Kh=ql.southeast,sd=ql.southwest,p0=ql.northeast,b0=ql.northwest,y0=ql.south,w0=ql.north,Bi=ql.east,Xh=ql.west,xc=function(t,r,o,s){var l=t+r;return l>s?o:l<o?s:l},zi=function(t,r,o){return Math.min(Math.max(t,r),o)},Ox=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},ko=function(t,r){return va(["left","right","top","bottom"],function(o){return Ot(r,o).map(function(s){return Ox(t,s)})})},bO=function(t,r,o){var s=function(p,y){return r[p].map(function(S){var A=p==="top"||p==="bottom",z=A?o.top:o.left,R=p==="left"||p==="top"?Math.max:Math.min,N=R(S,y)+z;return A?zi(N,t.y,t.bottom):zi(N,t.x,t.right)}).getOr(y)},l=s("left",t.x),f=s("top",t.y),d=s("right",t.right),h=s("bottom",t.bottom);return Xa(l,f,d-l,h-f)},Gl="layout",Dx=function(t){return t.x},_x=function(t,r){return t.x+t.width/2-r.width/2},Bx=function(t,r){return t.x+t.width-r.width},Yh=function(t,r){return t.y-r.height},Zh=function(t){return t.y+t.height},zx=function(t,r){return t.y+t.height/2-r.height/2},yO=function(t){return t.x+t.width},wO=function(t,r){return t.x-r.width},Vo=function(t,r,o){return So(Dx(t),Zh(t),o.southeast(),Kh(),"southeast",ko(t,{left:1,top:3}),Gl)},Ao=function(t,r,o){return So(Bx(t,r),Zh(t),o.southwest(),sd(),"southwest",ko(t,{right:0,top:3}),Gl)},mi=function(t,r,o){return So(Dx(t),Yh(t,r),o.northeast(),p0(),"northeast",ko(t,{left:1,bottom:2}),Gl)},co=function(t,r,o){return So(Bx(t,r),Yh(t,r),o.northwest(),b0(),"northwest",ko(t,{right:0,bottom:2}),Gl)},Mi=function(t,r,o){return So(_x(t,r),Yh(t,r),o.north(),w0(),"north",ko(t,{bottom:2}),Gl)},Eo=function(t,r,o){return So(_x(t,r),Zh(t),o.south(),y0(),"south",ko(t,{top:3}),Gl)},Jh=function(t,r,o){return So(yO(t),zx(t,r),o.east(),Bi(),"east",ko(t,{left:0}),Gl)},Kl=function(t,r,o){return So(wO(t,r),zx(t,r),o.west(),Xh(),"west",ko(t,{right:1}),Gl)},Xl=function(){return[Vo,Ao,mi,co,Eo,Mi,Jh,Kl]},C0=function(){return[Ao,Vo,co,mi,Eo,Mi,Jh,Kl]},Mx=function(){return[mi,co,Vo,Ao,Mi,Eo]},x0=function(){return[co,mi,Ao,Vo,Mi,Eo]},Yl=function(){return[Vo,Ao,mi,co,Eo,Mi]},Zl=function(){return[Ao,Vo,co,mi,Eo,Mi]},Rx=function(t,r){return r.universal?t:dt(t,function(o){return _n(r.channels,o)})},CO=function(t){return Mr([Oe(Iu(),function(r,o){var s=t.channels,l=st(s),f=o,d=Rx(l,f);be(d,function(h){var p=s[h],y=p.schema,S=Tr("channel["+h+`] data
Receiver: `+ji(r.element),y,f.data);p.onReceive(r,S)})})])},Qh=Object.freeze({__proto__:null,events:CO}),Jl=[Vi("channels",Lo(An.value,fu([Lf("onReceive"),ae("schema",zs())])))],xO=function(t,r,o){return gc(function(s){o(s,t,r)})},S0=function(t,r,o){return Jb(function(s,l){o(s,t,r)})},Px=function(t,r,o,s,l,f){var d=fu(t),h=vu(r,[B5("config",t)]);return Ix(d,h,r,o,s,l,f)},SO=function(t,r,o,s,l,f){var d=t,h=vu(r,[Rs("config",t)]);return Ix(d,h,r,o,s,l,f)},kO=function(t,r,o){var s=function(l){for(var f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=[l].concat(f);return l.config({name:X(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(p){var y=Array.prototype.slice.call(h,1);return r.apply(void 0,[l,p.config,p.state].concat(y))})};return G5(s,o,r)},Fx=function(t){return{key:t,value:void 0}},Ix=function(t,r,o,s,l,f,d){var h=function(A){return Bn(A,o)?A[o]():x.none()},p=kt(l,function(A,z){return kO(o,A,z)}),y=kt(f,function(A,z){return Fh(A,z)}),S=K(K(K({},y),p),{revoke:rn(Fx,o),config:function(A){var z=Tr(o+"-config",t,A);return{key:o,value:{config:z,me:S,configAsRaw:yo(function(){return Tr(o+"-config",t,A)}),initialConfig:A,state:d}}},schema:X(r),exhibit:function(A,z){return Ur(h(A),Ot(s,"exhibit"),function(R,N){return N(z,R.config,R.state)}).getOrThunk(function(){return us({})})},name:X(o),handlers:function(A){return h(A).map(function(z){var R=Ot(s,"events").getOr(function(){return{}});return R(z.config,z.state)}).getOr({})}});return S},qe=function(t){return Df(t)},AO=fu([Te("fields"),Te("name"),ae("active",{}),ae("apis",{}),ae("state",is),ae("extra",{})]),Ta=function(t){var r=Tr("Creating behaviour: "+t.name,AO,t);return Px(r.fields,r.name,r.active,r.apis,r.extra,r.state)},EO=fu([Te("branchKey"),Te("branches"),Te("name"),ae("active",{}),ae("apis",{}),ae("state",is),ae("extra",{})]),cd=function(t){var r=Tr("Creating behaviour: "+t.name,EO,t);return SO(zu(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},k0=X(void 0),Hu=Ta({fields:Jl,name:"receiving",active:Qh}),ep=function(t,r){return us({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},A0=Object.freeze({__proto__:null,exhibit:ep}),tp=function(){return Ye.fromDom(document)},Sc=function(t){return t.dom.focus()},E0=function(t){return t.dom.blur()},Nx=function(t){var r=on(t).dom;return t.dom===r.activeElement},vl=function(t){return t===void 0&&(t=tp()),x.from(t.dom.activeElement).map(Ye.fromDom)},ss=function(t){return vl(on(t)).filter(function(r){return t.dom.contains(r.dom)})},dl=function(t,r){var o=on(r),s=vl(o).bind(function(f){var d=function(h){return jr(f,h)};return d(r)?x.some(r):cO(r,d)}),l=t(r);return s.each(function(f){vl(o).filter(function(d){return jr(d,f)}).fold(function(){Sc(f)},Pe)}),l},gi=function(t,r,o,s,l){var f=function(d){return d+"px"};return{position:t,left:r.map(f),top:o.map(f),right:s.map(f),bottom:l.map(f)}},TO=function(t){return K(K({},t),{position:x.some(t.position)})},he=function(t,r){cc(t,TO(r))},ld=Fu.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Lx=function(t,r,o,s,l,f){var d=r.rect,h=d.x-o,p=d.y-s,y=d.width,S=d.height,A=l-(h+y),z=f-(p+S),R=x.some(h),N=x.some(p),W=x.some(A),te=x.some(z),H=x.none();return Gh(r.direction,function(){return gi(t,R,N,H,H)},function(){return gi(t,H,N,W,H)},function(){return gi(t,R,H,H,te)},function(){return gi(t,H,H,W,te)},function(){return gi(t,R,N,H,H)},function(){return gi(t,R,H,H,te)},function(){return gi(t,R,N,H,H)},function(){return gi(t,H,N,W,H)})},$x=function(t,r){return t.fold(function(){var o=r.rect;return gi("absolute",x.some(o.x),x.some(o.y),x.none(),x.none())},function(o,s,l,f){return Lx("absolute",r,o,s,l,f)},function(o,s,l,f){return Lx("fixed",r,o,s,l,f)})},Hm=function(t,r){var o=rn(Wv,r),s=t.fold(o,o,function(){var d=su();return Wv(r).translate(-d.left,-d.top)}),l=lc(r),f=iu(r);return Xa(s.left,s.top,l,f)},$s=function(t,r){return r.fold(function(){return t.fold(lu,lu,Xa)},function(o){return t.fold(o,o,function(){var s=o(),l=T0(t,s.x,s.y);return Xa(l.left,l.top,s.width,s.height)})})},T0=function(t,r,o){var s=Br(r,o),l=function(){var f=su();return s.translate(-f.left,-f.top)};return t.fold(X(s),X(s),l)},Hx=function(t,r,o,s){return t.fold(r,o,s)};ld.none;var Vx=ld.relative,O0=ld.fixed,OO=function(t,r){return{anchorBox:t,origin:r}},Ux=function(t,r){return OO(t,r)},D0="data-alloy-placement",Wx=function(t,r){Tn(t,D0,r)},jx=function(t){return Sa(t,D0)},qx=function(t){return oo(t,D0)},np=Fu.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),DO=function(t,r){var o=r.x,s=r.y,l=r.right,f=r.bottom,d=t.x,h=t.y,p=t.right,y=t.bottom,S=t.width,A=t.height,z=d>=o&&d<=l,R=h>=s&&h<=f,N=z&&R,W=p<=l&&p>=o,te=y<=f&&y>=s,H=W&&te,re=Math.min(S,d>=o?l-d:p-o),me=Math.min(A,h>=s?f-h:y-s);return{originInBounds:N,sizeInBounds:H,visibleW:re,visibleH:me}},Gx=function(t,r){var o=r.x,s=r.y,l=r.right,f=r.bottom,d=t.x,h=t.y,p=t.width,y=t.height,S=Math.max(o,l-p),A=Math.max(s,f-y),z=zi(d,o,S),R=zi(h,s,A),N=Math.min(z+p,l)-z,W=Math.min(R+y,f)-R;return Xa(z,R,N,W)},rp=function(t,r,o){var s=X(r.bottom-o.y),l=X(o.bottom-r.y),f=hO(t,l,l,s),d=X(r.right-o.x),h=X(o.right-r.x),p=pO(t,h,h,d);return{maxWidth:p,maxHeight:f}},_O=function(t,r,o,s){var l=t.bubble,f=l.offset,d=bO(s,t.restriction,f),h=t.x+f.left,p=t.y+f.top,y=Xa(h,p,r,o),S=DO(y,d),A=S.originInBounds,z=S.sizeInBounds,R=S.visibleW,N=S.visibleH,W=A&&z,te=W?y:Gx(y,d),H=te.width>0&&te.height>0,re=rp(t.direction,te,s),me=re.maxWidth,ye=re.maxHeight,ne={rect:te,maxHeight:ye,maxWidth:me,direction:t.direction,placement:t.placement,classes:{on:l.classesOn,off:l.classesOff},layout:t.label,testY:p};return W||t.alwaysFit?np.fit(ne):np.nofit(ne,R,N,H)},Kx=function(t,r,o,s,l,f){var d=s.width,h=s.height,p=function(S,A,z,R,N){var W=S(o,s,l,t,f),te=_O(W,d,h,f);return te.fold(X(te),function(H,re,me,ye){var ne=N===ye?me>R||re>z:!N&&ye;return ne?te:np.nofit(A,z,R,N)})},y=Yt(r,function(S,A){var z=rn(p,A);return S.fold(X(S),z)},np.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:Kh(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return y.fold(Mt,Mt)},_0=function(t){var r=jt(x.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(x.none())},l=function(){return r.get().isSome()},f=function(){return r.get()},d=function(h){o(),r.set(x.some(h))};return{clear:s,isSet:l,get:f,set:d}},ap=function(){return _0(function(t){return t.destroy()})},$f=function(){return _0(function(t){return t.unbind()})},Xx=function(){var t=ap(),r=function(o){return t.get().each(o)};return K(K({},t),{run:r})},da=function(){var t=_0(Pe),r=function(o){return t.get().each(o)};return K(K({},t),{on:r})},Yx=Ve,Oa=function(t,r,o){return xb(t,r,Yx,o)},op=function(t,r,o){return Nv(t,r,Yx,o)},Zx=mm,B0=["top","bottom","right","left"],Vm="data-alloy-transition-timer",BO=function(t,r){return xx(t,r.classes)},Jx=function(t,r,o){return o.exists(function(s){var l=t.mode;return l==="all"?!0:s[l]!==r[l]})},zO=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return go(r,function(s,l){var f=t[l].map(o),d=s.map(o);return!ho(f,d)}).isSome()},MO=function(t){var r=function(f){var d=ba(t,f),h=Nt(d)?d.split(/\s*,\s*/):[];return dt(h,eu)},o=function(f){if(Nt(f)&&/^[\d.]+/.test(f)){var d=parseFloat(f);return Vt(f,"ms")?d:d*1e3}else return 0},s=r("transition-delay"),l=r("transition-duration");return Yt(l,function(f,d,h){var p=o(s[h])+o(d);return Math.max(f,p)},0)},Qx=function(t,r){var o=$f(),s=$f(),l,f=function(S){var A,z=(A=S.raw.pseudoElement)!==null&&A!==void 0?A:"";return jr(S.target,t)&&Ro(z)&&_n(B0,S.raw.propertyName)},d=function(S){if(Kr(S)||f(S)){o.clear(),s.clear();var A=S==null?void 0:S.raw.type;(Kr(A)||A===Om())&&(clearTimeout(l),oo(t,Vm),Cc(t,r.classes))}},h=function(){o.set(Oa(t,Om(),d)),s.set(Oa(t,$5(),d))};if("ontransitionstart"in t.dom)var p=Oa(t,Wb(),function(S){f(S)&&(p.unbind(),h())});else h();var y=MO(t);requestAnimationFrame(function(){l=setTimeout(d,y+17),Tn(t,Vm,l)})},RO=function(t,r){cl(t,r.classes),Sa(t,Vm).each(function(o){clearTimeout(parseInt(o,10)),oo(t,Vm)}),Qx(t,r)},PO=function(t,r,o,s,l,f){var d=Jx(s,l,f);if(d||BO(t,s)){ln(t,"position",o.position);var h=Hm(r,t),p=$x(r,K(K({},l),{rect:h})),y=va(B0,function(S){return p[S]});zO(o,y)&&(cc(t,y),d&&RO(t,s),Kc(t))}else Cc(t,s.classes)},FO=function(t){return{width:lc(t),height:iu(t)}},IO=function(t,r,o,s){xr(r,"max-height"),xr(r,"max-width");var l=FO(r);return Kx(r,s.preference,t,l,o,s.bounds)},NO=function(t,r){var o=r.classes;Cc(t,o.off),cl(t,o.on)},eS=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},LO=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},ei=function(t,r,o){var s=$x(o.origin,r);o.transition.each(function(l){PO(t,o.origin,s,l,r,o.lastPlacement)}),he(t,s)},Um=function(t,r){Wx(t,r.placement)},tS=function(t,r){yh(t,Math.floor(r))},$O=X(function(t,r){tS(t,r),_s(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Wm=X(function(t,r){tS(t,r)}),nS=function(t,r,o){return t[r]===void 0?o:t[r]},HO=function(t,r,o,s,l,f,d,h){var p=nS(d,"maxHeightFunction",$O()),y=nS(d,"maxWidthFunction",Pe),S=t.anchorBox,A=t.origin,z={bounds:$s(A,f),origin:A,preference:s,maxHeightFunction:p,maxWidthFunction:y,lastPlacement:l,transition:h};return VO(S,r,o,z)},VO=function(t,r,o,s){var l=IO(t,r,o,s);return ei(r,l,s),Um(r,l),NO(r,l),eS(r,l,s),LO(r,l,s),{layout:l.layout,placement:l.placement}},UO=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Hf=function(t,r,o,s){s===void 0&&(s=1);var l=t*s,f=r*s,d=function(p){return Ot(o,p).getOr([])},h=function(p,y,S){var A=hr(UO,S);return{offset:Br(p,y),classesOn:er(S,d),classesOff:er(A,d)}};return{southeast:function(){return h(-t,r,["top","alignLeft"])},southwest:function(){return h(t,r,["top","alignRight"])},south:function(){return h(-t/2,r,["top","alignCentre"])},northeast:function(){return h(-t,-r,["bottom","alignLeft"])},northwest:function(){return h(t,-r,["bottom","alignRight"])},north:function(){return h(-t/2,-r,["bottom","alignCentre"])},east:function(){return h(t,-r/2,["valignCentre","left"])},west:function(){return h(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return h(l,f,["top","alignLeft","inset"])},insetNorthwest:function(){return h(-l,f,["top","alignRight","inset"])},insetNorth:function(){return h(-l/2,f,["top","alignCentre","inset"])},insetSoutheast:function(){return h(l,-f,["bottom","alignLeft","inset"])},insetSouthwest:function(){return h(-l,-f,["bottom","alignRight","inset"])},insetSouth:function(){return h(-l/2,-f,["bottom","alignCentre","inset"])},insetEast:function(){return h(-l,-f/2,["valignCentre","right","inset"])},insetWest:function(){return h(l,-f/2,["valignCentre","left","inset"])}}},ip=function(){return Hf(0,0,{})},up=Mt,sp=function(t,r){return function(o){return WO(o)==="rtl"?r:t}},WO=function(t){return ba(t,"direction")==="rtl"?"rtl":"ltr"},ml;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(ml||(ml={}));var z0="data-alloy-vertical-dir",jO=function(t){return Vh(t,function(r){return na(r)&&Yr(r,"data-alloy-vertical-dir")===ml.BottomToTop})},Ql=function(){return vu("layouts",[Te("onLtr"),Te("onRtl"),vr("onBottomLtr"),vr("onBottomRtl")])},cp=function(t,r,o,s,l,f,d){var h=d.map(jO).getOr(!1),p=r.layouts.map(function(R){return R.onLtr(t)}),y=r.layouts.map(function(R){return R.onRtl(t)}),S=h?r.layouts.bind(function(R){return R.onBottomLtr.map(function(N){return N(t)})}).or(p).getOr(l):p.getOr(o),A=h?r.layouts.bind(function(R){return R.onBottomRtl.map(function(N){return N(t)})}).or(y).getOr(f):y.getOr(s),z=sp(S,A);return z(t)},rS=function(t,r,o){var s=r.hotspot,l=Hm(o,s.element),f=cp(t.element,r,Yl(),Zl(),Mx(),x0(),x.some(r.hotspot.element));return x.some(up({anchorBox:l,bubble:r.bubble.getOr(ip()),overrides:r.overrides,layouts:f,placer:x.none()}))},aS=[Te("hotspot"),vr("bubble"),ae("overrides",{}),Ql(),Dr("placement",rS)],qO=function(t,r,o){var s=T0(o,r.x,r.y),l=Xa(s.left,s.top,r.width,r.height),f=cp(t.element,r,Xl(),C0(),Xl(),C0(),x.none());return x.some(up({anchorBox:l,bubble:r.bubble,overrides:r.overrides,layouts:f,placer:x.none()}))},oS=[Te("x"),Te("y"),ae("height",0),ae("width",0),ae("bubble",ip()),ae("overrides",{}),Ql(),Dr("placement",qO)],iS=Fu.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),GO=function(t){return t.fold(Mt,function(r,o,s){return r.translate(-o,-s)})},uS=function(t){return t.fold(Mt,Mt)},sS=function(t){return Yt(t,function(r,o){return r.translate(o.left,o.top)},Br(0,0))},KO=function(t){var r=Ke(t,GO);return sS(r)},M0=function(t){var r=Ke(t,uS);return sS(r)},XO=iS.screen,YO=iS.absolute,cS=function(t,r,o){var s=Ds(o.root).dom,l=function(f){var d=ao(f),h=ao(t.element);return jr(d,h)};return x.from(s.frameElement).map(Ye.fromDom).filter(l).map(si)},lS=function(t,r,o){var s=ao(t.element),l=su(s),f=cS(t,r,o).getOr(l);return YO(f,l.left,l.top)},fd=function(t,r,o,s){var l=XO(Br(t,r));return x.some(Ab(l,o,s))},fS=function(t,r,o,s,l){return t.map(function(f){var d=[r,f.point],h=Hx(s,function(){return M0(d)},function(){return M0(d)},function(){return KO(d)}),p=tl(h.left,h.top,f.width,f.height),y=o.showAbove?Mx():Yl(),S=o.showAbove?x0():Zl(),A=cp(l,o,y,S,y,S,x.none());return up({anchorBox:p,bubble:o.bubble.getOr(ip()),overrides:o.overrides,layouts:A,placer:x.none()})})},jm=function(t,r,o){var s=lS(t,o,r);return r.node.filter(Zt).bind(function(l){var f=l.dom.getBoundingClientRect(),d=fd(f.left,f.top,f.width,f.height),h=r.node.getOr(t.element);return fS(d,s,r,o,h)})},ZO=[Te("node"),Te("root"),vr("bubble"),Ql(),ae("overrides",{}),ae("showAbove",!1),Dr("placement",jm)],JO="\uFEFF",QO="\xA0",eD=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},R0={create:eD},P0=Fu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),tD=function(t,r,o,s){return t.fold(r,o,s)},nD=function(t){return t.fold(Mt,Mt,Mt)},rD=P0.before,aD=P0.on,oD=P0.after,iD={before:rD,on:aD,after:oD,cata:tD,getStart:nD},lp=Fu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uD=function(t){return lp.exact(t.start,t.soffset,t.finish,t.foffset)},sD=function(t){return t.match({domRange:function(r){return Ye.fromDom(r.startContainer)},relative:function(r,o){return iD.getStart(r)},exact:function(r,o,s,l){return r}})},cD=lp.domRange,F0=lp.relative,lD=lp.exact,fD=function(t){var r=sD(t);return Ds(r)},vD=R0.create,qm={domRange:cD,relative:F0,exact:lD,exactFromRange:uD,getWin:fD,range:vD},dD=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},mD=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},vS=function(t,r,o){var s=t.document.createRange();return dD(s,r),mD(s,o),s},I0=function(t,r,o,s,l){var f=t.document.createRange();return f.setStart(r.dom,o),f.setEnd(s.dom,l),f},N0=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},dS=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?x.some(o).map(N0):x.none()},mS=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?x.some(r).map(N0):x.none()},vd=Fu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),gS=function(t,r,o){return r(Ye.fromDom(o.startContainer),o.startOffset,Ye.fromDom(o.endContainer),o.endOffset)},gD=function(t,r){return r.match({domRange:function(o){return{ltr:X(o),rtl:x.none}},relative:function(o,s){return{ltr:yo(function(){return vS(t,o,s)}),rtl:yo(function(){return x.some(vS(t,s,o))})}},exact:function(o,s,l,f){return{ltr:yo(function(){return I0(t,o,s,l,f)}),rtl:yo(function(){return x.some(I0(t,l,f,o,s))})}}})},hD=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(l){return l.collapsed===!1});return s.map(function(l){return vd.rtl(Ye.fromDom(l.endContainer),l.endOffset,Ye.fromDom(l.startContainer),l.startOffset)}).getOrThunk(function(){return gS(t,vd.ltr,o)})}else return gS(t,vd.ltr,o)},pD=function(t,r){var o=gD(t,r);return hD(t,o)},hS=function(t,r){var o=pD(t,r);return o.match({ltr:function(s,l,f,d){var h=t.document.createRange();return h.setStart(s.dom,l),h.setEnd(f.dom,d),h},rtl:function(s,l,f,d){var h=t.document.createRange();return h.setStart(f.dom,d),h.setEnd(s.dom,l),h}})};vd.ltr,vd.rtl;var Vf=function(t,r){var o=function(f){if(!t(f))throw new Error("Can only get "+r+" value of a "+r+" node");return s(f).getOr("")},s=function(f){return t(f)?x.from(f.dom.nodeValue):x.none()},l=function(f,d){if(!t(f))throw new Error("Can only set raw "+r+" value of a "+r+" node");f.dom.nodeValue=d};return{get:o,getOption:s,set:l}},fp=Vf(bo,"text"),bD=function(t){return fp.get(t)},pS=function(t){return fp.getOption(t)},yD=function(t){return Po(t)==="img"?1:pS(t).fold(function(){return E(t).length},function(r){return r.length})},wD=function(t){return pS(t).filter(function(r){return r.trim().length!==0||r.indexOf(QO)>-1}).isSome()},bS=["img","br"],CD=function(t){var r=wD(t);return r||_n(bS,Po(t))},xD=function(t){return yS(t,CD)},yS=function(t,r){var o=function(s){for(var l=E(s),f=l.length-1;f>=0;f--){var d=l[f];if(r(d))return x.some(d);var h=o(d);if(h.isSome())return h}return x.none()};return o(t)},lo=function(t,r){return Cf(r,t)},Uf=function(t,r,o,s){var l=ao(t),f=l.dom.createRange();return f.setStart(t.dom,r),f.setEnd(o.dom,s),f},L0=function(t,r,o,s){var l=Uf(t,r,o,s),f=jr(t,o)&&r===s;return l.collapsed&&!f},SD=function(t){return x.from(t.getSelection())},wS=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return x.some(R0.create(Ye.fromDom(r.startContainer),r.startOffset,Ye.fromDom(o.endContainer),o.endOffset))}else return x.none()},CS=function(t){if(t.anchorNode===null||t.focusNode===null)return wS(t);var r=Ye.fromDom(t.anchorNode),o=Ye.fromDom(t.focusNode);return L0(r,t.anchorOffset,o,t.focusOffset)?x.some(R0.create(r,t.anchorOffset,o,t.focusOffset)):wS(t)},xS=function(t){return SD(t).filter(function(r){return r.rangeCount>0}).bind(CS)},$0=function(t,r){var o=hS(t,r);return dS(o)},kD=function(t,r){var o=hS(t,r);return mS(o)},gl=function(t,r){return{element:t,offset:r}},Wf=function(t,r){var o=E(t);if(o.length===0)return gl(t,r);if(r<o.length)return gl(o[r],0);var s=o[o.length-1],l=bo(s)?bD(s).length:E(s).length;return gl(s,l)},Gm=function(t,r){return bo(t)?gl(t,r):Wf(t,r)},jf=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return xS(t)}});return o().map(function(s){var l=Gm(s.start,s.soffset),f=Gm(s.finish,s.foffset);return qm.range(l.element,l.offset,f.element,f.offset)})},ef=function(t,r,o){var s=Ds(r.root).dom,l=lS(t,o,r),f=jf(s,r).bind(function(p){var y=kD(s,qm.exactFromRange(p)).orThunk(function(){var S=Ye.fromText(JO);ka(p.start,S);var A=$0(s,qm.exact(S,0,S,1));return uu(S),A});return y.bind(function(S){return fd(S.left,S.top,S.width,S.height)})}),d=jf(s,r).bind(function(p){return na(p.start)?x.some(p.start):Bl(p.start)}),h=d.getOr(t.element);return fS(f,l,r,o,h)},kc=[vr("getSelection"),Te("root"),vr("bubble"),Ql(),ae("overrides",{}),ae("showAbove",!1),Dr("placement",ef)],dd="link-layout",H0=function(t){return t.x+t.width},SS=function(t,r){return t.x-r.width},V0=function(t,r){return t.y-r.height+t.height},md=function(t){return t.y},gd=function(t,r,o){return So(H0(t),md(t),o.southeast(),Kh(),"southeast",ko(t,{left:0,top:2}),dd)},vp=function(t,r,o){return So(SS(t,r),md(t),o.southwest(),sd(),"southwest",ko(t,{right:1,top:2}),dd)},U0=function(t,r,o){return So(H0(t),V0(t,r),o.northeast(),p0(),"northeast",ko(t,{left:0,bottom:3}),dd)},hd=function(t,r,o){return So(SS(t,r),V0(t,r),o.northwest(),b0(),"northwest",ko(t,{right:1,bottom:3}),dd)},Km=function(){return[gd,vp,U0,hd]},kS=function(){return[vp,gd,hd,U0]},W0=function(t,r,o){var s=Hm(o,r.item.element),l=cp(t.element,r,Km(),kS(),Km(),kS(),x.none());return x.some(up({anchorBox:s,bubble:ip(),overrides:r.overrides,layouts:l,placer:x.none()}))},dp=[Te("item"),Ql(),ae("overrides",{}),Dr("placement",W0)],To=zu("type",{selection:kc,node:ZO,hotspot:aS,submenu:dp,makeshift:oS}),AD=[ci("classes",Aa),Ru("mode","all",["all","layout","placement"])],Ac=[ae("useFixed",ut),vr("getBounds")],AS=[Vi("anchor",To),vu("transition",AD)],j0=function(){var t=document.documentElement;return O0(0,0,t.clientWidth,t.clientHeight)},pd=function(t){var r=si(t.element),o=t.element.dom.getBoundingClientRect();return Vx(r.left,r.top,o.width,o.height)},ES=function(t,r,o,s,l,f,d){var h=Ux(o.anchorBox,r);return HO(h,l.element,o.bubble,o.layouts,f,s,o.overrides,d)},mp=function(t,r,o,s,l){TS(t,r,o,s,l,x.none())},TS=function(t,r,o,s,l,f){var d=f.map(Ya);return q0(t,r,o,s,l,d)},q0=function(t,r,o,s,l,f){var d=Tr("placement.info",Ft(AS),l),h=d.anchor,p=s.element,y=o.get(s.uid);dl(function(){ln(p,"position","fixed");var S=io(p,"visibility");ln(p,"visibility","hidden");var A=r.useFixed()?j0():pd(t),z=h.placement,R=f.map(X).or(r.getBounds);z(t,h,A).each(function(N){var W=N.placer.getOr(ES),te=W(t,A,N,R,s,y,d.transition);o.set(s.uid,te)}),S.fold(function(){xr(p,"visibility")},function(N){ln(p,"visibility",N)}),io(p,"left").isNone()&&io(p,"top").isNone()&&io(p,"right").isNone()&&io(p,"bottom").isNone()&&Rr(io(p,"position"),"fixed")&&xr(p,"position")},p)},OS=function(t,r,o){return r.useFixed()?"fixed":"absolute"},ED=function(t,r,o,s){var l=s.element;be(["position","left","right","top","bottom"],function(f){return xr(l,f)}),qx(l),o.clear(s.uid)},G0=Object.freeze({__proto__:null,position:mp,positionWithin:TS,positionWithinBounds:q0,getMode:OS,reset:ED}),Hs=function(){var t={},r=function(l,f){t[l]=f},o=function(l){return Ot(t,l)},s=function(l){Jt(l)?delete t[l]:t={}};return li({readState:function(){return t},clear:s,set:r,get:o})},TD=Object.freeze({__proto__:null,init:Hs}),hi=Ta({fields:Ac,name:"positioning",active:A0,apis:G0,state:TD}),Xm=function(t){Fn(t,zm());var r=t.components();be(r,Xm)},Ym=function(t){var r=t.components();be(r,Ym),Fn(t,mu())},K0=function(t,r){No(t.element,r.element)},OD=function(t){be(t.components(),function(r){return uu(r.element)}),$v(t.element),t.syncComponents()},DS=function(t,r){var o=t.components();OD(t);var s=hr(o,r);be(s,function(l){Xm(l),t.getSystem().removeFromWorld(l)}),be(r,function(l){l.getSystem().isConnected()?K0(t,l):(t.getSystem().addToWorld(l),K0(t,l),Zt(t.element)&&Ym(l)),t.syncComponents()})},Uo=function(t,r){Zm(t,r,No)},Zm=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),Zt(t.element)&&Ym(r),t.syncComponents()},X0=function(t){Xm(t),uu(t.element),t.getSystem().removeFromWorld(t)},cs=function(t){var r=La(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});X0(t),r.each(function(o){o.syncComponents()})},ls=function(t){var r=t.components();be(r,X0),$v(t.element),t.syncComponents()},fs=function(t,r){Vs(t,r,No)},Ri=function(t,r){Vs(t,r,Lv)},Vs=function(t,r,o){o(t,r.element);var s=E(r.element);be(s,function(l){r.getByDom(l).each(Ym)})},Y0=function(t){var r=E(t.element);be(r,function(o){t.getByDom(o).each(Xm)}),uu(t.element)},Us=function(t,r,o,s){o.get().each(function(d){ls(t)});var l=r.getAttachPoint(t);Uo(l,t);var f=t.getSystem().build(s);return Uo(t,f),o.set(f),f},tf=function(t,r,o,s){var l=Us(t,r,o,s);return r.onOpen(t,l),l},DD=function(t,r,o,s){return o.get().map(function(){return Us(t,r,o,s)})},_D=function(t,r,o,s,l){RS(t,r),tf(t,r,o,s),l(),Z0(t,r)},_S=function(t,r,o){o.get().each(function(s){ls(t),cs(t),r.onClose(t,s),o.clear()})},BS=function(t,r,o){return o.isOpen()},zS=function(t,r,o,s){return BS(t,r,o)&&o.get().exists(function(l){return r.isPartOf(t,l,s)})},MS=function(t,r,o){return o.get()},BD=function(t,r,o,s){io(t.element,r).fold(function(){oo(t.element,o)},function(l){Tn(t.element,o,l)}),ln(t.element,r,s)},zD=function(t,r,o){Sa(t.element,o).fold(function(){return xr(t.element,r)},function(s){return ln(t.element,r,s)})},RS=function(t,r,o){var s=r.getAttachPoint(t);ln(t.element,"position",hi.getMode(s)),BD(t,"visibility",r.cloakVisibilityAttr,"hidden")},MD=function(t){return Cr(["top","left","right","bottom"],function(r){return io(t,r).isSome()})},Z0=function(t,r,o){MD(t.element)||xr(t.element,"position"),zD(t,"visibility",r.cloakVisibilityAttr)},PS=Object.freeze({__proto__:null,cloak:RS,decloak:Z0,open:tf,openWhileCloaked:_D,close:_S,isOpen:BS,isPartOf:zS,getState:MS,setContent:DD}),J0=function(t,r){return Mr([Oe(_m(),function(o,s){_S(o,t,r)})])},FS=Object.freeze({__proto__:null,events:J0}),RD=[zn("onOpen"),zn("onClose"),Te("isPartOf"),Te("getAttachPoint"),ae("cloakVisibilityAttr","data-precloak-visibility")],PD=function(){var t=da(),r=X("not-implemented");return li({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},FD=Object.freeze({__proto__:null,init:PD}),jn=Ta({fields:RD,name:"sandboxing",active:FS,apis:PS,state:FD}),qf=X("dismiss.popups"),bd=X("reposition.popups"),qi=X("mouse.released"),ID=fu([ae("isExtraPart",ut),vu("fireEventInstead",[ae("event",Is())])]),Gf=function(t){var r,o=Tr("Dismissal",ID,t);return r={},r[qf()]={schema:fu([Te("target")]),onReceive:function(s,l){if(jn.isOpen(s)){var f=jn.isPartOf(s,l.target)||o.isExtraPart(s,l.target);f||o.fireEventInstead.fold(function(){return jn.close(s)},function(d){return Fn(s,d.event)})}}},r},yd=fu([vu("fireEventInstead",[ae("event",Qo())]),Jo("doReposition")]),Jm=function(t){var r,o=Tr("Reposition",yd,t);return r={},r[bd()]={onReceive:function(s){jn.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(l){return Fn(s,l.event)})}},r},wd=function(t,r,o){r.store.manager.onLoad(t,r,o)},IS=function(t,r,o){r.store.manager.onUnload(t,r,o)},NS=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},Q0=function(t,r,o){return r.store.manager.getValue(t,r,o)},ey=function(t,r,o){return o},Cd=Object.freeze({__proto__:null,onLoad:wd,onUnload:IS,setValue:NS,getValue:Q0,getState:ey}),ty=function(t,r){var o=t.resetOnDom?[ca(function(s,l){wd(s,t,r)}),gu(function(s,l){IS(s,t,r)})]:[S0(t,r,wd)];return Mr(o)},ND=Object.freeze({__proto__:null,events:ty}),Ec=function(){var t=jt(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return li({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},ny=function(){var t=Pe;return li({readState:t})},gp=function(){var t=jt({}),r=jt({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},l=function(d){return Ot(t.get(),d).orThunk(function(){return Ot(r.get(),d)})},f=function(d){var h=t.get(),p=r.get(),y={},S={};be(d,function(A){y[A.value]=A,Ot(A,"meta").each(function(z){Ot(z,"text").each(function(R){S[R]=A})})}),t.set(K(K({},h),y)),r.set(K(K({},p),S))};return li({readState:o,lookup:l,update:f,clear:s})},hp=function(t){return t.store.manager.state(t)},LS=Object.freeze({__proto__:null,memory:Ec,dataset:gp,manual:ny,init:hp}),Qm=function(t,r,o,s){var l=r.store;o.update([s]),l.setValue(t,s),r.onSetValue(t,s)},LD=function(t,r,o){var s=r.store,l=s.getDataKey(t);return o.lookup(l).getOrThunk(function(){return s.getFallbackEntry(l)})},$D=function(t,r,o){var s=r.store;s.initialValue.each(function(l){Qm(t,r,o,l)})},Tc=function(t,r,o){o.clear()},pu=[vr("initialValue"),Te("getFallbackEntry"),Te("getDataKey"),Te("setValue"),Dr("manager",{setValue:Qm,getValue:LD,onLoad:$D,onUnload:Tc,state:gp})],Oo=function(t,r,o){return r.store.getValue(t)},HD=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},ry=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},xd=[Te("getValue"),ae("setValue",Pe),vr("initialValue"),Dr("manager",{setValue:HD,getValue:Oo,onLoad:ry,onUnload:Pe,state:is.init})],$S=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},HS=function(t,r,o){return o.get()},VD=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},UD=function(t,r,o){o.clear()},VS=[vr("initialValue"),Dr("manager",{setValue:$S,getValue:HS,onLoad:VD,onUnload:UD,state:Ec})],US=[Wi("store",{mode:"memory"},zu("mode",{memory:VS,manual:xd,dataset:pu})),zn("onSetValue"),ae("resetOnDom",!1)],it=Ta({fields:US,name:"representing",active:ND,apis:Cd,extra:{setValueFrom:function(t,r){var o=it.getValue(r);it.setValue(t,o)}},state:LS}),Ja=function(t,r){return Fb(t,{},Ke(r,function(o){return Yv(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([Di("dump",Mt)]))},eg=function(t){return t.dump},Qa=function(t,r){return K(K({},qe(r)),t.dump)},Vu={field:Ja,augment:Qa,get:eg},ay="placeholder",Kf=Fu.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),pp=function(t){return mn(t,"uiType")},Sd=function(t,r,o,s){return t.exists(function(l){return l!==o.owner})?Kf.single(!0,X(o)):Ot(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+st(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(l){return l.replace()})},tg=function(t,r,o,s){return pp(o)&&o.uiType===ay?Sd(t,r,o,s):Kf.single(!1,X(o))},bp=function(t,r,o,s){var l=tg(t,r,o,s);return l.fold(function(f,d){var h=pp(o)?d(r,o.config,o.validated):d(r),p=Ot(h,"components").getOr([]),y=er(p,function(S){return bp(t,r,S,s)});return[K(K({},h),{components:y})]},function(f,d){if(pp(o)){var h=d(r,o.config,o.validated),p=o.validated.preprocess.getOr(Mt);return p(h)}else return d(r)})},WD=function(t,r,o,s){return er(o,function(l){return bp(t,r,l,s)})},jD=function(t,r){var o=!1,s=function(){return o},l=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},f=function(){return r.fold(function(d,h){return d},function(d,h){return d})};return{name:X(t),required:f,used:s,replace:l}},qD=function(t,r,o,s){var l=kt(s,function(d,h){return jD(h,d)}),f=WD(t,r,o,l);return cn(l,function(d){if(d.used()===!1&&d.required())throw new Error("Placeholder: "+d.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),f},WS=Kf.single,jS=Kf.multiple,Xf=X(ay),nf=Fu.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),yp=ae("factory",{sketch:Mt}),oy=ae("schema",[]),ng=Te("name"),rg=Za("pname","pname",Jn(function(t){return"<alloy."+wt(t.name)+">"}),zs()),iy=Di("schema",function(){return[vr("preprocess")]}),kd=ae("defaults",X({})),Yf=ae("overrides",X({})),uy=Ft([yp,oy,ng,rg,kd,Yf]),sy=Ft([yp,oy,ng,kd,Yf]),GD=Ft([yp,oy,ng,rg,kd,Yf]),KD=Ft([yp,iy,ng,Te("unit"),rg,kd,Yf]),wp=function(t){return t.fold(x.some,x.none,x.some,x.some)},qS=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},XD=function(t){return t.fold(Mt,Mt,Mt,Mt)},Cp=function(t,r){return function(o){var s=Tr("Converting part type",r,o);return t(s)}},Do=Cp(nf.required,uy),vs=Cp(nf.external,sy),Ws=Cp(nf.optional,GD),ag=Cp(nf.group,KD),Zf=X("entirety"),Ad=Object.freeze({__proto__:null,required:Do,external:vs,optional:Ws,group:ag,asNamedPart:wp,name:qS,asCommon:XD,original:Zf}),og=function(t,r,o,s){return we(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},YD=function(t,r,o){var s={},l={};return be(o,function(f){f.fold(function(d){s[d.pname]=WS(!0,function(h,p,y){return d.factory.sketch(og(h,d,p,y))})},function(d){var h=r.parts[d.name];l[d.name]=X(d.factory.sketch(og(r,d,h[Zf()]),h))},function(d){s[d.pname]=WS(!1,function(h,p,y){return d.factory.sketch(og(h,d,p,y))})},function(d){s[d.pname]=jS(!0,function(h,p,y){var S=h[d.name];return Ke(S,function(A){return d.factory.sketch(we(d.defaults(h,A,y),A,d.overrides(h,A)))})})})}),{internals:X(s),externals:X(l)}},cy=function(t,r){var o={};return be(r,function(s){wp(s).each(function(l){var f=ZD(t,l.pname);o[l.name]=function(d){var h=Tr("Part: "+l.name+" in "+t,Ft(l.schema),d);return K(K({},f),{config:d,validated:h})}})}),o},ZD=function(t,r){return{uiType:Xf(),owner:t,name:r}},ly=function(t,r,o){return{uiType:Xf(),owner:t,name:r,config:o,validated:{}}},GS=function(t){return er(t,function(r){return r.fold(x.none,x.some,x.none,x.none).map(function(o){return al(o.name,o.schema.concat([h0(Zf())]))}).toArray()})},KS=function(t){return Ke(t,qS)},fy=function(t,r,o){return YD(t,r,o)},vy=function(t,r,o){return qD(x.some(t),r,r.components,o)},kr=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},Oc=function(t,r,o){return kr(t,r,o).getOrDie("Could not find part: "+o)},XS=function(t,r,o){var s={},l=r.partUids,f=t.getSystem();return be(o,function(d){s[d]=X(f.getByUid(l[d]))}),s},dy=function(t,r){var o=t.getSystem();return kt(r.partUids,function(s,l){return X(o.getByUid(s))})},my=function(t){return st(t.partUids)},ig=function(t,r,o){var s={},l=r.partUids,f=t.getSystem();return be(o,function(d){s[d]=X(f.getByUid(l[d]).getOrDie())}),s},Xt=function(t,r){var o=KS(r);return Df(Ke(o,function(s){return{key:s,value:t+"-"+s}}))},gy=function(t){return Za("partUids","partUids",Zo(function(r){return Xt(r.uid,t)}),zs())},YS=Object.freeze({__proto__:null,generate:cy,generateOne:ly,schemas:GS,names:KS,substitutes:fy,components:vy,defaultUids:Xt,defaultUidsSchema:gy,getAllParts:dy,getAllPartNames:my,getPart:kr,getPartOrDie:Oc,getParts:XS,getPartsOrDie:ig}),JD=function(t,r){var o=t.length>0?[al("parts",t)]:[];return o.concat([Te("uid"),ae("dom",{}),ae("components",[]),h0("originalSpec"),ae("debug.sketcher",{})]).concat(r)},ZS=function(t,r,o,s,l){var f=JD(s,l);return Tr(t+" [SpecSchema]",fu(f.concat(r)),o)},QD=function(t,r,o,s){var l=xp(s),f=ZS(t,r,l,[],[]);return o(f,l)},hy=function(t,r,o,s,l){var f=xp(l),d=GS(o),h=gy(o),p=ZS(t,r,f,d,[h]),y=fy(t,p,o),S=vy(t,p,y.internals());return s(p,S,f,y.externals())},py=function(t){return mn(t,"uid")},xp=function(t){return py(t)?t:K(K({},t),{uid:Bf("uid")})},e_=function(t){return t.uid!==void 0},JS=fu([Te("name"),Te("factory"),Te("configFields"),ae("apis",{}),ae("extraApis",{})]),t_=fu([Te("name"),Te("factory"),Te("configFields"),Te("partFields"),ae("apis",{}),ae("extraApis",{})]),Gi=function(t){var r=Tr("Sketcher for "+t.name,JS,t),o=function(f){return QD(r.name,r.configFields,r.factory,f)},s=kt(r.apis,Nm),l=kt(r.extraApis,function(f,d){return Fh(f,d)});return K(K({name:r.name,configFields:r.configFields,sketch:o},s),l)},pi=function(t){var r=Tr("Sketcher for "+t.name,t_,t),o=function(d){return hy(r.name,r.configFields,r.partFields,r.factory,d)},s=cy(r.name,r.partFields),l=kt(r.apis,Nm),f=kt(r.extraApis,function(d,h){return Fh(d,h)});return K(K({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},l),f)},Ed=function(t){return Po(t)==="input"&&Yr(t,"type")!=="radio"||Po(t)==="textarea"},QS=function(t,r,o){return r.find(t)},n_=Object.freeze({__proto__:null,getCurrent:QS}),r_=[Te("find")],In=Ta({fields:r_,name:"composing",apis:n_}),ek=["input","button","textarea","select"],ug=function(t,r,o){var s=r.disabled()?by:yy;s(t,r)},Td=function(t,r){return r.useNative===!0&&_n(ek,Po(t.element))},Sp=function(t){return ph(t.element,"disabled")},sg=function(t){Tn(t.element,"disabled","disabled")},a_=function(t){oo(t.element,"disabled")},o_=function(t){return Yr(t.element,"aria-disabled")==="true"},i_=function(t){Tn(t.element,"aria-disabled","true")},tk=function(t){Tn(t.element,"aria-disabled","false")},by=function(t,r,o){r.disableClass.each(function(l){so(t.element,l)});var s=Td(t,r)?sg:i_;s(t),r.onDisabled(t)},yy=function(t,r,o){r.disableClass.each(function(l){Pa(t.element,l)});var s=Td(t,r)?a_:tk;s(t),r.onEnabled(t)},nk=function(t,r){return Td(t,r)?Sp(t):o_(t)},u_=function(t,r,o,s){var l=s?by:yy;l(t,r)},s_=Object.freeze({__proto__:null,enable:yy,disable:by,isDisabled:nk,onLoad:ug,set:u_}),wy=function(t,r){return us({classes:r.disabled()?r.disableClass.toArray():[]})},c_=function(t,r){return Mr([vx(du(),function(o,s){return nk(o,t)}),S0(t,r,ug)])},l_=Object.freeze({__proto__:null,exhibit:wy,events:c_}),f_=[zr("disabled",ut),ae("useNative",!0),vr("disableClass"),zn("onDisabled"),zn("onEnabled")],It=Ta({fields:f_,name:"disabling",active:l_,apis:s_}),rk=function(t,r,o,s){var l=lo(t.element,"."+r.highlightClass);be(l,function(f){Cr(s,function(d){return d.element===f})||(Pa(f,r.highlightClass),t.getSystem().getByDom(f).each(function(d){r.onDehighlight(t,d),Fn(d,Mm())}))})},v_=function(t,r,o){return rk(t,r,o,[])},ak=function(t,r,o,s){kp(t,r,o,s)&&(Pa(s.element,r.highlightClass),r.onDehighlight(t,s),Fn(s,Mm()))},Od=function(t,r,o,s){rk(t,r,o,[s]),kp(t,r,o,s)||(so(s.element,r.highlightClass),r.onHighlight(t,s),Fn(s,lx()))},d_=function(t,r,o){sk(t,r).each(function(s){Od(t,r,o,s)})},ok=function(t,r,o){ck(t,r).each(function(s){Od(t,r,o,s)})},m_=function(t,r,o,s){uk(t,r,o,s).fold(function(l){throw l},function(l){Od(t,r,o,l)})},Cy=function(t,r,o,s){var l=Dd(t,r),f=at(l,s);f.each(function(d){Od(t,r,o,d)})},kp=function(t,r,o,s){return vi(s.element,r.highlightClass)},ik=function(t,r,o){return Fa(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},uk=function(t,r,o,s){var l=lo(t.element,"."+r.itemClass);return x.from(l[s]).fold(function(){return An.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},sk=function(t,r,o){return Fa(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},ck=function(t,r,o){var s=lo(t.element,"."+r.itemClass),l=s.length>0?x.some(s[s.length-1]):x.none();return l.bind(function(f){return t.getSystem().getByDom(f).toOptional()})},lk=function(t,r,o,s){var l=lo(t.element,"."+r.itemClass),f=Ln(l,function(d){return vi(d,r.highlightClass)});return f.bind(function(d){var h=xc(d,s,0,l.length-1);return t.getSystem().getByDom(l[h]).toOptional()})},g_=function(t,r,o){return lk(t,r,o,-1)},h_=function(t,r,o){return lk(t,r,o,1)},Dd=function(t,r,o){var s=lo(t.element,"."+r.itemClass);return $n(Ke(s,function(l){return t.getSystem().getByDom(l).toOptional()}))},p_=Object.freeze({__proto__:null,dehighlightAll:v_,dehighlight:ak,highlight:Od,highlightFirst:d_,highlightLast:ok,highlightAt:m_,highlightBy:Cy,isHighlighted:kp,getHighlighted:ik,getFirst:sk,getLast:ck,getPrevious:g_,getNext:h_,getCandidates:Dd}),b_=[Te("highlightClass"),Te("itemClass"),zn("onHighlight"),zn("onDehighlight")],sr=Ta({fields:b_,name:"highlighting",apis:p_}),xy=[8],rf=[9],Dc=[13],Ap=[27],bi=[32],Ep=[37],cg=[38],Tp=[39],_d=[40],y_=function(t,r,o){var s=ur(t.slice(0,r)),l=ur(t.slice(r+1));return at(s.concat(l),o)},w_=function(t,r,o){var s=ur(t.slice(0,r));return at(s,o)},Op=function(t,r,o){var s=t.slice(0,r),l=t.slice(r+1);return at(l.concat(s),o)},C_=function(t,r,o){var s=t.slice(r+1);return at(s,o)},Vn=function(t){return function(r){var o=r.raw;return _n(t,o.which)}},js=function(t){return function(r){return yr(t,function(o){return o(r)})}},Bd=function(t){var r=t.raw;return r.shiftKey===!0},x_=function(t){var r=t.raw;return r.ctrlKey===!0},lg=an(Bd),Xn=function(t,r){return{matches:t,classification:r}},fk=function(t,r){var o=at(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},vk=function(t,r,o){var s=r.exists(function(l){return o.exists(function(f){return jr(f,l)})});s||qt(t,_h(),{prevFocus:r,newFocus:o})},fg=function(){var t=function(o){return ss(o.element)},r=function(o,s){var l=t(o);o.getSystem().triggerFocus(s,o.element);var f=t(o);vk(o,l,f)};return{get:t,set:r}},dk=function(){var t=function(o){return sr.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var l=t(o);o.getSystem().getByDom(s).fold(Pe,function(d){sr.highlight(o,d)});var f=t(o);vk(o,l,f)};return{get:t,set:r}},vg;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(vg||(vg={}));var hl=function(t,r,o,s,l){var f=function(){return t.concat([ae("focusManager",fg()),Wi("focusInside","onFocus",Xv(function(y){return _n(["onFocus","onEnterOrSpace","onApi"],y)?An.value(y):An.error("Invalid value for focusInside")})),Dr("handler",p),Dr("state",r),Dr("sendFocusIn",l)])},d=function(y,S,A,z,R){var N=A(y,S,z,R);return fk(N,S.event).bind(function(W){return W(y,S,z,R)})},h=function(y,S){var A=y.focusInside!==vg.OnFocusMode?x.none():l(y).map(function(N){return Oe(Ll(),function(W,te){N(W,y,S),te.stop()})}),z=function(N,W){var te=Vn(bi.concat(Dc))(W.event);y.focusInside===vg.OnEnterOrSpaceMode&&te&&ix(N,W)&&l(y).each(function(H){H(N,y,S),W.stop()})},R=[Oe(Oh(),function(N,W){d(N,W,o,y,S).fold(function(){z(N,W)},function(te){W.stop()})}),Oe(sx(),function(N,W){d(N,W,s,y,S).each(function(te){W.stop()})})];return Mr(A.toArray().concat(R))},p={schema:f,processKey:d,toEvents:h};return p},Sy=function(t){var r=[vr("onEscape"),vr("onEnter"),ae("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ae("firstTabstop",0),ae("useTabstopAt",Ve),vr("visibilitySelector")].concat([t]),o=function(W,te){var H=W.visibilitySelector.bind(function(re){return _i(te,re)}).getOr(te);return $a(H)>0},s=function(W,te){var H=lo(W.element,te.selector),re=dt(H,function(me){return o(te,me)});return x.from(re[te.firstTabstop])},l=function(W,te){return te.focusManager.get(W).bind(function(H){return _i(H,te.selector)})},f=function(W,te){return o(W,te)&&W.useTabstopAt(te)},d=function(W,te,H){s(W,te).each(function(re){te.focusManager.set(W,re)})},h=function(W,te,H,re,me){return me(te,H,function(ye){return f(re,ye)}).fold(function(){return re.cyclic?x.some(!0):x.none()},function(ye){return re.focusManager.set(W,ye),x.some(!0)})},p=function(W,te,H,re){var me=lo(W.element,H.selector);return l(W,H).bind(function(ye){var ne=Ln(me,rn(jr,ye));return ne.bind(function(ce){return h(W,me,ce,H,re)})})},y=function(W,te,H){var re=H.cyclic?y_:w_;return p(W,te,H,re)},S=function(W,te,H){var re=H.cyclic?Op:C_;return p(W,te,H,re)},A=function(W,te,H){return H.onEnter.bind(function(re){return re(W,te)})},z=function(W,te,H){return H.onEscape.bind(function(re){return re(W,te)})},R=X([Xn(js([Bd,Vn(rf)]),y),Xn(Vn(rf),S),Xn(Vn(Ap),z),Xn(js([lg,Vn(Dc)]),A)]),N=X([]);return hl(r,is.init,R,N,function(){return x.some(d)})},mk=Sy(Di("cyclic",ut)),S_=Sy(Di("cyclic",Ve)),k_=function(t,r,o){return Zb(t,o,du()),x.some(!0)},dg=function(t,r,o){var s=Ed(o)&&Vn(bi)(r.event);return s?x.none():k_(t,r,o)},zd=function(t,r){return x.some(!0)},Dp=[ae("execute",dg),ae("useSpace",!1),ae("useEnter",!0),ae("useControlEnter",!1),ae("useDown",!1)],gk=function(t,r,o){return o.execute(t,r,t.element)},ky=function(t,r,o,s){var l=o.useSpace&&!Ed(t.element)?bi:[],f=o.useEnter?Dc:[],d=o.useDown?_d:[],h=l.concat(f).concat(d);return[Xn(Vn(h),gk)].concat(o.useControlEnter?[Xn(js([x_,Vn(Dc)]),gk)]:[])},A_=function(t,r,o,s){return o.useSpace&&!Ed(t.element)?[Xn(Vn(bi),zd)]:[]},E_=hl(Dp,is.init,ky,A_,function(){return x.none()}),Ay=function(){var t=da(),r=function(l,f){t.set({numRows:l,numColumns:f})},o=function(){return t.get().map(function(l){return l.numRows})},s=function(){return t.get().map(function(l){return l.numColumns})};return li({readState:function(){return t.get().map(function(l){return{numRows:String(l.numRows),numColumns:String(l.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},T_=function(t){return t.state(t)},O_=Object.freeze({__proto__:null,flatgrid:Ay,init:T_}),hk=function(t){return function(r,o,s,l){var f=t(r.element);return Md(f,r,o,s,l)}},Ey=function(t,r){var o=sp(t,r);return hk(o)},Ty=function(t,r){var o=sp(r,t);return hk(o)},Oy=function(t){return function(r,o,s,l){return Md(t,r,o,s,l)}},Md=function(t,r,o,s,l){var f=s.focusManager.get(r).bind(function(d){return t(r.element,d,s,l)});return f.map(function(d){return s.focusManager.set(r,d),!0})},_p=Oy,pk=Oy,Bp=Oy,zp=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},bk=function(t){return!zp(t.dom)},D_=function(t,r){return Ln(t,r).map(function(o){return{index:o,candidates:t}})},yk=function(t,r,o){var s=function(d){return jr(d,r)},l=lo(t,o),f=dt(l,bk);return D_(f,s)},wk=function(t,r){return Ln(t,function(o){return jr(r,o)})},Ck=function(t,r,o,s){var l=Math.floor(r/o),f=r%o;return s(l,f).bind(function(d){var h=d.row*o+d.column;return h>=0&&h<t.length?x.some(t[h]):x.none()})},xk=function(t,r,o,s,l){return Ck(t,r,s,function(f,d){var h=f===o-1,p=h?t.length-f*s:s,y=xc(d,l,0,p-1);return x.some({row:f,column:y})})},Sk=function(t,r,o,s,l){return Ck(t,r,s,function(f,d){var h=xc(f,l,0,o-1),p=h===o-1,y=p?t.length-h*s:s,S=zi(d,0,y-1);return x.some({row:h,column:S})})},kk=function(t,r,o,s){return xk(t,r,o,s,1)},Dy=function(t,r,o,s){return xk(t,r,o,s,-1)},__=function(t,r,o,s){return Sk(t,r,o,s,-1)},B_=function(t,r,o,s){return Sk(t,r,o,s,1)},z_=[Te("selector"),ae("execute",dg),la("onEscape"),ae("captureTab",!1),qh()],M_=function(t,r,o){Fa(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},Jf=function(t,r){return r.focusManager.get(t).bind(function(o){return _i(o,r.selector)})},R_=function(t,r,o,s){return Jf(t,o).bind(function(l){return o.execute(t,r,l)})},Mp=function(t){return function(r,o,s,l){return yk(r,o,s.selector).bind(function(f){return t(f.candidates,f.index,l.getNumRows().getOr(s.initSize.numRows),l.getNumColumns().getOr(s.initSize.numColumns))})}},Rp=function(t,r,o){return o.captureTab?x.some(!0):x.none()},P_=function(t,r,o){return o.onEscape(t,r)},_y=Mp(Dy),By=Mp(kk),Ak=Mp(__),Ek=Mp(B_),F_=X([Xn(Vn(Ep),Ey(_y,By)),Xn(Vn(Tp),Ty(_y,By)),Xn(Vn(cg),_p(Ak)),Xn(Vn(_d),pk(Ek)),Xn(js([Bd,Vn(rf)]),Rp),Xn(js([lg,Vn(rf)]),Rp),Xn(Vn(Ap),P_),Xn(Vn(bi.concat(Dc)),R_)]),I_=X([Xn(Vn(bi),zd)]),N_=hl(z_,Ay,F_,I_,function(){return x.some(M_)}),Rd=function(t,r,o,s){var l=function(d){return Po(d)==="button"&&Yr(d,"disabled")==="disabled"},f=function(d,h,p){var y=xc(h,s,0,p.length-1);return y===d?x.none():l(p[y])?f(d,y,p):x.from(p[y])};return yk(t,o,r).bind(function(d){var h=d.index,p=d.candidates;return f(h,h,p)})},L_=[Te("selector"),ae("getInitial",x.none),ae("execute",dg),la("onEscape"),ae("executeOnMove",!1),ae("allowVertical",!0)],Pp=function(t,r){return r.focusManager.get(t).bind(function(o){return _i(o,r.selector)})},zy=function(t,r,o){return Pp(t,o).bind(function(s){return o.execute(t,r,s)})},Tk=function(t,r,o){r.getInitial(t).orThunk(function(){return Fa(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},Uu=function(t,r,o){return Rd(t,o.selector,r,-1)},Ok=function(t,r,o){return Rd(t,o.selector,r,1)},Fp=function(t){return function(r,o,s,l){return t(r,o,s,l).bind(function(){return s.executeOnMove?zy(r,o,s):x.some(!0)})}},$_=function(t,r,o){return o.onEscape(t,r)},Dk=function(t,r,o,s){var l=Ep.concat(o.allowVertical?cg:[]),f=Tp.concat(o.allowVertical?_d:[]);return[Xn(Vn(l),Fp(Ey(Uu,Ok))),Xn(Vn(f),Fp(Ty(Uu,Ok))),Xn(Vn(Dc),zy),Xn(Vn(bi),zy),Xn(Vn(Ap),$_)]},H_=X([Xn(Vn(bi),zd)]),V_=hl(L_,is.init,Dk,H_,function(){return x.some(Tk)}),Ip=function(t,r,o){return x.from(t[r]).bind(function(s){return x.from(s[o]).map(function(l){return{rowIndex:r,columnIndex:o,cell:l}})})},_k=function(t,r,o,s){var l=t[r],f=l.length,d=xc(o,s,0,f-1);return Ip(t,r,d)},Bk=function(t,r,o,s){var l=xc(o,s,0,t.length-1),f=t[l].length,d=zi(r,0,f-1);return Ip(t,l,d)},zk=function(t,r,o,s){var l=t[r],f=l.length,d=zi(o+s,0,f-1);return Ip(t,r,d)},pl=function(t,r,o,s){var l=zi(o+s,0,t.length-1),f=t[l].length,d=zi(r,0,f-1);return Ip(t,l,d)},U_=function(t,r,o){return _k(t,r,o,1)},W_=function(t,r,o){return _k(t,r,o,-1)},My=function(t,r,o){return Bk(t,o,r,-1)},j_=function(t,r,o){return Bk(t,o,r,1)},Ry=function(t,r,o){return zk(t,r,o,-1)},q_=function(t,r,o){return zk(t,r,o,1)},Np=function(t,r,o){return pl(t,o,r,-1)},G_=function(t,r,o){return pl(t,o,r,1)},Mk=[al("selectors",[Te("row"),Te("cell")]),ae("cycles",!0),ae("previousSelector",x.none),ae("execute",dg)],K_=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var l=r.selectors;return Fa(t.element,l.cell)});s.each(function(l){r.focusManager.set(t,l)})},X_=function(t,r,o){return ss(t.element).bind(function(s){return o.execute(t,r,s)})},Y_=function(t,r){return Ke(t,function(o){return lo(o,r.selectors.cell)})},Lp=function(t,r){return function(o,s,l){var f=l.cycles?t:r;return _i(s,l.selectors.row).bind(function(d){var h=lo(d,l.selectors.cell);return wk(h,s).bind(function(p){var y=lo(o,l.selectors.row);return wk(y,d).bind(function(S){var A=Y_(y,l);return f(A,S,p).map(function(z){return z.cell})})})})}},Rk=Lp(W_,Ry),Pk=Lp(U_,q_),Fk=Lp(My,Np),Ik=Lp(j_,G_),Nk=X([Xn(Vn(Ep),Ey(Rk,Pk)),Xn(Vn(Tp),Ty(Rk,Pk)),Xn(Vn(cg),_p(Fk)),Xn(Vn(_d),pk(Ik)),Xn(Vn(bi.concat(Dc)),X_)]),Pd=X([Xn(Vn(bi),zd)]),Lk=hl(Mk,is.init,Nk,Pd,function(){return x.some(K_)}),$k=[Te("selector"),ae("execute",dg),ae("moveOnTab",!1)],$p=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},Z_=function(t,r,o){Fa(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},Hk=function(t,r,o){return Rd(t,o.selector,r,-1)},Vk=function(t,r,o){return Rd(t,o.selector,r,1)},J_=function(t,r,o,s){return o.moveOnTab?Bp(Hk)(t,r,o,s):x.none()},Uk=function(t,r,o,s){return o.moveOnTab?Bp(Vk)(t,r,o,s):x.none()},Py=X([Xn(Vn(cg),Bp(Hk)),Xn(Vn(_d),Bp(Vk)),Xn(js([Bd,Vn(rf)]),J_),Xn(js([lg,Vn(rf)]),Uk),Xn(Vn(Dc),$p),Xn(Vn(bi),$p)]),Fy=X([Xn(Vn(bi),zd)]),Q_=hl($k,is.init,Py,Fy,function(){return x.some(Z_)}),af=[la("onSpace"),la("onEnter"),la("onShiftEnter"),la("onLeft"),la("onRight"),la("onTab"),la("onShiftTab"),la("onUp"),la("onDown"),la("onEscape"),ae("stopSpaceKeyup",!1),vr("focusIn")],Wk=function(t,r,o){return[Xn(Vn(bi),o.onSpace),Xn(js([lg,Vn(Dc)]),o.onEnter),Xn(js([Bd,Vn(Dc)]),o.onShiftEnter),Xn(js([Bd,Vn(rf)]),o.onShiftTab),Xn(js([lg,Vn(rf)]),o.onTab),Xn(Vn(cg),o.onUp),Xn(Vn(_d),o.onDown),Xn(Vn(Ep),o.onLeft),Xn(Vn(Tp),o.onRight),Xn(Vn(bi),o.onSpace),Xn(Vn(Ap),o.onEscape)]},jk=function(t,r,o){return o.stopSpaceKeyup?[Xn(Vn(bi),zd)]:[]},eB=hl(af,is.init,Wk,jk,function(t){return t.focusIn}),tB=mk.schema(),Fd=S_.schema(),Id=V_.schema(),qk=N_.schema(),Gk=Lk.schema(),of=E_.schema(),uf=Q_.schema(),nB=eB.schema(),rB=Object.freeze({__proto__:null,acyclic:tB,cyclic:Fd,flow:Id,flatgrid:qk,matrix:Gk,execution:of,menu:uf,special:nB}),Qf=function(t){return Bn(t,"setGridSize")},Gt=cd({branchKey:"mode",branches:rB,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,l){Qf(o)?o.setGridSize(s,l):console.error("Layout does not support setGridSize")}},state:O_}),aB=function(t,r,o,s){dl(function(){var l=Ke(s,t.getSystem().build);DS(t,l)},t.element)},Iy=function(t,r,o,s){var l=t.getSystem().build(s);Zm(t,l,o)},Kk=function(t,r,o,s){Iy(t,r,No,s)},bl=function(t,r,o,s){Iy(t,r,Sf,s)},Hp=function(t,r,o,s){var l=mg(t),f=at(l,function(d){return jr(s.element,d.element)});f.each(cs)},mg=function(t,r){return t.components()},Ny=function(t,r,o,s,l){var f=mg(t);return x.from(f[s]).map(function(d){return Hp(t,r,o,d),l.each(function(h){Iy(t,r,function(p,y){Qc(p,y,s)},h)}),d})},Xk=function(t,r,o,s,l){var f=mg(t);return Ln(f,s).bind(function(d){return Ny(t,r,o,d,l)})},Ly=Object.freeze({__proto__:null,append:Kk,prepend:bl,remove:Hp,replaceAt:Ny,replaceBy:Xk,set:aB,contents:mg}),dn=Ta({fields:[],name:"replacing",apis:Ly}),oB=function(t,r){var o=Mr(r);return Ta({fields:[Te("enabled")],name:t,active:{events:X(o)}})},En=function(t,r){var o=oB(t,r);return{key:t,value:{config:{},me:o,configAsRaw:X({}),initialConfig:{},state:is}}},Yk=function(t,r){r.ignore||(Sc(t.element),r.onFocus(t))},Vp=function(t,r){r.ignore||E0(t.element)},$y=function(t){return Nx(t.element)},Hy=Object.freeze({__proto__:null,focus:Yk,blur:Vp,isFocused:$y}),iB=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return us(o)},uB=function(t){return Mr([Oe(Ll(),function(r,o){Yk(r,t),o.stop()})].concat(t.stopMousedown?[Oe(os(),function(r,o){o.event.prevent()})]:[]))},Zk=Object.freeze({__proto__:null,exhibit:iB,events:uB}),Jk=[zn("onFocus"),ae("stopMousedown",!1),ae("ignore",!1)],nn=Ta({fields:Jk,name:"focusing",active:Zk,apis:Hy}),Qk=function(t){var r=function(){var o=jt(t),s=function(){return o.get()},l=function(h){return o.set(h)},f=function(){return o.set(t)},d=function(){return o.get()};return{get:s,set:l,clear:f,readState:d}};return{init:r}},eA=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},Up=function(t,r,o){r.toggleClass.each(function(s){o.get()?so(t.element,s):Pa(t.element,s)})},tA=function(t,r,o){Vy(t,r,o,!o.get())},nA=function(t,r,o){o.set(!0),Up(t,r,o),eA(t,r,o)},rA=function(t,r,o){o.set(!1),Up(t,r,o),eA(t,r,o)},Vy=function(t,r,o,s){var l=s?nA:rA;l(t,r,o)},Wp=function(t,r,o){return o.get()},aA=function(t,r,o){Vy(t,r,o,r.selected)},jp=Object.freeze({__proto__:null,onLoad:aA,toggle:tA,isOn:Wp,on:nA,off:rA,set:Vy}),oA=function(){return us({})},iA=function(t,r){var o=xO(t,r,tA),s=S0(t,r,aA);return Mr(bt([t.toggleOnExecute?[o]:[],[s]]))},sB=Object.freeze({__proto__:null,exhibit:oA,events:iA}),cB=function(t,r,o){Tn(t.element,"aria-pressed",o),r.syncWithExpanded&&uA(t,r,o)},lB=function(t,r,o){Tn(t.element,"aria-selected",o)},fB=function(t,r,o){Tn(t.element,"aria-checked",o)},uA=function(t,r,o){Tn(t.element,"aria-expanded",o)},vB=[ae("selected",!1),vr("toggleClass"),ae("toggleOnExecute",!0),Wi("aria",{mode:"none"},zu("mode",{pressed:[ae("syncWithExpanded",!1),Dr("update",cB)],checked:[Dr("update",fB)],expanded:[Dr("update",uA)],selected:[Dr("update",lB)],none:[Dr("update",Pe)]}))],qn=Ta({fields:vB,name:"toggling",active:sB,apis:jp,state:Qk(!1)}),sA=function(){var t=function(r,o){o.stop(),il(r)};return[Oe(Tm(),t),Oe(td(),t),ya(ol()),ya(os())]},gg=function(t){var r=function(o){return gc(function(s,l){o(s),l.stop()})};return Mr(bt([t.map(r).toArray(),sA()]))},hg="alloy.item-hover",qp="alloy.item-focus",Gp=function(t){(ss(t.element).isNone()||nn.isFocused(t))&&(nn.isFocused(t)||nn.focus(t),qt(t,hg,{item:t}))},cA=function(t){qt(t,qp,{item:t})},lA=X(hg),dB=X(qp),mB=function(t){return{dom:t.dom,domModification:K(K({},t.domModification),{attributes:K(K(K({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Vu.augment(t.itemBehaviours,[t.toggling.fold(qn.revoke,function(r){return qn.config(K({aria:{mode:"checked"}},r))}),nn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){cA(r)}}),Gt.config({mode:"execution"}),it.config({store:{mode:"memory",initialValue:t.data}}),En("item-type-events",Rt(Rt([],sA(),!0),[Oe(Il(),Gp),Oe(Dm(),nn.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},fA=[Te("data"),Te("components"),Te("dom"),ae("hasSubmenu",!1),vr("toggling"),Vu.field("itemBehaviours",[qn,nn,Gt,it]),ae("ignoreFocus",!1),ae("domModification",{}),Dr("builder",mB),ae("eventOrder",{})],vA=function(t){return{dom:t.dom,components:t.components,events:Mr([Nr(Dm())])}},gB=[Te("dom"),Te("components"),Dr("builder",vA)],Uy=X("item-widget"),Wy=X([Do({name:"widget",overrides:function(t){return{behaviours:qe([it.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:Pe}})])}}})]),hB=function(t){var r=fy(Uy(),t,Wy()),o=vy(Uy(),t,r.internals()),s=function(f){return kr(f,t,"widget").map(function(d){return Gt.focusIn(d),d})},l=function(f,d){return Ed(d.event.target)?x.none():function(){return t.autofocus&&d.setSource(f.element),x.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:Mr([gc(function(f,d){s(f).each(function(h){d.stop()})}),Oe(Il(),Gp),Oe(Dm(),function(f,d){t.autofocus?s(f):nn.focus(f)})]),behaviours:Vu.augment(t.widgetBehaviours,[it.config({store:{mode:"memory",initialValue:t.data}}),nn.config({ignore:t.ignoreFocus,onFocus:function(f){cA(f)}}),Gt.config({mode:"special",focusIn:t.autofocus?function(f){s(f)}:k0(),onLeft:l,onRight:l,onEscape:function(f,d){return!nn.isFocused(f)&&!t.autofocus?(nn.focus(f),x.some(!0)):(t.autofocus&&d.setSource(f.element),x.none())}})])}},pB=[Te("uid"),Te("data"),Te("components"),Te("dom"),ae("autofocus",!1),ae("ignoreFocus",!1),Vu.field("widgetBehaviours",[it,nn,Gt]),ae("domModification",{}),gy(Wy()),Dr("builder",hB)],bB=zu("type",{widget:pB,item:fA,separator:gB}),dA=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},yB=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},wB=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},CB=X([ag({factory:{sketch:function(t){var r=Tr("menu.spec item",bB,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return mn(r,"uid")?r:K(K({},r),{uid:Bf("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),xB=X([Te("value"),Te("items"),Te("dom"),Te("components"),ae("eventOrder",{}),Ja("menuBehaviours",[sr,it,In,Gt]),Wi("movement",{mode:"menu",moveOnTab:!0},zu("mode",{grid:[qh(),Dr("config",dA)],matrix:[Dr("config",yB),Te("rowSelector")],menu:[ae("moveOnTab",!0),Dr("config",wB)]})),gO(),ae("fakeFocus",!1),ae("focusManager",fg()),zn("onHighlight")]),mA=X("alloy.menu-focus"),ev=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Qa(t.menuBehaviours,[sr.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),it.config({store:{mode:"memory",initialValue:t.value}}),In.config({find:x.some}),Gt.config(t.movement.config(t,t.movement))]),events:Mr([Oe(dB(),function(l,f){var d=f.event;l.getSystem().getByDom(d.target).each(function(h){sr.highlight(l,h),f.stop(),qt(l,mA(),{menu:l,item:h})})}),Oe(lA(),function(l,f){var d=f.event.item;sr.highlight(l,d)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},sf=pi({name:"Menu",configFields:xB(),partFields:CB(),factory:ev}),jy=function(t){return fr(t,function(r,o){return{k:r,v:o}})},gA=function(t,r,o,s){return Ot(o,s).bind(function(l){return Ot(t,l).bind(function(f){var d=gA(t,r,o,f);return x.some([f].concat(d))})}).getOr([])},qy=function(t,r){var o={};cn(t,function(d,h){be(d,function(p){o[p]=h})});var s=r,l=jy(r),f=kt(l,function(d,h){return[h].concat(gA(o,s,l,h))});return kt(o,function(d){return Ot(f,d).getOr([d])})},SB=function(){var t=jt({}),r=jt({}),o=jt({}),s=da(),l=jt({}),f=function(){t.set({}),r.set({}),o.set({}),s.clear()},d=function(){return s.get().isNone()},h=function(ne,ce){var Se;r.set(K(K({},r.get()),(Se={},Se[ne]={type:"prepared",menu:ce},Se)))},p=function(ne,ce,Se,rt){s.set(ne),t.set(Se),r.set(ce),l.set(rt);var Ae=qy(rt,Se);o.set(Ae)},y=function(ne){return go(t.get(),function(ce,Se){return ce===ne})},S=function(ne,ce,Se){return W(ne).bind(function(rt){return y(ne).bind(function(Ae){return ce(Ae).map(function(ot){return{triggeredMenu:rt,triggeringItem:ot,triggeringPath:Se}})})})},A=function(ne,ce){var Se=dt(H(ne).toArray(),function(rt){return W(rt).isSome()});return Ot(o.get(),ne).bind(function(rt){var Ae=ur(Se.concat(rt)),ot=er(Ae,function(_e,xe){return S(_e,ce,Ae.slice(0,xe+1)).fold(function(){return Rr(s.get(),_e)?[]:[x.none()]},function(tt){return[x.some(tt)]})});return Sn(ot)})},z=function(ne){return Ot(t.get(),ne).map(function(ce){var Se=Ot(o.get(),ne).getOr([]);return[ce].concat(Se)})},R=function(ne){return Ot(o.get(),ne).bind(function(ce){return ce.length>1?x.some(ce.slice(1)):x.none()})},N=function(ne){return Ot(o.get(),ne)},W=function(ne){return te(ne).bind(Nd)},te=function(ne){return Ot(r.get(),ne)},H=function(ne){return Ot(t.get(),ne)},re=function(ne){var ce=l.get();return hr(st(ce),ne)},me=function(){return s.get().bind(W)},ye=function(){return r.get()};return{setMenuBuilt:h,setContents:p,expand:z,refresh:N,collapse:R,lookupMenu:te,lookupItem:H,otherMenus:re,getPrimary:me,getMenus:ye,clear:f,isClear:d,getTriggeringPath:A}},Nd=function(t){return t.type==="prepared"?x.some(t.menu):x.none()},pg={init:SB,extractPreparedMenu:Nd},hA=function(t,r){var o=da(),s=function(Ee,xt,_t){return kt(_t,function(Hn,gr){var ea=function(){return sf.sketch(K(K({},Hn),{value:gr,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?dk():fg()}))};return gr===xt?{type:"prepared",menu:Ee.getSystem().build(ea())}:{type:"notbuilt",nbMenu:ea}})},l=pg.init(),f=function(Ee){var xt=s(Ee,t.data.primary,t.data.menus),_t=p();return l.setContents(t.data.primary,xt,t.data.expansions,_t),l.getPrimary()},d=function(Ee){return it.getValue(Ee).value},h=function(Ee,xt,_t){return gt(xt,function(Hn){if(!Hn.getSystem().isConnected())return x.none();var gr=sr.getCandidates(Hn);return at(gr,function(ea){return d(ea)===_t})})},p=function(Ee){return kt(t.data.menus,function(xt,_t){return er(xt.items,function(Hn){return Hn.type==="separator"?[]:[Hn.data.value]})})},y=function(Ee,xt){sr.highlight(Ee,xt),sr.getHighlighted(xt).orThunk(function(){return sr.getFirst(xt)}).each(function(_t){Zb(Ee,_t.element,Dm())})},S=function(Ee,xt){return $n(Ke(xt,function(_t){return Ee.lookupMenu(_t).bind(function(Hn){return Hn.type==="prepared"?x.some(Hn.menu):x.none()})}))},A=function(Ee,xt,_t){var Hn=S(xt,xt.otherMenus(_t));be(Hn,function(gr){Cc(gr.element,[t.markers.backgroundMenu]),t.stayInDom||dn.remove(Ee,gr)})},z=function(Ee){return o.get().getOrThunk(function(){var xt={},_t=lo(Ee.element,"."+t.markers.item),Hn=dt(_t,function(gr){return Yr(gr,"aria-haspopup")==="true"});return be(Hn,function(gr){Ee.getSystem().getByDom(gr).each(function(ea){var tc=d(ea);xt[tc]=ea})}),o.set(xt),xt})},R=function(Ee,xt){var _t=z(Ee);cn(_t,function(Hn,gr){var ea=_n(xt,gr);Tn(Hn.element,"aria-expanded",ea)})},N=function(Ee,xt,_t){return x.from(_t[0]).bind(function(Hn){return xt.lookupMenu(Hn).bind(function(gr){if(gr.type==="notbuilt")return x.none();var ea=gr.menu,tc=S(xt,_t.slice(1));return be(tc,function(Cs){so(Cs.element,t.markers.backgroundMenu)}),Zt(ea.element)||dn.append(Ee,hu(ea)),Cc(ea.element,[t.markers.backgroundMenu]),y(Ee,ea),A(Ee,xt,_t),x.some(ea)})})},W;(function(Ee){Ee[Ee.HighlightSubmenu=0]="HighlightSubmenu",Ee[Ee.HighlightParent=1]="HighlightParent"})(W||(W={}));var te=function(Ee,xt,_t){if(_t.type==="notbuilt"){var Hn=Ee.getSystem().build(_t.nbMenu());return l.setMenuBuilt(xt,Hn),Hn}else return _t.menu},H=function(Ee,xt,_t){if(_t===void 0&&(_t=W.HighlightSubmenu),xt.hasConfigured(It)&&It.isDisabled(xt))return x.some(xt);var Hn=d(xt);return l.expand(Hn).bind(function(gr){return R(Ee,gr),x.from(gr[0]).bind(function(ea){return l.lookupMenu(ea).bind(function(tc){var Cs=te(Ee,ea,tc);return Zt(Cs.element)||dn.append(Ee,hu(Cs)),t.onOpenSubmenu(Ee,xt,Cs,ur(gr)),_t===W.HighlightSubmenu?(sr.highlightFirst(Cs),N(Ee,l,gr)):(sr.dehighlightAll(Cs),x.some(xt))})})})},re=function(Ee,xt){var _t=d(xt);return l.collapse(_t).bind(function(Hn){return R(Ee,Hn),N(Ee,l,Hn).map(function(gr){return t.onCollapseMenu(Ee,xt,gr),gr})})},me=function(Ee,xt){var _t=d(xt);return l.refresh(_t).bind(function(Hn){return R(Ee,Hn),N(Ee,l,Hn)})},ye=function(Ee,xt){return Ed(xt.element)?x.none():H(Ee,xt,W.HighlightSubmenu)},ne=function(Ee,xt){return Ed(xt.element)?x.none():re(Ee,xt)},ce=function(Ee,xt){return re(Ee,xt).orThunk(function(){return t.onEscape(Ee,xt).map(function(){return Ee})})},Se=function(Ee){return function(xt,_t){return _i(_t.getSource(),"."+t.markers.item).bind(function(Hn){return xt.getSystem().getByDom(Hn).toOptional().bind(function(gr){return Ee(xt,gr).map(Ve)})})}},rt=Mr([Oe(mA(),function(Ee,xt){var _t=xt.event.item;l.lookupItem(d(_t)).each(function(){var Hn=xt.event.menu;sr.highlight(Ee,Hn);var gr=d(xt.event.item);l.refresh(gr).each(function(ea){return A(Ee,l,ea)})})}),gc(function(Ee,xt){var _t=xt.event.target;Ee.getSystem().getByDom(_t).each(function(Hn){var gr=d(Hn);gr.indexOf("collapse-item")===0&&re(Ee,Hn),H(Ee,Hn,W.HighlightSubmenu).fold(function(){t.onExecute(Ee,Hn)},Pe)})}),ca(function(Ee,xt){f(Ee).each(function(_t){dn.append(Ee,hu(_t)),t.onOpenMenu(Ee,_t),t.highlightImmediately&&y(Ee,_t)})})].concat(t.navigateOnHover?[Oe(lA(),function(Ee,xt){var _t=xt.event.item;me(Ee,_t),H(Ee,_t,W.HighlightParent),t.onHover(Ee,_t)})]:[])),Ae=function(Ee){return sr.getHighlighted(Ee).bind(sr.getHighlighted)},ot=function(Ee){Ae(Ee).each(function(xt){re(Ee,xt)})},_e=function(Ee){l.getPrimary().each(function(xt){y(Ee,xt)})},xe=function(Ee){return x.from(Ee.components()[0]).filter(function(xt){return Yr(xt.element,"role")==="menu"})},tt=function(Ee){var xt=l.getPrimary().bind(function(_t){return Ae(Ee).bind(function(Hn){var gr=d(Hn),ea=xa(l.getMenus()),tc=$n(Ke(ea,pg.extractPreparedMenu));return l.getTriggeringPath(gr,function(Cs){return h(Ee,tc,Cs)})}).map(function(Hn){return{primary:_t,triggeringPath:Hn}})});xt.fold(function(){xe(Ee).each(function(_t){t.onRepositionMenu(Ee,_t,[])})},function(_t){var Hn=_t.primary,gr=_t.triggeringPath;t.onRepositionMenu(Ee,Hn,gr)})},Et={collapseMenu:ot,highlightPrimary:_e,repositionMenus:tt};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Qa(t.tmenuBehaviours,[Gt.config({mode:"special",onRight:Se(ye),onLeft:Se(ne),onEscape:Se(ce),focusIn:function(Ee,xt){l.getPrimary().each(function(_t){Zb(Ee,_t.element,Dm())})}}),sr.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),In.config({find:function(Ee){return sr.getHighlighted(Ee)}}),dn.config({})]),eventOrder:t.eventOrder,apis:Et,events:rt}},pA=X("collapse-item"),kB=function(t,r,o){return{primary:t,menus:r,expansions:o}},AB=function(t,r){return{primary:t,menus:dc(t,r),expansions:{}}},EB=function(t){return{value:wt(pA()),meta:{text:t}}},tv=Gi({name:"TieredMenu",configFields:[jl("onExecute"),jl("onEscape"),Lf("onOpenMenu"),Lf("onOpenSubmenu"),zn("onRepositionMenu"),zn("onCollapseMenu"),ae("highlightImmediately",!0),al("data",[Te("primary"),Te("menus"),Te("expansions")]),ae("fakeFocus",!1),zn("onHighlight"),zn("onHover"),Wh(),Te("dom"),ae("navigateOnHover",!0),ae("stayInDom",!1),Ja("tmenuBehaviours",[Gt,sr,In,dn]),ae("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:hA,extraApis:{tieredData:kB,singleData:AB,collapseItem:EB}}),Gy=function(t,r,o,s,l){var f=function(){return t.lazySink(r)},d=s.type==="horizontal"?{layouts:{onLtr:function(){return Yl()},onRtl:function(){return Zl()}}}:{},h=function(y){return y.length===2},p=function(y){return h(y)?d:{}};return tv.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return jn.close(r),t.onEscape.map(function(y){return y(r)}),x.some(!0)},onExecute:function(){return x.some(!0)},onOpenMenu:function(y,S){hi.positionWithinBounds(f().getOrDie(),S,o,l())},onOpenSubmenu:function(y,S,A,z){var R=f().getOrDie();hi.position(R,A,{anchor:K({type:"submenu",item:S},p(z))})},onRepositionMenu:function(y,S,A){var z=f().getOrDie();hi.positionWithinBounds(z,S,o,l()),be(A,function(R){var N=p(R.triggeringPath);hi.position(z,R.triggeredMenu,{anchor:K({type:"submenu",item:R.triggeringItem},N)})})}})},bA=function(t,r){var o=function(R,N){var W=t.getRelated(R);return W.exists(function(te){return Pf(te,N)})},s=function(R,N){jn.setContent(R,N)},l=function(R,N,W){f(R,N,W,x.none())},f=function(R,N,W,te){d(R,N,W,function(){return te.map(function(H){return Ya(H)})})},d=function(R,N,W,te){var H=t.lazySink(R).getOrDie();jn.openWhileCloaked(R,N,function(){return hi.positionWithinBounds(H,R,W,te())}),it.setValue(R,x.some({mode:"position",config:W,getBounds:te}))},h=function(R,N,W){p(R,N,W,x.none)},p=function(R,N,W,te){var H=Gy(t,R,N,W,te);jn.open(R,H),it.setValue(R,x.some({mode:"menu",menu:H}))},y=function(R){jn.isOpen(R)&&(it.setValue(R,x.none()),jn.close(R))},S=function(R){return jn.getState(R)},A=function(R){jn.isOpen(R)&&it.getValue(R).each(function(N){switch(N.mode){case"menu":jn.getState(R).each(tv.repositionMenus);break;case"position":var W=t.lazySink(R).getOrDie();hi.positionWithinBounds(W,R,N.config,N.getBounds());break}})},z={setContent:s,showAt:l,showWithin:f,showWithinBounds:d,showMenuAt:h,showMenuWithinBounds:p,hide:y,getContent:S,reposition:A,isOpen:jn.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Qa(t.inlineBehaviours,[jn.config({isPartOf:function(R,N,W){return Pf(N,W)||o(R,W)},getAttachPoint:function(R){return t.lazySink(R).getOrDie()},onOpen:function(R){t.onShow(R)},onClose:function(R){t.onHide(R)}}),it.config({store:{mode:"memory",initialValue:x.none()}}),Hu.config({channels:K(K({},Gf(K({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(R){return{fireEventInstead:{event:R.event}}}).getOr({})))),Jm(K(K({},t.fireRepositionEventInstead.map(function(R){return{fireEventInstead:{event:R.event}}}).getOr({})),{doReposition:A})))})]),eventOrder:t.eventOrder,apis:z}},Jr=Gi({name:"InlineView",configFields:[Te("lazySink"),zn("onShow"),zn("onHide"),Of("onEscape"),Ja("inlineBehaviours",[jn,it,Hu]),vu("fireDismissalEventInstead",[ae("event",Is())]),vu("fireRepositionEventInstead",[ae("event",Qo())]),ae("getRelated",x.none),ae("isExtraPart",ut),ae("eventOrder",x.none)],factory:bA,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,l){t.showWithin(r,o,s,l)},showWithinBounds:function(t,r,o,s,l){t.showWithinBounds(r,o,s,l)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,l){t.showMenuWithinBounds(r,o,s,l)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),_c="layout-inset",Ky=function(t){return t.x},Xy=function(t,r){return t.x+t.width/2-r.width/2},Yy=function(t,r){return t.x+t.width-r.width},Zy=function(t){return t.y},Jy=function(t,r){return t.y+t.height-r.height},Qy=function(t,r){return t.y+t.height/2-r.height/2},bg=function(t,r,o){return So(Yy(t,r),Jy(t,r),o.insetSouthwest(),b0(),"southwest",ko(t,{right:0,bottom:3}),_c)},Kp=function(t,r,o){return So(Ky(t),Jy(t,r),o.insetSoutheast(),p0(),"southeast",ko(t,{left:1,bottom:3}),_c)},yg=function(t,r,o){return So(Yy(t,r),Zy(t),o.insetNorthwest(),sd(),"northwest",ko(t,{right:0,top:2}),_c)},nv=function(t,r,o){return So(Ky(t),Zy(t),o.insetNortheast(),Kh(),"northeast",ko(t,{left:1,top:2}),_c)},ds=function(t,r,o){return So(Xy(t,r),Zy(t),o.insetNorth(),y0(),"north",ko(t,{top:2}),_c)},rv=function(t,r,o){return So(Xy(t,r),Jy(t,r),o.insetSouth(),w0(),"south",ko(t,{bottom:3}),_c)},yA=function(t,r,o){return So(Yy(t,r),Qy(t,r),o.insetEast(),Xh(),"east",ko(t,{right:0}),_c)},Xp=function(t,r,o){return So(Ky(t),Qy(t,r),o.insetWest(),Bi(),"west",ko(t,{left:1}),_c)},TB=function(t){switch(t){case"north":return ds;case"northeast":return nv;case"northwest":return yg;case"south":return rv;case"southeast":return Kp;case"southwest":return bg;case"east":return yA;case"west":return Xp}},wA=function(t,r,o,s,l){var f=jx(s).map(TB).getOr(ds);return f(t,r,o,s,l)},OB=function(t){switch(t){case"north":return rv;case"northeast":return Kp;case"northwest":return bg;case"south":return ds;case"southeast":return nv;case"southwest":return yg;case"east":return Xp;case"west":return yA}},DB=function(t,r,o,s,l){var f=jx(s).map(OB).getOr(ds);return f(t,r,o,s,l)},cf=tinymce.util.Tools.resolve("tinymce.util.Delay"),CA=function(t){var r=gg(t.action),o=t.dom.tag,s=function(f){return Ot(t.dom,"attributes").bind(function(d){return Ot(d,f)})},l=function(){if(o==="button"){var f=s("type").getOr("button"),d=s("role").map(function(p){return{role:p}}).getOr({});return K({type:f},d)}else{var h=s("role").getOr("button");return{role:h}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:Vu.augment(t.buttonBehaviours,[nn.config({}),Gt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:l()},eventOrder:t.eventOrder}},Wo=Gi({name:"Button",factory:CA,configFields:[ae("uid",void 0),Te("dom"),ae("components",[]),Vu.field("buttonBehaviours",[nn,Gt]),vr("action"),vr("role"),ae("eventOrder",{})]}),ir=function(t){var r=e_(t)&&Bn(t,"uid")?t.uid:Bf("memento"),o=function(f){return f.getSystem().getByUid(r).getOrDie()},s=function(f){return f.getSystem().getByUid(r).toOptional()},l=function(){return K(K({},t),{uid:r})};return{get:o,getOpt:s,asSpec:l}},bu=tinymce.util.Tools.resolve("tinymce.util.I18n"),_B={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},xA="temporary-placeholder",e2=function(t){return function(){return Ot(t,xA).getOr("!not found!")}},t2=function(t,r){var o=t.toLowerCase();if(bu.isRtl()){var s=Ii(o,"-rtl");return mn(r,s)?s:o}else return o},SA=function(t,r){return Ot(r,t2(t,r))},kA=function(t,r){var o=r();return SA(t,o).getOrThunk(e2(o))},AA=function(t,r,o){var s=r();return SA(t,s).or(o).getOrThunk(e2(s))},BB=function(t){return bu.isRtl()?mn(_B,t):!1},n2=function(){return En("add-focusable",[ca(function(t){lO(t.element,"svg").each(function(r){return Tn(r,"focusable","false")})})])},wg=function(t,r,o,s){var l,f,d=BB(r)?["tox-icon--flip"]:[],h=Ot(o,t2(r,o)).or(s).getOrThunk(e2(o));return{dom:{tag:t.tag,attributes:(l=t.attributes)!==null&&l!==void 0?l:{},classes:t.classes.concat(d),innerHtml:h},behaviours:qe(Rt(Rt([],(f=t.behaviours)!==null&&f!==void 0?f:[],!0),[n2()],!1))}},qs=function(t,r,o,s){return s===void 0&&(s=x.none()),wg(r,t,o(),s)},zB=function(t,r,o){var s=o(),l=at(t,function(f){return mn(s,t2(f,s))});return wg(r,l.getOr(xA),s,x.none())},r2={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},MB=function(t){var r=ir({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:qe([dn.config({})])}),o=function(R){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+R+"%"}}}},s=function(R){return{dom:{tag:"div",classes:["tox-text"],innerHtml:R+"%"}}},l=ir({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:qe([dn.config({})])}),f=function(R,N){R.getSystem().isConnected()&&l.getOpt(R).each(function(W){dn.set(W,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(N)]},s(N)])})},d=function(R,N){if(R.getSystem().isConnected()){var W=r.get(R);dn.set(W,[Rf(N)])}},h={updateProgress:f,updateText:d},p=bt([t.icon.toArray(),t.level.toArray(),t.level.bind(function(R){return x.from(r2[R])}).toArray()]),y=ir(Wo.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[qs("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(R){t.onAction(R)}})),S=zB(p,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),A={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:qe([dn.config({})])},z=[S,A];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(R){return["tox-notification","tox-notification--in","tox-notification--"+R]}).getOr(["tox-notification","tox-notification--in"])},behaviours:qe([nn.config({}),En("notification-events",[Oe(Nl(),function(R){y.getOpt(R).each(nn.focus)})])]),components:z.concat(t.progress?[l.asSpec()]:[]).concat(t.closeButton?[y.asSpec()]:[]),apis:h}},a2=Gi({name:"Notification",factory:MB,configFields:[vr("level"),Te("progress"),Te("icon"),Te("onAction"),Te("text"),Te("iconProvider"),Te("translationProvider"),ua("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function RB(t,r,o){var s=r.backstage.shared,l=function(y){switch(y){case"bc-bc":return rv;case"tc-tc":return ds;case"tc-bc":return Mi;case"bc-tc":default:return Eo}},f=function(y){y.length>0&&be(y,function(S,A){A===0?S.moveRel(null,"banner"):S.moveRel(y[A-1].getEl(),"bc-tc")})},d=function(y,S){var A=!y.closeButton&&y.timeout&&(y.timeout>0||y.timeout<0),z=function(){S(),Jr.hide(N)},R=Ho(a2.sketch({text:y.text,level:_n(["success","error","warning","warn","info"],y.type)?y.type:void 0,progress:y.progressBar===!0,icon:x.from(y.icon),closeButton:!A,onAction:z,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),N=Ho(Jr.sketch(K({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(N),y.timeout>0&&cf.setTimeout(function(){z()},y.timeout);var W=function(){var te=Ya(Ye.fromDom(t.getContentAreaContainer())),H=lu(),re=zi(H.x,te.x,te.right),me=zi(H.y,te.y,te.bottom),ye=Math.max(te.right,H.right),ne=Math.max(te.bottom,H.bottom);return x.some(Xa(re,me,ye-re,ne-me))};return{close:z,moveTo:function(te,H){Jr.showAt(N,hu(R),{anchor:{type:"makeshift",x:te,y:H}})},moveRel:function(te,H){var re=hu(R),me={maxHeightFunction:Wm()};if(H!=="banner"&&Jt(te)){var ye=l(H),ne={type:"node",root:pr(),node:x.some(Ye.fromDom(te)),overrides:me,layouts:{onRtl:function(){return[ye]},onLtr:function(){return[ye]}}};Jr.showWithinBounds(N,re,{anchor:ne},W)}else{var ce=K(K({},s.anchors.banner()),{overrides:me});Jr.showWithinBounds(N,re,{anchor:ce},W)}},text:function(te){a2.updateText(R,te)},settings:y,getEl:function(){return R.element.dom},progressBar:{value:function(te){a2.updateProgress(R,te)}}}},h=function(y){y.close()},p=function(y){return y.settings};return{open:d,close:h,reposition:f,getArgs:p}}var PB=function(t,r){var o=null,s=function(){cr(o)||(clearTimeout(o),o=null)},l=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];cr(o)&&(o=setTimeout(function(){o=null,t.apply(null,f)},r))};return{cancel:s,throttle:l}},o2=function(t,r){var o=null,s=function(){cr(o)||(clearTimeout(o),o=null)},l=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];s(),o=setTimeout(function(){o=null,t.apply(null,f)},r)};return{cancel:s,throttle:l}},FB=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),IB=function(t,r){return t.isBlock(r)||_n(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},EA=function(t,r,o,s,l){var f=FB(t,function(d){return IB(t,d)});return x.from(f.backwards(r,o,s,l))},NB="[data-mce-autocompleter]",LB=function(t,r){return Yp(Ye.fromDom(t.selection.getNode())).getOrThunk(function(){var o=Ye.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return No(o,Ye.fromDom(r.extractContents())),r.insertNode(o.dom),La(o).each(function(s){return s.dom.normalize()}),xD(o).map(function(s){t.selection.setCursorLocation(s.dom,yD(s))}),o})},Yp=function(t){return _i(t,NB)},$B=function(t){return t.collapsed&&t.startContainer.nodeType===3},Zp=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},TA=function(t){return t!==""&&` \xA0\f
\r	\v`.indexOf(t)!==-1},i2=function(t,r){return t.substring(r.length)},HB=function(t,r,o){var s;for(s=r-1;s>=0;s--){var l=t.charAt(s);if(TA(l))return x.none();if(l===o)break}return x.some(s)},OA=function(t,r,o,s){if(s===void 0&&(s=0),!$B(r))return x.none();var l=function(d,h,p){return HB(p,h,o).getOr(h)},f=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return EA(t,r.startContainer,r.startOffset,l,f).bind(function(d){var h=r.cloneRange();if(h.setStart(d.container,d.offset),h.setEnd(r.endContainer,r.endOffset),h.collapsed)return x.none();var p=Zp(h),y=p.lastIndexOf(o);return y!==0||i2(p,o).length<s?x.none():x.some({text:i2(p,o),range:h,triggerChar:o})})},u2=function(t,r,o,s){return s===void 0&&(s=0),Yp(Ye.fromDom(r.startContainer)).fold(function(){return OA(t,r,o,s)},function(l){var f=t.createRng();f.selectNode(l.dom);var d=Zp(f);return x.some({range:f,text:i2(d,o),triggerChar:o})})},VB=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,l){qt(s,Oh(),{raw:l})};r.on("keydown",function(s){var l=function(){return t.getView().bind(sr.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(l().each(il),s.preventDefault()):s.which===40?(l().fold(function(){t.getView().each(sr.highlightFirst)},function(f){o(f,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&l().each(function(f){o(f,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&Yp(Ye.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},UB={setup:VB},Cg=tinymce.util.Tools.resolve("tinymce.util.Promise"),s2=function(t,r){return{container:t,offset:r}},c2=function(t){return t.nodeType===ac},WB=function(t){return t.nodeType===Zu},DA=function(t){if(c2(t))return s2(t,t.data.length);var r=t.childNodes;return r.length>0?DA(r[r.length-1]):s2(t,r.length)},_A=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?_A(o[r],0):o.length>0&&WB(t)&&o.length===r?DA(o[o.length-1]):s2(t,r)},jB=function(t,r){return EA(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!TA(s)}).isSome()},qB=function(t){return function(r){var o=_A(r.startContainer,r.startOffset);return!jB(t,o)}},GB=function(t,r,o){return gt(o.triggerChars,function(s){return u2(t,r,s)})},KB=function(t,r){var o=r(),s=t.selection.getRng();return GB(t.dom,s,o).bind(function(l){return BA(t,r,l)})},BA=function(t,r,o,s){s===void 0&&(s={});var l=r(),f=t.selection.getRng(),d=f.startContainer.nodeValue,h=dt(l.lookupByChar(o.triggerChar),function(y){return o.text.length>=y.minChars&&y.matches.getOrThunk(function(){return qB(t.dom)})(o.range,d,o.text)});if(h.length===0)return x.none();var p=Cg.all(Ke(h,function(y){var S=y.fetch(o.text,y.maxResults,s);return S.then(function(A){return{matchText:o.text,items:A,columns:y.columns,onAction:y.onAction,highlightOn:y.highlightOn}})}));return x.some({lookupData:p,context:o})},zA=Ft([un("type"),Fr("text")]),XB=function(t){return ia("separatormenuitem",zA,t)},YB=Ft([ae("type","autocompleteitem"),ae("active",!1),ae("disabled",!1),ae("meta",{}),un("value"),Fr("text"),Fr("icon")]),l2=Ft([un("type"),un("ch"),vc("minChars",1),ae("columns",1),vc("maxResults",10),Of("matches"),Jo("fetch"),Jo("onAction"),Am("highlightOn",[],Aa)]),ZB=function(t){return ia("Autocompleter.Separator",zA,t)},JB=function(t){return ia("Autocompleter.Item",YB,t)},QB=function(t){return ia("Autocompleter",l2,t)},av=[ua("disabled",!1),Fr("tooltip"),Fr("icon"),Fr("text"),zr("onSetup",function(){return Pe})],e6=Ft([un("type"),Jo("onAction")].concat(av)),Jp=function(t){return ia("toolbarbutton",e6,t)},f2=[ua("active",!1)].concat(av),t6=Ft(f2.concat([un("type"),Jo("onAction")])),MA=function(t){return ia("ToggleButton",t6,t)},RA=[zr("predicate",ut),Ru("scope","node",["node","editor"]),Ru("position","selection",["node","selection","line"])],n6=av.concat([ae("type","contextformbutton"),ae("primary",!1),Jo("onAction"),Di("original",Mt)]),PA=f2.concat([ae("type","contextformbutton"),ae("primary",!1),Jo("onAction"),Di("original",Mt)]),r6=av.concat([ae("type","contextformbutton")]),v2=f2.concat([ae("type","contextformtogglebutton")]),d2=zu("type",{contextformbutton:n6,contextformtogglebutton:PA}),FA=Ft([ae("type","contextform"),zr("initValue",X("")),Fr("label"),ci("commands",d2),Rs("launch",zu("type",{contextformbutton:r6,contextformtogglebutton:v2}))].concat(RA)),m2=function(t){return ia("ContextForm",FA,t)},g2=Ft([ae("type","contexttoolbar"),un("items")].concat(RA)),IA=function(t){return ia("ContextToolbar",g2,t)},Bc=function(t){var r={};return be(t,function(o){r[o]={}}),st(r)},h2=function(t){var r=t.ui.registry.getAll().popups,o=kt(r,function(d){return QB(d).fold(function(h){throw new Error(Tf(h))},Mt)}),s=Bc(ja(o,function(d){return d.ch})),l=xa(o),f=function(d){return dt(l,function(h){return h.ch===d})};return{dataset:o,triggerChars:s,lookupByChar:f}},p2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(p2||(p2={}));var Gs=p2,b2="tox-menu-nav__js",y2="tox-collection__item",lf="tox-swatch",NA={normal:b2,color:lf},LA="tox-collection__item--enabled",a6="tox-collection__group-heading",w2="tox-collection__item-icon",Qp="tox-collection__item-label",C2="tox-collection__item-accessory",$A="tox-collection__item-caret",x2="tox-collection__item-checkmark",ov="tox-collection__item--active",HA="tox-collection__item-container",VA="tox-collection__item-container--column",S2="tox-collection__item-container--row",o6="tox-collection__item-container--align-right",i6="tox-collection__item-container--align-left",u6="tox-collection__item-container--valign-top",s6="tox-collection__item-container--valign-middle",c6="tox-collection__item-container--valign-bottom",UA=function(t){return Ot(NA,t).getOr(b2)},l6=function(t){return t==="color"?"tox-swatches":"tox-menu"},k2=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:l6(t),tieredMenu:"tox-tiered-menu"}},yl=function(t){var r=k2(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:UA(t)}},WA=function(t,r,o){var s=k2(o);return{tag:"div",classes:bt([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},jA=[sf.parts.items({})],e1=function(t,r,o){var s=k2(o),l={tag:"div",classes:bt([[s.tieredMenu]])};return{dom:l,markers:yl(o)}},A2=function(t,r){return function(o){var s=Bo(o,r);return Ke(s,function(l){return{dom:t,components:l}})}},E2=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[sf.parts.items({preprocess:t!=="auto"?A2({tag:"div",classes:["tox-swatches__row"]},t):Mt})]}]}},T2=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[sf.parts.items({preprocess:A2({tag:"div",classes:["tox-collection__group"]},t)})]}},O2=function(t,r){var o=[],s=[];return be(t,function(l,f){r(l,f)?(s.length>0&&o.push(s),s=[],mn(l.dom,"innerHtml")&&s.push(l)):s.push(l)}),s.length>0&&o.push(s),Ke(o,function(l){return{dom:{tag:"div",classes:["tox-collection__group"]},components:l}})},t1=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[sf.parts.items({preprocess:function(s){return t!=="auto"&&t>1?A2({tag:"div",classes:["tox-collection__group"]},t)(s):O2(s,function(l,f){return r[f].type==="separator"})}})]}},qA=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[sf.parts.items({preprocess:function(o){return O2(o,function(s,l){return t[l].type==="separator"})}})]}},n1=function(t){return Cr(t,function(r){return"icon"in r&&r.icon!==void 0})},Ks=function(t){return console.error(Tf(t)),console.log(t),x.none()},f6=function(t,r,o,s,l){var f=qA(o);return{value:t,dom:f.dom,components:f.components,items:o}},r1=function(t,r,o,s,l){if(l==="color"){var f=E2(s);return{value:t,dom:f.dom,components:f.components,items:o}}if(l==="normal"&&s==="auto"){var f=t1(s,o);return{value:t,dom:f.dom,components:f.components,items:o}}if(l==="normal"&&s===1){var f=t1(1,o);return{value:t,dom:f.dom,components:f.components,items:o}}if(l==="normal"){var f=t1(s,o);return{value:t,dom:f.dom,components:f.components,items:o}}if(l==="listpreview"&&s!=="auto"){var f=T2(s);return{value:t,dom:f.dom,components:f.components,items:o}}return{value:t,dom:WA(r,s,l),components:jA,items:o}},GA=[un("type"),un("src"),Fr("alt"),Am("classes",[],Aa)],xg=Ft(GA),v6=[un("type"),un("text"),Fr("name"),Am("classes",["tox-collection__item-label"],Aa)],D2=Ft(v6),iv=QC(function(){return kh("type",{cardimage:xg,cardtext:D2,cardcontainer:d6})}),d6=Ft([un("type"),Zv("direction","horizontal"),Zv("align","left"),Zv("valign","middle"),ci("items",iv)]),uv=[ua("disabled",!1),Fr("text"),Fr("shortcut"),Za("value","value",Jn(function(){return wt("menuitem-value")}),zs()),ae("meta",{})],KA=Ft([un("type"),Fr("label"),ci("items",iv),zr("onSetup",function(){return Pe}),zr("onAction",Pe)].concat(uv)),XA=function(t){return ia("cardmenuitem",KA,t)},_2=Ft([un("type"),ua("active",!1),Fr("icon")].concat(uv)),YA=function(t){return ia("choicemenuitem",_2,t)},ZA=[un("type"),un("fancytype"),zr("onAction",Pe)],m6=[ae("initData",{})].concat(ZA),a1=[Fb("initData",{},[ua("allowCustomColors",!0),Ui("colors",zs())])].concat(ZA),g6=zu("fancytype",{inserttable:m6,colorswatch:a1}),JA=function(t){return ia("fancymenuitem",g6,t)},Ld=Ft([un("type"),zr("onSetup",function(){return Pe}),zr("onAction",Pe),Fr("icon")].concat(uv)),h6=function(t){return ia("menuitem",Ld,t)},p6=Ft([un("type"),Jo("getSubmenuItems"),zr("onSetup",function(){return Pe}),Fr("icon")].concat(uv)),b6=function(t){return ia("nestedmenuitem",p6,t)},QA=Ft([un("type"),Fr("icon"),ua("active",!1),zr("onSetup",function(){return Pe}),Jo("onAction")].concat(uv)),e3=function(t){return ia("togglemenuitem",QA,t)},B2=function(t,r,o){var s=lo(t.element,"."+o);if(s.length>0){var l=Ln(s,function(f){var d=f.dom.getBoundingClientRect().top,h=s[0].dom.getBoundingClientRect().top;return Math.abs(d-h)>r}).getOr(s.length);return x.some({numColumns:l,numRows:Math.ceil(s.length/l)})}else return x.none()},t3=function(t,r){return qe([En(t,r)])},y6=function(t){return t3(wt("unnamed-events"),t)},o1={namedEvents:t3,unnamedEvents:y6},n3=wt("tooltip.exclusive"),ff=wt("tooltip.show"),Sg=wt("tooltip.hide"),r3=function(t,r,o){t.getSystem().broadcastOn([n3],{})},z2=function(t,r,o,s){o.getTooltip().each(function(l){l.getSystem().isConnected()&&dn.set(l,s)})},a3=Object.freeze({__proto__:null,hideAllExclusive:r3,setComponents:z2}),w6=function(t,r){var o=function(l){r.getTooltip().each(function(f){cs(f),t.onHide(l,f),r.clearTooltip()}),r.clearTimer()},s=function(l){if(!r.isShowing()){r3(l);var f=t.lazySink(l).getOrDie(),d=l.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Mr(t.mode==="normal"?[Oe(Il(),function(h){Fn(l,ff)}),Oe(Vb(),function(h){Fn(l,Sg)})]:[]),behaviours:qe([dn.config({})])});r.setTooltip(d),Uo(f,d),t.onShow(l,d),hi.position(f,d,{anchor:t.anchor(l)})}};return Mr(bt([[Oe(ff,function(l){r.resetTimer(function(){s(l)},t.delay)}),Oe(Sg,function(l){r.resetTimer(function(){o(l)},t.delay)}),Oe(Iu(),function(l,f){var d=f;d.universal||_n(d.channels,n3)&&o(l)}),gu(function(l){o(l)})],t.mode==="normal"?[Oe(Nl(),function(l){Fn(l,ff)}),Oe(jb(),function(l){Fn(l,Sg)}),Oe(Il(),function(l){Fn(l,ff)}),Oe(Vb(),function(l){Fn(l,Sg)})]:[Oe(lx(),function(l,f){Fn(l,ff)}),Oe(Mm(),function(l){Fn(l,Sg)})]]))},o3=Object.freeze({__proto__:null,events:w6}),i3=[Te("lazySink"),Te("tooltipDom"),ae("exclusive",!0),ae("tooltipComponents",[]),ae("delay",300),Ru("mode","normal",["normal","follow-highlight"]),ae("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:X([Eo,Mi,Vo,mi,Ao,co]),onRtl:X([Eo,Mi,Vo,mi,Ao,co])}}}),zn("onHide"),zn("onShow")],u3=function(){var t=da(),r=da(),o=function(){t.on(clearTimeout)},s=function(f,d){o(),t.set(setTimeout(f,d))},l=X("not-implemented");return li({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:l})},s3=Object.freeze({__proto__:null,init:u3}),c3=Ta({fields:i3,name:"tooltipping",active:o3,state:s3,apis:a3}),C6=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},kg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x6=tinymce.util.Tools.resolve("tinymce.EditorManager"),M2=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=x6.baseURL+"/skins/ui/"+s}return o},R2=function(t){return t.getParam("readonly",!1,"boolean")},l3=function(t){return t.getParam("skin")===!1},f3=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},P2=function(t){return t.getParam("width",kg.DOM.getStyle(t.getElement(),"width"))},v3=function(t){return x.from(t.getParam("min_width")).filter(Vr)},d3=function(t){return x.from(t.getParam("min_height")).filter(Vr)},F2=function(t){return x.from(t.getParam("max_width")).filter(Vr)},I2=function(t){return x.from(t.getParam("max_height")).filter(Vr)},m3=function(t){return x.from(t.getParam("style_formats")).filter(pn)},g3=function(t){return t.getParam("style_formats_merge",!1,"boolean")},S6=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},k6=function(t){return t.getParam("content_langs",void 0,"array")},A6=function(t){return t.getParam("removed_menuitems","")},N2=function(t){return t.getParam("menubar",!0,"boolean")!==!1},L2=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=Nt(r),l=pn(r)&&r.length>0;return!i1(t)&&(l||s||o)},h3=function(t){var r=U(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=dt(r,function(s){return typeof s=="string"});return o.length>0?x.some(o):x.none()},i1=function(t){return h3(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Ve)},yu;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(yu||(yu={}));var Ag=function(t){return t.getParam("toolbar_mode","","string")},sv;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(sv||(sv={}));var E6=function(t){return t.getParam("toolbar_groups",{},"object")},$2=function(t){return t.getParam("toolbar_location",sv.auto,"string")},p3=function(t){return $2(t)===sv.bottom},T6=function(t){return t.getParam("fixed_toolbar_container","","string")},O6=function(t){return t.getParam("fixed_toolbar_container_target")},D6=function(t){return t.getParam("toolbar_persist",!1,"boolean")},b3=function(t){if(!t.inline)return x.none();var r=T6(t);if(r.length>0)return Fa(pr(),r);var o=O6(t);return Jt(o)?x.some(Ye.fromDom(o)):x.none()},u1=function(t){return t.inline&&b3(t).isSome()},Eg=function(t){var r=b3(t);return r.getOrThunk(function(){return ct(on(Ye.fromDom(t.getElement())))})},H2=function(t){return t.inline&&!N2(t)&&!L2(t)&&!i1(t)},s1=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!u1(t)&&!H2(t)},_6=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},B6=function(t){return t.getParam("draggable_modal",!1,"boolean")},z6=function(t){var r=t.getParam("menu");return r?kt(r,function(o){return K(K({},o),{items:o.items})}):{}},M6=function(t){return t.getParam("menubar")},V2=function(t){return t.getParam("toolbar",!0)},y3=function(t){return t.getParam("file_picker_callback")},w3=function(t){return t.getParam("file_picker_types")},R6=function(t){return t.getParam("file_browser_callback_types")},C3=function(t){return t.getParam("typeahead_urls")===!1},P6=function(t){return t.getParam("anchor_top","#top")},F6=function(t){return t.getParam("anchor_bottom","#bottom")},I6=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},U2="silver.readonly",N6=Ft([_5("readonly")]),$d=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([qf()],{target:s}),t.uiMothership.broadcastOn([qf()],{target:s})),t.mothership.broadcastOn([U2],{readonly:r}),t.uiMothership.broadcastOn([U2],{readonly:r})},x3=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&$d(r,!0)}),t.on("SwitchMode",function(){return $d(r,t.mode.isReadOnly())}),R2(t)&&t.setMode("readonly")},Ia=function(){var t;return Hu.config({channels:(t={},t[U2]={schema:N6,onReceive:function(r,o){It.set(r,o.readonly)}},t)})},L6=function(t){return It.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},$6=function(t){return It.config({disabled:t})},W2=function(t){return It.config({disabled:t,disableClass:"tox-tbtn--disabled"})},j2=function(t){return It.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},wu={item:L6,button:$6,splitButton:W2,toolbarButton:j2},Tg=function(t,r){var o=t.getApi(r);return function(s){s(o)}},Og=function(t,r){return ca(function(o){var s=Tg(t,o);s(function(l){var f=t.onSetup(l);Wn(f)&&r.set(f)})})},Dg=function(t,r){return gu(function(o){return Tg(t,o)(r.get())})},Hd,q2=function(t,r){return gc(function(o,s){Tg(t,o)(t.onAction),!t.triggersSubmenu&&r===Gs.CLOSE_ON_EXECUTE&&(Fn(o,_m()),s.stop())})},c1=(Hd={},Hd[du()]=["disabling","alloy.base.behaviour","toggling","item-events"],Hd),cv=$n,Vd=function(t,r,o,s){var l=jt(Pe);return{type:"item",dom:r.dom,components:cv(r.optComponents),data:t.data,eventOrder:c1,hasSubmenu:t.triggersSubmenu,itemBehaviours:qe([En("item-events",[q2(t,o),Og(t,l),Dg(t,l)]),wu.item(function(){return t.disabled||s.isDisabled()}),Ia(),dn.config({})].concat(t.itemBehaviours))}},Ud=function(t){return{value:t.value,meta:K({text:t.text.getOr("")},t.meta)}},G2=tinymce.util.Tools.resolve("tinymce.Env"),H6=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=G2.mac?r:o,l=t.split("+"),f=Ke(l,function(d){var h=d.toLowerCase().trim();return mn(s,h)?s[h]:d});return G2.mac?f.join(""):f.join("+")},K2=function(t,r,o){return o===void 0&&(o=[w2]),qs(t,{tag:"div",classes:o},r)},S3=function(t){return{dom:{tag:"div",classes:[Qp]},components:[Rf(bu.translate(t))]}},k3=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},V6=function(t,r){return{dom:{tag:"div",classes:[Qp]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Rf(bu.translate(r))]}]}},U6=function(t){return{dom:{tag:"div",classes:[C2],innerHtml:H6(t)}}},A3=function(t){return K2("checkmark",t,[x2])},W6=function(t){return K2("chevron-right",t,[$A])},j6=function(t){return K2("chevron-down",t,[$A])},q6=function(t,r){var o=t.direction==="vertical"?VA:S2,s=t.align==="left"?i6:o6,l=function(){switch(t.valign){case"top":return u6;case"middle":return s6;case"bottom":return c6}};return{dom:{tag:"div",classes:[HA,o,s,l()]},components:r}},E3=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},G6=function(t,r,o){var s="custom",l="remove",f=t.ariaLabel,d=t.value,h=t.iconContent.map(function(y){return AA(y,r.icons,o)}),p=function(){var y=lf,S=h.getOr(""),A=f.map(function(R){return{title:r.translate(R)}}).getOr({}),z={tag:"div",attributes:A,classes:[y]};return d===s?K(K({},z),{tag:"button",classes:Rt(Rt([],z.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:S}):d===l?K(K({},z),{classes:Rt(Rt([],z.classes,!0),["tox-swatch--remove"],!1),innerHtml:S}):K(K({},z),{attributes:K(K({},z.attributes),{"data-mce-color":d}),styles:{"background-color":d}})};return{dom:p(),optComponents:[]}},T3=function(t){var r=t.map(function(o){return{attributes:{title:bu.translate(o)}}}).getOr({});return K({tag:"div",classes:[b2,y2]},r)},wl=function(t,r,o,s){var l={tag:"div",classes:[w2]},f=function(z){return qs(z,l,r.icons,s)},d=function(){return x.some({dom:l})},h=o?t.iconContent.map(f).orThunk(d):x.none(),p=t.checkMark,y=x.from(t.meta).fold(function(){return S3},function(z){return mn(z,"style")?rn(V6,z.style):S3}),S=t.htmlContent.fold(function(){return t.textContent.map(y)},function(z){return x.some(k3(z,[Qp]))}),A={dom:T3(t.ariaLabel),optComponents:[h,S,t.shortcutContent.map(U6),p,t.caret]};return A},_g=function(t,r,o,s){return s===void 0&&(s=x.none()),t.presets==="color"?G6(t,r,s):wl(t,r,o,s)},O3=function(t,r){return Ot(t,"tooltipWorker").map(function(o){return[c3.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Wm}}},mode:"follow-highlight",onShow:function(s,l){o(function(f){c3.setComponents(s,[$h({element:Ye.fromDom(f)})])})}})]}).getOr([])},X2=function(t){return kg.DOM.encode(t)},Va=function(t,r){var o=bu.translate(t),s=X2(o);if(r.length>0){var l=new RegExp(C6(r),"gi");return s.replace(l,function(f){return'<span class="tox-autocompleter-highlight">'+f+"</span>"})}else return s},K6=function(t,r,o,s,l,f,d,h){h===void 0&&(h=!0);var p=_g({presets:s,textContent:x.none(),htmlContent:o?t.text.map(function(y){return Va(y,r)}):x.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:x.none(),checkMark:x.none(),caret:x.none(),value:t.value},d.providers,h,t.icon);return Vd({data:Ud(t),disabled:t.disabled,getApi:X({}),onAction:function(y){return l(t.value,t.meta)},onSetup:X(Pe),triggersSubmenu:!1,itemBehaviours:O3(t.meta,d)},p,f,d.providers)},D3=function(t,r){return Ke(t,function(o){switch(o.type){case"cardcontainer":return q6(o,D3(o.items,r));case"cardimage":return E3(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(f){return _n(r.cardText.highlightOn,f)}),l=s?x.from(r.cardText.matchText).getOr(""):"";return k3(Va(o.text,l),o.classes)}})},X6=function(t,r,o,s){var l=function(d){return{isDisabled:function(){return It.isDisabled(d)},setDisabled:function(h){It.set(d,h),be(lo(d.element,"*"),function(p){d.getSystem().getByDom(p).each(function(y){y.hasConfigured(It)&&It.set(y,h)})})}}},f={dom:T3(t.label),optComponents:[x.some({dom:{tag:"div",classes:[HA,S2]},components:D3(t.items,s)})]};return Vd({data:Ud(K({text:x.none()},t)),disabled:t.disabled,getApi:l,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:x.from(s.itemBehaviours).getOr([])},f,r,o.providers)},Y6=function(t,r,o,s,l,f,d,h){h===void 0&&(h=!0);var p=function(S){return{setActive:function(A){qn.set(S,A)},isActive:function(){return qn.isOn(S)},isDisabled:function(){return It.isDisabled(S)},setDisabled:function(A){return It.set(S,A)}}},y=_g({presets:o,textContent:r?t.text:x.none(),htmlContent:x.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:x.none(),checkMark:r?x.some(A3(d.icons)):x.none(),caret:x.none(),value:t.value},d,h);return we(Vd({data:Ud(t),disabled:t.disabled,getApi:p,onAction:function(S){return s(t.value)},onSetup:function(S){return S.setActive(l),Pe},triggersSubmenu:!1,itemBehaviours:[]},y,f,d),{toggling:{toggleClass:LA,toggleOnExecute:!1,selected:t.active}})},_3=cy(Uy(),Wy()),B3=function(t){return{value:t}},z3=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,M3=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,R3=function(t){return z3.test(t)||M3.test(t)},Z6=function(t){return Ka(t,"#").toUpperCase()},J6=function(t){return R3(t)?x.some({value:Z6(t)}):x.none()},Q6=function(t){var r=t.value.replace(z3,function(o,s,l,f){return s+s+l+l+f+f});return{value:r}},ez=function(t){var r=Q6(t),o=M3.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},Y2=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},Bg=function(t){var r=Y2(t.red)+Y2(t.green)+Y2(t.blue);return B3(r)},P3=Math.min,F3=Math.max,l1=Math.round,tz=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,nz=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,vf=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},Z2=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},I3=function(t){var r,o,s,l=(t.hue||0)%360,f=t.saturation/100,d=t.value/100;if(f=F3(0,P3(f,1)),d=F3(0,P3(d,1)),f===0)return r=o=s=l1(255*d),vf(r,o,s,1);var h=l/60,p=d*f,y=p*(1-Math.abs(h%2-1)),S=d-p;switch(Math.floor(h)){case 0:r=p,o=y,s=0;break;case 1:r=y,o=p,s=0;break;case 2:r=0,o=p,s=y;break;case 3:r=0,o=y,s=p;break;case 4:r=y,o=0,s=p;break;case 5:r=p,o=0,s=y;break;default:r=o=s=0}return r=l1(255*(r+S)),o=l1(255*(o+S)),s=l1(255*(s+S)),vf(r,o,s,1)},zg=function(t){var r=ez(t),o=parseInt(r[1],16),s=parseInt(r[2],16),l=parseInt(r[3],16);return vf(o,s,l,1)},N3=function(t,r,o,s){var l=parseInt(t,10),f=parseInt(r,10),d=parseInt(o,10),h=parseFloat(s);return vf(l,f,d,h)},L3=function(t){if(t==="transparent")return x.some(vf(0,0,0,0));var r=tz.exec(t);if(r!==null)return x.some(N3(r[1],r[2],r[3],"1"));var o=nz.exec(t);return o!==null?x.some(N3(o[1],o[2],o[3],o[4])):x.none()},J2=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},$3=vf(255,0,0,1),rz=function(t){return t.fire("SkinLoaded")},az=function(t,r){return t.fire("SkinLoadError",r)},H3=function(t){return t.fire("ResizeEditor")},Q2=function(t,r){return t.fire("ResizeContent",r)},oz=function(t,r){return t.fire("ScrollContent",r)},iz=function(t,r){return t.fire("TextColorChange",r)},Mg=function(t,r,o){return{hue:t,saturation:r,value:o}},f1=function(t){var r=0,o=0,s=0,l=t.red/255,f=t.green/255,d=t.blue/255,h=Math.min(l,Math.min(f,d)),p=Math.max(l,Math.max(f,d));if(h===p)return s=h,Mg(0,0,s*100);var y=l===h?f-d:d===h?l-f:d-l;return r=l===h?3:d===h?1:5,r=60*(r-y/(p-h)),o=(p-h)/p,s=p,Mg(Math.round(r),Math.round(o*100),Math.round(s*100))},uz=function(t){return f1(zg(t))},ew=function(t){return Bg(I3(t))},V3=function(t){return J6(t).orThunk(function(){return L3(t).map(Bg)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,l=s[0],f=s[1],d=s[2],h=s[3];return Bg(vf(l,f,d,h))})},v1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),tw="tinymce-custom-colors";function sz(t){t===void 0&&(t=10);var r=v1.getItem(tw),o=Nt(r)?JSON.parse(r):[],s=function(p){var y=t-p.length;return y<0?p.slice(0,t):p},l=s(o),f=function(p){ar(l,p).each(d),l.unshift(p),l.length>t&&l.pop(),v1.setItem(tw,JSON.stringify(l))},d=function(p){l.splice(p,1)},h=function(){return l.slice(0)};return{add:f,state:h}}var Ua="choiceitem",cz=[{type:Ua,text:"Light Green",value:"#BFEDD2"},{type:Ua,text:"Light Yellow",value:"#FBEEB8"},{type:Ua,text:"Light Red",value:"#F8CAC6"},{type:Ua,text:"Light Purple",value:"#ECCAFA"},{type:Ua,text:"Light Blue",value:"#C2E0F4"},{type:Ua,text:"Green",value:"#2DC26B"},{type:Ua,text:"Yellow",value:"#F1C40F"},{type:Ua,text:"Red",value:"#E03E2D"},{type:Ua,text:"Purple",value:"#B96AD9"},{type:Ua,text:"Blue",value:"#3598DB"},{type:Ua,text:"Dark Turquoise",value:"#169179"},{type:Ua,text:"Orange",value:"#E67E23"},{type:Ua,text:"Dark Red",value:"#BA372A"},{type:Ua,text:"Dark Purple",value:"#843FA1"},{type:Ua,text:"Dark Blue",value:"#236FA1"},{type:Ua,text:"Light Gray",value:"#ECF0F1"},{type:Ua,text:"Medium Gray",value:"#CED4D9"},{type:Ua,text:"Gray",value:"#95A5A6"},{type:Ua,text:"Dark Gray",value:"#7E8C8D"},{type:Ua,text:"Navy Blue",value:"#34495E"},{type:Ua,text:"Black",value:"#000000"},{type:Ua,text:"White",value:"#ffffff"}],U3=sz(10),lz=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+V3(t[o]).value,type:"choiceitem"});return r},fz=function(t,r){return t.getParam("color_cols",r,"number")},d1=function(t){return t.getParam("custom_colors")!==!1},W3=function(t){return t.getParam("color_map")},nw=function(t){var r=W3(t);return r!==void 0?lz(r):cz},j3=function(){return Ke(U3.state(),function(t){return{type:Ua,text:t,value:t}})},q3=function(t){U3.add(t)},rw="#000000",aw=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var l;(l=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||l)}),x.from(o)},vz=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},dz=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},mz=function(t){t.addCommand("mceApplyTextcolor",function(r,o){vz(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){dz(t,r)})},G3=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},K3=function(t){var r=nw(t),o=G3(r.length);return fz(t,o)},ow=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},iw=function(t,r,o,s){if(o==="custom"){var l=Q3(t);l(function(f){f.each(function(d){q3(d),t.execCommand("mceApplyTextcolor",r,d),s(d)})},rw)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},Wd=function(t,r){return t.concat(j3().concat(ow(r)))},X3=function(t,r){return function(o){o(Wd(t,r))}},Y3=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},Z3=function(t,r,o,s,l){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(f){var d=aw(t,o);return d.bind(function(h){return L3(h).map(function(p){var y=Bg(p).value;return Zn(f.toLowerCase(),y)})}).getOr(!1)},columns:K3(t),fetch:X3(nw(t),d1(t)),onAction:function(f){iw(t,o,l.get(),Pe)},onItemAction:function(f,d){iw(t,o,d,function(h){l.set(h),iz(t,{name:r,color:h})})},onSetup:function(f){Y3(f,r,l.get());var d=function(h){h.name===r&&Y3(f,h.name,h.color)};return t.on("TextColorChange",d),function(){t.off("TextColorChange",d)}}})},J3=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(l){iw(t,o,l.value,Pe)}}]}})},Q3=function(t){return function(r,o){var s=!1,l=function(h){var p=h.getData(),y=p.colorpicker;s?(r(x.from(y)),h.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",y]))},f=function(h,p){p.name==="hex-valid"&&(s=p.value)},d={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:d,onAction:f,onSubmit:l,onClose:Pe,onCancel:function(){r(x.none())}})}},gz=function(t){mz(t);var r=jt(rw),o=jt(rw);Z3(t,"forecolor","forecolor","Text color",r),Z3(t,"backcolor","hilitecolor","Background color",o),J3(t,"forecolor","forecolor","Text color"),J3(t,"backcolor","hilitecolor","Background color")},m1=function(t,r,o,s,l,f,d,h){var p=n1(r),y=l!=="color"?"normal":"color",S=e4(r,o,s,y,f,d,h);return r1(t,p,S,s,l)},e4=function(t,r,o,s,l,f,d){return $n(Ke(t,function(h){return h.type==="choiceitem"?YA(h).fold(Ks,function(p){return x.some(Y6(p,o===1,s,r,f(h.value),l,d,n1(t)))}):x.none()}))},Rg=function(t,r){var o=yl(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},hz=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+lf:"."+y2}}},uw=function(t,r){var o=pz(t,r),s=r.colorinput.getColorCols(),l="color",f=m1(wt("menu-value"),o,function(h){t.onAction({value:h})},s,l,Gs.CLOSE_ON_EXECUTE,ut,r.shared.providers),d=K(K({},f),{markers:yl(l),movement:Rg(s,l)});return{type:"widget",data:{value:wt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[_3.widget(sf.sketch(d))]}},pz=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return Wd(r.colorinput.getColors(),o)},function(s){return s.concat(ow(o))})},t4=wt("cell-over"),n4=wt("cell-execute"),bz=function(t,r,o){var s,l=function(h){return qt(h,t4,{row:t,col:r})},f=function(h){return qt(h,n4,{row:t,col:r})},d=function(h,p){p.stop(),f(h)};return Ho({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:qe([En("insert-table-picker-cell",[Oe(Il(),nn.focus),Oe(du(),f),Oe(Tm(),d),Oe(td(),d)]),qn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),nn.config({onFocus:l})])})},yz=function(t,r,o){for(var s=[],l=0;l<r;l++){for(var f=[],d=0;d<o;d++)f.push(bz(l,d,t));s.push(f)}return s},wz=function(t,r,o,s,l){for(var f=0;f<s;f++)for(var d=0;d<l;d++)qn.set(t[f][d],f<=r&&d<=o)},Cz=function(t){return er(t,function(r){return Ke(r,hu)})},r4=function(t,r){return Rf(r+"x"+t)},xz=function(t){var r=10,o=10,s=wt("size-label"),l=yz(s,r,o),f=r4(0,0),d=ir({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[f],behaviours:qe([dn.config({})])});return{type:"widget",data:{value:wt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[_3.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Cz(l).concat(d.asSpec()),behaviours:qe([En("insert-table-picker",[ca(function(h){dn.set(d.get(h),[f])}),$l(t4,function(h,p,y){var S=y.event,A=S.row,z=S.col;wz(l,A,z,r,o),dn.set(d.get(h),[r4(A+1,z+1)])}),$l(n4,function(h,p,y){var S=y.event,A=S.row,z=S.col;t.onAction({numRows:A+1,numColumns:z+1}),Fn(h,_m())})]),Gt.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},Sz={inserttable:xz,colorswatch:uw},kz=function(t,r){return Ot(Sz,t.fancytype).map(function(o){return o(t,r)})},Az=function(t,r,o,s,l){s===void 0&&(s=!0),l===void 0&&(l=!1);var f=l?j6(o.icons):W6(o.icons),d=function(p){return{isDisabled:function(){return It.isDisabled(p)},setDisabled:function(y){return It.set(p,y)}}},h=_g({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:x.none(),ariaLabel:t.text,caret:x.some(f),checkMark:x.none(),shortcutContent:t.shortcut},o,s);return Vd({data:Ud(t),getApi:d,disabled:t.disabled,onAction:Pe,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},h,r,o)},a4=function(t,r,o,s){s===void 0&&(s=!0);var l=function(d){return{isDisabled:function(){return It.isDisabled(d)},setDisabled:function(h){return It.set(d,h)}}},f=_g({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:x.none(),ariaLabel:t.text,caret:x.none(),checkMark:x.none(),shortcutContent:t.shortcut},o,s);return Vd({data:Ud(t),getApi:l,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},f,r,o)},Ez=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:K({tag:"div",classes:[y2,a6]},r),components:[]}},Tz=function(t,r,o,s){s===void 0&&(s=!0);var l=function(d){return{setActive:function(h){qn.set(d,h)},isActive:function(){return qn.isOn(d)},isDisabled:function(){return It.isDisabled(d)},setDisabled:function(h){return It.set(d,h)}}},f=_g({iconContent:t.icon,textContent:t.text,htmlContent:x.none(),ariaLabel:t.text,checkMark:x.some(A3(o.icons)),caret:x.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return we(Vd({data:Ud(t),disabled:t.disabled,getApi:l,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},f,r,o),{toggling:{toggleClass:LA,toggleOnExecute:!1,selected:t.active}})},sw=K6,Pg=Ez,Oz=a4,g1=Az,Dz=Tz,_z=kz,Bz=X6,Fg;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Fg||(Fg={}));var zz=function(t,r,o,s,l){var f=o.shared.providers,d=function(h){return l?K(K({},h),{shortcut:x.none(),icon:h.text.isSome()?x.none():h.icon}):h};switch(t.type){case"menuitem":return h6(t).fold(Ks,function(h){return x.some(Oz(d(h),r,f,s))});case"nestedmenuitem":return b6(t).fold(Ks,function(h){return x.some(g1(d(h),r,f,s,l))});case"togglemenuitem":return e3(t).fold(Ks,function(h){return x.some(Dz(d(h),r,f,s))});case"separator":return XB(t).fold(Ks,function(h){return x.some(Pg(h))});case"fancymenuitem":return JA(t).fold(Ks,function(h){return _z(d(h),o)});default:return console.error("Unknown item in general menu",t),x.none()}},Mz=function(t,r,o,s,l,f,d){var h=s===1,p=!h||n1(t);return $n(Ke(t,function(y){switch(y.type){case"separator":return ZB(y).fold(Ks,function(S){return x.some(Pg(S))});case"cardmenuitem":return XA(y).fold(Ks,function(S){return x.some(Bz(K(K({},S),{onAction:function(A){S.onAction(A),o(S.value,S.meta)}}),l,f,{itemBehaviours:O3(S.meta,f),cardText:{matchText:r,highlightOn:d}}))});case"autocompleteitem":default:return JB(y).fold(Ks,function(S){return x.some(sw(S,r,h,"normal",o,l,f,p))})}}))},cw=function(t,r,o,s,l){var f=n1(r),d=$n(Ke(r,function(p){var y=function(A){return l?!mn(A,"text"):f},S=function(A){return zz(A,o,s,y(A),l)};return p.type==="nestedmenuitem"&&p.getSubmenuItems().length<=0?S(K(K({},p),{disabled:!0})):S(p)})),h=l?f6:r1;return h(t,f,d,1,"normal")},o4=function(t){return tv.singleData(t.value,t)},Rz=function(t,r,o,s){var l=o===Fg.ContentFocus?dk():fg(),f=Rg(r,s),d=yl(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:d.selectedItem,item:d.item},movement:f,fakeFocus:o===Fg.ContentFocus,focusManager:l,menuBehaviours:o1.unnamedEvents(r!=="auto"?[]:[ca(function(h,p){B2(h,4,d.item).each(function(y){var S=y.numColumns,A=y.numRows;Gt.setGridSize(h,A,S)})})])}},Pz=function(t,r){var o=da(),s=jt(!1),l=Ho(Jr.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:qe([En("dismissAutocompleter",[Oe(Is(),function(){return p()})])]),lazySink:r.getSink})),f=function(){return Jr.isOpen(l)},d=function(){return o.get().isSome()},h=function(){d()&&Jr.hide(l)},p=function(){if(d()){var H=o.get().map(function(re){return re.element});Yp(H.getOr(Ye.fromDom(t.selection.getNode()))).each(hm),h(),o.clear(),s.set(!1)}},y=yo(function(){return h2(t)}),S=function(H,re){var me=gt(re,function(ye){return x.from(ye.columns)}).getOr(1);return er(re,function(ye){var ne=ye.items;return Mz(ne,ye.matchText,function(ce,Se){var rt=t.selection.getRng();u2(t.dom,rt,H).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Ae){var ot=Ae.range,_e={hide:function(){p()},reload:function(xe){h(),N(xe)}};s.set(!0),ye.onAction(_e,ot,ce,Se),s.set(!1)})},me,Gs.BUBBLE_TO_SANDBOX,r,ye.highlightOn)})},A=function(H){if(!d()){var re=LB(t,H.range);o.set({triggerChar:H.triggerChar,element:re,matchLength:H.text.length}),s.set(!1)}},z=function(H,re,me,ye){H.matchLength=re.text.length;var ne=gt(me,function(ce){return x.from(ce.columns)}).getOr(1);Jr.showAt(l,sf.sketch(Rz(r1("autocompleter-value",!0,ye,ne,"normal"),ne,Fg.ContentFocus,"normal")),{anchor:{type:"node",root:Ye.fromDom(t.getBody()),node:x.from(H.element)}}),Jr.getContent(l).each(sr.highlightFirst)},R=function(H){return o.get().map(function(re){return u2(t.dom,t.selection.getRng(),re.triggerChar).bind(function(me){return BA(t,y,me,H)})}).getOrThunk(function(){return KB(t,y)})},N=function(H){R(H).fold(p,function(re){A(re.context),re.lookupData.then(function(me){o.get().map(function(ye){var ne=re.context;if(ye.triggerChar===ne.triggerChar){var ce=S(ne.triggerChar,me);ce.length>0?z(ye,ne,me,ce):ne.text.length-ye.matchLength>=10?p():h()}})})})},W=o2(function(H){H.which!==27&&N()},50),te={onKeypress:W,cancelIfNecessary:p,isMenuOpen:f,isActive:d,isProcessingAction:s.get,getView:function(){return Jr.getContent(l)}};t.hasPlugin("rtc")===!1&&UB.setup(te,t)},Fz={register:Pz},Ig=function(t,r,o){return _i(t,r,o).isSome()},i4=function(t,r){var o=null,s=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];o=setTimeout(function(){t.apply(null,f),o=null},r)},l=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:l,schedule:s}},u4=5,lw=400,s4=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?x.none():x.some(r.touches[0])},c4=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>u4||s>u4},Iz=function(t){var r=da(),o=jt(!1),s=i4(function(y){t.triggerEvent(Gb(),y),o.set(!0)},lw),l=function(y){return s4(y).each(function(S){s.cancel();var A={x:S.clientX,y:S.clientY,target:y.target};s.schedule(y),o.set(!1),r.set(A)}),x.none()},f=function(y){return s.cancel(),s4(y).each(function(S){r.on(function(A){c4(S,A)&&r.clear()})}),x.none()},d=function(y){s.cancel();var S=function(A){return jr(A.target,y.target)};return r.get().filter(S).map(function(A){return o.get()?(y.prevent(),!1):t.triggerEvent(td(),y)})},h=Df([{key:ol(),value:l},{key:Ps(),value:f},{key:Em(),value:d}]),p=function(y,S){return Ot(h,S).bind(function(A){return A(y)})};return{fireIfReady:p}},Nz=function(t){var r=t.raw;return r.which===xy[0]&&!_n(["input","textarea"],Po(t.target))&&!Ig(t.target,'[contenteditable="true"]')},fw=function(){return Lt().browser.isFirefox()},Ng=function(t,r){return fw()?op(t,"focus",r):Oa(t,"focusin",r)},Lz=function(t,r){return fw()?op(t,"blur",r):Oa(t,"focusout",r)},$z=function(t,r){var o=K({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],l=Iz(o),f=Ke(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(R){return Oa(t,R,function(N){l.fireIfReady(N,R).each(function(te){te&&N.kill()});var W=o.triggerEvent(R,N);W&&N.kill()})}),d=da(),h=Oa(t,"paste",function(R){l.fireIfReady(R,"paste").each(function(W){W&&R.kill()});var N=o.triggerEvent("paste",R);N&&R.kill(),d.set(setTimeout(function(){o.triggerEvent(qb(),R)},0))}),p=Oa(t,"keydown",function(R){var N=o.triggerEvent("keydown",R);N?R.kill():o.stopBackspace&&Nz(R)&&R.prevent()}),y=Ng(t,function(R){var N=o.triggerEvent("focusin",R);N&&R.kill()}),S=da(),A=Lz(t,function(R){var N=o.triggerEvent("focusout",R);N&&R.kill(),S.set(setTimeout(function(){o.triggerEvent(jb(),R)},0))}),z=function(){be(f,function(R){R.unbind()}),p.unbind(),y.unbind(),A.unbind(),h.unbind(),d.on(clearTimeout),S.on(clearTimeout)};return{unbind:z}},l4=function(t,r){var o=Ot(t,"target").getOr(r);return jt(o)},h1=function(t,r){var o=jt(!1),s=jt(!1),l=function(){o.set(!0)},f=function(){s.set(!0)};return{stop:l,cut:f,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},Hz=function(t){var r=jt(!1),o=function(){r.set(!0)};return{stop:o,cut:Pe,isStopped:r.get,isCut:ut,event:t,setSource:Fe("Cannot set source of a broadcasted event"),getSource:Fe("Cannot get source of a broadcasted event")}},Lg=Fu.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),vw=function(t,r,o,s,l,f){var d=t(r,s),h=h1(o,l);return d.fold(function(){return f.logEventNoHandlers(r,s),Lg.complete()},function(p){var y=p.descHandler,S=n0(y);return S(h),h.isStopped()?(f.logEventStopped(r,p.element,y.purpose),Lg.stopped()):h.isCut()?(f.logEventCut(r,p.element,y.purpose),Lg.complete()):La(p.element).fold(function(){return f.logNoParent(r,p.element,y.purpose),Lg.complete()},function(A){return f.logEventResponse(r,p.element,y.purpose),Lg.resume(A)})})},f4=function(t,r,o,s,l,f){return vw(t,r,o,s,l,f).fold(Ve,function(d){return f4(t,r,o,d,l,f)},ut)},Vz=function(t,r,o,s,l){var f=l4(o,s);return vw(t,r,o,s,f,l)},Uz=function(t,r,o){var s=Hz(r);return be(t,function(l){var f=l.descHandler,d=n0(f);d(s)}),s.isStopped()},Wz=function(t,r,o,s){return v4(t,r,o,o.target,s)},v4=function(t,r,o,s,l){var f=l4(o,s);return f4(t,r,o,s,f,l)},jz=function(t,r){return{element:t,descHandler:r}},qz=function(t,r){return{id:t,descHandler:r}},Gz=function(){var t={},r=function(d,h,p){cn(p,function(y,S){var A=t[S]!==void 0?t[S]:{};A[h]=t0(y,d),t[S]=A})},o=function(d,h){return Vl(h).bind(function(p){return Ot(d,p)}).map(function(p){return jz(h,p)})},s=function(d){return Ot(t,d).map(function(h){return ja(h,function(p,y){return qz(y,p)})}).getOr([])},l=function(d,h,p){return Ot(t,h).bind(function(y){return $b(p,function(S){return o(y,S)},d)})},f=function(d){cn(t,function(h,p){mn(h,d)&&delete h[d]})};return{registerId:r,unregisterId:f,filterByType:s,find:l}},Kz=function(){var t=Gz(),r={},o=function(y){var S=y.element;return Vl(S).getOrThunk(function(){return hx("uid-",y.element)})},s=function(y,S){var A=r[S];if(A===y)f(y);else throw new Error('The tagId "'+S+'" is already used by: '+ji(A.element)+`
Cannot use it for: `+ji(y.element)+`
The conflicting element is`+(Zt(A.element)?" ":" not ")+"already in the DOM")},l=function(y){var S=o(y);Bn(r,S)&&s(y,S);var A=[y];t.registerId(A,S,y.events),r[S]=y},f=function(y){Vl(y.element).each(function(S){delete r[S],t.unregisterId(S)})},d=function(y){return t.filterByType(y)},h=function(y,S,A){return t.find(y,S,A)},p=function(y){return Ot(r,y)};return{find:h,filter:d,register:l,unregister:f,getById:p}},lv=function(t){var r=t.dom,o=r.attributes,s=Ge(r,["attributes"]);return{uid:t.uid,dom:K({tag:"div",attributes:K({role:"presentation"},o)},s),components:t.components,behaviours:eg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},jo=Gi({name:"Container",factory:lv,configFields:[ae("components",[]),Ja("containerBehaviours",[]),ae("events",{}),ae("domModification",{}),ae("eventOrder",{})]}),d4=function(t){var r=function(H){return La(t.element).fold(Ve,function(re){return jr(H,re)})},o=Kz(),s=function(H,re){return o.find(r,H,re)},l=$z(t.element,{triggerEvent:function(H,re){return If(H,re.target,function(me){return Wz(s,H,re,me)})}}),f={debugInfo:X("real"),triggerEvent:function(H,re,me){If(H,re,function(ye){return v4(s,H,me,re,ye)})},triggerFocus:function(H,re){Vl(H).fold(function(){Sc(H)},function(me){If(Ll(),H,function(ye){return Vz(s,Ll(),{originator:re,kill:Pe,prevent:Pe,target:H},H,ye),!1})})},triggerEscape:function(H,re){f.triggerEvent("keydown",H.element,re.event)},getByUid:function(H){return W(H)},getByDom:function(H){return te(H)},build:Ho,addToGui:function(H){p(H)},removeFromGui:function(H){y(H)},addToWorld:function(H){d(H)},removeFromWorld:function(H){h(H)},broadcast:function(H){z(H)},broadcastOn:function(H,re){R(H,re)},broadcastEvent:function(H,re){N(H,re)},isConnected:Ve},d=function(H){H.connect(f),bo(H.element)||(o.register(H),be(H.components(),d),f.triggerEvent(Bm(),H.element,{target:H.element}))},h=function(H){bo(H.element)||(be(H.components(),h),o.unregister(H)),H.disconnect()},p=function(H){Uo(t,H)},y=function(H){cs(H)},S=function(){l.unbind(),uu(t.element)},A=function(H){var re=o.filter(Iu());be(re,function(me){var ye=me.descHandler,ne=n0(ye);ne(H)})},z=function(H){A({universal:!0,data:H})},R=function(H,re){A({universal:!1,channels:H,data:re})},N=function(H,re){var me=o.filter(H);return Uz(me,re)},W=function(H){return o.getById(H).fold(function(){return An.error(new Error('Could not find component with uid: "'+H+'" in system.'))},An.value)},te=function(H){var re=Vl(H).getOr("not found");return W(re)};return d(t),{root:t,element:t.element,destroy:S,add:p,remove:y,getByUid:W,getByDom:te,addToWorld:d,removeFromWorld:h,broadcast:z,broadcastOn:R,broadcastEvent:N}},Xz=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ke(t.items,r.interpreter)}},Yz=X([ae("prefix","form-field"),Ja("fieldBehaviours",[In,it])]),p1=X([Ws({schema:[Te("dom")],name:"label"}),Ws({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Te("text")],name:"aria-descriptor"}),Do({factory:{sketch:function(t){var r=Nb(t,["factory"]);return t.factory.sketch(r)}},schema:[Te("factory")],name:"field"})]),m4=function(t,r,o,s){var l=Qa(t.fieldBehaviours,[In.config({find:function(h){return kr(h,t,"field")}}),it.config({store:{mode:"manual",getValue:function(h){return In.getCurrent(h).bind(it.getValue)},setValue:function(h,p){In.getCurrent(h).each(function(y){it.setValue(y,p)})}}})]),f=Mr([ca(function(h,p){var y=XS(h,t,["label","field","aria-descriptor"]);y.field().each(function(S){var A=wt(t.prefix);y.label().each(function(z){Tn(z.element,"for",A),Tn(S.element,"id",A)}),y["aria-descriptor"]().each(function(z){var R=wt(t.prefix);Tn(z.element,"id",R),Tn(S.element,"aria-describedby",R)})})})]),d={getField:function(h){return kr(h,t,"field")},getLabel:function(h){return kr(h,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:l,events:f,apis:d}},Qn=pi({name:"FormField",configFields:Yz(),partFields:p1(),factory:m4,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),Zz=function(t,r){return us({attributes:Df([{key:r.tabAttr,value:"true"}])})},Jz=Object.freeze({__proto__:null,exhibit:Zz}),Qz=[ae("tabAttr","data-alloy-tabstop")],ma=Ta({fields:Qz,name:"tabstopping",active:Jz}),e8=tinymce.util.Tools.resolve("tinymce.html.Entities"),$g=function(t,r,o,s){var l=g4(t,r,o,s);return Qn.sketch(l)},t8=function(t,r){return $g(t,r,[],[])},g4=function(t,r,o,s){return{dom:h4(o),components:t.toArray().concat([r]),fieldBehaviours:qe(s)}},n8=function(){return h4([])},h4=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},df=function(t,r){return Qn.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},Ki=wt("form-component-change"),Xi=wt("form-close"),Cu=wt("form-cancel"),zc=wt("form-action"),jd=wt("form-submit"),b1=wt("form-block"),qd=wt("form-unblock"),p4=wt("form-tabchange"),y1=wt("form-resize"),dw=function(t,r){var o,s=t.label.map(function(A){return df(A,r)}),l=function(A){return function(z,R){_i(R.event.target,"[data-collection-item-value]").each(function(N){A(z,R,N,Yr(N,"data-collection-item-value"))})}},f=function(A,z){var R=Ke(z,function(te){var H=bu.translate(te.text),re=t.columns===1?'<div class="tox-collection__item-label">'+H+"</div>":"",me='<div class="tox-collection__item-icon">'+te.icon+"</div>",ye={_:" "," - ":" ","-":" "},ne=H.replace(/\_| \- |\-/g,function(Se){return ye[Se]}),ce=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+ce+'" tabindex="-1" data-collection-item-value="'+e8.encodeAllRaw(te.value)+'" title="'+ne+'" aria-label="'+ne+'">'+me+re+"</div>"}),N=t.columns!=="auto"&&t.columns>1?Bo(R,t.columns):[R],W=Ke(N,function(te){return'<div class="tox-collection__group">'+te.join("")+"</div>"});pc(A.element,W.join(""))},d=l(function(A,z,R,N){z.stop(),r.isDisabled()||qt(A,zc,{name:t.name,value:N})}),h=[Oe(Il(),l(function(A,z,R){Sc(R)})),Oe(Tm(),d),Oe(td(),d),Oe(Nl(),l(function(A,z,R){Fa(A.element,"."+ov).each(function(N){Pa(N,ov)}),so(R,ov)})),Oe(Co(),l(function(A){Fa(A.element,"."+ov).each(function(z){Pa(z,ov)})})),gc(l(function(A,z,R,N){qt(A,zc,{name:t.name,value:N})}))],p=function(A,z){return Ke(lo(A.element,".tox-collection__item"),z)},y=Qn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Mt},behaviours:qe([It.config({disabled:r.isDisabled,onDisabled:function(A){p(A,function(z){so(z,"tox-collection__item--state-disabled"),Tn(z,"aria-disabled",!0)})},onEnabled:function(A){p(A,function(z){Pa(z,"tox-collection__item--state-disabled"),oo(z,"aria-disabled")})}}),Ia(),dn.config({}),it.config({store:{mode:"memory",initialValue:[]},onSetValue:function(A,z){f(A,z),t.columns==="auto"&&B2(A,5,"tox-collection__item").each(function(R){var N=R.numRows,W=R.numColumns;Gt.setGridSize(A,N,W)}),Fn(A,y1)}}),ma.config({}),Gt.config(hz(t.columns,"normal")),En("collection-events",h)]),eventOrder:(o={},o[du()]=["disabling","alloy.base.behaviour","collection-events"],o)}),S=["tox-form__group--collection"];return $g(s,y,S,[])},w1=X([vr("data"),ae("inputAttributes",{}),ae("inputStyles",{}),ae("tag","input"),ae("inputClasses",[]),zn("onSetValue"),ae("styles",{}),ae("eventOrder",{}),Ja("inputBehaviours",[it,nn]),ae("selectOnFocus",!0)]),b4=function(t){return qe([nn.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=Lu(o);o.dom.setSelectionRange(0,s.length)}:Pe})])},r8=function(t){return K(K({},b4(t)),Qa(t.inputBehaviours,[it.config({store:K(K({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Lu(r.element)},setValue:function(r,o){var s=Lu(r.element);s!==o&&id(r.element,o)}}),onSetValue:t.onSetValue})]))},y4=function(t){return{tag:t.tag,attributes:K({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},C1=function(t,r){return{uid:t.uid,dom:y4(t),components:[],behaviours:r8(t),eventOrder:t.eventOrder}},Hg=Gi({name:"Input",configFields:w1(),factory:C1}),w4={},C4={exports:w4};(function(t,r,o,s){(function(l,f){typeof r=="object"&&typeof o!="undefined"?o.exports=f():typeof t=="function"&&t.amd?t(f):(l=typeof globalThis!="undefined"?globalThis:l||self,l.EphoxContactWrapper=f())})(this,function(){var l=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof b5!="undefined"?b5:typeof self!="undefined"?self:{},f={exports:{}};(function(y){(function(S){var A=setTimeout;function z(){}function R(ne,ce){return function(){ne.apply(ce,arguments)}}function N(ne){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ne!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ye(ne,this)}function W(ne,ce){for(;ne._state===3;)ne=ne._value;if(ne._state===0){ne._deferreds.push(ce);return}ne._handled=!0,N._immediateFn(function(){var Se=ne._state===1?ce.onFulfilled:ce.onRejected;if(Se===null){(ne._state===1?te:H)(ce.promise,ne._value);return}var rt;try{rt=Se(ne._value)}catch(Ae){H(ce.promise,Ae);return}te(ce.promise,rt)})}function te(ne,ce){try{if(ce===ne)throw new TypeError("A promise cannot be resolved with itself.");if(ce&&(typeof ce=="object"||typeof ce=="function")){var Se=ce.then;if(ce instanceof N){ne._state=3,ne._value=ce,re(ne);return}else if(typeof Se=="function"){ye(R(Se,ce),ne);return}}ne._state=1,ne._value=ce,re(ne)}catch(rt){H(ne,rt)}}function H(ne,ce){ne._state=2,ne._value=ce,re(ne)}function re(ne){ne._state===2&&ne._deferreds.length===0&&N._immediateFn(function(){ne._handled||N._unhandledRejectionFn(ne._value)});for(var ce=0,Se=ne._deferreds.length;ce<Se;ce++)W(ne,ne._deferreds[ce]);ne._deferreds=null}function me(ne,ce,Se){this.onFulfilled=typeof ne=="function"?ne:null,this.onRejected=typeof ce=="function"?ce:null,this.promise=Se}function ye(ne,ce){var Se=!1;try{ne(function(rt){Se||(Se=!0,te(ce,rt))},function(rt){Se||(Se=!0,H(ce,rt))})}catch(rt){if(Se)return;Se=!0,H(ce,rt)}}N.prototype.catch=function(ne){return this.then(null,ne)},N.prototype.then=function(ne,ce){var Se=new this.constructor(z);return W(this,new me(ne,ce,Se)),Se},N.all=function(ne){var ce=Array.prototype.slice.call(ne);return new N(function(Se,rt){if(ce.length===0)return Se([]);var Ae=ce.length;function ot(xe,tt){try{if(tt&&(typeof tt=="object"||typeof tt=="function")){var Et=tt.then;if(typeof Et=="function"){Et.call(tt,function(Ee){ot(xe,Ee)},rt);return}}ce[xe]=tt,--Ae===0&&Se(ce)}catch(Ee){rt(Ee)}}for(var _e=0;_e<ce.length;_e++)ot(_e,ce[_e])})},N.resolve=function(ne){return ne&&typeof ne=="object"&&ne.constructor===N?ne:new N(function(ce){ce(ne)})},N.reject=function(ne){return new N(function(ce,Se){Se(ne)})},N.race=function(ne){return new N(function(ce,Se){for(var rt=0,Ae=ne.length;rt<Ae;rt++)ne[rt].then(ce,Se)})},N._immediateFn=typeof setImmediate=="function"?function(ne){setImmediate(ne)}:function(ne){A(ne,0)},N._unhandledRejectionFn=function(ce){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",ce)},N._setImmediateFn=function(ce){N._immediateFn=ce},N._setUnhandledRejectionFn=function(ce){N._unhandledRejectionFn=ce},y.exports?y.exports=N:S.Promise||(S.Promise=N)})(l)})(f);var d=f.exports,h=function(){return typeof window!="undefined"?window:Function("return this;")()}(),p={boltExport:h.Promise||d};return p})})(void 0,w4,C4);var Mc=C4.exports.boltExport,mw=function(t){var r=x.none(),o=[],s=function(y){return mw(function(S){l(function(A){S(y(A))})})},l=function(y){d()?p(y):o.push(y)},f=function(y){d()||(r=x.some(y),h(o),o=[])},d=function(){return r.isSome()},h=function(y){be(y,p)},p=function(y){r.each(function(S){setTimeout(function(){y(S)},0)})};return t(f),{get:l,map:s,isReady:d}},x4=function(t){return mw(function(r){r(t)})},a8={nu:mw,pure:x4},o8=function(t){setTimeout(function(){throw t},0)},fv=function(t){var r=function(p){t().then(p,o8)},o=function(p){return fv(function(){return t().then(p)})},s=function(p){return fv(function(){return t().then(function(y){return p(y).toPromise()})})},l=function(p){return fv(function(){return t().then(function(){return p.toPromise()})})},f=function(){return a8.nu(r)},d=function(){var p=null;return fv(function(){return p===null&&(p=t()),p})},h=t;return{map:o,bind:s,anonBind:l,toLazy:f,toCached:d,toPromise:h,get:r}},i8=function(t){return fv(function(){return new Mc(t)})},u8=function(t){return fv(function(){return Mc.resolve(t)})},fo={nu:i8,pure:u8},S4=["input","textarea"],k4=function(t){var r=Po(t);return _n(S4,r)},A4=function(t,r){var o=r.getRoot(t).getOr(t.element);Pa(o,r.invalidClass),r.notify.each(function(s){k4(t.element)&&Tn(t.element,"aria-invalid",!1),s.getContainer(t).each(function(l){pc(l,s.validHtml)}),s.onValid(t)})},E4=function(t,r,o,s){var l=r.getRoot(t).getOr(t.element);so(l,r.invalidClass),r.notify.each(function(f){k4(t.element)&&Tn(t.element,"aria-invalid",!0),f.getContainer(t).each(function(d){pc(d,s)}),f.onInvalid(t,s)})},T4=function(t,r,o){return r.validator.fold(function(){return fo.pure(An.value(!0))},function(s){return s.validate(t)})},gw=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),T4(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(l){return E4(t,r,o,l),An.error(l)},function(l){return A4(t,r),An.value(l)}):An.error("No longer in system")})},x1=function(t,r){var o=r.getRoot(t).getOr(t.element);return vi(o,r.invalidClass)},yi=Object.freeze({__proto__:null,markValid:A4,markInvalid:E4,query:T4,run:gw,isInvalid:x1}),O4=function(t,r){return t.validator.map(function(o){return Mr([Oe(o.onEvent,function(s){gw(s,t,r).get(Mt)})].concat(o.validateOnLoad?[ca(function(s){gw(s,t,r).get(Pe)})]:[]))}).getOr({})},s8=Object.freeze({__proto__:null,events:O4}),c8=[Te("invalidClass"),ae("getRoot",x.none),vu("notify",[ae("aria","alert"),ae("getContainer",x.none),ae("validHtml",""),zn("onValid"),zn("onInvalid"),zn("onValidate")]),vu("validator",[Te("validate"),ae("onEvent","input"),ae("validateOnLoad",!0)])],Rc=Ta({fields:c8,name:"invalidating",active:s8,apis:yi,extra:{validation:function(t){return function(r){var o=it.getValue(r);return fo.pure(t(o))}}}}),l8=function(t,r,o,s){return o.getOrCreate(t,r,s)},D4=Object.freeze({__proto__:null,getCoupled:l8}),_4=[Vi("others",Lo(An.value,zs()))],f8=function(){var t={},r=function(s,l,f){var d=st(l.others);if(d)return Ot(t,f).getOrThunk(function(){var h=Ot(l.others,f).getOrDie("No information found for coupled component: "+f),p=h(s),y=s.getSystem().build(p);return t[f]=y,y});throw new Error("Cannot find coupled component: "+f+". Known coupled components: "+JSON.stringify(d,null,2))},o=X({});return li({readState:o,getOrCreate:r})},v8=Object.freeze({__proto__:null,init:f8}),ga=Ta({fields:_4,name:"coupling",apis:D4,state:v8}),B4=X("sink"),hw=X(Ws({name:B4(),overrides:X({dom:{tag:"div"},behaviours:qe([hi.config({useFixed:Ve})]),events:Mr([ya(Oh()),ya(os()),ya(Tm())])})})),ms;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(ms||(ms={}));var pw=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",l=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:l}},function(f){return{type:s,hotspot:o,overrides:l,layouts:f}})},d8=function(t,r,o){var s=t.fetch;return s(o).map(r)},m8=function(t,r,o,s,l,f,d){var h=d8(t,r,s),p=mf(s,t);return h.map(function(y){return y.bind(function(S){return x.from(tv.sketch(K(K({},f.menu()),{uid:Bf(""),data:S,highlightImmediately:d===ms.HighlightFirst,onOpenMenu:function(A,z){var R=p().getOrDie();hi.position(R,z,{anchor:o}),jn.decloak(l)},onOpenSubmenu:function(A,z,R){var N=p().getOrDie();hi.position(N,R,{anchor:{type:"submenu",item:z}}),jn.decloak(l)},onRepositionMenu:function(A,z,R){var N=p().getOrDie();hi.position(N,z,{anchor:o}),be(R,function(W){hi.position(N,W.triggeredMenu,{anchor:{type:"submenu",item:W.triggeringItem}})})},onEscape:function(){return nn.focus(s),jn.close(l),x.some(!0)}})))})})},bw=function(t,r,o,s,l,f,d){var h=pw(t,o),p=m8(t,r,h,o,s,l,d);return p.map(function(y){return y.fold(function(){jn.isOpen(s)&&jn.close(s)},function(S){jn.cloak(s),jn.open(s,S),f(s)}),s})},g8=function(t,r,o,s,l,f,d){return jn.close(s),fo.pure(s)},Gd=function(t,r,o,s,l,f){var d=ga.getCoupled(o,"sandbox"),h=jn.isOpen(d),p=h?g8:bw;return p(t,r,o,d,s,l,f)},h8=function(t,r,o){var s=In.getCurrent(r).getOr(r),l=Xo(t.element);o?ln(s.element,"min-width",l+"px"):wh(s.element,l)},mf=function(t,r){return t.getSystem().getByUid(r.uid+"-"+B4()).map(function(o){return function(){return An.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return An.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},z4=function(t){jn.getState(t).each(function(r){tv.repositionMenus(r)})},yw=function(t,r,o){var s=Ax(),l=function(h,p){var y=pw(t,r);s.link(r.element),t.matchWidth&&h8(y.hotspot,p,t.useMinWidth),t.onOpen(y,h,p),o!==void 0&&o.onOpen!==void 0&&o.onOpen(h,p)},f=function(h,p){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(h,p)},d=mf(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:Vu.augment(t.sandboxBehaviours,[it.config({store:{mode:"memory",initialValue:r}}),jn.config({onOpen:l,onClose:f,isPartOf:function(h,p,y){return Pf(p,y)||Pf(r,y)},getAttachPoint:function(){return d().getOrDie()}}),In.config({find:function(h){return jn.getState(h).bind(function(p){return In.getCurrent(p)})}}),Hu.config({channels:K(K({},Gf({isExtraPart:ut})),Jm({doReposition:z4}))})])}},Cl=function(t){var r=ga.getCoupled(t,"sandbox");z4(r)},ww=function(){return[ae("sandboxClasses",[]),Vu.field("sandboxBehaviours",[In,Hu,jn,it])]},p8=X([Te("dom"),Te("fetch"),zn("onOpen"),la("onExecute"),ae("getHotspot",x.some),ae("getAnchorOverrides",X({})),Ql(),Ja("dropdownBehaviours",[qn,ga,Gt,nn]),Te("toggleClass"),ae("eventOrder",{}),vr("lazySink"),ae("matchWidth",!1),ae("useMinWidth",!1),vr("role")].concat(ww())),Wu=X([vs({schema:[Wh()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),hw()]),M4=function(t,r,o,s){var l,f=function(S){return Ot(t.dom,"attributes").bind(function(A){return Ot(A,S)})},d=function(S){jn.getState(S).each(function(A){tv.highlightPrimary(A)})},h=function(S){var A=d;Gd(t,Mt,S,s,A,ms.HighlightFirst).get(Pe)},p={expand:function(S){qn.isOn(S)||Gd(t,Mt,S,s,Pe,ms.HighlightNone).get(Pe)},open:function(S){qn.isOn(S)||Gd(t,Mt,S,s,Pe,ms.HighlightFirst).get(Pe)},isOpen:qn.isOn,close:function(S){qn.isOn(S)&&Gd(t,Mt,S,s,Pe,ms.HighlightFirst).get(Pe)},repositionMenus:function(S){qn.isOn(S)&&Cl(S)}},y=function(S,A){return il(S),x.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Qa(t.dropdownBehaviours,[qn.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),ga.config({others:{sandbox:function(S){return yw(t,S,{onOpen:function(){return qn.on(S)},onClose:function(){return qn.off(S)}})}}}),Gt.config({mode:"special",onSpace:y,onEnter:y,onDown:function(S,A){if(ju.isOpen(S)){var z=ga.getCoupled(S,"sandbox");d(z)}else ju.open(S);return x.some(!0)},onEscape:function(S,A){return ju.isOpen(S)?(ju.close(S),x.some(!0)):x.none()}}),nn.config({})]),events:gg(x.some(h)),eventOrder:K(K({},t.eventOrder),(l={},l[du()]=["disabling","toggling","alloy.base.behaviour"],l)),apis:p,domModification:{attributes:K(K({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(S){return{role:S}})),t.dom.tag==="button"?{type:f("type").getOr("button")}:{})}}},ju=pi({name:"Dropdown",configFields:p8(),partFields:Wu(),factory:M4,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),b8=function(){return us({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},y8=function(){return Mr([vx(H5(),Ve)])},S1=Object.freeze({__proto__:null,events:y8,exhibit:b8}),Vg=Ta({fields:[],name:"unselecting",active:S1}),R4=function(t,r){return ju.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:qe([wu.button(r.providers.isDisabled),Ia(),Vg.config({}),ma.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return fo.nu(function(s){return t.fetch(s)}).map(function(s){return x.from(o4(we(m1(wt("menu-value"),s,function(l){t.onItemAction(o,l)},t.columns,t.presets,Gs.CLOSE_ON_EXECUTE,ut,r.providers),{movement:Rg(t.columns,t.presets)})))})},parts:{menu:e1(!1,1,t.presets)}})},P4=wt("color-input-change"),F4=wt("color-swatch-change"),I4=wt("color-picker-cancel"),Cw=function(t,r,o){var s=Qn.parts.field({factory:Hg,inputClasses:["tox-textfield"],onSetValue:function(p){return Rc.run(p).get(Pe)},inputBehaviours:qe([It.config({disabled:r.providers.isDisabled}),Ia(),ma.config({}),Rc.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(p){return La(p.element)},notify:{onValid:function(p){var y=it.getValue(p);qt(p,P4,{color:y})}},validator:{validateOnLoad:!1,validate:function(p){var y=it.getValue(p);if(y.length===0)return fo.pure(An.value(!0));var S=Ye.fromTag("span");ln(S,"background-color",y);var A=io(S,"background-color").fold(function(){return An.error("blah")},function(z){return An.value(y)});return fo.pure(A)}}})]),selectOnFocus:!1}),l=t.label.map(function(p){return df(p,r.providers)}),f=function(p,y){qt(p,F4,{value:y})},d=function(p,y){h.getOpt(p).each(function(S){y==="custom"?o.colorPicker(function(A){A.fold(function(){return Fn(S,I4)},function(z){f(S,z),q3(z)})},"#ffffff"):y==="remove"?f(S,""):f(S,y)})},h=ir(R4({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Ao,Vo,Eo]},onLtr:function(){return[Vo,Ao,Eo]}},components:[],fetch:X3(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:d},r));return Qn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:l.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,h.asSpec()]}]),fieldBehaviours:qe([En("form-field-events",[Oe(P4,function(p,y){h.getOpt(p).each(function(S){ln(S.element,"background-color",y.event.color)}),qt(p,Ki,{name:t.name})}),Oe(F4,function(p,y){Qn.getField(p).each(function(S){it.setValue(S,y.event.value),In.getCurrent(p).each(nn.focus)})}),Oe(I4,function(p,y){Qn.getField(p).each(function(S){In.getCurrent(p).each(nn.focus)})})])])})},w8=Ws({schema:[Te("dom")],name:"label"}),gf=function(t){return Ws({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:Mr([Pm(ol(),function(l,f,d){return s(l,d)},[r]),Pm(os(),function(l,f,d){return s(l,d)},[r]),Pm(_f(),function(l,f,d){d.mouseIsDown.get()&&s(l,d)},[r])])}})}})},C8=gf("top-left"),x8=gf("top"),S8=gf("top-right"),k8=gf("right"),A8=gf("bottom-right"),N4=gf("bottom"),L4=gf("bottom-left"),E8=gf("left"),T8=Do({name:"thumb",defaults:X({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Mr([rd(ol(),t,"spectrum"),rd(Ps(),t,"spectrum"),rd(Em(),t,"spectrum"),rd(os(),t,"spectrum"),rd(_f(),t,"spectrum"),rd(Ub(),t,"spectrum")])}}}),O8=Do({schema:[Di("mouseIsDown",function(){return jt(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(l,f){return o.getValueFromEvent(f).map(function(d){return o.setValueFrom(l,t,d)})};return{behaviours:qe([Gt.config({mode:"special",onLeft:function(l){return o.onLeft(l,t)},onRight:function(l){return o.onRight(l,t)},onUp:function(l){return o.onUp(l,t)},onDown:function(l){return o.onDown(l,t)}}),nn.config({})]),events:Mr([Oe(ol(),s),Oe(Ps(),s),Oe(os(),s),Oe(_f(),function(l,f){t.mouseIsDown.get()&&s(l,f)})])}}}),D8=[w8,E8,k8,x8,N4,C8,S8,L4,A8,T8,O8],_8="slider.change.value",Kd=X(_8),$4=function(t){return t.type.indexOf("touch")!==-1},k1=function(t){var r=t.event.raw;if($4(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?x.some(o.touches[0]).map(function(l){return Br(l.clientX,l.clientY)}):x.none()}else{var s=r;return s.clientX!==void 0?x.some(s).map(function(l){return Br(l.clientX,l.clientY)}):x.none()}},A1="top",B8="right",H4="bottom",z8="left",vv=function(t){return t.model.minX},dv=function(t){return t.model.minY},E1=function(t){return t.model.minX-1},mv=function(t){return t.model.minY-1},gv=function(t){return t.model.maxX},hv=function(t){return t.model.maxY},gs=function(t){return t.model.maxX+1},T1=function(t){return t.model.maxY+1},pv=function(t,r,o){return r(t)-o(t)},O1=function(t){return pv(t,gv,vv)},Ug=function(t){return pv(t,hv,dv)},V4=function(t){return O1(t)/2},U4=function(t){return Ug(t)/2},Xd=function(t){return t.stepSize},xw=function(t){return t.snapToGrid},W4=function(t){return t.snapStart},Wg=function(t){return t.rounded},D1=function(t,r){return t[r+"-edge"]!==void 0},Yi=function(t){return D1(t,z8)},j4=function(t){return D1(t,B8)},q4=function(t){return D1(t,A1)},Sw=function(t){return D1(t,H4)},Pc=function(t){return t.model.value.get()},G4=function(t){return{x:t}},K4=function(t){return{y:t}},hf=function(t,r){return{x:t,y:r}},hs=function(t,r){qt(t,Kd(),{value:r})},M8=function(t,r){hs(t,hf(E1(r),mv(r)))},R8=function(t,r){hs(t,K4(mv(r)))},P8=function(t,r){hs(t,hf(V4(r),mv(r)))},X4=function(t,r){hs(t,hf(gs(r),mv(r)))},F8=function(t,r){hs(t,G4(gs(r)))},I8=function(t,r){hs(t,hf(gs(r),U4(r)))},N8=function(t,r){hs(t,hf(gs(r),T1(r)))},Y4=function(t,r){hs(t,K4(T1(r)))},_1=function(t,r){hs(t,hf(V4(r),T1(r)))},L8=function(t,r){hs(t,hf(E1(r),T1(r)))},B1=function(t,r){hs(t,G4(E1(r)))},Yd=function(t,r){hs(t,hf(E1(r),U4(r)))},z1=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},M1=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},kw=function(t,r,o){return Math.max(r,Math.min(o,t))},$8=function(t,r,o,s,l){return l.fold(function(){var f=t-r,d=Math.round(f/s)*s;return kw(r+d,r-1,o+1)},function(f){var d=(t-f)%s,h=Math.round(d/s),p=Math.floor((t-f)/s),y=Math.floor((o-f)/s),S=Math.min(y,p+h),A=f+S*s;return Math.max(f,A)})},H8=function(t,r,o){return Math.min(o,Math.max(t,r))-r},jg=function(t){var r=t.min,o=t.max,s=t.range,l=t.value,f=t.step,d=t.snap,h=t.snapStart,p=t.rounded,y=t.hasMinEdge,S=t.hasMaxEdge,A=t.minBound,z=t.maxBound,R=t.screenRange,N=y?r-1:r,W=S?o+1:o;if(l<A)return N;if(l>z)return W;var te=H8(l,A,z),H=kw(te/R*s+r,N,W);return d&&H>=r&&H<=o?$8(H,r,o,f,h):p?Math.round(H):H},Z4=function(t){var r=t.min,o=t.max,s=t.range,l=t.value,f=t.hasMinEdge,d=t.hasMaxEdge,h=t.maxBound,p=t.maxOffset,y=t.centerMinEdge,S=t.centerMaxEdge;return l<r?f?0:y:l>o?d?h:S:(l-r)/s*p},Aw="top",Ew="right",Tw="bottom",qg="left",J4="width",wi="height",Xs=function(t){return t.element.dom.getBoundingClientRect()},ps=function(t,r){return t[r]},R1=function(t){var r=Xs(t);return ps(r,qg)},Ow=function(t){var r=Xs(t);return ps(r,Ew)},P1=function(t){var r=Xs(t);return ps(r,Aw)},Q4=function(t){var r=Xs(t);return ps(r,Tw)},eE=function(t){var r=Xs(t);return ps(r,J4)},Dw=function(t){var r=Xs(t);return ps(r,wi)},Ys=function(t,r,o){return(t+r)/2-o},F1=function(t,r){var o=Xs(t),s=Xs(r),l=ps(o,qg),f=ps(o,Ew),d=ps(s,qg);return Ys(l,f,d)},_w=function(t,r){var o=Xs(t),s=Xs(r),l=ps(o,Aw),f=ps(o,Tw),d=ps(s,Aw);return Ys(l,f,d)},bv=function(t,r){qt(t,Kd(),{value:r})},Zd=function(t){return{x:t}},Bw=function(t,r,o){var s={min:vv(r),max:gv(r),range:O1(r),value:o,step:Xd(r),snap:xw(r),snapStart:W4(r),rounded:Wg(r),hasMinEdge:Yi(r),hasMaxEdge:j4(r),minBound:R1(t),maxBound:Ow(t),screenRange:eE(t)};return jg(s)},V8=function(t,r,o){var s=Bw(t,r,o),l=Zd(s);return bv(t,l),s},U8=function(t,r){var o=vv(r);bv(t,Zd(o))},W8=function(t,r){var o=gv(r);bv(t,Zd(o))},j8=function(t,r,o){var s=t>0?M1:z1,l=s(Pc(o).x,vv(o),gv(o),Xd(o));return bv(r,Zd(l)),x.some(l)},I1=function(t){return function(r,o){return j8(t,r,o).map(Ve)}},q8=function(t){var r=k1(t);return r.map(function(o){return o.left})},tE=function(t,r,o,s,l){var f=0,d=eE(t),h=s.bind(function(S){return x.some(F1(S,t))}).getOr(f),p=l.bind(function(S){return x.some(F1(S,t))}).getOr(d),y={min:vv(r),max:gv(r),range:O1(r),value:o,hasMinEdge:Yi(r),hasMaxEdge:j4(r),minBound:R1(t),minOffset:f,maxBound:Ow(t),maxOffset:d,centerMinEdge:h,centerMaxEdge:p};return Z4(y)},zw=function(t,r,o,s,l,f){var d=tE(r,f,o,s,l);return R1(r)-R1(t)+d},Fc=function(t,r,o,s){var l=Pc(o),f=zw(t,s.getSpectrum(t),l.x,s.getLeftEdge(t),s.getRightEdge(t),o),d=Xo(r.element)/2;ln(r.element,"left",f-d+"px")},N1=I1(-1),G8=I1(1),K8=x.none,nE=x.none,rE={"top-left":x.none(),top:x.none(),"top-right":x.none(),right:x.some(F8),"bottom-right":x.none(),bottom:x.none(),"bottom-left":x.none(),left:x.some(B1)},Mw=Object.freeze({__proto__:null,setValueFrom:V8,setToMin:U8,setToMax:W8,findValueOfOffset:Bw,getValueFromEvent:q8,findPositionOfValue:zw,setPositionFromValue:Fc,onLeft:N1,onRight:G8,onUp:K8,onDown:nE,edgeActions:rE}),Gg=function(t,r){qt(t,Kd(),{value:r})},pf=function(t){return{y:t}},yv=function(t,r,o){var s={min:dv(r),max:hv(r),range:Ug(r),value:o,step:Xd(r),snap:xw(r),snapStart:W4(r),rounded:Wg(r),hasMinEdge:q4(r),hasMaxEdge:Sw(r),minBound:P1(t),maxBound:Q4(t),screenRange:Dw(t)};return jg(s)},X8=function(t,r,o){var s=yv(t,r,o),l=pf(s);return Gg(t,l),s},Y8=function(t,r){var o=dv(r);Gg(t,pf(o))},Z8=function(t,r){var o=hv(r);Gg(t,pf(o))},J8=function(t,r,o){var s=t>0?M1:z1,l=s(Pc(o).y,dv(o),hv(o),Xd(o));return Gg(r,pf(l)),x.some(l)},aE=function(t){return function(r,o){return J8(t,r,o).map(Ve)}},Q8=function(t){var r=k1(t);return r.map(function(o){return o.top})},e7=function(t,r,o,s,l){var f=0,d=Dw(t),h=s.bind(function(S){return x.some(_w(S,t))}).getOr(f),p=l.bind(function(S){return x.some(_w(S,t))}).getOr(d),y={min:dv(r),max:hv(r),range:Ug(r),value:o,hasMinEdge:q4(r),hasMaxEdge:Sw(r),minBound:P1(t),minOffset:f,maxBound:Q4(t),maxOffset:d,centerMinEdge:h,centerMaxEdge:p};return Z4(y)},Kg=function(t,r,o,s,l,f){var d=e7(r,f,o,s,l);return P1(r)-P1(t)+d},wv=function(t,r,o,s){var l=Pc(o),f=Kg(t,s.getSpectrum(t),l.y,s.getTopEdge(t),s.getBottomEdge(t),o),d=$a(r.element)/2;ln(r.element,"top",f-d+"px")},t7=x.none,oE=x.none,n7=aE(-1),r7=aE(1),a7={"top-left":x.none(),top:x.some(R8),"top-right":x.none(),right:x.none(),"bottom-right":x.none(),bottom:x.some(Y4),"bottom-left":x.none(),left:x.none()},o7=Object.freeze({__proto__:null,setValueFrom:X8,setToMin:Y8,setToMax:Z8,findValueOfOffset:yv,getValueFromEvent:Q8,findPositionOfValue:Kg,setPositionFromValue:wv,onLeft:t7,onRight:oE,onUp:n7,onDown:r7,edgeActions:a7}),L1=function(t,r){qt(t,Kd(),{value:r})},Xg=function(t,r){return{x:t,y:r}},Rw=function(t,r,o){var s=Bw(t,r,o.left),l=yv(t,r,o.top),f=Xg(s,l);return L1(t,f),f},i7=function(t,r,o,s){var l=t>0?M1:z1,f=r?Pc(s).x:l(Pc(s).x,vv(s),gv(s),Xd(s)),d=r?l(Pc(s).y,dv(s),hv(s),Xd(s)):Pc(s).y;return L1(o,Xg(f,d)),x.some(f)},Yg=function(t,r){return function(o,s){return i7(t,r,o,s).map(Ve)}},Pw=function(t,r){var o=vv(r),s=dv(r);L1(t,Xg(o,s))},Fw=function(t,r){var o=gv(r),s=hv(r);L1(t,Xg(o,s))},iE=function(t){return k1(t)},u7=function(t,r,o,s){var l=Pc(o),f=zw(t,s.getSpectrum(t),l.x,s.getLeftEdge(t),s.getRightEdge(t),o),d=Kg(t,s.getSpectrum(t),l.y,s.getTopEdge(t),s.getBottomEdge(t),o),h=Xo(r.element)/2,p=$a(r.element)/2;ln(r.element,"left",f-h+"px"),ln(r.element,"top",d-p+"px")},s7=Yg(-1,!1),$1=Yg(1,!1),uE=Yg(-1,!0),c7=Yg(1,!0),l7={"top-left":x.some(M8),top:x.some(P8),"top-right":x.some(X4),right:x.some(I8),"bottom-right":x.some(N8),bottom:x.some(_1),"bottom-left":x.some(L8),left:x.some(Yd)},f7=Object.freeze({__proto__:null,setValueFrom:Rw,setToMin:Pw,setToMax:Fw,getValueFromEvent:iE,setPositionFromValue:u7,onLeft:s7,onRight:$1,onUp:uE,onDown:c7,edgeActions:l7}),v7=[ae("stepSize",1),ae("onChange",Pe),ae("onChoose",Pe),ae("onInit",Pe),ae("onDragStart",Pe),ae("onDragEnd",Pe),ae("snapToGrid",!1),ae("rounded",!0),vr("snapStart"),Vi("model",zu("mode",{x:[ae("minX",0),ae("maxX",100),Di("value",function(t){return jt(t.mode.minX)}),Te("getInitialValue"),Dr("manager",Mw)],y:[ae("minY",0),ae("maxY",100),Di("value",function(t){return jt(t.mode.minY)}),Te("getInitialValue"),Dr("manager",o7)],xy:[ae("minX",0),ae("maxX",100),ae("minY",0),ae("maxY",100),Di("value",function(t){return jt({x:t.mode.minX,y:t.mode.minY})}),Te("getInitialValue"),Dr("manager",f7)]})),Ja("sliderBehaviours",[Gt,it]),Di("mouseIsDown",function(){return jt(!1)})],xl=function(t,r,o,s){var l,f=function(ne){return Oc(ne,t,"thumb")},d=function(ne){return Oc(ne,t,"spectrum")},h=function(ne){return kr(ne,t,"left-edge")},p=function(ne){return kr(ne,t,"right-edge")},y=function(ne){return kr(ne,t,"top-edge")},S=function(ne){return kr(ne,t,"bottom-edge")},A=t.model,z=A.manager,R=function(ne,ce){z.setPositionFromValue(ne,ce,t,{getLeftEdge:h,getRightEdge:p,getTopEdge:y,getBottomEdge:S,getSpectrum:d})},N=function(ne,ce){A.value.set(ce);var Se=f(ne);R(ne,Se)},W=function(ne,ce){N(ne,ce);var Se=f(ne);return t.onChange(ne,Se,ce),x.some(!0)},te=function(ne){z.setToMin(ne,t)},H=function(ne){z.setToMax(ne,t)},re=function(ne){var ce=function(){kr(ne,t,"thumb").each(function(rt){var Ae=A.value.get();t.onChoose(ne,rt,Ae)})},Se=t.mouseIsDown.get();t.mouseIsDown.set(!1),Se&&ce()},me=function(ne,ce){ce.stop(),t.mouseIsDown.set(!0),t.onDragStart(ne,f(ne))},ye=function(ne,ce){ce.stop(),t.onDragEnd(ne,f(ne)),re(ne)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Qa(t.sliderBehaviours,[Gt.config({mode:"special",focusIn:function(ne){return kr(ne,t,"spectrum").map(Gt.focusIn).map(Ve)}}),it.config({store:{mode:"manual",getValue:function(ne){return A.value.get()}}}),Hu.config({channels:(l={},l[qi()]={onReceive:re},l)})]),events:Mr([Oe(Kd(),function(ne,ce){W(ne,ce.event.value)}),ca(function(ne,ce){var Se=A.getInitialValue();A.value.set(Se);var rt=f(ne);R(ne,rt);var Ae=d(ne);t.onInit(ne,rt,Ae,A.value.get())}),Oe(ol(),me),Oe(Em(),ye),Oe(os(),me),Oe(Ub(),ye)]),apis:{resetToMin:te,resetToMax:H,setValue:N,refresh:R},domModification:{styles:{position:"relative"}}}},xu=pi({name:"Slider",configFields:v7,partFields:D8,factory:xl,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),H1=wt("rgb-hex-update"),Iw=wt("slider-update"),V1=wt("palette-update"),sE=function(t,r){var o=xu.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=xu.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return xu.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:X({y:0})},components:[o,s],sliderBehaviours:qe([nn.config({})]),onChange:function(l,f,d){qt(l,Iw,{value:d})}})},Zg="form",cE=[Ja("formBehaviours",[it])],Nw=function(t){return"<alloy.field."+t+">"},d7=function(t){var r=function(){var f=[],d=function(h,p){return f.push(h),ly(Zg,Nw(h),p)};return{field:d,record:X(f)}}(),o=t(r),s=r.record(),l=Ke(s,function(f){return Do({name:f,pname:Nw(f)})});return hy(Zg,cE,l,g7,o)},m7=function(t,r){return t.fold(function(){return An.error(r)},An.value)},g7=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:Qa(t.formBehaviours,[it.config({store:{mode:"manual",getValue:function(o){var s=dy(o,t);return kt(s,function(l,f){return l().bind(function(d){var h=In.getCurrent(d);return m7(h,new Error("Cannot find a current component to extract the value from for form part '"+f+"': "+ji(d.element)))}).map(it.getValue)})},setValue:function(o,s){cn(s,function(l,f){kr(o,t,f).each(function(d){In.getCurrent(d).each(function(h){it.setValue(h,l)})})})}}})]),apis:{getField:function(o,s){return kr(o,t,s).bind(In.getCurrent)}}}},Jd={getField:Nm(function(t,r,o){return t.getField(r,o)}),sketch:d7},Lw=wt("valid-input"),$w=wt("invalid-input"),lE=wt("validating-input"),Hw="colorcustom.rgb.",h7=function(t,r,o,s){var l=function(z,R){return Rc.config({invalidClass:r("invalid"),notify:{onValidate:function(N){qt(N,lE,{type:z})},onValid:function(N){qt(N,Lw,{type:z,value:it.getValue(N)})},onInvalid:function(N){qt(N,$w,{type:z,value:it.getValue(N)})}},validator:{validate:function(N){var W=it.getValue(N),te=R(W)?An.value(!0):An.error(t("aria.input.invalid"));return fo.pure(te)},validateOnLoad:!1}})},f=function(z,R,N,W,te){var H=t(Hw+"range"),re=Qn.parts.label({dom:{tag:"label",innerHtml:N,attributes:{"aria-label":W}}}),me=Qn.parts.field({data:te,factory:Hg,inputAttributes:K({type:"text"},R==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:qe([l(R,z),ma.config({})]),onSetValue:function(Se){if(Rc.isInvalid(Se)){var rt=Rc.run(Se);rt.get(Pe)}}}),ye=[re,me],ne=R!=="hex"?[Qn.parts["aria-descriptor"]({text:H})]:[],ce=ye.concat(ne);return{dom:{tag:"div",attributes:{role:"presentation"}},components:ce}},d=function(z,R){var N=Bg(R);return Jd.getField(z,"hex").each(function(W){nn.isFocused(W)||it.setValue(z,{hex:N.value})}),N},h=function(z,R){var N=R.red,W=R.green,te=R.blue;it.setValue(z,{red:N,green:W,blue:te})},p=ir({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),y=function(z,R){p.getOpt(z).each(function(N){ln(N.element,"background-color","#"+R.value)})},S=function(){var z={red:jt(x.some(255)),green:jt(x.some(255)),blue:jt(x.some(255)),hex:jt(x.some("ffffff"))},R=function(xe,tt){var Et=zg(tt);h(xe,Et),H(Et)},N=function(xe){return z[xe].get()},W=function(xe,tt){z[xe].set(tt)},te=function(){return N("red").bind(function(xe){return N("green").bind(function(tt){return N("blue").map(function(Et){return vf(xe,tt,Et,1)})})})},H=function(xe){var tt=xe.red,Et=xe.green,Ee=xe.blue;W("red",x.some(tt)),W("green",x.some(Et)),W("blue",x.some(Ee))},re=function(xe,tt){var Et=tt.event;Et.type!=="hex"?W(Et.type,x.none()):s(xe)},me=function(xe,tt){o(xe);var Et=B3(tt);W("hex",x.some(tt));var Ee=zg(Et);h(xe,Ee),H(Ee),qt(xe,H1,{hex:Et}),y(xe,Et)},ye=function(xe,tt,Et){var Ee=parseInt(Et,10);W(tt,x.some(Ee)),te().each(function(xt){var _t=d(xe,xt);qt(xe,H1,{hex:_t}),y(xe,_t)})},ne=function(xe){return xe.type==="hex"},ce=function(xe,tt){var Et=tt.event;ne(Et)?me(xe,Et.value):ye(xe,Et.type,Et.value)},Se=function(xe){return{label:t(Hw+xe+".label"),description:t(Hw+xe+".description")}},rt=Se("red"),Ae=Se("green"),ot=Se("blue"),_e=Se("hex");return we(Jd.sketch(function(xe){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[xe.field("red",Qn.sketch(f(Z2,"red",rt.label,rt.description,255))),xe.field("green",Qn.sketch(f(Z2,"green",Ae.label,Ae.description,255))),xe.field("blue",Qn.sketch(f(Z2,"blue",ot.label,ot.description,255))),xe.field("hex",Qn.sketch(f(R3,"hex",_e.label,_e.description,"ffffff"))),p.asSpec()],formBehaviours:qe([Rc.config({invalidClass:r("form-invalid")}),En("rgb-form-events",[Oe(Lw,ce),Oe($w,re),Oe(lE,re)])])}}),{apis:{updateHex:function(xe,tt){it.setValue(xe,{hex:tt.value}),R(xe,tt),y(xe,tt)}}})},A=Gi({factory:S,name:"RgbForm",configFields:[],apis:{updateHex:function(z,R,N){z.updateHex(R,N)}},extraApis:{}});return A},U1=function(t,r){var o=xu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=xu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),l=function(y,S){var A=y.width,z=y.height,R=y.getContext("2d");if(R!==null){R.fillStyle=S,R.fillRect(0,0,A,z);var N=R.createLinearGradient(0,0,A,0);N.addColorStop(0,"rgba(255,255,255,1)"),N.addColorStop(1,"rgba(255,255,255,0)"),R.fillStyle=N,R.fillRect(0,0,A,z);var W=R.createLinearGradient(0,0,0,z);W.addColorStop(0,"rgba(0,0,0,0)"),W.addColorStop(1,"rgba(0,0,0,1)"),R.fillStyle=W,R.fillRect(0,0,A,z)}},f=function(y,S){var A=y.components()[0].element.dom,z=Mg(S,100,100),R=I3(z);l(A,J2(R))},d=function(y,S){var A=f1(zg(S));xu.setValue(y,{x:A.saturation,y:100-A.value})},h=function(y){var S=X({x:0,y:0}),A=function(N,W,te){qt(N,V1,{value:te})},z=function(N,W,te,H){l(te.element.dom,J2($3))},R=qe([In.config({find:x.some}),nn.config({})]);return xu.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:S},rounded:!1,components:[o,s],onChange:A,onInit:z,sliderBehaviours:R})},p=Gi({factory:h,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(y,S,A){f(S,A)},setThumb:function(y,S,A){d(S,A)}},extraApis:{}});return p},p7=function(t,r){var o=function(l){var f=h7(t,r,l.onValidHex,l.onInvalidHex),d=U1(t,r),h=function(ce){return(100-ce)/100*360},p=function(ce){return 100-ce/360*100},y={paletteRgba:jt($3),paletteHue:jt(0)},S=ir(sE(t,r)),A=ir(d.sketch({})),z=ir(f.sketch({})),R=function(ce,Se,rt){A.getOpt(ce).each(function(Ae){d.setHue(Ae,rt)})},N=function(ce,Se){z.getOpt(ce).each(function(rt){f.updateHex(rt,Se)})},W=function(ce,Se,rt){S.getOpt(ce).each(function(Ae){xu.setValue(Ae,{y:p(rt)})})},te=function(ce,Se){A.getOpt(ce).each(function(rt){d.setThumb(rt,Se)})},H=function(ce,Se){var rt=zg(ce);y.paletteRgba.set(rt),y.paletteHue.set(Se)},re=function(ce,Se,rt,Ae){H(Se,rt),be(Ae,function(ot){ot(ce,Se,rt)})},me=function(){var ce=[N];return function(Se,rt){var Ae=rt.event.value,ot=y.paletteHue.get(),_e=Mg(ot,Ae.x,100-Ae.y),xe=ew(_e);re(Se,xe,ot,ce)}},ye=function(){var ce=[R,N];return function(Se,rt){var Ae=h(rt.event.value.y),ot=y.paletteRgba.get(),_e=f1(ot),xe=Mg(Ae,_e.saturation,_e.value),tt=ew(xe);re(Se,tt,Ae,ce)}},ne=function(){var ce=[R,W,te];return function(Se,rt){var Ae=rt.event.hex,ot=uz(Ae);re(Se,Ae,ot.hue,ce)}};return{uid:l.uid,dom:l.dom,components:[A.asSpec(),S.asSpec(),z.asSpec()],behaviours:qe([En("colour-picker-events",[Oe(H1,ne()),Oe(V1,me()),Oe(Iw,ye())]),In.config({find:function(ce){return z.getOpt(ce)}}),Gt.config({mode:"acyclic"})])}},s=Gi({name:"ColourPicker",configFields:[Te("dom"),ae("onValidHex",Pe),ae("onInvalidHex",Pe)],factory:o});return s},b7=function(){return In.config({find:x.some})},fE=function(t){return In.config({find:t.getOpt})},vE=function(t){return In.config({find:function(r){return b(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},Zs={self:b7,memento:fE,childAt:vE},y7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},W1=function(t){return y7[t]},w7=function(t){return W1(t)},C7=function(t){var r=function(d){return"tox-"+d},o=p7(w7,r),s=function(d){qt(d,zc,{name:"hex-valid",value:!0})},l=function(d){qt(d,zc,{name:"hex-valid",value:!1})},f=ir(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:l}));return{dom:{tag:"div"},components:[f.asSpec()],behaviours:qe([it.config({store:{mode:"manual",getValue:function(d){var h=f.get(d),p=In.getCurrent(h),y=p.bind(function(S){var A=it.getValue(S);return A.hex});return y.map(function(S){return"#"+S}).getOr("")},setValue:function(d,h){var p=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,y=p.exec(h),S=f.get(d),A=In.getCurrent(S);A.fold(function(){console.log("Can not find form")},function(z){it.setValue(z,{hex:x.from(y[1]).getOr("")}),Jd.getField(z,"hex").each(function(R){Fn(R,Qv())})})}}}),Zs.self()])}},x7=tinymce.util.Tools.resolve("tinymce.Resource"),S7=function(t){return mn(t,"init")},j1=function(t){var r=da(),o=ir({dom:{tag:t.tag}}),s=da();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:qe([En("custom-editor-events",[ca(function(l){o.getOpt(l).each(function(f){(S7(t)?t.init(f.element.dom):x7.load(t.scriptId,t.scriptUrl).then(function(d){return d(f.element.dom,t.settings)})).then(function(d){s.on(function(h){d.setValue(h)}),s.clear(),r.set(d)})})})]),it.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(l){return l.getValue()})},setValue:function(l,f){r.get().fold(function(){s.set(f)},function(d){return d.setValue(f)})}}}),Zs.self()]),components:[o.asSpec()]}},Ic=tinymce.util.Tools.resolve("tinymce.util.Tools"),k7=Ft([ae("preprocess",Mt),ae("postprocess",Mt)]),A7=function(t,r){var o=Tr("RepresentingConfigs.memento processors",k7,r);return it.config({store:{mode:"manual",getValue:function(s){var l=t.get(s),f=it.getValue(l);return o.postprocess(f)},setValue:function(s,l){var f=o.preprocess(l),d=t.get(s);it.setValue(d,f)}}})},Jg=function(t,r,o){return it.config(we({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},Vw=function(t,r,o){return Jg(t,function(s){return r(s.element)},function(s,l){return o(s.element,l)})},Uw=function(t){return Vw(t,Lu,id)},dE=function(t){return Vw(t,hc,pc)},E7=function(t){return it.config({store:{mode:"memory",initialValue:t}})},Cv={memento:A7,withElement:Vw,withComp:Jg,domValue:Uw,domHtml:dE,memory:E7},mE="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",gE=function(t,r){var o=Ic.explode(r.getSetting("images_file_types",mE,"string")),s=function(l){return Cr(o,function(f){return Vt(l.name.toLowerCase(),"."+f.toLowerCase())})};return dt(lt(t),s)},T7=function(t,r){var o=function(A,z){z.stop()},s=function(A){return function(z,R){be(A,function(N){N(z,R)})}},l=function(A,z){if(!It.isDisabled(A)){var R=z.event.raw;d(A,R.dataTransfer.files)}},f=function(A,z){var R=z.event.raw.target;d(A,R.files)},d=function(A,z){it.setValue(A,gE(z,r)),qt(A,Ki,{name:t.name})},h=ir({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:qe([En("input-file-events",[ya(Tm()),ya(td())])])}),p=function(A){return{uid:A.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:qe([Cv.memory([]),Zs.self(),It.config({}),qn.config({toggleClass:"dragenter",toggleOnExecute:!1}),En("dropzone-events",[Oe("dragenter",s([o,qn.toggle])),Oe("dragleave",s([o,qn.toggle])),Oe("dragover",o),Oe("drop",s([o,l])),Oe(ed(),f)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},Wo.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[h.asSpec()],action:function(z){var R=h.get(z);R.element.dom.click()},buttonBehaviours:qe([ma.config({}),wu.button(r.isDisabled),Ia()])})]}]}},y=t.label.map(function(A){return df(A,r)}),S=Qn.parts.field({factory:{sketch:p}});return $g(y,S,["tox-form__group--stretched"],[])},hE=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:Ke(t.items,r.interpreter)}},q1=wt("alloy-fake-before-tabstop"),G1=wt("alloy-fake-after-tabstop"),Ww=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:qe([nn.config({ignore:!0}),ma.config({})])}},pE=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[Ww([q1]),t,Ww([G1])],behaviours:qe([Zs.childAt(1)])}},bE=function(t,r){qt(t,Oh(),{raw:{which:9,shiftKey:r}})},O7=function(t,r){var o=r.element;vi(o,q1)?bE(t,!0):vi(o,G1)&&bE(t,!1)},Qd=function(t){return Ig(t,["."+q1,"."+G1].join(","),ut)},D7=!(Lt().browser.isIE()||Lt().browser.isEdge()),yE=function(t){var r=jt("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)Tn(o.element,"srcdoc",s);else{Tn(o.element,"src","javascript:''");var l=o.element.dom.contentWindow.document;l.open(),l.write(s),l.close()}r.set(s)}}},_7=function(t,r){var o=D7&&t.sandboxed,s=K(K({},t.label.map(function(p){return{title:p}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),l=yE(o),f=t.label.map(function(p){return df(p,r)}),d=function(p){return pE({uid:p.uid,dom:{tag:"iframe",attributes:s},behaviours:qe([ma.config({}),nn.config({}),Cv.withComp(x.none(),l.getValue,l.setValue)])})},h=Qn.parts.field({factory:{sketch:d}});return $g(f,h,["tox-form__group--stretched"],[])},em=function(t,r){return B7(document.createElement("canvas"),t,r)},jw=function(t){var r=em(t.width,t.height),o=Sl(r);return o.drawImage(t,0,0),r},Sl=function(t){return t.getContext("2d")},B7=function(t,r,o){return t.width=r,t.height=o,t},qw=function(t){return t.naturalWidth||t.width},Gw=function(t){return t.naturalHeight||t.height},z7=function(t){return new Mc(function(r,o){var s=URL.createObjectURL(t),l=new Image,f=function(){l.removeEventListener("load",d),l.removeEventListener("error",h)},d=function(){f(),r(l)},h=function(){f(),o("Unable to load data of type "+t.type+": "+s)};l.addEventListener("load",d),l.addEventListener("error",h),l.src=s,l.complete&&setTimeout(d,0)})},M7=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return x.none();for(var s=o[1],l=r[1],f=1024,d=atob(l),h=d.length,p=Math.ceil(h/f),y=new Array(p),S=0;S<p;++S){for(var A=S*f,z=Math.min(A+f,h),R=new Array(z-A),N=A,W=0;N<z;++W,++N)R[W]=d[N].charCodeAt(0);y[S]=new Uint8Array(R)}return x.some(new Blob(y,{type:s}))},R7=function(t){return new Mc(function(r,o){M7(t).fold(function(){o("uri is not base64: "+t)},r)})},Kw=function(t,r,o){return r=r||"image/png",Wn(HTMLCanvasElement.prototype.toBlob)?new Mc(function(s,l){t.toBlob(function(f){f?s(f):l()},r,o)}):R7(t.toDataURL(r,o))},P7=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},F7=function(t){return z7(t).then(function(r){I7(r);var o=em(qw(r),Gw(r)),s=Sl(o);return s.drawImage(r,0,0),o})},wE=function(t){return new Mc(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},I7=function(t){URL.revokeObjectURL(t.src)},CE=function(t,r,o){var s=r.type,l=X(s),f=function(){return Mc.resolve(r)},d=X(o),h=function(){return o.split(",")[1]},p=function(z,R){return t.then(function(N){return Kw(N,z,R)})},y=function(z,R){return t.then(function(N){return P7(N,z,R)})},S=function(z,R){return y(z,R).then(function(N){return N.split(",")[1]})},A=function(){return t.then(jw)};return{getType:l,toBlob:f,toDataURL:d,toBase64:h,toAdjustedBlob:p,toAdjustedDataURL:y,toAdjustedBase64:S,toCanvas:A}},N7=function(t){return wE(t).then(function(r){return CE(F7(t),t,r)})},bf=function(t,r){return Kw(t,r).then(function(o){return CE(Mc.resolve(t),o,t.toDataURL())})},L7=function(t){return N7(t)},Qg=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},Xw=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},K1=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],X1=function(t,r){for(var o=[],s=new Array(25),l,f=0;f<5;f++){for(var d=0;d<5;d++)o[d]=r[d+f*5];for(var d=0;d<5;d++){l=0;for(var h=0;h<5;h++)l+=t[d+h*5]*o[h];s[d+f*5]=l}}return s},$7=function(t,r){var o;return r=Qg(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=K1[r]:o=K1[Math.floor(r)]*(1-o)+K1[Math.floor(r)+1]*o,o=o*127+127),X1(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},xE=function(t,r){return r=Qg(255*r,-255,255),X1(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},SE=function(t,r,o,s){return r=Qg(r,0,2),o=Qg(o,0,2),s=Qg(s,0,2),X1(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},Yw=function(t,r){return t.toCanvas().then(function(o){return H7(o,t.getType(),r)})},H7=function(t,r,o){var s=Sl(t),l=function(d,h){for(var p,y,S,A,z=d.data,R=h[0],N=h[1],W=h[2],te=h[3],H=h[4],re=h[5],me=h[6],ye=h[7],ne=h[8],ce=h[9],Se=h[10],rt=h[11],Ae=h[12],ot=h[13],_e=h[14],xe=h[15],tt=h[16],Et=h[17],Ee=h[18],xt=h[19],_t=0;_t<z.length;_t+=4)p=z[_t],y=z[_t+1],S=z[_t+2],A=z[_t+3],z[_t]=p*R+y*N+S*W+A*te+H,z[_t+1]=p*re+y*me+S*ye+A*ne+ce,z[_t+2]=p*Se+y*rt+S*Ae+A*ot+_e,z[_t+3]=p*xe+y*tt+S*Et+A*Ee+xt;return d},f=l(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(f,0,0),bf(t,r)},V7=function(t,r){return t.toCanvas().then(function(o){return U7(o,t.getType(),r)})},U7=function(t,r,o){var s=Sl(t),l=function(h,p,y){for(var S=function(tt,Et,Ee){return tt>Ee?tt=Ee:tt<Et&&(tt=Et),tt},A=Math.round(Math.sqrt(y.length)),z=Math.floor(A/2),R=h.data,N=p.data,W=h.width,te=h.height,H=0;H<te;H++)for(var re=0;re<W;re++){for(var me=0,ye=0,ne=0,ce=0;ce<A;ce++)for(var Se=0;Se<A;Se++){var rt=S(re+Se-z,0,W-1),Ae=S(H+ce-z,0,te-1),ot=(Ae*W+rt)*4,_e=y[ce*A+Se];me+=R[ot]*_e,ye+=R[ot+1]*_e,ne+=R[ot+2]*_e}var xe=(H*W+re)*4;N[xe]=S(me,0,255),N[xe+1]=S(ye,0,255),N[xe+2]=S(ne,0,255)}return p},f=s.getImageData(0,0,t.width,t.height),d=s.getImageData(0,0,t.width,t.height);return d=l(f,d,o),s.putImageData(d,0,0),bf(t,r)},W7=function(t){var r=function(o,s,l){for(var f=Sl(o),d=new Array(256),h=function(S,A){for(var z=S.data,R=0;R<z.length;R+=4)z[R]=A[z[R]],z[R+1]=A[z[R+1]],z[R+2]=A[z[R+2]];return S},p=0;p<d.length;p++)d[p]=t(p,l);var y=h(f.getImageData(0,0,o.width,o.height),d);return f.putImageData(y,0,0),bf(o,s)};return function(o,s){return o.toCanvas().then(function(l){return r(l,o.getType(),s)})}},kE=function(t){return function(r,o){return Yw(r,t(Xw(),o))}},AE=function(t){return function(r){return Yw(r,t)}},j7=function(t){return function(r){return V7(r,t)}},q7=AE([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),G7=kE(xE),Gn=kE($7),tm=function(t,r,o,s){return Yw(t,SE(Xw(),r,o,s))},EE=j7([0,-1,0,-1,5,-1,0,-1,0]),TE=W7(function(t,r){return Math.pow(t/255,1-r)*255}),Zw=function(t,r,o){var s=qw(t),l=Gw(t),f=r/s,d=o/l,h=!1;(f<.5||f>2)&&(f=f<.5?.5:2,h=!0),(d<.5||d>2)&&(d=d<.5?.5:2,h=!0);var p=K7(t,f,d);return h?p.then(function(y){return Zw(y,r,o)}):p},K7=function(t,r,o){return new Mc(function(s){var l=qw(t),f=Gw(t),d=Math.floor(l*r),h=Math.floor(f*o),p=em(d,h),y=Sl(p);y.drawImage(t,0,0,l,f,0,0,d,h),s(p)})},OE=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},X7=function(t,r){return t.toCanvas().then(function(o){return DE(o,t.getType(),r)})},DE=function(t,r,o){var s=o<0?360+o:o,l=s*Math.PI/180,f=t.width,d=t.height,h=Math.sin(l),p=Math.cos(l),y=OE(Math.abs(f*p)+Math.abs(d*h)),S=OE(Math.abs(f*h)+Math.abs(d*p)),A=em(y,S),z=Sl(A);return z.translate(y/2,S/2),z.rotate(l),z.drawImage(t,-f/2,-d/2),bf(A,r)},Y7=function(t,r){return t.toCanvas().then(function(o){return Z7(o,t.getType(),r)})},Z7=function(t,r,o){var s=em(t.width,t.height),l=Sl(s);return o==="v"?(l.scale(1,-1),l.drawImage(t,0,-s.height)):(l.scale(-1,1),l.drawImage(t,-s.width,0)),bf(s,r)},J7=function(t,r,o,s,l){return t.toCanvas().then(function(f){return Q7(f,t.getType(),r,o,s,l)})},Q7=function(t,r,o,s,l,f){var d=em(l,f),h=Sl(d);return h.drawImage(t,-o,-s),bf(d,r)},eM=function(t,r,o){return t.toCanvas().then(function(s){return Zw(s,r,o).then(function(l){return bf(l,t.getType())})})},tM=function(t){return q7(t)},nM=function(t){return EE(t)},rM=function(t,r){return TE(t,r)},aM=function(t,r,o,s){return tm(t,r,o,s)},oM=function(t,r){return G7(t,r)},iM=function(t,r){return Gn(t,r)},Jw=function(t,r){return Y7(t,r)},uM=function(t,r,o,s,l){return J7(t,r,o,s,l)},sM=function(t,r,o){return eM(t,r,o)},_E=function(t,r){return X7(t,r)},BE=function(t,r,o){return qs(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},Y1=function(t,r){return BE(t,r,[])},zE=function(t,r){return BE(t,r,[dn.config({})])},Z1=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:qe([dn.config({})])}},Qw,eC=wt("toolbar.button.execute"),cM=function(t){return gc(function(r,o){Tg(t,r)(function(s){qt(r,eC,{buttonApi:s}),t.onAction(s)})})},tC=(Qw={},Qw[du()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],Qw),xv=wt("update-menu-text"),nC=wt("update-menu-icon"),rC=function(t,r,o){var s=jt(Pe),l=t.text.map(function(A){return ir(Z1(A,r,o.providers))}),f=t.icon.map(function(A){return ir(zE(A,o.providers.icons))}),d=function(A,z){var R=it.getValue(A);return nn.focus(R),qt(R,"keydown",{raw:z.event.raw}),ju.close(R),x.some(!0)},h=t.role.fold(function(){return{}},function(A){return{role:A}}),p=t.tooltip.fold(function(){return{}},function(A){var z=o.providers.translate(A);return{title:z,"aria-label":z}}),y=qs("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),S=ir(ju.sketch(K(K(K({},t.uid?{uid:t.uid}:{}),h),{dom:{tag:"button",classes:[r,r+"--select"].concat(Ke(t.classes,function(A){return r+"--"+A})),attributes:K({},p)},components:cv([f.map(function(A){return A.asSpec()}),l.map(function(A){return A.asSpec()}),x.some(y)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:qe(Rt(Rt([],t.dropdownBehaviours,!0),[wu.button(function(){return t.disabled||o.providers.isDisabled()}),Ia(),Vg.config({}),dn.config({}),En("dropdown-events",[Og(t,s),Dg(t,s)]),En("menubutton-update-display-text",[Oe(xv,function(A,z){l.bind(function(R){return R.getOpt(A)}).each(function(R){dn.set(R,[Rf(o.providers.translate(z.event.text))])})}),Oe(nC,function(A,z){f.bind(function(R){return R.getOpt(A)}).each(function(R){dn.set(R,[zE(z.event.icon,o.providers.icons)])})})])],!1)),eventOrder:we(tC,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:qe([Gt.config({mode:"special",onLeft:d,onRight:d})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:e1(!1,t.columns,t.presets)},fetch:function(A){return fo.nu(rn(t.fetch,A))}})));return S.asSpec()},lM=function(t){return Nt(t)},aC=function(t){return t.type==="separator"},fM=function(t){return mn(t,"getSubmenuItems")},vM={type:"separator"},dM=function(t,r){var o=Yt(t,function(s,l){return lM(l)?l===""?s:l==="|"?s.length>0&&!aC(s[s.length-1])?s.concat([vM]):s:mn(r,l.toLowerCase())?s.concat([r[l.toLowerCase()]]):s:s.concat([l])},[]);return o.length>0&&aC(o[o.length-1])&&o.pop(),o},eh=function(t,r){var o=t.getSubmenuItems(),s=ME(o,r),l=we(s.menus,dc(t.value,s.items)),f=we(s.expansions,dc(t.value,t.value));return{item:t,menus:l,expansions:f}},mM=function(t,r){return fM(t)?eh(t,r):{item:t,menus:{},expansions:{}}},oC=function(t){if(aC(t))return t;var r=Ot(t,"value").getOrThunk(function(){return wt("generated-menu-item")});return we({value:r},t)},ME=function(t,r){var o=dM(Nt(t)?t.split(" "):t,r);return yn(o,function(s,l){var f=oC(l),d=mM(f,r);return{menus:we(s.menus,d.menus),items:[d.item].concat(s.items),expansions:we(s.expansions,d.expansions)}},{menus:{},expansions:{},items:[]})},nm=function(t,r,o,s){var l=wt("primary-menu"),f=ME(t,o.shared.providers.menuItems());if(f.items.length===0)return x.none();var d=cw(l,f.items,r,o,s),h=kt(f.menus,function(y,S){return cw(S,y,r,o,!1)}),p=we(h,dc(l,d));return x.from(tv.tieredData(l,p,f.expansions))},gM=function(t){return{isDisabled:function(){return It.isDisabled(t)},setDisabled:function(r){return It.set(t,r)},setActive:function(r){var o=t.element;r?(so(o,"tox-tbtn--enabled"),Tn(o,"aria-pressed",!0)):(Pa(o,"tox-tbtn--enabled"),oo(o,"aria-pressed"))},isActive:function(){return vi(t.element,"tox-tbtn--enabled")}}},iC=function(t,r,o,s){return rC({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(l,f){t.fetch(function(d){f(nm(d,Gs.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:gM,columns:1,presets:"normal",classes:[],dropdownBehaviours:[ma.config({})]},r,o.shared)},RE=function(t,r,o){var s=function(f){return function(d){var h=!d.isActive();d.setActive(h),f.storage.set(h),o.shared.getSink().each(function(p){r().getOpt(p).each(function(y){Sc(y.element),qt(y,zc,{name:f.name,value:f.storage.get()})})})}},l=function(f){return function(d){d.setActive(f.storage.get())}};return function(f){f(Ke(t,function(d){var h=d.text.fold(function(){return{}},function(p){return{text:p}});return K(K({type:d.type,active:!1},h),{onAction:s(d),onSetup:l(d)})}))}},uC=function(t,r,o,s,l,f){o===void 0&&(o=[]);var d=r.fold(function(){return{}},function(y){return{action:y}}),h=K({buttonBehaviours:qe([wu.button(function(){return t.disabled||f.isDisabled()}),Ia(),ma.config({}),En("button press",[mx("click"),mx("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},d),p=we(h,{dom:s});return we(p,{components:l})},PE=function(t,r,o,s){s===void 0&&(s=[]);var l=t.tooltip.map(function(p){return{"aria-label":o.translate(p),title:o.translate(p)}}).getOr({}),f={tag:"button",classes:["tox-tbtn"],attributes:l},d=t.icon.map(function(p){return Y1(p,o.icons)}),h=cv([d]);return uC(t,r,s,f,h,o)},th=function(t,r,o,s){s===void 0&&(s=[]);var l=PE(t,x.some(r),o,s);return Wo.sketch(l)},nh=function(t,r,o,s,l){s===void 0&&(s=[]),l===void 0&&(l=[]);var f=o.translate(t.text),d=t.icon?t.icon.map(function(A){return Y1(A,o.icons)}):x.none(),h=d.isSome()?cv([d]):[],p=d.isSome()?{}:{innerHtml:f},y=Rt(Rt(Rt(Rt([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),d.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),l,!0),S=K(K({tag:"button",classes:y},p),{attributes:{title:f}});return uC(t,r,s,S,h,o)},sC=function(t,r,o,s,l){s===void 0&&(s=[]),l===void 0&&(l=[]);var f=nh(t,x.some(r),o,s,l);return Wo.sketch(f)},FE=function(t,r){return function(o){r==="custom"?qt(o,zc,{name:t,value:{}}):r==="submit"?Fn(o,jd):r==="cancel"?Fn(o,Cu):console.error("Unknown button type: ",r)}},hM=function(t,r){return r==="menu"},pM=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},rm=function(t,r,o){if(hM(t,r)){var s=function(){return d},l=t,f=K(K({},t),{onSetup:function(y){return y.setDisabled(t.disabled),Pe},fetch:RE(l.items,s,o)}),d=ir(iC(f,"tox-tbtn",o,x.none()));return d.asSpec()}else if(pM(t,r)){var h=FE(t.name,r),p=K(K({},t),{borderless:!1});return sC(p,h,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},cC=function(t,r){var o=FE(t.name,"custom");return t8(x.none(),Qn.parts.field(K({factory:Wo},nh(t,x.some(o),r,[Cv.memory(""),Zs.self()]))))},IE=X([ae("field1Name","field1"),ae("field2Name","field2"),Lf("onLockedChange"),Nf(["lockClass"]),ae("locked",!1),Vu.field("coupledFieldBehaviours",[In,it])]),bM=function(t,r,o){return kr(t,r,o).bind(In.getCurrent)},J1=function(t,r){return Do({factory:Qn,name:t,overrides:function(o){return{fieldBehaviours:qe([En("coupled-input-behaviour",[Oe(Qv(),function(s){bM(s,o,r).each(function(l){kr(s,o,"lock").each(function(f){qn.isOn(f)&&o.onLockedChange(s,l,f)})})})])])}}})},yM=X([J1("field1","field2"),J1("field2","field1"),Do({factory:Wo,schema:[Te("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:qe([qn.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),wM=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:Vu.augment(t.coupledFieldBehaviours,[In.config({find:x.some}),it.config({store:{mode:"manual",getValue:function(l){var f,d=ig(l,t,["field1","field2"]);return f={},f[t.field1Name]=it.getValue(d.field1()),f[t.field2Name]=it.getValue(d.field2()),f},setValue:function(l,f){var d=ig(l,t,["field1","field2"]);Bn(f,t.field1Name)&&it.setValue(d.field1(),f[t.field1Name]),Bn(f,t.field2Name)&&it.setValue(d.field2(),f[t.field2Name])}}})]),apis:{getField1:function(l){return kr(l,t,"field1")},getField2:function(l){return kr(l,t,"field2")},getLock:function(l){return kr(l,t,"lock")}}}},Zi=pi({name:"FormCoupledInputs",configFields:IE(),partFields:yM(),factory:wM,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),CM=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(l){return l in r?r[l]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},Sv=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),l=o[2];return An.value({value:s,unit:l})}else return An.error(t)},NE=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(l){return mn(o,l)};return t.unit===r?x.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?x.some(t.value):x.some(t.value/o[t.unit]*o[r]):x.none()},lC=function(t){return x.none()},xM=function(t,r){return function(o){return NE(o,r).map(function(s){return{value:s*t,unit:r}})}},SM=function(t,r){var o=Sv(t).toOptional(),s=Sv(r).toOptional();return Ur(o,s,function(l,f){return NE(l,f.unit).map(function(d){return f.value/d}).map(function(d){return xM(d,f.unit)}).getOr(lC)}).getOr(lC)},fC=function(t,r){var o=lC,s=wt("ratio-event"),l=function(A){return qs(A,{tag:"span",classes:["tox-icon","tox-lock-icon__"+A]},r.icons)},f=Zi.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[l("lock"),l("unlock")],buttonBehaviours:qe([It.config({disabled:function(){return t.disabled||r.isDisabled()}}),Ia(),ma.config({})])}),d=function(A){return{dom:{tag:"div",classes:["tox-form__group"]},components:A}},h=function(A){return Qn.parts.field({factory:Hg,inputClasses:["tox-textfield"],inputBehaviours:qe([It.config({disabled:function(){return t.disabled||r.isDisabled()}}),Ia(),ma.config({}),En("size-input-events",[Oe(Nl(),function(z,R){qt(z,s,{isField1:A})}),Oe(ed(),function(z,R){qt(z,Ki,{name:t.name})})])]),selectOnFocus:!1})},p=function(A){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(A)}}},y=Zi.parts.field1(d([Qn.parts.label(p("Width")),h(!0)])),S=Zi.parts.field2(d([Qn.parts.label(p("Height")),h(!1)]));return Zi.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[y,S,d([p("&nbsp;"),f])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(A,z,R){Sv(it.getValue(A)).each(function(N){o(N).each(function(W){it.setValue(z,CM(W))})})},coupledFieldBehaviours:qe([It.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(A){Zi.getField1(A).bind(Qn.getField).each(It.disable),Zi.getField2(A).bind(Qn.getField).each(It.disable),Zi.getLock(A).each(It.disable)},onEnabled:function(A){Zi.getField1(A).bind(Qn.getField).each(It.enable),Zi.getField2(A).bind(Qn.getField).each(It.enable),Zi.getLock(A).each(It.enable)}}),Ia(),En("size-input-events2",[Oe(s,function(A,z){var R=z.event.isField1,N=R?Zi.getField1(A):Zi.getField2(A),W=R?Zi.getField2(A):Zi.getField1(A),te=N.map(it.getValue).getOr(""),H=W.map(it.getValue).getOr("");o=SM(te,H)})])])})},kM=X(wt("undo")),AM=X(wt("redo")),EM=X(wt("zoom")),TM=X(wt("back")),OM=X(wt("apply")),LE=X(wt("swap")),DM=X(wt("transform")),_M=X(wt("temp-transform")),BM=X(wt("transform-apply")),_o={undo:kM,redo:AM,zoom:EM,back:TM,apply:OM,swap:LE,transform:DM,tempTransform:_M,transformApply:BM},$E=X("save-state"),zM=X("disable"),MM=X("enable"),aa={formActionEvent:zc,saveState:$E,disable:zM,enable:MM},RM=function(t,r){var o=function(mt,On,br,ha){return ir(sC({name:mt,text:mt,disabled:br,primary:ha,icon:x.none(),borderless:!1},On,r))},s=function(mt,On,br,ha){return ir(th({name:mt,icon:x.some(mt),tooltip:x.some(On),disabled:ha,primary:!1,borderless:!1},br,r))},l=function(mt,On){mt.map(function(br){var ha=br.get(On);ha.hasConfigured(It)&&It.disable(ha)})},f=function(mt,On){mt.map(function(br){var ha=br.get(On);ha.hasConfigured(It)&&It.enable(ha)})},d={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},h=Pe,p=function(mt,On,br){qt(mt,On,br)},y=function(mt){return Fn(mt,aa.disable())},S=function(mt){return Fn(mt,aa.enable())},A=function(mt,On){y(mt),p(mt,_o.transform(),{transform:On}),S(mt)},z=function(mt,On){y(mt),p(mt,_o.tempTransform(),{transform:On}),S(mt)},R=function(mt){return function(){wb.getOpt(mt).each(function(On){dn.set(On,[yb])})}},N=function(mt,On){y(mt),p(mt,_o.transformApply(),{transform:On,swap:R(mt)}),S(mt)},W=function(){return o("Back",function(mt){return p(mt,_o.back(),{swap:R(mt)})},!1,!1)},te=function(){return ir({dom:{tag:"div",classes:["tox-spacer"]},behaviours:qe([It.config({})])})},H=function(){return o("Apply",function(mt){return p(mt,_o.apply(),{swap:R(mt)})},!0,!0)},re=function(){return function(mt){var On=t.getRect();return uM(mt,On.x,On.y,On.w,On.h)}},me=[W(),te(),o("Apply",function(mt){var On=re();N(mt,On),t.hideCrop()},!1,!0)],ye=jo.sketch({dom:d,components:me.map(function(mt){return mt.asSpec()}),containerBehaviours:qe([En("image-tools-crop-buttons-events",[Oe(aa.disable(),function(mt,On){l(me,mt)}),Oe(aa.enable(),function(mt,On){f(me,mt)})])])}),ne=ir(fC({name:"size",label:x.none(),constrain:!0,disabled:!1},r)),ce=function(mt,On){return function(br){return sM(br,mt,On)}},Se=[W(),te(),ne,te(),o("Apply",function(mt){ne.getOpt(mt).each(function(On){var br=it.getValue(On),ha=parseInt(br.width,10),ku=parseInt(br.height,10),Au=ce(ha,ku);N(mt,Au)})},!1,!0)],rt=jo.sketch({dom:d,components:Se.map(function(mt){return mt.asSpec()}),containerBehaviours:qe([En("image-tools-resize-buttons-events",[Oe(aa.disable(),function(mt,On){l(Se,mt)}),Oe(aa.enable(),function(mt,On){f(Se,mt)})])])}),Ae=function(mt,On){return function(br){return mt(br,On)}},ot=Ae(Jw,"h"),_e=Ae(Jw,"v"),xe=Ae(_E,-90),tt=Ae(_E,90),Et=function(mt,On){z(mt,On)},Ee=[W(),te(),s("flip-horizontally","Flip horizontally",function(mt){Et(mt,ot)},!1),s("flip-vertically","Flip vertically",function(mt){Et(mt,_e)},!1),s("rotate-left","Rotate counterclockwise",function(mt){Et(mt,xe)},!1),s("rotate-right","Rotate clockwise",function(mt){Et(mt,tt)},!1),te(),H()],xt=jo.sketch({dom:d,components:Ee.map(function(mt){return mt.asSpec()}),containerBehaviours:qe([En("image-tools-fliprotate-buttons-events",[Oe(aa.disable(),function(mt,On){l(Ee,mt)}),Oe(aa.enable(),function(mt,On){f(Ee,mt)})])])}),_t=function(mt,On,br,ha,ku){var Au=xu.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(mt)}}),nc=xu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Cb=xu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ir(xu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:br,maxX:ku,getInitialValue:X({x:ha})},components:[Au,nc,Cb],sliderBehaviours:qe([nn.config({})]),onChoose:On}))},Hn=function(mt,On,br,ha,ku){var Au=function(nc,Cb,OF){var DF=Ae(On,OF.x/100);A(nc,DF)};return _t(mt,Au,br,ha,ku)},gr=function(mt,On,br,ha,ku){return[W(),Hn(mt,On,br,ha,ku),H()]},ea=function(mt,On,br,ha,ku){var Au=gr(mt,On,br,ha,ku);return jo.sketch({dom:d,components:Au.map(function(nc){return nc.asSpec()}),containerBehaviours:qe([En("image-tools-filter-panel-buttons-events",[Oe(aa.disable(),function(nc,Cb){l(Au,nc)}),Oe(aa.enable(),function(nc,Cb){f(Au,nc)})])])})},tc=[W(),te(),H()],Cs=jo.sketch({dom:d,components:tc.map(function(mt){return mt.asSpec()})}),wF=ea("Brightness",oM,-100,0,100),CF=ea("Contrast",iM,-100,0,100),m5=ea("Gamma",rM,-100,0,100),xF=function(mt,On,br){return function(ha){return aM(ha,mt,On,br)}},UC=function(mt){var On=function(br,ha,ku){var Au=g5.getOpt(br),nc=h5.getOpt(br),Cb=WC.getOpt(br);Au.each(function(OF){nc.each(function(DF){Cb.each(function(IU){var NU=it.getValue(OF).x/100,LU=it.getValue(IU).x/100,$U=it.getValue(DF).x/100,HU=xF(NU,LU,$U);A(br,HU)})})})};return _t(mt,On,0,100,200)},g5=UC("R"),WC=UC("G"),h5=UC("B"),Wc=[W(),g5,WC,h5,H()],jC=jo.sketch({dom:d,components:Wc.map(function(mt){return mt.asSpec()})}),Su=function(mt,On,br){return function(ha){var ku=function(){wb.getOpt(ha).each(function(Au){dn.set(Au,[mt]),br(Au)})};p(ha,_o.swap(),{transform:On,swap:ku})}},SF=function(mt){t.showCrop()},kF=function(mt){ne.getOpt(mt).each(function(On){var br=t.getMeasurements(),ha=br.width,ku=br.height;it.setValue(On,{width:ha,height:ku})})},AF=x.some(nM),oi=x.some(tM),vm=[s("crop","Crop",Su(ye,x.none(),SF),!1),s("resize","Resize",Su(rt,x.none(),kF),!1),s("orientation","Orientation",Su(xt,x.none(),h),!1),s("brightness","Brightness",Su(wF,x.none(),h),!1),s("sharpen","Sharpen",Su(Cs,AF,h),!1),s("contrast","Contrast",Su(CF,x.none(),h),!1),s("color-levels","Color levels",Su(jC,x.none(),h),!1),s("gamma","Gamma",Su(m5,x.none(),h),!1),s("invert","Invert",Su(Cs,oi,h),!1)],yb=jo.sketch({dom:d,components:vm.map(function(mt){return mt.asSpec()})}),EF=jo.sketch({dom:{tag:"div"},components:[yb],containerBehaviours:qe([dn.config({})])}),wb=ir(EF),TF=function(mt){return wb.getOpt(mt).map(function(On){var br=On.components()[0];return br.components()[br.components().length-1]})};return{memContainer:wb,getApplyButton:TF}},Q1=tinymce.util.Tools.resolve("tinymce.geom.Rect"),HE=tinymce.util.Tools.resolve("tinymce.util.Observable"),kv=tinymce.util.Tools.resolve("tinymce.util.VK"),eb=function(t){var r=Math.max,o=t.documentElement,s=t.body,l=r(o.scrollWidth,s.scrollWidth),f=r(o.clientWidth,s.clientWidth),d=r(o.offsetWidth,s.offsetWidth),h=r(o.scrollHeight,s.scrollHeight),p=r(o.clientHeight,s.clientHeight),y=r(o.offsetHeight,s.offsetHeight);return{width:l<d?f:l,height:h<y?p:h}},PM=function(t){return Jt(t.changedTouches)},am=function(t){if(PM(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function FM(t,r){var o,s,l,f,d=[],h=[],p=(o=r.document)!==null&&o!==void 0?o:document,y=(s=r.root)!==null&&s!==void 0?s:p,S=Ye.fromDom(p),A,z,R,N=Ye.fromDom(y.getElementById((l=r.handle)!==null&&l!==void 0?l:t)),W=function(me){var ye=me.raw,ne=eb(p);am(ye),me.prevent(),A=ye.button,z=ye.screenX,R=ye.screenY;var ce=ba(N,"cursor");f=Ye.fromTag("div",p),_s(f,{position:"absolute",top:"0",left:"0",width:ne.width+"px",height:ne.height+"px","z-index":2147483647+"",opacity:"0.0001",cursor:ce}),No(Pr(S),f),h.push(Oa(S,"mousemove",te),Oa(S,"touchmove",te),Oa(S,"mouseup",H),Oa(S,"touchend",H)),r.start(ye)},te=function(me){var ye=me.raw;if(am(ye),ye.button!==A)return H(me);ye.deltaX=ye.screenX-z,ye.deltaY=ye.screenY-R,me.prevent(),r.drag(ye)},H=function(me){am(me.raw),be(h,function(ye){return ye.unbind()}),h=[],uu(f),r.stop&&r.stop(me.raw)},re=function(){be(h.concat(d),function(me){return me.unbind()}),h=[],d=[],Jt(f)&&uu(f)};return d.push(Oa(N,"mousedown",W),Oa(N,"touchstart",W)),{destroy:re}}var rh=0,VE=function(t,r,o,s,l){var f,d=[],h="tox-",p=h+"crid-"+rh++,y=Ye.fromDom(s),S=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],A=["top","right","bottom","left"],z=function(Ae,ot){return{x:ot.x+Ae.x,y:ot.y+Ae.y,w:ot.w,h:ot.h}},R=function(Ae,ot){return{x:ot.x-Ae.x,y:ot.y-Ae.y,w:ot.w,h:ot.h}},N=function(){return R(o,t)},W=function(Ae,ot,_e,xe){var tt=ot.x+_e*Ae.deltaX,Et=ot.y+xe*Ae.deltaY,Ee=Math.max(20,ot.w+_e*Ae.deltaW),xt=Math.max(20,ot.h+xe*Ae.deltaH),_t=t=Q1.clamp({x:tt,y:Et,w:Ee,h:xt},o,Ae.name==="move");_t=R(o,_t),rt.fire("updateRect",{rect:_t}),ne(_t)},te=function(){var Ae=function(tt){var Et;return FM(p,{document:s.ownerDocument,root:on(y).dom,handle:p+"-"+tt.name,start:function(){Et=t},drag:function(Ee){W(tt,Et,Ee.deltaX,Ee.deltaY)}})},ot=Ye.fromTag("div");Rv(ot,{id:p,class:h+"croprect-container",role:"grid","aria-dropeffect":"execute"}),No(y,ot),be(A,function(tt){Fa(y,"#"+p).each(function(Et){var Ee=Ye.fromTag("div");Rv(Ee,{id:p+"-"+tt,class:h+"croprect-block","data-mce-bogus":"all"}),ln(Ee,"display","none"),No(Et,Ee)})}),be(S,function(tt){Fa(y,"#"+p).each(function(Et){var Ee=Ye.fromTag("div");Rv(Ee,{id:p+"-"+tt.name,"aria-label":tt.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:tt.label}),cl(Ee,[h+"croprect-handle",h+"croprect-handle-"+tt.name]),ln(Ee,"display","none"),No(Et,Ee)})}),f=Ke(S,Ae),re(t);var _e=function(tt){Tn(tt.target,"aria-grabbed",tt.raw.type==="focus"?"true":"false")},xe=function(tt){var Et;be(S,function(xt){if(Yr(tt.target,"id")===p+"-"+xt.name)return Et=xt,!1});var Ee=function(xt,_t,Hn,gr,ea){xt.stopPropagation(),xt.preventDefault(),W(Et,Hn,gr,ea)};switch(tt.raw.keyCode){case kv.LEFT:Ee(tt,Et,t,-10,0);break;case kv.RIGHT:Ee(tt,Et,t,10,0);break;case kv.UP:Ee(tt,Et,t,0,-10);break;case kv.DOWN:Ee(tt,Et,t,0,10);break;case kv.ENTER:case kv.SPACEBAR:tt.prevent(),l();break}};d.push(Oa(y,"focusin",_e),Oa(y,"focusout",_e),Oa(y,"keydown",xe))},H=function(Ae){var ot=Rt(Rt([],Ke(S,function(xe){return"#"+p+"-"+xe.name}),!0),Ke(A,function(xe){return"#"+p+"-"+xe}),!0).join(","),_e=lo(y,ot);Ae?be(_e,function(xe){return xr(xe,"display")}):be(_e,function(xe){return ln(xe,"display","none")})},re=function(Ae){var ot=function(_e,xe){Fa(y,"#"+p+"-"+_e).each(function(tt){_s(tt,{left:xe.x+"px",top:xe.y+"px",width:Math.max(0,xe.w)+"px",height:Math.max(0,xe.h)+"px"})})};be(S,function(_e){Fa(y,"#"+p+"-"+_e.name).each(function(xe){_s(xe,{left:Ae.w*_e.xMul+Ae.x+"px",top:Ae.h*_e.yMul+Ae.y+"px"})})}),ot("top",{x:r.x,y:r.y,w:r.w,h:Ae.y-r.y}),ot("right",{x:Ae.x+Ae.w,y:Ae.y,w:r.w-Ae.x-Ae.w+r.x,h:Ae.h}),ot("bottom",{x:r.x,y:Ae.y+Ae.h,w:r.w,h:r.h-Ae.y-Ae.h+r.y}),ot("left",{x:r.x,y:Ae.y,w:Ae.x-r.x,h:Ae.h}),ot("move",Ae)},me=function(Ae){t=Ae,re(t)},ye=function(Ae){r=Ae,re(t)},ne=function(Ae){me(z(o,Ae))},ce=function(Ae){o=Ae,re(t)},Se=function(){be(f,function(Ae){return Ae.destroy()}),f=[],be(d,function(Ae){return Ae.unbind()}),d=[]};te();var rt=K(K({},HE),{toggleVisibility:H,setClampRect:ce,setRect:me,getInnerRect:N,setInnerRect:ne,setViewPortRect:ye,destroy:Se});return rt},qu={create:VE},IM=function(t){return new Cg(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},UE=function(t){var r=ir({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=jt(1),s=Xx(),l=jt({x:0,y:0,w:1,h:1}),f=jt({x:0,y:0,w:1,h:1}),d=function(te,H){N.getOpt(te).each(function(re){var me=o.get(),ye=Xo(re.element),ne=$a(re.element),ce=H.dom.naturalWidth*me,Se=H.dom.naturalHeight*me,rt=Math.max(0,ye/2-ce/2),Ae=Math.max(0,ne/2-Se/2),ot={left:rt.toString()+"px",top:Ae.toString()+"px",width:ce.toString()+"px",height:Se.toString()+"px",position:"absolute"};_s(H,ot),r.getOpt(re).each(function(_e){_s(_e.element,ot)}),s.run(function(_e){var xe=l.get();_e.setRect({x:xe.x*me+rt,y:xe.y*me+Ae,w:xe.w*me,h:xe.h*me}),_e.setClampRect({x:rt,y:Ae,w:ce,h:Se}),_e.setViewPortRect({x:0,y:0,w:ye,h:ne})})})},h=function(te,H){N.getOpt(te).each(function(re){var me=Xo(re.element),ye=$a(re.element),ne=H.dom.naturalWidth,ce=H.dom.naturalHeight,Se=Math.min(me/ne,ye/ce);Se>=1?o.set(1):o.set(Se)})},p=function(te,H){var re=Ye.fromTag("img");return Tn(re,"src",H),IM(re.dom).then(function(){te.getSystem().isConnected()&&N.getOpt(te).map(function(me){var ye=$h({element:re});dn.replaceAt(me,1,x.some(ye));var ne=f.get(),ce={x:0,y:0,w:re.dom.naturalWidth,h:re.dom.naturalHeight};f.set(ce);var Se=Q1.inflate(ce,-20,-20);l.set(Se),(ne.w!==ce.w||ne.h!==ce.h)&&h(me,re),d(me,re)})})},y=function(te,H){var re=o.get(),me=H>0?Math.min(2,re+.1):Math.max(.1,re-.1);o.set(me),N.getOpt(te).each(function(ye){var ne=ye.components()[1].element;d(ye,ne)})},S=function(){s.run(function(te){te.toggleVisibility(!0)})},A=function(){s.run(function(te){te.toggleVisibility(!1)})},z=function(){return l.get()},R=jo.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:qe([En("image-panel-crop-events",[ca(function(te){N.getOpt(te).each(function(H){var re=H.element.dom,me=qu.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},re,Pe);me.toggleVisibility(!1),me.on("updateRect",function(ye){var ne=ye.rect,ce=o.get(),Se={x:Math.round(ne.x/ce),y:Math.round(ne.y/ce),w:Math.round(ne.w/ce),h:Math.round(ne.h/ce)};l.set(Se)}),s.set(me)})}),gu(function(){s.clear()})])])}],containerBehaviours:qe([dn.config({}),En("image-panel-events",[ca(function(te){p(te,t)})])])}),N=ir(R),W=function(){var te=f.get();return{width:te.w,height:te.h}};return{memContainer:N,updateSrc:p,zoom:y,showCrop:S,hideCrop:A,getRect:z,getMeasurements:W}},tb=function(t,r,o,s,l){return th({name:t,icon:x.some(r),disabled:o,tooltip:x.some(t),primary:!1,borderless:!1},s,l)},WE=function(t,r){r?It.enable(t):It.disable(t)},NM=function(t){var r=function(f,d,h){o.getOpt(f).each(function(p){WE(p,d)}),s.getOpt(f).each(function(p){WE(p,h)})},o=ir(tb("Undo","undo",!0,function(f){qt(f,_o.undo(),{direction:1})},t)),s=ir(tb("Redo","redo",!0,function(f){qt(f,_o.redo(),{direction:1})},t)),l=jo.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),tb("Zoom in","zoom-in",!1,function(f){qt(f,_o.zoom(),{direction:1})},t),tb("Zoom out","zoom-out",!1,function(f){qt(f,_o.zoom(),{direction:-1})},t)]});return{container:l,updateButtonUndoStates:r}};function LM(){var t=[],r=-1,o=function(h){var p=t.splice(++r);return t.push(h),{state:h,removed:p}},s=function(){if(f())return t[--r]},l=function(){if(d())return t[++r]},f=function(){return r>0},d=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:l,canUndo:f,canRedo:d}}var $M=function(t){var r=jt(t),o=da(),s=LM();s.add(t);var l=function(){return r.get()},f=function(re){r.set(re)},d=function(){return o.get().getOrThunk(r.get)},h=function(re){var me=p(re);return A(),o.set(me),me.url},p=function(re){return{blob:re,url:URL.createObjectURL(re)}},y=function(re){URL.revokeObjectURL(re.url)},S=function(re){Ic.each(re,y)},A=function(){o.on(y),o.clear()},z=function(re){var me=p(re);f(me);var ye=s.add(me).removed;return S(ye),me.url},R=function(re){var me=p(re);return o.set(me),me.url},N=function(re){return o.get().fold(Pe,function(me){z(me.blob),re()})},W=function(){var re=s.undo();return f(re),re.url},te=function(){var re=s.redo();return f(re),re.url},H=function(){var re=s.canUndo(),me=s.canRedo();return{undoEnabled:re,redoEnabled:me}};return{getBlobState:l,setBlobState:f,addBlobState:z,getTempState:d,updateTempState:h,addTempState:R,applyTempState:N,destroyTempState:A,undo:W,redo:te,getHistoryStates:H}},HM=function(t,r){var o=$M(t.currentState),s=function(_e,xe){var tt=xe.event.direction;Se.zoom(_e,tt)},l=function(_e){var xe=o.getHistoryStates();rt.updateButtonUndoStates(_e,xe.undoEnabled,xe.redoEnabled),qt(_e,aa.formActionEvent,{name:aa.saveState(),value:xe.undoEnabled})},f=function(_e){rt.updateButtonUndoStates(_e,!1,!1)},d=function(_e,xe){var tt=o.undo();A(_e,tt).then(function(Et){S(_e),l(_e)})},h=function(_e,xe){var tt=o.redo();A(_e,tt).then(function(Et){S(_e),l(_e)})},p=function(_e){return _e.toBlob()},y=function(_e){qt(_e,aa.formActionEvent,{name:aa.disable(),value:{}})},S=function(_e){Ae.getApplyButton(_e).each(function(xe){It.enable(xe)}),qt(_e,aa.formActionEvent,{name:aa.enable(),value:{}})},A=function(_e,xe){return y(_e),Se.updateSrc(_e,xe)},z=function(_e,xe,tt,Et,Ee){y(_e),L7(xe).then(tt).then(p).then(Et).then(function(xt){return A(_e,xt)}).then(function(){l(_e),Ee(),S(_e)}).catch(function(xt){console.log(xt),_e.getSystem().isConnected()&&S(_e)})},R=function(_e,xe,tt){var Et=o.getBlobState().blob,Ee=function(xt){return o.updateTempState(xt)};z(_e,Et,xe,Ee,tt)},N=function(_e,xe){var tt=o.getTempState().blob,Et=function(Ee){return o.addTempState(Ee)};z(_e,tt,xe,Et,Pe)},W=function(_e,xe,tt){var Et=o.getBlobState().blob,Ee=function(xt){var _t=o.addBlobState(xt);return H(_e),_t};z(_e,Et,xe,Ee,tt)},te=function(_e,xe){var tt=function(){H(_e);var Et=xe.event.swap;Et()};o.applyTempState(tt)},H=function(_e){var xe=o.getBlobState().url;return o.destroyTempState(),l(_e),xe},re=function(_e){var xe=H(_e);A(_e,xe).then(function(tt){S(_e)})},me=function(_e,xe){re(_e);var tt=xe.event.swap;tt(),Se.hideCrop()},ye=function(_e,xe){return R(_e,xe.event.transform,Pe)},ne=function(_e,xe){return N(_e,xe.event.transform)},ce=function(_e,xe){return W(_e,xe.event.transform,xe.event.swap)},Se=UE(t.currentState.url),rt=NM(r),Ae=RM(Se,r),ot=function(_e,xe){f(_e);var tt=xe.event.transform,Et=xe.event.swap;tt.fold(function(){Et()},function(Ee){R(_e,Ee,Et)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Ae.memContainer.asSpec(),Se.memContainer.asSpec(),rt.container],behaviours:qe([it.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),En("image-tools-events",[Oe(_o.undo(),d),Oe(_o.redo(),h),Oe(_o.zoom(),s),Oe(_o.back(),me),Oe(_o.apply(),te),Oe(_o.transform(),ye),Oe(_o.tempTransform(),ne),Oe(_o.transformApply(),ce),Oe(_o.swap(),ot)]),Zs.self()])}},VM=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=Ke(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:qe([Zs.self(),dn.config({}),Cv.domHtml(x.none()),Gt.config({mode:"acyclic"})])}},vC=function(t){return!mn(t,"items")},jE="data-value",dC=function(t,r,o,s){return Ke(o,function(l){return vC(l)?{type:"togglemenuitem",text:l.text,value:l.value,active:l.value===s,onAction:function(){it.setValue(t,l.value),qt(t,Ki,{name:r}),nn.focus(t)}}:{type:"nestedmenuitem",text:l.text,getSubmenuItems:function(){return dC(t,r,l.items,s)}}})},mC=function(t,r){return gt(t,function(o){return vC(o)?qa(o.value===r,o):mC(o.items,r)})},qE=function(t,r){var o=r.shared.providers,s=Xe(t.items).filter(vC),l=t.label.map(function(h){return df(h,o)}),f=Qn.parts.field({dom:{},factory:{sketch:function(h){return rC({uid:h.uid,text:s.map(function(p){return p.text}),icon:x.none(),tooltip:t.label,role:x.none(),fetch:function(p,y){var S=dC(p,t.name,t.items,it.getValue(p));y(nm(S,Gs.CLOSE_ON_EXECUTE,r,!1))},onSetup:X(Pe),getApi:X({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ma.config({}),it.config({store:{mode:"manual",initialValue:s.map(function(p){return p.value}).getOr(""),getValue:function(p){return Yr(p.element,jE)},setValue:function(p,y){mC(t.items,y).each(function(S){Tn(p.element,jE,S.value),qt(p,xv,{text:S.text})})}}})]},"tox-listbox",r.shared)}}}),d={dom:{tag:"div",classes:["tox-listboxfield"]},components:[f]};return Qn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:bt([l.toArray(),[d]]),fieldBehaviours:qe([It.config({disabled:X(t.disabled),onDisabled:function(h){Qn.getField(h).each(It.disable)},onEnabled:function(h){Qn.getField(h).each(It.enable)}})])})},UM=function(t,r){return{dom:{tag:"div",classes:t.classes},components:Ke(t.items,r.shared.interpreter)}},GE=function(t,r){var o=Ke(t.options,function(l){return{dom:{tag:"option",value:l.value,innerHtml:l.text}}}),s=t.data.map(function(l){return dc("initialValue",l)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:Qa(t.selectBehaviours,[nn.config({}),it.config({store:K({mode:"manual",getValue:function(l){return Lu(l.element)},setValue:function(l,f){var d=at(t.options,function(h){return h.value===f});d.isSome()&&id(l.element,f)}},s)})])}},WM=Gi({name:"HtmlSelect",configFields:[Te("options"),Ja("selectBehaviours",[nn,it]),ae("selectClasses",[]),ae("selectAttributes",{}),vr("data")],factory:GE}),jM=function(t,r){var o=Ke(t.items,function(h){return{text:r.translate(h.text),value:h.value}}),s=t.label.map(function(h){return df(h,r)}),l=Qn.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:WM,selectBehaviours:qe([It.config({disabled:function(){return t.disabled||r.isDisabled()}}),ma.config({}),En("selectbox-change",[Oe(ed(),function(h,p){qt(h,Ki,{name:t.name})})])])}),f=t.size>1?x.none():x.some(qs("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),d={dom:{tag:"div",classes:["tox-selectfield"]},components:bt([[l],f.toArray()])};return Qn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:bt([s.toArray(),[d]]),fieldBehaviours:qe([It.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(h){Qn.getField(h).each(It.disable)},onEnabled:function(h){Qn.getField(h).each(It.enable)}}),Ia()])})},qM=function(t,r){var o=function(h){return{dom:{tag:"th",innerHtml:r.translate(h)}}},s=function(h){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ke(h,o)}]}},l=function(h){return{dom:{tag:"td",innerHtml:r.translate(h)}}},f=function(h){return{dom:{tag:"tr"},components:Ke(h,l)}},d=function(h){return{dom:{tag:"tbody"},components:Ke(h,f)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),d(t.cells)],behaviours:qe([ma.config({}),nn.config({})])}},KE=function(t,r){var o=t.label.map(function(z){return df(z,r)}),s=[It.config({disabled:function(){return t.disabled||r.isDisabled()}}),Ia(),Gt.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(z){return Fn(z,jd),x.some(!0)}}),En("textfield-change",[Oe(Qv(),function(z,R){qt(z,Ki,{name:t.name})}),Oe(qb(),function(z,R){qt(z,Ki,{name:t.name})})]),ma.config({})],l=t.validation.map(function(z){return Rc.config({getRoot:function(R){return La(R.element)},invalidClass:"tox-invalid",validator:{validate:function(R){var N=it.getValue(R),W=z.validator(N);return fo.pure(W===!0?An.value(N):An.error(W))},validateOnLoad:z.validateOnLoad}})}).toArray(),f=t.placeholder.fold(X({}),function(z){return{placeholder:r.translate(z)}}),d=t.inputMode.fold(X({}),function(z){return{inputmode:z}}),h=K(K({},f),d),p=Qn.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:h,inputClasses:[t.classname],inputBehaviours:qe(bt([s,l])),selectOnFocus:!1,factory:Hg}),y=t.flex?["tox-form__group--stretched"]:[],S=y.concat(t.maximized?["tox-form-group--maximize"]:[]),A=[It.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(z){Qn.getField(z).each(It.disable)},onEnabled:function(z){Qn.getField(z).each(It.enable)}}),Ia()];return $g(o,p,S,A)},GM=function(t,r){return KE({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:x.none(),maximized:t.maximized},r)},KM=function(t,r){return KE({name:t.name,multiline:!0,label:t.label,inputMode:x.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:x.none(),maximized:t.maximized},r)},XM=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return Mr([Oe(t.event,s),gu(function(){return r.cancel()})].concat(t.cancelEvent.map(function(l){return[Oe(l,function(){return r.cancel()})]}).getOr([])))},YM=Object.freeze({__proto__:null,events:XM}),XE=function(t){var r=jt(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(f){r.set(f)},l=function(){var f=r.get();f!==null&&f.cancel()};return li({readState:o,setTimer:s,cancel:l})},ZM=function(t){return t.stream.streams.state(t)},JM=Object.freeze({__proto__:null,throttle:XE,init:ZM}),QM=function(t,r){var o=t.stream,s=o2(t.onStream,o.delay);return r.setTimer(s),function(l,f){s.throttle(l,f),o.stopEvent&&f.stop()}},eR=[Vi("stream",zu("mode",{throttle:[Te("delay"),ae("stopEvent",!0),Dr("streams",{setup:QM,state:XE})]})),ae("event","input"),vr("cancelEvent"),Lf("onStream")],YE=Ta({fields:eR,name:"streaming",active:YM,state:JM}),ah=function(t,r,o){var s=it.getValue(o);it.setValue(r,s),JE(r)},ZE=function(t,r){var o=t.element,s=Lu(o),l=o.dom;Yr(o,"type")!=="number"&&r(l,s)},JE=function(t){ZE(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},QE=function(t,r){ZE(t,function(o,s){return o.setSelectionRange(r,s.length)})},tR=function(t,r,o){if(t.selectsOver){var s=it.getValue(r),l=t.getDisplayText(s),f=it.getValue(o),d=t.getDisplayText(f);return d.indexOf(l)===0?x.some(function(){ah(t,r,o),QE(r,l.length)}):x.none()}else return x.none()},gC=X("alloy.typeahead.itemexecute"),nR=function(t,r,o,s){var l=function(p,y,S){t.previewing.set(!1);var A=ga.getCoupled(p,"sandbox");if(jn.isOpen(A))In.getCurrent(A).each(function(R){sr.getHighlighted(R).fold(function(){S(R)},function(){fx(A,R.element,"keydown",y)})});else{var z=function(R){In.getCurrent(R).each(S)};bw(t,d(p),p,A,s,z,ms.HighlightFirst).get(Pe)}},f=b4(t),d=function(p){return function(y){return y.map(function(S){var A=xa(S.menus),z=er(A,function(N){return dt(N.items,function(W){return W.type==="item"})}),R=it.getState(p);return R.update(Ke(z,function(N){return N.data})),S})}},h=[nn.config({}),it.config({onSetValue:t.onSetValue,store:K({mode:"dataset",getDataKey:function(p){return Lu(p.element)},getFallbackEntry:function(p){return{value:p,meta:{}}},setValue:function(p,y){id(p.element,t.model.getDisplayText(y))}},t.initialData.map(function(p){return dc("initialValue",p)}).getOr({}))}),YE.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(p,y){var S=ga.getCoupled(p,"sandbox"),A=nn.isFocused(p);if(A&&Lu(p.element).length>=t.minChars){var z=In.getCurrent(S).bind(function(N){return sr.getHighlighted(N).map(it.getValue)});t.previewing.set(!0);var R=function(N){In.getCurrent(S).each(function(W){z.fold(function(){t.model.selectsOver&&sr.highlightFirst(W)},function(te){sr.highlightBy(W,function(H){var re=it.getValue(H);return re.value===te.value}),sr.getHighlighted(W).orThunk(function(){return sr.highlightFirst(W),x.none()})})})};bw(t,d(p),p,S,s,R,ms.HighlightFirst).get(Pe)}},cancelEvent:Kb()}),Gt.config({mode:"special",onDown:function(p,y){return l(p,y,sr.highlightFirst),x.some(!0)},onEscape:function(p){var y=ga.getCoupled(p,"sandbox");return jn.isOpen(y)?(jn.close(y),x.some(!0)):x.none()},onUp:function(p,y){return l(p,y,sr.highlightLast),x.some(!0)},onEnter:function(p){var y=ga.getCoupled(p,"sandbox"),S=jn.isOpen(y);if(S&&!t.previewing.get())return In.getCurrent(y).bind(function(z){return sr.getHighlighted(z)}).map(function(z){return qt(p,gC(),{item:z}),!0});var A=it.getValue(p);return Fn(p,Kb()),t.onExecute(y,p,A),S&&jn.close(y),x.some(!0)}}),qn.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),ga.config({others:{sandbox:function(p){return yw(t,p,{onOpen:function(){return qn.on(p)},onClose:function(){return qn.off(p)}})}}}),En("typeaheadevents",[gc(function(p){var y=Pe;Gd(t,d(p),p,s,y,ms.HighlightFirst).get(Pe)}),Oe(gC(),function(p,y){var S=ga.getCoupled(p,"sandbox");ah(t.model,p,y.event.item),Fn(p,Kb()),t.onItemExecute(p,S,y.event.item,it.getValue(p)),jn.close(S),JE(p)})].concat(t.dismissOnBlur?[Oe(jb(),function(p){var y=ga.getCoupled(p,"sandbox");ss(y.element).isNone()&&jn.close(y)})]:[]))];return{uid:t.uid,dom:y4(we(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:K(K({},f),Qa(t.typeaheadBehaviours,h)),eventOrder:t.eventOrder}},rR=X([vr("lazySink"),Te("fetch"),ae("minChars",5),ae("responseTime",1e3),zn("onOpen"),ae("getHotspot",x.some),ae("getAnchorOverrides",X({})),ae("layouts",x.none()),ae("eventOrder",{}),Fb("model",{},[ae("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),ae("selectsOver",!0),ae("populateFromBrowse",!0)]),zn("onSetValue"),la("onExecute"),zn("onItemExecute"),ae("inputClasses",[]),ae("inputAttributes",{}),ae("inputStyles",{}),ae("matchWidth",!0),ae("useMinWidth",!1),ae("dismissOnBlur",!0),Nf(["openClass"]),vr("initialData"),Ja("typeaheadBehaviours",[nn,it,YE,Gt,qn,ga]),Di("previewing",function(){return jt(!0)})].concat(w1()).concat(ww())),aR=X([vs({schema:[Wh()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){tR(t.model,s,o).fold(function(){return sr.dehighlight(r,o)},function(l){return l()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&ah(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return qt(s,gC(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&ah(t.model,s,o)})}}}})]),oR=pi({name:"Typeahead",configFields:rR(),partFields:aR(),factory:nR}),Ji=function(t){var r=function(){return Ji(t.toCached())},o=function(p){return Ji(t.bind(function(y){return y.fold(function(S){return fo.pure(An.error(S))},function(S){return p(S)})}))},s=function(p){return Ji(t.map(function(y){return y.bind(p)}))},l=function(p){return Ji(t.map(function(y){return y.map(p)}))},f=function(p){return Ji(t.map(function(y){return y.mapError(p)}))},d=function(p,y){return t.map(function(S){return S.fold(p,y)})},h=function(p,y){return Ji(fo.nu(function(S){var A=!1,z=setTimeout(function(){A=!0,S(An.error(y()))},p);t.get(function(R){A||(clearTimeout(z),S(R))})}))};return K(K({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:l,mapError:f,foldResult:d,withTimeout:h})},eT=function(t){return Ji(fo.nu(t))},tT=function(t){return Ji(fo.pure(An.value(t)))},iR=function(t){return Ji(fo.pure(An.error(t)))},uR=function(t){return Ji(fo.pure(t))},sR=function(t){return Ji(t.map(An.value))},cR=function(t){return eT(function(r){t.then(function(o){r(An.value(o))},function(o){r(An.error(o))})})},lR={nu:eT,wrap:Ji,pure:tT,value:tT,error:iR,fromResult:uR,fromFuture:sR,fromPromise:cR},nT={type:"separator"},fR=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:Pe}},hC=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:Pe}},vR=function(t){return Ke(t,fR)},dR=function(t,r){return dt(r,function(o){return o.type===t})},rT=function(t,r){return vR(dR(t,r))},mR=function(t){return rT("header",t.targets)},gR=function(t){return rT("anchor",t.targets)},aT=function(t){return x.from(t.anchorTop).map(function(r){return hC("<top>",r)}).toArray()},hR=function(t){return x.from(t.anchorBottom).map(function(r){return hC("<bottom>",r)}).toArray()},pR=function(t){return Ke(t,function(r){return hC(r,r)})},bR=function(t){return Yt(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(nT,o)},[])},pC=function(t,r){var o=t.toLowerCase();return dt(r,function(s){var l=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return Zn(l.toLowerCase(),o)||Zn(s.value.toLowerCase(),o)})},yR=function(t,r,o){var s=it.getValue(r),l=s.meta.text!==void 0?s.meta.text:s.value,f=o.getLinkInformation();return f.fold(function(){return[]},function(d){var h=pC(l,pR(o.getHistory(t)));return t==="file"?bR([h,pC(l,mR(d)),pC(l,bt([aT(d),gR(d),hR(d)]))]):h})},oT=wt("aria-invalid"),iT=function(t,r,o){var s,l=r.shared.providers,f=function(H){var re=it.getValue(H);o.addToHistory(re.value,t.filetype)},d=Qn.parts.field({factory:oR,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":oT,type:"url"},minChars:0,responseTime:0,fetch:function(H){var re=yR(t.filetype,H,o),me=nm(re,Gs.BUBBLE_TO_SANDBOX,r,!1);return fo.pure(me)},getHotspot:function(H){return R.getOpt(H)},onSetValue:function(H,re){H.hasConfigured(Rc)&&Rc.run(H).get(Pe)},typeaheadBehaviours:qe(bt([o.getValidationHandler().map(function(H){return Rc.config({getRoot:function(re){return La(re.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(re,me){y.getOpt(re).each(function(ye){Tn(ye.element,"title",l.translate(me))})}},validator:{validate:function(re){var me=it.getValue(re);return lR.nu(function(ye){H({type:t.filetype,url:me.value},function(ne){if(ne.status==="invalid"){var ce=An.error(ne.message);ye(ce)}else{var Se=An.value(ne.message);ye(Se)}})})},validateOnLoad:!1}})}).toArray(),[It.config({disabled:function(){return t.disabled||l.isDisabled()}}),ma.config({}),En("urlinput-events",bt([t.filetype==="file"?[Oe(Qv(),function(H){qt(H,Ki,{name:t.name})})]:[],[Oe(ed(),function(H){qt(H,Ki,{name:t.name}),f(H)}),Oe(qb(),function(H){qt(H,Ki,{name:t.name}),f(H)})]]))]])),eventOrder:(s={},s[Qv()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(H){return H.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:e1(!1,1,"normal")},onExecute:function(H,re,me){qt(re,jd,{})},onItemExecute:function(H,re,me,ye){f(H),qt(H,Ki,{name:t.name})}}),h=t.label.map(function(H){return df(H,l)}),p=function(H,re,me,ye){return me===void 0&&(me=H),ye===void 0&&(ye=H),qs(me,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+H],attributes:K({title:l.translate(ye),"aria-live":"polite"},re.fold(function(){return{}},function(ne){return{id:ne}}))},l.icons)},y=ir(p("invalid",x.some(oT),"warning")),S=ir({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[y.asSpec()]}),A=o.getUrlPicker(t.filetype),z=wt("browser.url.event"),R=ir({dom:{tag:"div",classes:["tox-control-wrap"]},components:[d,S.asSpec()],behaviours:qe([It.config({disabled:function(){return t.disabled||l.isDisabled()}})])}),N=ir(sC({name:t.name,icon:x.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(H){return Fn(H,z)},l,[],["tox-browse-url"])),W=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:bt([[R.asSpec()],A.map(function(){return N.asSpec()}).toArray()])}},te=function(H){In.getCurrent(H).each(function(re){var me=it.getValue(re),ye=K({fieldname:t.name},me);A.each(function(ne){ne(ye).get(function(ce){it.setValue(re,ce),qt(H,Ki,{name:t.name})})})})};return Qn.sketch({dom:n8(),components:h.toArray().concat([W()]),fieldBehaviours:qe([It.config({disabled:function(){return t.disabled||l.isDisabled()},onDisabled:function(H){Qn.getField(H).each(It.disable),N.getOpt(H).each(It.disable)},onEnabled:function(H){Qn.getField(H).each(It.enable),N.getOpt(H).each(It.enable)}}),Ia(),En("url-input-events",[Oe(z,te)])])})},Av=function(t,r){return jo.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Wo.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:kA(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){qt(o,zc,{name:"alert-banner",value:t.url})},buttonBehaviours:qe([n2()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},nb=function(t,r){var o=it.config({store:{mode:"manual",getValue:function(p){var y=p.element.dom;return y.checked},setValue:function(p,y){var S=p.element.dom;S.checked=y}}}),s=function(p){return p.element.dom.click(),x.some(!0)},l=Qn.parts.field({factory:{sketch:Mt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:qe([Zs.self(),It.config({disabled:function(){return t.disabled||r.isDisabled()}}),ma.config({}),nn.config({}),o,Gt.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),En("checkbox-events",[Oe(ed(),function(p,y){qt(p,Ki,{name:t.name})})])])}),f=Qn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:qe([Vg.config({})])}),d=function(p){var y=p==="checked"?"selected":"unselected";return qs(y,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+p]},r.icons)},h=ir({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[d("checked"),d("unchecked")]});return Qn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[l,h.asSpec(),f],fieldBehaviours:qe([It.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(p){Qn.getField(p).each(It.disable)},onEnabled:function(p){Qn.getField(p).each(It.enable)}}),Ia()])})},wR=function(t){return t.presets==="presentation"?jo.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):jo.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:qe([ma.config({}),nn.config({})])})},eo=function(t){return function(r,o,s){return Ot(o,"name").fold(function(){return t(o,s)},function(l){return r.field(l,t(o,s))})}},bC=function(t){return function(r,o,s){var l=we(o,{source:"dynamic"});return eo(t)(r,l,s)}},CR={bar:eo(function(t,r){return Xz(t,r.shared)}),collection:eo(function(t,r){return dw(t,r.shared.providers)}),alertbanner:eo(function(t,r){return Av(t,r.shared.providers)}),input:eo(function(t,r){return GM(t,r.shared.providers)}),textarea:eo(function(t,r){return KM(t,r.shared.providers)}),label:eo(function(t,r){return VM(t,r.shared)}),iframe:bC(function(t,r){return _7(t,r.shared.providers)}),button:eo(function(t,r){return cC(t,r.shared.providers)}),checkbox:eo(function(t,r){return nb(t,r.shared.providers)}),colorinput:eo(function(t,r){return Cw(t,r.shared,r.colorinput)}),colorpicker:eo(C7),dropzone:eo(function(t,r){return T7(t,r.shared.providers)}),grid:eo(function(t,r){return hE(t,r.shared)}),listbox:eo(function(t,r){return qE(t,r)}),selectbox:eo(function(t,r){return jM(t,r.shared.providers)}),sizeinput:eo(function(t,r){return fC(t,r.shared.providers)}),urlinput:eo(function(t,r){return iT(t,r,r.urlinput)}),customeditor:eo(j1),htmlpanel:eo(wR),imagetools:eo(function(t,r){return HM(t,r.shared.providers)}),table:eo(function(t,r){return qM(t,r.shared.providers)}),panel:eo(function(t,r){return UM(t,r)})},xR={field:function(t,r){return r}},yC=function(t,r,o){var s=we(o,{shared:{interpreter:function(l){return rb(t,l,s)}}});return rb(t,r,s)},rb=function(t,r,o){return Ot(CR,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},SR=function(t,r){var o=xR;return rb(o,t,r)},uT={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},kR=function(t,r,o){var s=12,l={maxHeightFunction:Wm()},f=function(){return{type:"node",root:ct(t()),node:x.from(t()),bubble:Hf(s,s,uT),layouts:{onRtl:function(){return[nv]},onLtr:function(){return[yg]}},overrides:l}},d=function(){return{type:"hotspot",hotspot:r(),bubble:Hf(-s,s,uT),layouts:{onRtl:function(){return[Vo]},onLtr:function(){return[Ao]}},overrides:l}};return function(){return o()?f():d()}},AR=function(t,r,o){var s=function(){return{type:"node",root:ct(t()),node:x.from(t()),layouts:{onRtl:function(){return[ds]},onLtr:function(){return[ds]}}}},l=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[Eo]},onLtr:function(){return[Eo]}}}};return function(){return o()?s():l()}},ER=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return x.some(qm.range(Ye.fromDom(o.startContainer),o.startOffset,Ye.fromDom(o.endContainer),o.endOffset))}}}},sT=function(t){return function(r){return{type:"node",root:t(),node:r}}},TR=function(t,r,o){var s=u1(t),l=function(){return Ye.fromDom(t.getBody())},f=function(){return Ye.fromDom(t.getContentAreaContainer())},d=function(){return s||!o()};return{inlineDialog:kR(f,r,d),banner:AR(f,r,d),cursor:ER(t,l),node:sT(l)}},cT=function(t){return function(r,o){var s=Q3(t);s(r,o)}},OR=function(t){return function(){return d1(t)}},DR=function(t){return function(){return nw(t)}},wC=function(t){return function(){return K3(t)}},CC=function(t){return{colorPicker:cT(t),hasCustomColors:OR(t),getColors:DR(t),getColorCols:wC(t)}},oh=function(t){return function(){return B6(t)}},_R=function(t){return{isDraggableModal:oh(t)}},BR=function(t){var r=jt(p3(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},lT=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],zR=function(t){return mn(t,"items")},MR=function(t){return mn(t,"block")},fT=function(t){return mn(t,"inline")},vT=function(t){return mn(t,"selector")},xC=function(t){return Yt(t,function(r,o){if(zR(o)){var s=xC(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(fT(o)||MR(o)||vT(o)){var l=Nt(o.name)?o.name:o.title.toLowerCase(),f="custom-"+l;return{customFormats:r.customFormats.concat([{name:f,format:o}]),formats:r.formats.concat([{title:o.title,format:f,icon:o.icon}])}}else return K(K({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},RR=function(t,r){var o=xC(r),s=function(l){be(l,function(f){t.formatter.has(f.name)||t.formatter.register(f.name,f.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},dT=function(t){return m3(t).map(function(r){var o=RR(t,r);return g3(t)?lT.concat(o):o}).getOr(lT)},mT=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return we(t,s)},gT=function(t,r,o,s){var l=function(p){return mT(p,o,s)},f=function(p){var y={type:"submenu"};return we(p,y)},d=function(p){var y=Nt(p.name)?p.name:wt(p.title),S="custom-"+y,A={type:"formatter",format:S,isSelected:o(S),getStylePreview:s(S)},z=we(p,A);return t.formatter.register(y,z),z},h=function(p){return Ke(p,function(y){var S=st(y);if(Bn(y,"items")){var A=h(y.items);return we(f(y),{getStyleItems:X(A)})}else return Bn(y,"format")?l(y):S.length===1&&_n(S,"title")?we(y,{type:"separator"}):d(y)})};return h(r)},PR=function(t){var r=function(A){return function(){return t.formatter.match(A)}},o=function(A){return function(){var z=t.formatter.get(A);return z!==void 0?x.some({tag:z.length>0&&(z[0].inline||z[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(A))}):x.none()}},s=function(A){var z=A.items;return z!==void 0&&z.length>0?er(z,s):[A.format]},l=jt([]),f=jt([]),d=jt([]),h=jt([]),p=jt(!1);t.on("PreInit",function(A){var z=dT(t),R=gT(t,z,r,o);l.set(R),f.set(er(R,s))}),t.on("addStyleModifications",function(A){var z=gT(t,A.items,r,o);d.set(z),p.set(A.replace),h.set(er(z,s))});var y=function(){var A=p.get()?[]:l.get(),z=d.get();return A.concat(z)},S=function(){var A=p.get()?[]:f.get(),z=h.get();return A.concat(z)};return{getData:y,getFlattenedKeys:S}},hT=function(t){return Jt(t)&&t.nodeType===1},FR=Ic.trim,pT=function(t){return function(r){return!!(hT(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},IR=pT("true"),NR=pT("false"),SC=function(t,r,o,s,l){return{type:t,title:r,url:o,level:s,attach:l}},Ev=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return IR(t)}return!1},bT=function(t,r){return Ke(lo(Ye.fromDom(r),t),function(o){return o.dom})},yT=function(t){return t.innerText||t.textContent},LR=function(t){return t.id?t.id:wt("h")},$R=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},wT=function(t){return $R(t)&&xT(t)},CT=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},xT=function(t){return Ev(t)&&!NR(t)},HR=function(t){return CT(t)&&xT(t)},VR=function(t){return CT(t)?parseInt(t.nodeName.substr(1),10):0},UR=function(t){var r=LR(t),o=function(){t.id=r};return SC("header",yT(t),"#"+r,VR(t),o)},WR=function(t){var r=t.id||t.name,o=yT(t);return SC("anchor",o||"#"+r,"#"+r,0,Pe)},jR=function(t){return Ke(dt(t,HR),UR)},qR=function(t){return Ke(dt(t,wT),WR)},GR=function(t){var r=bT("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},KR=function(t){return FR(t.title).length>0},ST=function(t){var r=GR(t);return dt(jR(r).concat(qR(r)),KR)},XR={find:ST},ab="tinymce-url-history",kT=5,AT=function(t){return Nt(t)&&/^https?/.test(t)},YR=function(t){return pn(t)&&t.length<=kT&&yr(t,AT)},ob=function(t){return Dn(t)&&go(t,function(r){return!YR(r)}).isNone()},kC=function(){var t=v1.getItem(ab);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+ab+" was not valid JSON",o),{};throw o}return ob(r)?r:(console.log("Local storage "+ab+" was not valid format",r),{})},ZR=function(t){if(!ob(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));v1.setItem(ab,JSON.stringify(t))},JR=function(t){var r=kC();return Ot(r,t).getOr([])},QR=function(t,r){if(!!AT(t)){var o=kC(),s=Ot(o,r).getOr([]),l=dt(s,function(f){return f!==t});o[r]=[t].concat(l).slice(0,kT),ZR(o)}},AC=function(t){return!!t},eP=function(t){return kt(Ic.makeMap(t,/[, ]/),AC)},EC=function(t){return x.from(y3(t)).filter(Wn)},tP=function(t){var r=x.some(w3(t)).filter(AC),o=x.some(R6(t)).filter(AC),s=r.or(o).map(eP);return EC(t).fold(ut,function(l){return s.fold(Ve,function(f){return st(f).length>0?f:!1})})},nP=function(t,r){var o=tP(t);return Yn(o)?o?EC(t):x.none():o[r]?EC(t):x.none()},rP=function(t,r){return nP(t,r).map(function(o){return function(s){return fo.nu(function(l){var f=function(h,p){if(!Nt(h))throw new Error("Expected value to be string");if(p!==void 0&&!Dn(p))throw new Error("Expected meta to be a object");var y={value:h,meta:p};l(y)},d=K({filetype:r,fieldname:s.fieldname},x.from(s.meta).getOr({}));o.call(t,f,s.value,d)})}})},ih=function(t){return x.from(t).filter(Nt).getOrUndefined()},aP=function(t){return C3(t)?x.none():x.some({targets:XR.find(t.getBody()),anchorTop:ih(P6(t)),anchorBottom:ih(F6(t))})},oP=function(t){return x.from(I6(t))},ET=function(t){return{getHistory:JR,addToHistory:QR,getLinkInformation:function(){return aP(t)},getValidationHandler:function(){return oP(t)},getUrlPicker:function(r){return rP(t,r)}}},Tv=function(t,r,o){var s=jt(!1),l=BR(r),f={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:bu.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(d){return SR(d,f)},anchors:TR(r,o,l.isPositionedAtTop),header:l,getSink:function(){return An.value(t)}},urlinput:ET(r),styleselect:PR(r),colorinput:CC(r),dialog:_R(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(d){return s.set(d)}};return f},iP=function(t,r,o){var s=function(ye,ne){be([r,o],function(ce){ce.broadcastEvent(ye,ne)})},l=function(ye,ne){be([r,o],function(ce){ce.broadcastOn([ye],ne)})},f=function(ye){return l(qf(),{target:ye.target})},d=tp(),h=Oa(d,"touchstart",f),p=Oa(d,"touchmove",function(ye){return s(Xb(),ye)}),y=Oa(d,"touchend",function(ye){return s(V5(),ye)}),S=Oa(d,"mousedown",f),A=Oa(d,"mouseup",function(ye){ye.raw.button===0&&l(qi(),{target:ye.target})}),z=function(ye){return l(qf(),{target:Ye.fromDom(ye.target)})},R=function(ye){ye.button===0&&l(qi(),{target:Ye.fromDom(ye.target)})},N=function(){be(t.editorManager.get(),function(ye){t!==ye&&ye.fire("DismissPopups",{relatedTarget:t})})},W=function(ye){return s(Yb(),Zx(ye))},te=function(ye){l(bd(),{}),s(Fs(),Zx(ye))},H=function(){return l(bd(),{})},re=function(ye){ye.state&&l(qf(),{target:Ye.fromDom(t.getContainer())})},me=function(ye){l(qf(),{target:Ye.fromDom(ye.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",z),t.on("tap",z),t.on("mouseup",R),t.on("mousedown",N),t.on("ScrollWindow",W),t.on("ResizeWindow",te),t.on("ResizeEditor",H),t.on("AfterProgressState",re),t.on("DismissPopups",me)}),t.on("remove",function(){t.off("click",z),t.off("tap",z),t.off("mouseup",R),t.off("mousedown",N),t.off("ScrollWindow",W),t.off("ResizeWindow",te),t.off("ResizeEditor",H),t.off("AfterProgressState",re),t.off("DismissPopups",me),S.unbind(),h.unbind(),p.unbind(),y.unbind(),A.unbind()}),t.on("detach",function(){Y0(r),Y0(o),r.destroy(),o.destroy()})},ti=YS,Nc=Ad,uP=X([ae("shell",!1),Te("makeItem"),ae("setupItem",Pe),Vu.field("listBehaviours",[dn])]),sP=function(){return{behaviours:qe([dn.config({})])}},cP=Ws({name:"items",overrides:sP}),lP=X([cP]),fP=X("CustomList"),Ov=function(t,r,o,s){var l=function(h,p){d(h).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(y){var S=dn.contents(y),A=p.length,z=A-S.length,R=z>0?U(z,function(){return t.makeItem()}):[],N=S.slice(A);be(N,function(te){return dn.remove(y,te)}),be(R,function(te){return dn.append(y,te)});var W=dn.contents(y);be(W,function(te,H){t.setupItem(h,te,p[H],H)})})},f=t.shell?{behaviours:[dn.config({})],components:[]}:{behaviours:[],components:r},d=function(h){return t.shell?x.some(h):kr(h,t,"items")};return{uid:t.uid,dom:t.dom,components:f.components,behaviours:Qa(t.listBehaviours,f.behaviours),apis:{setItems:l}}},TC=pi({name:fP(),configFields:uP(),partFields:lP(),factory:Ov,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),om=X([Te("dom"),ae("shell",!0),Ja("toolbarBehaviours",[dn])]),vP=function(){return{behaviours:qe([dn.config({})])}},dP=X([Ws({name:"groups",overrides:vP})]),mP=function(t,r,o,s){var l=function(h,p){f(h).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(y){dn.set(y,p)})},f=function(h){return t.shell?x.some(h):kr(h,t,"groups")},d=t.shell?{behaviours:[dn.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:d.components,behaviours:Qa(t.toolbarBehaviours,d.behaviours),apis:{setGroups:l},domModification:{attributes:{role:"group"}}}},Js=pi({name:"Toolbar",configFields:om(),partFields:dP(),factory:mP,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),gP=Pe,OC=ut,im=X([]),ib=Object.freeze({__proto__:null,setup:gP,isDocked:OC,getBehaviours:im}),uh=function(t){var r=Rr(io(t,"position"),"fixed"),o=r?x.none():_u(t);return o.orThunk(function(){var s=Ye.fromTag("span");return La(t).bind(function(l){No(l,s);var f=_u(s);return uu(s),f})})},yf=function(t){return uh(t).map(si).getOrThunk(function(){return Br(0,0)})},um=Fu.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),hP=function(t,r){var o=t.element;so(o,r.transitionClass),Pa(o,r.fadeOutClass),so(o,r.fadeInClass),r.onShow(t)},TT=function(t,r){var o=t.element;so(o,r.transitionClass),Pa(o,r.fadeInClass),so(o,r.fadeOutClass),r.onHide(t)},OT=function(t,r){return t.y<r.bottom&&t.bottom>r.y},DT=function(t,r){return t.y>=r.y},pP=function(t,r){return t.bottom<=r.bottom},DC=function(t,r,o){return yr(t,function(s){switch(s){case"bottom":return pP(r,o);case"top":return DT(r,o)}})},_T=function(t,r){return r.getInitialPos().map(function(o){return Xa(o.bounds.x,o.bounds.y,Xo(t),$a(t))})},bP=function(t,r,o){o.setInitialPos({style:Gc(t),position:ba(t,"position")||"static",bounds:r})},BT=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return x.some(um.static());case"absolute":var l=uh(t).map(Ya).getOrThunk(function(){return Ya(pr())});return x.some(um.absolute(gi("absolute",Ot(s.style,"left").map(function(f){return r.x-l.x}),Ot(s.style,"top").map(function(f){return r.y-l.y}),Ot(s.style,"right").map(function(f){return l.right-r.right}),Ot(s.style,"bottom").map(function(f){return l.bottom-r.bottom}))));default:return x.none()}})},_C=function(t,r,o){return _T(t,o).filter(function(s){return DC(o.getModes(),s,r)}).bind(function(s){return BT(t,s,o)})},BC=function(t,r,o){var s=Ya(t);if(DC(o.getModes(),s,r))return x.none();bP(t,s,o);var l=lu(),f=s.x-l.x,d=r.y-l.y,h=l.bottom-r.bottom,p=s.y<=r.y;return x.some(um.fixed(gi("fixed",x.some(f),p?x.some(d):x.none(),x.none(),p?x.none():x.some(h))))},yP=function(t,r,o){var s=t.element,l=Rr(io(s,"position"),"fixed");return l?_C(s,r,o):BC(s,r,o)},zT=function(t,r){var o=t.element;return _T(o,r).bind(function(s){return BT(o,s,r)})},MT=function(t,r,o){o.setDocked(!1),be(["left","right","top","bottom","position"],function(s){return xr(t.element,s)}),r.onUndocked(t)},ub=function(t,r,o,s){var l=s.position==="fixed";o.setDocked(l),he(t.element,s);var f=l?r.onDocked:r.onUndocked;f(t)},RT=function(t,r,o,s,l){l===void 0&&(l=!1),r.contextual.each(function(f){f.lazyContext(t).each(function(d){var h=OT(d,s);if(h!==o.isVisible())if(o.setVisible(h),l&&!h)cl(t.element,[f.fadeOutClass]),f.onHide(t);else{var p=h?hP:TT;p(t,f)}})})},wP=function(t,r,o){var s=r.lazyViewport(t),l=o.isDocked();l&&RT(t,r,o,s),yP(t,s,o).each(function(f){f.fold(function(){return MT(t,r,o)},function(d){return ub(t,r,o,d)},function(d){RT(t,r,o,s,!0),ub(t,r,o,d)})})},Dv=function(t,r,o){var s=t.element;o.setDocked(!1),zT(t,o).each(function(l){l.fold(function(){return MT(t,r,o)},function(f){return ub(t,r,o,f)},Pe)}),o.setVisible(!0),r.contextual.each(function(l){Cc(s,[l.fadeInClass,l.fadeOutClass,l.transitionClass]),l.onShow(t)}),sb(t,r,o)},sb=function(t,r,o){t.getSystem().isConnected()&&wP(t,r,o)},PT=function(t,r,o){o.isDocked()&&Dv(t,r,o)},FT=function(t,r,o){return o.isDocked()},CP=function(t,r,o,s){return o.setModes(s)},cb=function(t,r,o){return o.getModes()},bs=Object.freeze({__proto__:null,refresh:sb,reset:PT,isDocked:FT,getModes:cb,setModes:CP}),xP=function(t,r){return Mr([ul(Om(),function(o,s){t.contextual.each(function(l){if(vi(o.element,l.transitionClass)){Cc(o.element,[l.transitionClass,l.fadeInClass]);var f=r.isVisible()?l.onShown:l.onHidden;f(o)}s.stop()})}),Oe(Yb(),function(o,s){sb(o,t,r)}),Oe(Fs(),function(o,s){PT(o,t,r)})])},Lc=Object.freeze({__proto__:null,events:xP}),SP=[vu("contextual",[un("fadeInClass"),un("fadeOutClass"),un("transitionClass"),Jo("lazyContext"),zn("onShow"),zn("onShown"),zn("onHide"),zn("onHidden")]),zr("lazyViewport",lu),Am("modes",["top","bottom"],Aa),zn("onDocked"),zn("onUndocked")],kP=function(t){var r=jt(!1),o=jt(!0),s=da(),l=jt(t.modes),f=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+l.get().join(",")};return li({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:l.get,setModes:l.set,readState:f})},IT=Object.freeze({__proto__:null,init:kP}),vo=Ta({fields:SP,name:"docking",active:Lc,apis:bs,state:IT}),$c=X(wt("toolbar-height-change")),Da={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},NT="tox-tinymce--toolbar-sticky-on",zC="tox-tinymce--toolbar-sticky-off",LT=function(t,r){var o=ao(r),s=o.dom.defaultView.innerHeight,l=su(o),f=Ye.fromDom(t.elm),d=fc(f),h=$a(f),p=d.y,y=p+h,S=si(r),A=$a(r),z=S.top,R=z+A,N=Math.abs(z-l.top)<2,W=Math.abs(R-(l.top+s))<2;if(N&&p<R)Hv(l.left,p-A,o);else if(W&&y>z){var te=p-s+h+A;Hv(l.left,te,o)}},lb=function(t,r){return _n(vo.getModes(t),r)},MC=function(t){var r=function(s){return iu(s)+(parseInt(ba(s,"margin-top"),10)||0)+(parseInt(ba(s,"margin-bottom"),10)||0)},o=t.element;La(o).each(function(s){var l="padding-"+vo.getModes(t)[0];if(vo.isDocked(t)){var f=Xo(s);ln(o,"width",f+"px"),ln(s,l,r(o)+"px")}else xr(o,"width"),xr(s,l)})},$T=function(t,r){r?(Pa(t,Da.fadeOutClass),cl(t,[Da.transitionClass,Da.fadeInClass])):(Pa(t,Da.fadeInClass),cl(t,[Da.fadeOutClass,Da.transitionClass]))},kl=function(t,r){var o=Ye.fromDom(t.getContainer());r?(so(o,NT),Pa(o,zC)):(so(o,zC),Pa(o,NT))},HT=function(t,r){var o=ao(r);vl(o).filter(function(s){return!jr(r,s)}).filter(function(s){return jr(s,Ye.fromDom(o.dom.body))||Ti(t,s)}).each(function(){return Sc(r)})},sm=function(t,r){return ss(t).orThunk(function(){return r().toOptional().bind(function(o){return ss(o.element)})})},fb=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(vo.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(MC)}),t.on("SkinLoaded",function(){o().each(function(s){vo.isDocked(s)?vo.reset(s):vo.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(vo.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(l){vo.refresh(l);var f=l.element;bk(f)&&LT(s,f)})}),t.on("PostRender",function(){kl(t,!1)})},VT=function(t){return t().map(vo.isDocked).getOr(!1)},AP=function(){var t;return[Hu.config({channels:(t={},t[$c()]={onReceive:MC},t)})]},UT=function(t,r){var o=da(),s=r.getSink,l=function(h){s().each(function(p){return h(p.element)})},f=function(h){t.inline||MC(h),kl(t,vo.isDocked(h)),h.getSystem().broadcastOn([bd()],{}),s().each(function(p){return p.getSystem().broadcastOn([bd()],{})})},d=t.inline?[]:AP();return Rt([nn.config({}),vo.config({contextual:K({lazyContext:function(h){var p=iu(h.element),y=t.inline?t.getContentAreaContainer():t.getContainer(),S=Ya(Ye.fromDom(y)),A=S.height-p,z=S.y+(lb(h,"top")?0:p);return x.some(Xa(S.x,z,S.width,A))},onShow:function(){l(function(h){return $T(h,!0)})},onShown:function(h){l(function(p){return Cc(p,[Da.transitionClass,Da.fadeInClass])}),o.get().each(function(p){HT(h.element,p),o.clear()})},onHide:function(h){sm(h.element,s).fold(o.clear,o.set),l(function(p){return $T(p,!1)})},onHidden:function(){l(function(h){return Cc(h,[Da.transitionClass])})}},Da),lazyViewport:function(h){var p=lu(),y=_6(t),S=p.y+(lb(h,"top")?y:0),A=p.height-(lb(h,"bottom")?y:0);return Xa(p.x,S,p.width,A)},modes:[r.header.getDockingMode()],onDocked:f,onUndocked:f})],d,!0)},EP=Object.freeze({__proto__:null,setup:fb,isDocked:VT,getBehaviours:UT}),TP=function(t){var r=t.editor,o=t.sticky?UT:im;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:qe(o(r,t.sharedBackstage))}},cm=Ft([un("type"),Vi("items",Mb([Rb([un("name"),ci("items",Aa)]),Aa]))].concat(av)),OP=function(t){return ia("GroupToolbarButton",cm,t)},DP=[Fr("text"),Fr("tooltip"),Fr("icon"),Jo("fetch"),zr("onSetup",function(){return Pe})],_P=Ft(Rt([un("type")],DP,!0)),WT=function(t){return ia("menubutton",_P,t)},BP=Ft([un("type"),Fr("tooltip"),Fr("icon"),Fr("text"),Of("select"),Jo("fetch"),zr("onSetup",function(){return Pe}),Ru("presets","normal",["normal","color","listpreview"]),ae("columns",1),Jo("onAction"),Jo("onItemAction")]),vb=function(t){return ia("SplitButton",BP,t)},zP=function(t,r){var o=function(l,f){var d=Ke(f,function(h){var p={type:"menubutton",text:h.text,fetch:function(S){S(h.getItems())}},y=WT(p).mapError(function(S){return Tf(S)}).getOrDie();return iC(y,"tox-mbtn",r.backstage,x.some("menuitem"))});dn.set(l,d)},s={focus:Gt.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:qe([dn.config({}),En("menubar-events",[ca(function(l){t.onSetup(l)}),Oe(Il(),function(l,f){Fa(l.element,".tox-mbtn--active").each(function(d){_i(f.event.target,".tox-mbtn").each(function(h){jr(d,h)||l.getSystem().getByDom(d).each(function(p){l.getSystem().getByDom(h).each(function(y){ju.expand(y),ju.close(p),nn.focus(y)})})})})}),Oe(_h(),function(l,f){f.event.prevFocus.bind(function(d){return l.getSystem().getByDom(d).toOptional()}).each(function(d){f.event.newFocus.bind(function(h){return l.getSystem().getByDom(h).toOptional()}).each(function(h){ju.isOpen(d)&&(ju.expand(h),ju.close(d))})})})]),Gt.config({mode:"flow",selector:".tox-mbtn",onEscape:function(l){return t.onEscape(l),x.some(!0)}}),ma.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},db=Gi({factory:zP,name:"silver.Menubar",configFields:[Te("dom"),Te("uid"),Te("onEscape"),Te("backstage"),ae("onSetup",Pe)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),_v=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},Al=function(t){return t.dimension.property},El=function(t,r){return t.dimension.getDimension(r)},lm=function(t,r){var o=_v(t,r);Cc(o,[r.shrinkingClass,r.growingClass])},Tl=function(t,r){Pa(t.element,r.openClass),so(t.element,r.closedClass),ln(t.element,Al(r),"0px"),Kc(t.element)},jT=function(t,r){Pa(t.element,r.closedClass),so(t.element,r.openClass),xr(t.element,Al(r))},qT=function(t,r,o,s){o.setCollapsed(),ln(t.element,Al(r),El(r,t.element)),Kc(t.element),lm(t,r),Tl(t,r),r.onStartShrink(t),r.onShrunk(t)},RC=function(t,r,o,s){var l=s.getOrThunk(function(){return El(r,t.element)});o.setCollapsed(),ln(t.element,Al(r),l),Kc(t.element);var f=_v(t,r);Pa(f,r.growingClass),so(f,r.shrinkingClass),Tl(t,r),r.onStartShrink(t)},GT=function(t,r,o){var s=El(r,t.element),l=s==="0px"?qT:RC;l(t,r,o,x.some(s))},sh=function(t,r,o){var s=_v(t,r),l=vi(s,r.shrinkingClass),f=El(r,t.element);jT(t,r);var d=El(r,t.element),h=function(){ln(t.element,Al(r),f),Kc(t.element)},p=function(){Tl(t,r)},y=l?h:p;y(),Pa(s,r.shrinkingClass),so(s,r.growingClass),jT(t,r),ln(t.element,Al(r),d),o.setExpanded(),r.onStartGrow(t)},KT=function(t,r,o){if(o.isExpanded()){xr(t.element,Al(r));var s=El(r,t.element);ln(t.element,Al(r),s)}},MP=function(t,r,o){o.isExpanded()||sh(t,r,o)},RP=function(t,r,o){o.isExpanded()&&GT(t,r,o)},ch=function(t,r,o){o.isExpanded()&&qT(t,r,o)},PC=function(t,r,o){return o.isExpanded()},PP=function(t,r,o){return o.isCollapsed()},XT=function(t,r,o){var s=_v(t,r);return vi(s,r.growingClass)===!0},FC=function(t,r,o){var s=_v(t,r);return vi(s,r.shrinkingClass)===!0},FP=function(t,r,o){return XT(t,r)||FC(t,r)},IP=function(t,r,o){var s=o.isExpanded()?GT:sh;s(t,r,o)},e=Object.freeze({__proto__:null,refresh:KT,grow:MP,shrink:RP,immediateShrink:ch,hasGrown:PC,hasShrunk:PP,isGrowing:XT,isShrinking:FC,isTransitioning:FP,toggleGrow:IP,disableTransitions:lm}),n=function(t,r,o){var s=r.expanded;return us(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:dc(r.dimension.property,"0px")})},a=function(t,r){return Mr([ul(Om(),function(o,s){var l=s.event.raw;if(l.propertyName===t.dimension.property){lm(o,t),r.isExpanded()&&xr(o.element,t.dimension.property);var f=r.isExpanded()?t.onGrown:t.onShrunk;f(o)}})])},i=Object.freeze({__proto__:null,exhibit:n,events:a}),u=[Te("closedClass"),Te("openClass"),Te("shrinkingClass"),Te("growingClass"),vr("getAnimationRoot"),zn("onShrunk"),zn("onStartShrink"),zn("onGrown"),zn("onStartGrow"),ae("expanded",!1),Vi("dimension",zu("property",{width:[Dr("property","width"),Dr("getDimension",function(t){return Xo(t)+"px"})],height:[Dr("property","height"),Dr("getDimension",function(t){return $a(t)+"px"})]}))],c=function(t){var r=jt(t.expanded),o=function(){return"expanded: "+r.get()};return li({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:rn(r.set,!1),setExpanded:rn(r.set,!0),readState:o})},v=Object.freeze({__proto__:null,init:c}),m=Ta({fields:u,name:"sliding",active:i,apis:e,state:v}),g="container",C=[Ja("slotBehaviours",[])],T=function(t){return"<alloy.field."+t+">"},D=function(t){var r=function(){var f=[],d=function(h,p){return f.push(h),ly(g,T(h),p)};return{slot:d,record:X(f)}}(),o=t(r),s=r.record(),l=Ke(s,function(f){return Do({name:f,pname:T(f)})});return hy(g,C,l,B,o)},B=function(t,r){var o=function(W){return my(t)},s=function(W,te){return kr(W,t,te)},l=function(W,te){return function(H,re){return kr(H,t,re).map(function(me){return W(me,re)}).getOr(te)}},f=function(W){return function(te,H){be(H,function(re){return W(te,re)})}},d=function(W,te){return Yr(W.element,"aria-hidden")!=="true"},h=function(W,te){if(!d(W)){var H=W.element;xr(H,"display"),oo(H,"aria-hidden"),qt(W,Bh(),{name:te,visible:!0})}},p=function(W,te){if(d(W)){var H=W.element;ln(H,"display","none"),Tn(H,"aria-hidden","true"),qt(W,Bh(),{name:te,visible:!1})}},y=l(d,!1),S=l(p),A=f(S),z=function(W){return A(W,o())},R=l(h),N={getSlotNames:o,getSlot:s,isShowing:y,hideSlot:S,hideAllSlots:z,showSlot:R};return{uid:t.uid,dom:t.dom,components:r,behaviours:eg(t.slotBehaviours),apis:N}},I=kt({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Nm(t)}),F=K(K({},I),{sketch:D}),L=Ft([Fr("icon"),Fr("tooltip"),zr("onShow",Pe),zr("onHide",Pe),zr("onSetup",function(){return Pe})]),$=function(t){return ia("sidebar",L,t)},G=function(t){var r=t.ui.registry.getAll().sidebars;be(st(r),function(o){var s=r[o],l=function(){return Rr(x.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(f){t.execCommand("ToggleSidebar",!1,o),f.setActive(l())},onSetup:function(f){var d=function(){return f.setActive(l())};return t.on("ToggleSidebar",d),function(){t.off("ToggleSidebar",d)}}})})},q=function(t){return{element:function(){return t.element.dom}}},Q=function(t,r){var o=Ke(st(r),function(s){var l=r[s],f=Ms($(l));return{name:s,getApi:q,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return Ke(o,function(s){var l=jt(Pe);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:o1.unnamedEvents([Og(s,l),Dg(s,l),Oe(Bh(),function(f,d){var h=d.event,p=at(o,function(y){return y.name===h.name});p.each(function(y){var S=h.visible?y.onShow:y.onHide;S(y.getApi(f))})})])})})},ie=function(t){return F.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Q(r,t),slotBehaviours:o1.unnamedEvents([ca(function(o){return F.hideAllSlots(o)})])}})},Y=function(t,r){var o=In.getCurrent(t);o.each(function(s){return dn.set(s,[ie(r)])})},se=function(t,r){var o=In.getCurrent(t);o.each(function(s){var l=In.getCurrent(s);l.each(function(f){m.hasGrown(s)?F.isShowing(f,r)?m.shrink(s):(F.hideAllSlots(f),F.showSlot(f,r)):(F.hideAllSlots(f),F.showSlot(f,r),m.grow(s))})})},pe=function(t){var r=In.getCurrent(t);return r.bind(function(o){var s=m.isGrowing(o)||m.hasGrown(o);if(s){var l=In.getCurrent(o);return l.bind(function(f){return at(F.getSlotNames(f),function(d){return F.isShowing(f,d)})})}else return x.none()})},Re=wt("FixSizeEvent"),Pt=wt("AutoSizeEvent"),vt=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:qe([ma.config({}),nn.config({}),m.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=In.getCurrent(r);o.each(F.hideAllSlots),Fn(r,Pt)},onGrown:function(r){Fn(r,Pt)},onStartGrow:function(r){qt(r,Re,{width:io(r.element,"width").getOr("")})},onStartShrink:function(r){qt(r,Re,{width:Xo(r.element)+"px"})}}),dn.config({}),In.config({find:function(r){var o=dn.contents(r);return Xe(o)}})])}],behaviours:qe([Zs.childAt(0),En("sidebar-sliding-events",[Oe(Re,function(r,o){ln(r.element,"width",o.event.width)}),Oe(Pt,function(r,o){xr(r.element,"width")})])])}},De=function(t,r,o,s){Tn(t.element,"aria-busy",!0);var l=r.getRoot(t).getOr(t),f=qe([Gt.config({mode:"special",onTab:function(){return x.some(!0)},onShiftTab:function(){return x.some(!0)}}),nn.config({})]),d=s(l,f),h=l.getSystem().build(d);dn.append(l,hu(h)),h.hasConfigured(Gt)&&r.focus&&Gt.focusIn(h),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return dn.remove(l,h)})},Qt=function(t,r,o){oo(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},Le=Object.freeze({__proto__:null,block:De,unblock:Qt}),ft=[zr("getRoot",x.none),ua("focus",!0),zn("onBlock"),zn("onUnblock")],Ie=function(){var t=ap(),r=function(o){t.set({destroy:o})};return li({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},Qe=Object.freeze({__proto__:null,init:Ie}),ht=Ta({fields:ft,name:"blocking",apis:Le,state:Qe}),Be=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return Yt(r,function(o,s){var l;return s.name==="class"?o:K(K({},o),(l={},l[s.name]=s.value,l))},{})},pt=function(t){return Array.prototype.slice.call(t.dom.classList,0)},gn=function(t){var r=Ye.fromHtml(t),o=E(r),s=Be(r),l=pt(r),f=o.length===0?{}:{innerHtml:hc(r)};return K({tag:Po(r),classes:l,attributes:s},f)},mr=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:gn('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Un=function(t){return In.getCurrent(t).each(function(r){return Sc(r.element)})},wa=function(t,r){var o="tabindex",s="data-mce-"+o;x.from(t.iframeElement).map(Ye.fromDom).each(function(l){r?(Sa(l,o).each(function(f){return Tn(l,s,f)}),Tn(l,o,-1)):(oo(l,o),Sa(l,s).each(function(f){Tn(l,o,f),oo(l,s)}))})},fa=function(t,r,o,s){var l=r.element;if(wa(t,o),o)ht.block(r,mr(s)),xr(l,"display"),oo(l,"aria-hidden"),t.hasFocus()&&Un(r);else{var f=In.getCurrent(r).exists(function(d){return Nx(d.element)});ht.unblock(r),ln(l,"display","none"),Tn(l,"aria-hidden","true"),f&&t.focus()}},Pi=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:qe([dn.config({}),ht.config({focus:!1}),In.config({find:function(r){return Xe(r.components())}})]),components:[]}},Qi=function(t){return t.type==="focusin"},ze=function(t){if(Qi(t)){var r=t.composed?Xe(t.composedPath()):x.from(t.target);return r.map(Ye.fromDom).filter(na).exists(function(o){return vi(o,"mce-pastebin")})}else return!1},le=function(t,r,o){var s=jt(!1),l=da(),f=function(h){s.get()&&!ze(h)&&(h.preventDefault(),Un(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",f),t.on("BeforeExecCommand",function(h){h.command.toLowerCase()==="mcefocus"&&h.value!==!0&&f(h)})});var d=function(h){h!==s.get()&&(s.set(h),fa(t,r(),h,o.providers),t.fire("AfterProgressState",{state:h}))};t.on("ProgressState",function(h){if(l.on(cf.clearTimeout),Vr(h.time)){var p=cf.setEditorTimeout(t,function(){return d(h.state)},h.time);l.set(p)}else d(h.state),l.clear()})},Me=function(t,r){var o={len:0,list:[]},s=Yt(t,function(l,f){var d=r(f,l.len);return d.fold(X(l),function(h){return{len:h.finish,list:l.list.concat([h])}})},o);return s.list},ve=function(t,r,o){return{within:t,extra:r,withinWidth:o}},St=function(t,r,o){var s=Me(t,function(h,p){var y=o(h);return x.some({element:h,start:p,finish:p+y,width:y})}),l=dt(s,function(h){return h.finish<=r}),f=yn(l,function(h,p){return h+p.width},0),d=s.slice(l.length);return{within:l,extra:d,withinWidth:f}},Ze=function(t){return Ke(t,function(r){return r.element})},Kt=function(t,r,o){var s=Ze(t.concat(r));return ve(s,[],o)},Mn=function(t,r,o,s){var l=Ze(t).concat([o]);return ve(l,Ze(r),s)},$r=function(t,r,o){return ve(Ze(t),[],o)},ni=function(t,r,o){var s=St(r,t,o);return s.extra.length===0?x.some(s):x.none()},Ci=function(t,r,o,s){var l=ni(t,r,o).getOrThunk(function(){return St(r,t-o(s),o)}),f=l.within,d=l.extra,h=l.withinWidth;return d.length===1&&d[0].width<=o(s)?Kt(f,d,h):d.length>=1?Mn(f,d,s,h):$r(f,d,h)},Gu=function(t,r){var o=Ke(r,function(s){return hu(s)});Js.setGroups(t,o)},ri=function(t){return gt(t,function(r){return ss(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},ai=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var l=Oc(t,r,"primary"),f=ga.getCoupled(t,"overflowGroup");ln(l.element,"visibility","hidden");var d=s.concat([f]),h=ri(d);o([]),Gu(l,d);var p=Xo(l.element),y=Ci(p,r.builtGroups.get(),function(S){return Xo(S.element)},f);y.extra.length===0?(dn.remove(l,f),o([])):(Gu(l,y.within),o(y.extra)),xr(l.element,"visibility"),Kc(l.element),h.each(nn.focus)}},Na=X([Ja("splitToolbarBehaviours",[ga]),Di("builtGroups",function(){return jt([])})]),Ol=X([Nf(["overflowToggledClass"]),Of("getOverflowBounds"),Te("lazySink"),Di("overflowGroups",function(){return jt([])})].concat(Na())),mo=X([Do({factory:Js,schema:om(),name:"primary"}),vs({schema:om(),name:"overflow"}),vs({name:"overflow-button"}),vs({name:"overflow-group"})]),Ku=X(function(t,r){Bu(t,Math.floor(r))}),Hc=X([Nf(["toggledClass"]),Te("lazySink"),Jo("fetch"),Of("getBounds"),vu("fireDismissalEventInstead",[ae("event",Is())]),Ql()]),Qr=X([vs({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:qe([qn.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),vs({factory:Js,schema:om(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:qe([Gt.config({mode:"cyclic",onEscape:function(r){return kr(r,t,"button").each(nn.focus),x.none()}})])}}})]),_r=function(t,r){var o=ga.getCoupled(t,"toolbarSandbox");jn.isOpen(o)?jn.close(o):jn.open(o,r.toolbar())},_a=function(t,r,o,s){var l=o.getBounds.map(function(d){return d()}),f=o.lazySink(t).getOrDie();hi.positionWithinBounds(f,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:Ku()}}},l)},ys=function(t,r,o,s,l){Js.setGroups(r,l),_a(t,r,o,s),qn.on(t)},Vc=function(t,r,o){var s=Ax(),l=function(d,h){o.fetch().get(function(p){ys(t,h,o,r.layouts,p),s.link(t.element),Gt.focusIn(h)})},f=function(){qn.off(t),nn.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:qe([Gt.config({mode:"special",onEscape:function(d){return jn.close(d),x.some(!0)}}),jn.config({onOpen:l,onClose:f,isPartOf:function(d,h,p){return Pf(h,p)||Pf(t,p)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),Hu.config({channels:K(K({},Gf(K({isExtraPart:ut},o.fireDismissalEventInstead.map(function(d){return{fireEventInstead:{event:d.event}}}).getOr({})))),Jm({doReposition:function(){jn.getState(ga.getCoupled(t,"toolbarSandbox")).each(function(d){_a(t,d,o,r.layouts)})}}))})])}},ws=function(t,r,o,s){return K(K({},Wo.sketch(K(K({},s.button()),{action:function(l){_r(l,s)},buttonBehaviours:Vu.augment({dump:s.button().buttonBehaviours},[ga.config({others:{toolbarSandbox:function(l){return Vc(l,o,t)}}})])}))),{apis:{setGroups:function(l,f){jn.getState(ga.getCoupled(l,"toolbarSandbox")).each(function(d){ys(l,d,t,o.layouts,f)})},reposition:function(l){jn.getState(ga.getCoupled(l,"toolbarSandbox")).each(function(f){_a(l,f,t,o.layouts)})},toggle:function(l){_r(l,s)},getToolbar:function(l){return jn.getState(ga.getCoupled(l,"toolbarSandbox"))},isOpen:function(l){return jn.isOpen(ga.getCoupled(l,"toolbarSandbox"))}}})},Qs=pi({name:"FloatingToolbarButton",factory:ws,configFields:Hc(),partFields:Qr(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),lh=X([Te("items"),Nf(["itemSelector"]),Ja("tgroupBehaviours",[Gt])]),NP=X([ag({name:"items",unit:"item"})]),YT=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:Qa(t.tgroupBehaviours,[Gt.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},fh=pi({name:"ToolbarGroup",configFields:lh(),partFields:NP(),factory:YT}),ZT=function(t){return Ke(t,function(r){return hu(r)})},IC=function(t,r,o){ai(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(l){Qs.setGroups(l,ZT(s))})})},LP=function(t,r,o,s){var l=ir(Qs.sketch({fetch:function(){return fo.nu(function(f){f(ZT(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Ao,Vo]},onRtl:function(){return[Vo,Ao]},onBottomLtr:function(){return[co,mi]},onBottomRtl:function(){return[mi,co]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:Qa(t.splitToolbarBehaviours,[ga.config({others:{overflowGroup:function(){return fh.sketch(K(K({},s["overflow-group"]()),{items:[l.asSpec()]}))}}})]),apis:{setGroups:function(f,d){t.builtGroups.set(Ke(d,f.getSystem().build)),IC(f,l,t)},refresh:function(f){return IC(f,l,t)},toggle:function(f){l.getOpt(f).each(function(d){Qs.toggle(d)})},isOpen:function(f){return l.getOpt(f).map(Qs.isOpen).getOr(!1)},reposition:function(f){l.getOpt(f).each(function(d){Qs.reposition(d)})},getOverflow:function(f){return l.getOpt(f).bind(Qs.getToolbar)}},domModification:{attributes:{role:"group"}}}},JT=pi({name:"SplitFloatingToolbar",configFields:Ol(),partFields:mo(),factory:LP,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),$P=X([Nf(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),zn("onOpened"),zn("onClosed")].concat(Na())),HP=X([Do({factory:Js,schema:om(),name:"primary"}),Do({factory:Js,schema:om(),name:"overflow",overrides:function(t){return{toolbarBehaviours:qe([m.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){kr(r,t,"overflow-button").each(function(o){qn.off(o),nn.focus(o)}),t.onClosed(r)},onGrown:function(r){Gt.focusIn(r),t.onOpened(r)},onStartGrow:function(r){kr(r,t,"overflow-button").each(qn.on)}}),Gt.config({mode:"acyclic",onEscape:function(r){return kr(r,t,"overflow-button").each(nn.focus),x.some(!0)}})])}}}),vs({name:"overflow-button",overrides:function(t){return{buttonBehaviours:qe([qn.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),vs({name:"overflow-group"})]),Bv=function(t,r){return kr(t,r,"overflow").map(m.hasGrown).getOr(!1)},NC=function(t,r){kr(t,r,"overflow-button").bind(function(){return kr(t,r,"overflow")}).each(function(o){ee(t,r),m.toggleGrow(o)})},ee=function(t,r){kr(t,r,"overflow").each(function(o){ai(t,r,function(s){var l=Ke(s,function(f){return hu(f)});Js.setGroups(o,l)}),kr(t,r,"overflow-button").each(function(s){m.hasGrown(o)&&qn.on(s)}),m.refresh(o)})},de=function(t,r,o,s){var l="alloy.toolbar.toggle",f=function(d,h){var p=Ke(h,d.getSystem().build);t.builtGroups.set(p)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Qa(t.splitToolbarBehaviours,[ga.config({others:{overflowGroup:function(d){return fh.sketch(K(K({},s["overflow-group"]()),{items:[Wo.sketch(K(K({},s["overflow-button"]()),{action:function(h){Fn(d,l)}}))]}))}}}),En("toolbar-toggle-events",[Oe(l,function(d){NC(d,t)})])]),apis:{setGroups:function(d,h){f(d,h),ee(d,t)},refresh:function(d){return ee(d,t)},toggle:function(d){return NC(d,t)},isOpen:function(d){return Bv(d,t)}},domModification:{attributes:{role:"group"}}}},$e=pi({name:"SplitSlidingToolbar",configFields:$P(),partFields:HP(),factory:de,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),Je=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:K({tag:"div",classes:["tox-toolbar__group"]},r),components:[fh.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:qe([ma.config({}),nn.config({})])}},hn=function(t){return fh.sketch(Je(t))},rr=function(t,r){var o=ca(function(s){var l=Ke(t.initGroups,hn);Js.setGroups(s,l)});return qe([wu.toolbarButton(t.providers.isDisabled),Ia(),Gt.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),En("toolbar-events",[o])])},Hr=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Je({title:x.none(),items:[]}),"overflow-button":PE({name:"more",icon:x.some("more-drawer"),disabled:!1,tooltip:x.some("More..."),primary:!1,borderless:!1},x.none(),t.providers)},splitToolbarBehaviours:rr(t,r)}},wf=function(t){var r=Hr(t),o=4,s=JT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return JT.sketch(K(K({},r),{lazySink:t.getSink,getOverflowBounds:function(){var l=t.moreDrawerData.lazyHeader().element,f=fc(l),d=Ce(l),h=fc(d),p=Math.max(d.dom.scrollHeight,h.height);return Xa(f.x+o,h.y,f.width-o*2,p)},parts:K(K({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},zN=function(t){var r=$e.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=$e.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=Hr(t);return $e.sketch(K(K({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(l){l.getSystem().broadcastOn([$c()],{type:"opened"})},onClosed:function(l){l.getSystem().broadcastOn([$c()],{type:"closed"})}}))},QT=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return Js.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===yu.scrolling?["tox-toolbar--scrolling"]:[])},components:[Js.parts.groups({})],toolbarBehaviours:rr(t,r)})},MN=function(t,r,o){var s={getSocket:function(l){return ti.getPart(l,t,"socket")},setSidebar:function(l,f){ti.getPart(l,t,"sidebar").each(function(d){return Y(d,f)})},toggleSidebar:function(l,f){ti.getPart(l,t,"sidebar").each(function(d){return se(d,f)})},whichSidebar:function(l){return ti.getPart(l,t,"sidebar").bind(pe).getOrNull()},getHeader:function(l){return ti.getPart(l,t,"header")},getToolbar:function(l){return ti.getPart(l,t,"toolbar")},setToolbar:function(l,f){ti.getPart(l,t,"toolbar").each(function(d){d.getApis().setGroups(d,f)})},setToolbars:function(l,f){ti.getPart(l,t,"multiple-toolbar").each(function(d){TC.setItems(d,f)})},refreshToolbar:function(l){var f=ti.getPart(l,t,"toolbar");f.each(function(d){return d.getApis().refresh(d)})},toggleToolbarDrawer:function(l){ti.getPart(l,t,"toolbar").each(function(f){zo(f.getApis().toggle,function(d){return d(f)})})},isToolbarDrawerToggled:function(l){return ti.getPart(l,t,"toolbar").bind(function(f){return x.from(f.getApis().isOpen).map(function(d){return d(f)})}).getOr(!1)},getThrobber:function(l){return ti.getPart(l,t,"throbber")},focusToolbar:function(l){var f=ti.getPart(l,t,"toolbar").orThunk(function(){return ti.getPart(l,t,"multiple-toolbar")});f.each(function(d){Gt.focusIn(d)})},setMenubar:function(l,f){ti.getPart(l,t,"menubar").each(function(d){db.setMenus(d,f)})},focusMenubar:function(l){ti.getPart(l,t,"menubar").each(function(f){db.focus(f)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},RN=Nc.optional({factory:db,name:"menubar",schema:[Te("backstage")]}),PN=function(t){return t.type===yu.sliding?zN:t.type===yu.floating?wf:QT},FN=Nc.optional({factory:{sketch:function(t){return TC.sketch({uid:t.uid,dom:t.dom,listBehaviours:qe([Gt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return QT({type:t.type,uid:wt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),x.some(!0)}})},setupItem:function(r,o,s,l){Js.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[Te("dom"),Te("onEscape")]}),IN=Nc.optional({factory:{sketch:function(t){var r=PN(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),x.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[Te("dom"),Te("onEscape"),Te("getSink")]}),NN=Nc.optional({factory:{sketch:TP},name:"header",schema:[Te("dom")]}),LN=Nc.optional({name:"socket",schema:[Te("dom")]}),$N=Nc.optional({factory:{sketch:vt},name:"sidebar",schema:[Te("dom")]}),HN=Nc.optional({factory:{sketch:Pi},name:"throbber",schema:[Te("dom")]}),Ca=pi({name:"OuterContainer",factory:MN,configFields:[Te("dom"),Te("behaviours")],partFields:[NN,RN,IN,FN,LN,$N,HN],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=Ke(o,function(l){return hn(l)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=Ke(o,function(l){return Ke(l,hn)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),VN="file edit view insert format tools table help",zF={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},UN=function(t,r,o){var s=A6(o).split(/[ ,]/);return{text:t.title,getItems:function(){return er(t.items,function(l){var f=l.toLowerCase();return f.trim().length===0?[]:Cr(s,function(d){return d===f})?[]:f==="separator"||f==="|"?[{type:"separator"}]:r.menuItems[f]?[r.menuItems[f]]:[]})}}},VP=function(t){return typeof t=="string"?t.split(" "):t},MF=function(t,r){var o=K(K({},zF),r.menus),s=st(r.menus).length>0,l=r.menubar===void 0||r.menubar===!0?VP(VN):VP(r.menubar===!1?"":r.menubar),f=dt(l,function(h){var p=mn(zF,h);return s?p||Ot(r.menus,h).exists(function(y){return mn(y,"items")}):p}),d=Ke(f,function(h){var p=o[h];return UN({title:p.title,items:VP(p.items)},r,t)});return dt(d,function(h){var p=function(y){return y.type!=="separator"};return h.getItems().length>0&&Cr(h.getItems(),p)})},RF=function(t){var r=function(){t._skinLoaded=!0,rz(t)};return function(){t.initialized?r():t.on("init",r)}},WN=function(t,r){return function(){return az(t,{message:r})}},PF=function(t,r,o){return new Cg(function(s,l){o.load(r,s,l),t.on("remove",function(){return o.unload(r)})})},jN=function(t,r){var o=r+"/skin.min.css";return PF(t,o,t.ui.styleSheetLoader)},qN=function(t,r){var o=Wt(Ye.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return PF(t,s,kg.DOM.styleSheetLoader)}else return Cg.resolve()},FF=function(t,r){var o=M2(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),l3(r)===!1&&Nt(o)?Cg.all([jN(r,o),qN(r,o)]).then(RF(r),WN(r,"Skin could not be loaded")):RF(r)()},GN=rn(FF,!1),KN=rn(FF,!0),e5=function(t,r){return function(o){var s=$f(),l=function(){o.setActive(t.formatter.match(r));var f=t.formatter.formatChanged(r,o.setActive);s.set(f)};return t.initialized?l():t.once("init",l),function(){t.off("init",l),s.clear()}}},t5=function(t,r,o){return function(s){var l=function(){return o(s)},f=function(){o(s),t.on(r,l)};return t.initialized?f():t.once("init",f),function(){t.off("init",f),t.off(r,l)}}},IF=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},ec=function(t,r){return function(){return t.execCommand(r)}},XN=function(t,r,o){var s=function(h,p,y,S){var A=r.shared.providers.translate(h.title);if(h.type==="separator")return x.some({type:"separator",text:A});if(h.type==="submenu"){var z=er(h.getStyleItems(),function(R){return l(R,p,S)});return p===0&&z.length<=0?x.none():x.some({type:"nestedmenuitem",text:A,disabled:z.length<=0,getSubmenuItems:function(){return er(h.getStyleItems(),function(R){return l(R,p,S)})}})}else return x.some(K({type:"togglemenuitem",text:A,icon:h.icon,active:h.isSelected(S),disabled:y,onAction:o.onAction(h)},h.getStylePreview().fold(function(){return{}},function(R){return{meta:{style:R}}})))},l=function(h,p,y){var S=h.type==="formatter"&&o.isInvalid(h);return p===0?S?[]:s(h,p,!1,y).toArray():s(h,p,S,y).toArray()},f=function(h){var p=o.getCurrentValue(),y=o.shouldHide?0:1;return er(h,function(S){return l(S,y,p)})},d=function(h,p){return function(y,S){var A=p(),z=f(A),R=nm(z,Gs.CLOSE_ON_EXECUTE,h,!1);S(R)}};return{validateItems:f,getFetch:d}},mb=function(t,r,o){var s=o.dataset,l=s.type==="basic"?function(){return Ke(s.data,function(f){return mT(f,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:XN(t,r,o),getStyleItems:l}},LC=function(t,r,o){var s=mb(t,r,o),l=s.items,f=s.getStyleItems,d=function(p){return{getComponent:X(p)}},h=t5(t,"NodeChange",function(p){var y=p.getComponent();o.updateText(y)});return rC({text:o.icon.isSome()?x.none():o.text,icon:o.icon,tooltip:x.from(o.tooltip),role:x.none(),fetch:l.getFetch(r,f),onSetup:h,getApi:d,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},YN=function(t){return Ke(t,function(r){var o=r,s=r,l=r.split("=");return l.length>1&&(o=l[0],s=l[1]),{title:o,format:s}})},ZN=function(t){return{type:"basic",data:t}},gb;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(gb||(gb={}));var JN=function(t,r){return r===gb.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},UP=function(t,r,o,s){var l=t.getParam(r,o,"string"),f=YN(JN(l,s));return{type:"basic",data:f}},WP=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],NF=function(t){var r=function(){return at(WP,function(h){return t.formatter.match(h.format)})},o=function(h){return function(){return t.formatter.match(h)}},s=function(h){return x.none},l=function(h){var p=r(),y=p.fold(X("left"),function(S){return S.title.toLowerCase()});qt(h,nC,{icon:"align-"+y})},f=ZN(WP),d=function(h){return function(){return at(WP,function(p){return p.format===h.format}).each(function(p){return t.execCommand(p.command)})}};return{tooltip:"Align",text:x.none(),icon:x.some("align-left"),isSelectedFor:o,getCurrentValue:x.none,getPreviewFor:s,onAction:d,updateText:l,dataset:f,shouldHide:!1,isInvalid:function(h){return!t.formatter.canApply(h.format)}}},QN=function(t,r){return LC(t,r,NF(t))},eL=function(t,r){var o=mb(t,r,NF(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},tL="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",nL=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],LF=function(t){var r=t.split(/\s*,\s*/);return Ke(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},rL=function(t){var r=function(){var o=LF(t.toLowerCase());return yr(nL,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},$F=function(t){var r="System Font",o=function(){var y=function(N){return N?LF(N)[0]:""},S=t.queryCommandValue("FontName"),A=p.data,z=S?S.toLowerCase():"",R=at(A,function(N){var W=N.format;return W.toLowerCase()===z||y(W).toLowerCase()===y(z).toLowerCase()}).orThunk(function(){return qa(rL(z),{title:r,format:z})});return{matchOpt:R,font:S}},s=function(y){return function(S){return S.exists(function(A){return A.format===y})}},l=function(){var y=o().matchOpt;return y},f=function(y){return function(){return x.some({tag:"div",styles:y.indexOf("dings")===-1?{"font-family":y}:{}})}},d=function(y){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,y.format)})}},h=function(y){var S=o(),A=S.matchOpt,z=S.font,R=A.fold(X(z),function(N){return N.title});qt(y,xv,{text:R})},p=UP(t,"font_formats",tL,gb.SemiColon);return{tooltip:"Fonts",text:x.some(r),icon:x.none(),isSelectedFor:s,getCurrentValue:l,getPreviewFor:f,onAction:d,updateText:h,dataset:p,shouldHide:!1,isInvalid:ut}},aL=function(t,r){return LC(t,r,$F(t))},oL=function(t,r){var o=mb(t,r,$F(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},iL="8pt 10pt 12pt 14pt 18pt 24pt 36pt",uL={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},sL={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},cL=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},lL=function(t,r){return/[0-9.]+px$/.test(t)?cL(parseInt(t,10)*72/96,r||0)+"pt":Ot(sL,t).getOr(t)},fL=function(t){return Ot(uL,t).getOr("")},HF=function(t){var r=function(){var p=x.none(),y=h.data,S=t.queryCommandValue("FontSize");if(S)for(var A=function(R){var N=lL(S,R),W=fL(N);p=at(y,function(te){return te.format===S||te.format===N||te.format===W})},z=3;p.isNone()&&z>=0;z--)A(z);return{matchOpt:p,size:S}},o=function(p){return function(y){return y.exists(function(S){return S.format===p})}},s=function(){var p=r().matchOpt;return p},l=X(x.none),f=function(p){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,p.format)})}},d=function(p){var y=r(),S=y.matchOpt,A=y.size,z=S.fold(X(A),function(R){return R.title});qt(p,xv,{text:z})},h=UP(t,"fontsize_formats",iL,gb.Space);return{tooltip:"Font sizes",text:x.some("12pt"),icon:x.none(),isSelectedFor:o,getPreviewFor:l,getCurrentValue:s,onAction:f,updateText:d,dataset:h,shouldHide:!1,isInvalid:ut}},vL=function(t,r){return LC(t,r,HF(t))},dL=function(t,r){var o=mb(t,r,HF(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},VF=function(t,r){var o=r(),s=Ke(o,function(l){return l.format});return x.from(t.formatter.closest(s)).bind(function(l){return at(o,function(f){return f.format===l})}).orThunk(function(){return qa(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},mL="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",UF=function(t){var r="Paragraph",o=function(d){return function(){return t.formatter.match(d)}},s=function(d){return function(){var h=t.formatter.get(d);return x.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(d))})}},l=function(d){var h=VF(t,function(){return f.data}),p=h.fold(X(r),function(y){return y.title});qt(d,xv,{text:p})},f=UP(t,"block_formats",mL,gb.SemiColon);return{tooltip:"Blocks",text:x.some(r),icon:x.none(),isSelectedFor:o,getCurrentValue:x.none,getPreviewFor:s,onAction:IF(t),updateText:l,dataset:f,shouldHide:!1,isInvalid:function(d){return!t.formatter.canApply(d.format)}}},gL=function(t,r){return LC(t,r,UF(t))},hL=function(t,r){var o=mb(t,r,UF(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},WF=function(t,r){var o="Paragraph",s=function(d){return function(){return t.formatter.match(d)}},l=function(d){return function(){var h=t.formatter.get(d);return h!==void 0?x.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(d))}):x.none()}},f=function(d){var h=function(A){var z=A.items;return z!==void 0&&z.length>0?er(z,h):[{title:A.title,format:A.format}]},p=er(dT(t),h),y=VF(t,X(p)),S=y.fold(X(o),function(A){return A.title});qt(d,xv,{text:S})};return{tooltip:"Formats",text:x.some(o),icon:x.none(),isSelectedFor:s,getCurrentValue:x.none,getPreviewFor:l,onAction:IF(t),updateText:f,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(d){return!t.formatter.canApply(d.format)},dataset:r}},pL=function(t,r){var o=K({type:"advanced"},r.styleselect);return LC(t,r,WF(t,o))},bL=function(t,r){var o=K({type:"advanced"},r.styleselect),s=mb(t,r,WF(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},yL=function(t,r){var o=function(s,l){t.updateState.each(function(f){var d=f(s,l);r.set(d)}),t.renderComponents.each(function(f){var d=f(l,r.get()),h=Ke(d,s.getSystem().build);DS(s,h)})};return Mr([Oe(Iu(),function(s,l){var f=l;if(!f.universal){var d=t.channel;_n(f.channels,d)&&o(s,f.data)}}),ca(function(s,l){t.initialData.each(function(f){o(s,f)})})])},wL=Object.freeze({__proto__:null,events:yL}),CL=function(t,r,o){return o},xL=Object.freeze({__proto__:null,getState:CL}),SL=[Te("channel"),vr("renderComponents"),vr("updateState"),vr("initialData")],kL=function(){var t=jt(x.none()),r=function(){return t.set(x.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},AL=Object.freeze({__proto__:null,init:kL}),Xu=Ta({fields:SL,name:"reflecting",active:wL,apis:xL,state:AL}),EL=X([Te("toggleClass"),Te("fetch"),Lf("onExecute"),ae("getHotspot",x.some),ae("getAnchorOverrides",X({})),Ql(),Lf("onItemExecute"),vr("lazySink"),Te("dom"),zn("onOpen"),Ja("splitDropdownBehaviours",[ga,Gt,nn]),ae("matchWidth",!1),ae("useMinWidth",!1),ae("eventOrder",{}),vr("role")].concat(ww())),TL=Do({factory:Wo,schema:[Te("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:qe([nn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(il)},buttonBehaviours:qe([qn.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),OL=Do({factory:Wo,schema:[Te("dom")],name:"button",defaults:function(){return{buttonBehaviours:qe([nn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),DL=X([TL,OL,Ws({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Te("text")],name:"aria-descriptor"}),vs({schema:[Wh()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),hw()]),_L=function(t,r,o,s){var l,f=function(A){In.getCurrent(A).each(function(z){sr.highlightFirst(z),Gt.focusIn(z)})},d=function(A){var z=f;Gd(t,Mt,A,s,z,ms.HighlightFirst).get(Pe)},h=function(A){return d(A),x.some(!0)},p=function(A){var z=Oc(A,t,"button");return il(z),x.some(!0)},y=K(K({},Mr([ca(function(A,z){var R=kr(A,t,"aria-descriptor");R.each(function(N){var W=wt("aria");Tn(N.element,"id",W),Tn(A.element,"aria-describedby",W)})})])),gg(x.some(d))),S={repositionMenus:function(A){qn.isOn(A)&&Cl(A)}};return{uid:t.uid,dom:t.dom,components:r,apis:S,eventOrder:K(K({},t.eventOrder),(l={},l[du()]=["disabling","toggling","alloy.base.behaviour"],l)),events:y,behaviours:Qa(t.splitDropdownBehaviours,[ga.config({others:{sandbox:function(A){var z=Oc(A,t,"arrow"),R={onOpen:function(){qn.on(z),qn.on(A)},onClose:function(){qn.off(z),qn.off(A)}};return yw(t,A,R)}}}),Gt.config({mode:"special",onSpace:p,onEnter:p,onDown:h}),nn.config({}),qn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},n5=pi({name:"SplitDropdown",configFields:EL(),partFields:DL(),factory:_L,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),BL=function(t){return{isDisabled:function(){return It.isDisabled(t)},setDisabled:function(r){return It.set(t,r)}}},zL=function(t){return{setActive:function(r){qn.set(t,r)},isActive:function(){return qn.isOn(t)},isDisabled:function(){return It.isDisabled(t)},setDisabled:function(r){return It.set(t,r)}}},jF=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},qF=wt("focus-button"),jP=function(t,r,o,s,l,f){var d;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:jF(o,f)},components:cv([t.map(function(h){return Y1(h,f.icons)}),r.map(function(h){return Z1(h,"tox-tbtn",f)})]),eventOrder:(d={},d[os()]=["focusing","alloy.base.behaviour","common-button-display-events"],d),buttonBehaviours:qe([wu.toolbarButton(f.isDisabled),Ia(),En("common-button-display-events",[Oe(os(),function(h,p){p.event.prevent(),Fn(h,qF)})])].concat(s.map(function(h){return Xu.config({channel:h,initialData:{icon:t,text:r},renderComponents:function(p,y){return cv([p.icon.map(function(S){return Y1(S,f.icons)}),p.text.map(function(S){return Z1(S,"tox-tbtn",f)})])}})}).toArray()).concat(l.getOr([])))}},ML=function(t,r,o,s){var l=r.shared;return Qs.sketch({lazySink:l.getSink,fetch:function(){return fo.nu(function(f){f(Ke(o(t.items),hn))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:jP(t.icon,t.text,t.tooltip,x.none(),x.none(),l.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},GF=function(t,r,o){var s=jt(Pe),l=jP(t.icon,t.text,t.tooltip,x.none(),x.none(),o);return Wo.sketch({dom:l.dom,components:l.components,eventOrder:tC,buttonBehaviours:qe([En("toolbar-button-events",[cM({onAction:t.onAction,getApi:r.getApi}),Og(r,s),Dg(r,s)]),wu.toolbarButton(function(){return t.disabled||o.isDisabled()}),Ia()].concat(r.toolbarButtonBehaviours))})},RL=function(t,r){return KF(t,r,[])},KF=function(t,r,o){return GF(t,{toolbarButtonBehaviours:[].concat(o.length>0?[En("toolbarButtonWith",o)]:[]),getApi:BL,onSetup:t.onSetup},r)},PL=function(t,r){return XF(t,r,[])},XF=function(t,r,o){return we(GF(t,{toolbarButtonBehaviours:[dn.config({}),qn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[En("toolbarToggleButtonWith",o)]:[]),getApi:zL,onSetup:t.onSetup},r))},FL=function(t,r,o){return function(s){return fo.nu(function(l){return r.fetch(l)}).map(function(l){return x.from(o4(we(m1(wt("menu-value"),l,function(f){r.onItemAction(t(s),f)},r.columns,r.presets,Gs.CLOSE_ON_EXECUTE,r.select.getOr(ut),o),{movement:Rg(r.columns,r.presets),menuBehaviours:o1.unnamedEvents(r.columns!=="auto"?[]:[ca(function(f,d){B2(f,4,UA(r.presets)).each(function(h){var p=h.numRows,y=h.numColumns;Gt.setGridSize(f,p,y)})})])})))})}},IL=function(t,r){var o,s=wt("channel-update-split-dropdown-display"),l=function(h){return{isDisabled:function(){return It.isDisabled(h)},setDisabled:function(p){return It.set(h,p)},setIconFill:function(p,y){Fa(h.element,'svg path[id="'+p+'"], rect[id="'+p+'"]').each(function(S){Tn(S,"fill",y)})},setIconStroke:function(p,y){Fa(h.element,'svg path[id="'+p+'"], rect[id="'+p+'"]').each(function(S){Tn(S,"stroke",y)})},setActive:function(p){Tn(h.element,"aria-pressed",p),Fa(h.element,"span").each(function(y){h.getSystem().getByDom(y).each(function(S){return qn.set(S,p)})})},isActive:function(){return Fa(h.element,"span").exists(function(p){return h.getSystem().getByDom(p).exists(qn.isOn)})}}},f=jt(Pe),d={getApi:l,onSetup:t.onSetup};return n5.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:K({"aria-pressed":!1},jF(t.tooltip,r.providers))},onExecute:function(h){t.onAction(l(h))},onItemExecute:function(h,p,y){},splitDropdownBehaviours:qe([wu.splitButton(r.providers.isDisabled),Ia(),En("split-dropdown-events",[Oe(qF,nn.focus),Og(d,f),Dg(d,f)]),Vg.config({})]),eventOrder:(o={},o[mu()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:FL(l,t,r.providers),parts:{menu:e1(!1,t.columns,t.presets)},components:[n5.parts.button(jP(t.icon,t.text,x.none(),x.some(s),x.some([qn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),n5.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:kA("chevron-down",r.providers.icons)},buttonBehaviours:qe([wu.splitButton(r.providers.isDisabled),Ia(),n2()])}),n5.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},NL=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],$C=function(t,r){return function(o,s,l){var f=t(o).mapError(function(d){return Tf(d)}).getOrDie();return r(f,s,l)}},hb={button:$C(Jp,function(t,r){return RL(t,r.backstage.shared.providers)}),togglebutton:$C(MA,function(t,r){return PL(t,r.backstage.shared.providers)}),menubutton:$C(WT,function(t,r){return iC(t,"tox-tbtn",r.backstage,x.none())}),splitbutton:$C(vb,function(t,r){return IL(t,r.backstage.shared)}),grouptoolbarbutton:$C(OP,function(t,r,o){var s,l=o.ui.registry.getAll().buttons,f=function(h){return r5(o,{buttons:l,toolbar:h,allowToolbarGroups:!1},r,x.none())},d=(s={},s[z0]=r.backstage.shared.header.isPositionedAtTop()?ml.TopToBottom:ml.BottomToTop,s);switch(Ag(o)){case yu.floating:return ML(t,r.backstage,f,d);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return pL(t,r.backstage)},fontsizeSelectButton:function(t,r){return vL(t,r.backstage)},fontSelectButton:function(t,r){return aL(t,r.backstage)},formatButton:function(t,r){return gL(t,r.backstage)},alignMenuButton:function(t,r){return QN(t,r.backstage)}},LL=function(t,r,o){return Ot(hb,t.type).fold(function(){return console.error("skipping button defined by",t),x.none()},function(s){return x.some(s(t,r,o))})},YF={styleselect:hb.styleSelectButton,fontsizeselect:hb.fontsizeSelectButton,fontselect:hb.fontSelectButton,formatselect:hb.formatButton,align:hb.alignMenuButton},$L=function(t){var r=Ke(NL,function(o){var s=dt(o.items,function(l){return mn(t,l)||mn(YF,l)});return{name:o.name,items:s}});return dt(r,function(o){return o.items.length>0})},HL=function(t){var r=t.split("|");return Ke(r,function(o){return{items:o.trim().split(" ")}})},VL=function(t){return Xr(t,function(r){return mn(r,"name")&&mn(r,"items")})},UL=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?$L(o):Nt(r)?HL(r):VL(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},WL=function(t,r,o,s,l,f){return Ot(r,o.toLowerCase()).orThunk(function(){return f.bind(function(d){return gt(d,function(h){return Ot(r,h+o.toLowerCase())})})}).fold(function(){return Ot(YF,o.toLowerCase()).map(function(d){return d(t,l)}).orThunk(function(){return x.none()})},function(d){return d.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),x.none()):LL(d,l,t)})},r5=function(t,r,o,s){var l=UL(r),f=Ke(l,function(d){var h=er(d.items,function(p){return p.trim().length===0?[]:WL(t,r.buttons,p,r.allowToolbarGroups,o,s).toArray()});return{title:x.from(t.translate(d.name)),items:h}});return dt(f,function(d){return d.items.length>0})},ZF=function(t,r,o,s){var l=r.outerContainer,f=o.toolbar,d=o.buttons;if(Xr(f,Nt)){var h=f.map(function(p){var y={toolbar:p,buttons:d,allowToolbarGroups:o.allowToolbarGroups};return r5(t,y,{backstage:s},x.none())});Ca.setToolbars(l,h)}else Ca.setToolbar(l,r5(t,o,{backstage:s},x.none()))},JF=Lt(),jL=JF.os.isiOS()&&JF.os.version.major<=12,qL=function(t,r){var o=t.dom,s=t.getWin(),l=t.getDoc().documentElement,f=jt(Br(s.innerWidth,s.innerHeight)),d=jt(Br(l.offsetWidth,l.offsetHeight)),h=function(){var z=f.get();(z.left!==s.innerWidth||z.top!==s.innerHeight)&&(f.set(Br(s.innerWidth,s.innerHeight)),Q2(t))},p=function(){var z=t.getDoc().documentElement,R=d.get();(R.left!==z.offsetWidth||R.top!==z.offsetHeight)&&(d.set(Br(z.offsetWidth,z.offsetHeight)),Q2(t))},y=function(z){return oz(t,z)};o.bind(s,"resize",h),o.bind(s,"scroll",y);var S=op(Ye.fromDom(t.getBody()),"load",p),A=r.uiMothership.element;t.on("hide",function(){ln(A,"display","none")}),t.on("show",function(){xr(A,"display")}),t.on("NodeChange",p),t.on("remove",function(){S.unbind(),o.unbind(s,"resize",h),o.unbind(s,"scroll",y),s=null})},GL=function(t,r,o,s,l){var f=jt(0),d=r.outerContainer;GN(t);var h=Ye.fromDom(l.targetNode),p=ct(on(h));Ri(h,r.mothership),fs(p,r.uiMothership),t.on("PostRender",function(){ZF(t,r,o,s),f.set(t.getWin().innerWidth),Ca.setMenubar(d,MF(t,o)),Ca.setSidebar(d,o.sidebar),qL(t,r)});var y=Ca.getSocket(d).getOrDie("Could not find expected socket element");if(jL){_s(y.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var S=PB(function(){t.fire("ScrollContent")},20),A=Oa(y.element,"scroll",S.throttle);t.on("remove",A.unbind)}x3(t,r),t.addCommand("ToggleSidebar",function(W,te){Ca.toggleSidebar(d,te),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return Ca.whichSidebar(d)});var z=Ag(t),R=function(){Ca.refreshToolbar(r.outerContainer)};(z===yu.sliding||z===yu.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var W=t.getWin().innerWidth;W!==f.get()&&(R(),f.set(W))});var N={enable:function(){$d(r,!1)},disable:function(){$d(r,!0)},isDisabled:function(){return It.isDisabled(d)}};return{iframeContainer:y.element.dom,editorContainer:d.element.dom,api:N}},KL=Object.freeze({__proto__:null,render:GL}),qP=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?x.some(parseInt(""+t,10)):x.none()},GP=function(t){return Vr(t)?t+"px":t},a5=function(t,r,o){var s=r.filter(function(f){return t<f}),l=o.filter(function(f){return t>f});return s.or(l).getOr(t)},XL=function(t){var r=f3(t),o=d3(t),s=I2(t);return qP(r).map(function(l){return a5(l,o,s)})},YL=function(t){var r=XL(t);return r.getOr(f3(t))},QF=function(t){var r=P2(t),o=v3(t),s=F2(t);return qP(r).map(function(l){return a5(l,o,s)})},ZL=function(t){var r=QF(t);return r.getOr(P2(t))},JL=function(t,r,o,s,l){var f=o.uiMothership,d=o.outerContainer,h=kg.DOM,p=u1(t),y=s1(t),S=F2(t).or(QF(t)),A=s.shared.header,z=A.isPositionedAtTop,R=Ag(t),N=R===yu.sliding||R===yu.floating,W=jt(!1),te=function(){return W.get()&&!t.removed},H=function(_e){return N?_e.fold(X(0),function(xe){return xe.components().length>1?$a(xe.components()[1].element):0}):0},re=function(_e){switch($2(t)){case sv.auto:var xe=Ca.getToolbar(d),tt=H(xe),Et=$a(_e.element)-tt,Ee=Ya(r),xt=Ee.y>Et;if(xt)return"top";var _t=Ce(r),Hn=Math.max(_t.dom.scrollHeight,$a(_t)),gr=Ee.bottom<Hn-Et;if(gr)return"bottom";var ea=lu(),tc=ea.bottom<Ee.bottom-Et;return tc?"bottom":"top";case sv.bottom:return"bottom";case sv.top:default:return"top"}},me=function(_e){var xe=l.get();vo.setModes(xe,[_e]),A.setDockingMode(_e);var tt=z()?ml.TopToBottom:ml.BottomToTop;Tn(xe.element,z0,tt)},ye=function(){var _e=S.getOrThunk(function(){var xe=qP(ba(pr(),"margin-left")).getOr(0);return Xo(pr())-si(r).left+xe});ln(l.get().element,"max-width",_e+"px")},ne=function(){var _e=Ca.getToolbar(d),xe=H(_e),tt=Ya(r),Et=z()?Math.max(tt.y-$a(l.get().element)+xe,0):tt.bottom;_s(d.element,{position:"absolute",top:Math.round(Et)+"px",left:Math.round(tt.x)+"px"})},ce=function(){f.broadcastOn([bd()],{})},Se=function(_e){if(_e===void 0&&(_e=!1),!!te()){if(p||ye(),N&&Ca.refreshToolbar(d),p||ne(),y){var xe=l.get();_e?vo.reset(xe):vo.refresh(xe)}ce()}},rt=function(_e){if(_e===void 0&&(_e=!0),!(p||!y||!te())){var xe=A.getDockingMode(),tt=re(l.get());tt!==xe&&(me(tt),_e&&Se(!0))}},Ae=function(){W.set(!0),ln(d.element,"display","flex"),h.addClass(t.getBody(),"mce-edit-focus"),xr(f.element,"display"),rt(!1),Se()},ot=function(){W.set(!1),o.outerContainer&&(ln(d.element,"display","none"),h.removeClass(t.getBody(),"mce-edit-focus")),ln(f.element,"display","none")};return{isVisible:te,isPositionedAtTop:z,show:Ae,hide:ot,update:Se,updateMode:rt,repositionPopups:ce}},eI=function(t,r){var o=Ya(t);return{pos:r?o.y:o.bottom,bounds:o}},QL=function(t,r,o,s){var l=jt(eI(r,o.isPositionedAtTop())),f=function(h){var p=eI(r,o.isPositionedAtTop()),y=p.pos,S=p.bounds,A=l.get(),z=A.pos,R=A.bounds,N=S.height!==R.height||S.width!==R.width;l.set({pos:y,bounds:S}),N&&Q2(t,h),o.isVisible()&&(z!==y?o.update(!0):N&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(h){cf.requestAnimationFrame(function(){return f(h)})}),t.on("ScrollWindow",function(){return o.updateMode()});var d=$f();d.set(op(Ye.fromDom(t.getBody()),"load",f)),t.on("remove",function(){d.clear()})},e$=function(t,r,o,s,l){var f=r.mothership,d=r.uiMothership,h=r.outerContainer,p=jt(null),y=Ye.fromDom(l.targetNode),S=JL(t,y,r,s,p),A=D6(t);KN(t);var z=function(){if(p.get()){S.show();return}p.set(Ca.getHeader(h).getOrDie());var N=Eg(t);fs(N,f),fs(N,d),ZF(t,r,o,s),Ca.setMenubar(h,MF(t,o)),S.show(),QL(t,y,S,A),t.nodeChanged()};t.on("show",z),t.on("hide",S.hide),A||(t.on("focus",z),t.on("blur",S.hide)),t.on("init",function(){(t.hasFocus()||A)&&z()}),x3(t,r);var R={show:function(){S.show()},hide:function(){S.hide()},enable:function(){$d(r,!1)},disable:function(){$d(r,!0)},isDisabled:function(){return It.isDisabled(h)}};return{editorContainer:h.element.dom,api:R}},t$=Object.freeze({__proto__:null,render:e$}),n$="contexttoolbar-show",tI="contexttoolbar-hide",r$=function(t){return{hide:function(){return Fn(t,_m())},getValue:function(){return it.getValue(t)}}},nI=function(t,r){return Oe(eC,function(o,s){var l=t.get(o),f=r$(l);r.onAction(f,s.event.buttonApi)})},a$=function(t,r,o){var s=r.original;s.primary;var l=Ge(s,["primary"]),f=Ms(Jp(K(K({},l),{type:"button",onAction:Pe})));return KF(f,o.backstage.shared.providers,[nI(t,r)])},o$=function(t,r,o){var s=r.original;s.primary;var l=Ge(s,["primary"]),f=Ms(MA(K(K({},l),{type:"togglebutton",onAction:Pe})));return XF(f,o.backstage.shared.providers,[nI(t,r)])},i$=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?o$(t,r,s):a$(t,r,s)},u$=function(t,r,o){var s=Ke(r,function(d){return ir(i$(t,d,o))}),l=function(){return Ke(s,function(d){return d.asSpec()})},f=function(d){return gt(r,function(h,p){return h.primary?x.from(s[p]).bind(function(y){return y.getOpt(d)}).filter(an(It.isDisabled)):x.none()})};return{asSpecs:l,findPrimary:f}},rI=function(t,r){var o=t.label.fold(function(){return{}},function(f){return{"aria-label":f}}),s=ir(Hg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:qe([Gt.config({mode:"special",onEnter:function(f){return l.findPrimary(f).map(function(d){return il(d),!0})},onLeft:function(f,d){return d.cut(),x.none()},onRight:function(f,d){return d.cut(),x.none()}})])})),l=u$(s,t.commands,r);return[{title:x.none(),items:[s.asSpec()]},{title:x.none(),items:l.asSpecs()}]},s$=function(t,r,o){return QT({type:t,uid:wt("context-toolbar"),initGroups:rI(r,o),onEscape:x.none,cyclicKeying:!0,providers:o})},c$={renderContextForm:s$,buildInitGroups:rI},aI=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},l$=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=J(Ye.fromDom(t.startContainer),t.startOffset).element,s=bo(o)?La(o):x.some(o);return s.filter(na).map(function(l){return l.dom.getBoundingClientRect()}).getOr(r)}else return r},KP=function(t){var r=t.selection.getRng(),o=l$(r);if(t.inline){var s=su();return Xa(s.left+o.left,s.top+o.top,o.width,o.height)}else{var l=fc(Ye.fromDom(t.getBody()));return Xa(l.x+o.left,l.y+o.top,o.width,o.height)}},f$=function(t,r){return r.filter(Zt).map(fc).getOrThunk(function(){return KP(t)})},v$=function(t,r,o){var s=Math.max(t.x+o,r.x),l=Math.min(t.right-o,r.right);return{x:s,width:l-s}},d$=function(t,r,o,s,l,f){var d=Ye.fromDom(t.getContainer()),h=Fa(d,".tox-editor-header").getOr(d),p=Ya(h),y=p.y>=r.bottom,S=s&&!y;if(t.inline&&S)return{y:Math.max(p.bottom+f,o.y),bottom:o.bottom};if(t.inline&&!S)return{y:o.y,bottom:Math.min(p.y-f,o.bottom)};var A=l==="line"?Ya(d):r;return S?{y:Math.max(p.bottom+f,o.y),bottom:Math.min(A.bottom-f,o.bottom)}:{y:Math.max(A.y+f,o.y),bottom:Math.min(p.y-f,o.bottom)}},oI=function(t,r,o,s){s===void 0&&(s=0);var l=kf(window),f=Ya(Ye.fromDom(t.getContentAreaContainer())),d=N2(t)||L2(t)||i1(t),h=v$(f,l,s),p=h.x,y=h.width;if(t.inline&&!d)return Xa(p,l.y,y,l.height);var S=r.header.isPositionedAtTop(),A=d$(t,f,l,S,o,s),z=A.y,R=A.bottom;return Xa(p,z,y,R-z)},o5=12,iI={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},uI={maxHeightFunction:Wm(),maxWidthFunction:Ku()},m$=function(t,r){var o=t.selection.getRng(),s=J(Ye.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&jr(s.element,r)},g$=function(t,r,o){var s=io(t,"position");ln(t,"position",r);var l=o(t);return s.each(function(f){return ln(t,"position",f)}),l},sI=function(t){return t==="node"},h$=function(t,r,o,s,l){var f=KP(t),d=s.lastElement().exists(function(y){return jr(o,y)});if(m$(t,o))return d?wA:ds;if(d)return g$(r,s.getMode(),function(){var y=aI(f,Ya(r));return y&&!s.isReposition()?DB:wA});var h=s.getMode()==="fixed"?l.y+su().top:l.y,p=$a(r)+o5;return h+p<=f.y?ds:rv},p$=function(t,r,o,s){var l=function(p){return function(y,S,A,z,R){var N=h$(t,z,p,o,R),W=K(K({},y),{y:R.y,height:R.height});return K(K({},N(W,S,A,z,R)),{alwaysFit:!0})}},f=function(p){return sI(s)?[l(p)]:[]},d={onLtr:function(p){return[Mi,Eo,mi,Vo,co,Ao].concat(f(p))},onRtl:function(p){return[Mi,Eo,co,Ao,mi,Vo].concat(f(p))}},h={onLtr:function(p){return[Eo,Vo,Ao,mi,co,Mi].concat(f(p))},onRtl:function(p){return[Eo,Ao,Vo,co,mi,Mi].concat(f(p))}};return r?h:d},b$=function(t,r,o,s){return r==="line"?{bubble:Hf(o5,0,iI),layouts:{onLtr:function(){return[Jh]},onRtl:function(){return[Kl]}},overrides:uI}:{bubble:Hf(0,o5,iI,1/o5),layouts:p$(t,o,s,r),overrides:uI}},XP=function(t,r){var o=dt(r,function(d){return d.predicate(t.dom)}),s=Bt(o,function(d){return d.type==="contexttoolbar"}),l=s.pass,f=s.fail;return{contextToolbars:l,contextForms:f}},y$=function(t){if(t.length<=1)return t;var r=function(h){return Cr(t,function(p){return p.position===h})},o=function(h){return dt(t,function(p){return p.position===h})},s=r("selection"),l=r("node");if(s||l)if(l&&s){var f=o("node"),d=Ke(o("selection"),function(h){return K(K({},h),{position:"node"})});return f.concat(d)}else return o(s?"selection":"node");else return o("line")},w$=function(t){if(t.length<=1)return t;var r=function(s){return at(t,function(l){return l.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return dt(t,function(l){return l.position===s})})},C$=function(t,r,o){var s=XP(t,r);if(s.contextForms.length>0)return x.some({elem:t,toolbars:[s.contextForms[0]]});var l=XP(t,o);if(l.contextForms.length>0)return x.some({elem:t,toolbars:[l.contextForms[0]]});if(s.contextToolbars.length>0||l.contextToolbars.length>0){var f=y$(s.contextToolbars.concat(l.contextToolbars));return x.some({elem:t,toolbars:f})}else return x.none()},x$=function(t,r,o){return t(r)?x.none():Lb(r,function(s){if(na(s)){var l=XP(s,o.inNodeScope),f=l.contextToolbars,d=l.contextForms,h=d.length>0?d:w$(f);return h.length>0?x.some({elem:s,toolbars:h}):x.none()}else return x.none()},t)},S$=function(t,r){var o=Ye.fromDom(r.getBody()),s=function(d){return jr(d,o)},l=function(d){return!s(d)&&!Ti(o,d)},f=Ye.fromDom(r.selection.getNode());return l(f)?x.none():C$(f,t.inNodeScope,t.inEditorScope).orThunk(function(){return x$(s,f,t)})},k$=function(t,r){var o={},s=[],l=[],f={},d={},h=function(S,A){var z=Ms(m2(A));o[S]=z,z.launch.map(function(R){f["form:"+S]=K(K({},A.launch),{type:R.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(z)}})}),z.scope==="editor"?l.push(z):s.push(z),d[S]=z},p=function(S,A){IA(A).each(function(z){A.scope==="editor"?l.push(z):s.push(z),d[S]=z})},y=st(t);return be(y,function(S){var A=t[S];A.type==="contextform"?h(S,A):A.type==="contexttoolbar"&&p(S,A)}),{forms:o,inNodeScope:s,inEditorScope:l,lookupTable:d,formNavigators:f}},cI=wt("forward-slide"),lI=wt("backward-slide"),YP=wt("change-slide-event"),ZP="tox-pop--resizing",A$=function(t){var r=jt([]);return Jr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),Jr.getContent(o).each(function(s){xr(s.element,"visibility")}),Pa(o.element,ZP),xr(o.element,"width")},inlineBehaviours:qe([En("context-toolbar-events",[ul(Om(),function(o,s){s.event.raw.propertyName==="width"&&(Pa(o.element,ZP),xr(o.element,"width"))}),Oe(YP,function(o,s){var l=o.element;xr(l,"width");var f=Xo(l);Jr.setContent(o,s.event.contents),so(l,ZP);var d=Xo(l);ln(l,"width",f+"px"),Jr.getContent(o).each(function(h){s.event.focus.bind(function(p){return Sc(p),ss(l)}).orThunk(function(){return Gt.focusIn(h),vl(on(l))})}),cf.setTimeout(function(){ln(o.element,"width",d+"px")},0)}),Oe(cI,function(o,s){Jr.getContent(o).each(function(l){r.set(r.get().concat([{bar:l,focus:vl(on(o.element))}]))}),qt(o,YP,{contents:s.event.forwardContents,focus:x.none()})}),Oe(lI,function(o,s){et(r.get()).each(function(l){r.set(r.get().slice(0,r.get().length-1)),qt(o,YP,{contents:hu(l.bar),focus:l.focus})})})]),Gt.config({mode:"special",onEscape:function(o){return et(r.get()).fold(function(){return t.onEscape()},function(s){return Fn(o,lI),x.some(!0)})}})]),lazySink:function(){return An.value(t.sink)}})},JP="tox-pop--transition",E$=function(t,r,o,s){var l=s.backstage,f=l.shared,d=Lt().deviceType.isTouch,h=da(),p=da(),y=da(),S=Ho(A$({sink:o,onEscape:function(){return t.focus(),x.some(!0)}})),A=function(){var Ae=y.get().getOr("node"),ot=sI(Ae)?1:0;return oI(t,f,Ae,ot)},z=function(){return!t.removed&&!(d()&&l.isContextMenuOpen())},R=function(Ae){return Rr(Ur(Ae,h.get(),jr),!0)},N=function(){if(z()){var Ae=A(),ot=Rr(y.get(),"node")?f$(t,h.get()):KP(t);return Ae.height<=0||!aI(ot,Ae)}else return!0},W=function(){h.clear(),p.clear(),y.clear(),Jr.hide(S)},te=function(){if(Jr.isOpen(S)){var Ae=S.element;xr(Ae,"display"),N()?ln(Ae,"display","none"):(p.set(0),Jr.reposition(S))}},H=function(Ae){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ae],behaviours:qe([Gt.config({mode:"acyclic"}),En("pop-dialog-wrap-events",[ca(function(ot){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Gt.focusIn(ot)})}),gu(function(ot){t.shortcuts.remove("ctrl+F9")})])])}},re=yo(function(){return k$(r,function(Ae){var ot=ne([Ae]);qt(S,cI,{forwardContents:H(ot)})})}),me=function(Ae,ot){return r5(t,{buttons:Ae,toolbar:ot.items,allowToolbarGroups:!1},s,x.some(["form:"]))},ye=function(Ae,ot){return c$.buildInitGroups(Ae,ot)},ne=function(Ae){var ot=t.ui.registry.getAll().buttons,_e=re(),xe=K(K({},ot),_e.formNavigators),tt=Ag(t)===yu.scrolling?yu.scrolling:yu.default,Et=bt(Ke(Ae,function(Ee){return Ee.type==="contexttoolbar"?me(xe,Ee):ye(Ee,f.providers)}));return QT({type:tt,uid:wt("context-toolbar"),initGroups:Et,onEscape:x.none,cyclicKeying:!0,providers:f.providers})},ce=function(Ae,ot){var _e=Ae==="node"?f.anchors.node(ot):f.anchors.cursor(),xe=b$(t,Ae,d(),{lastElement:h.get,isReposition:function(){return Rr(p.get(),0)},getMode:function(){return hi.getMode(o)}});return we(_e,xe)},Se=function(Ae,ot){if(rt.cancel(),!!z()){var _e=ne(Ae),xe=Ae[0].position,tt=ce(xe,ot);y.set(xe),p.set(1);var Et=S.element;xr(Et,"display"),R(ot)||(Pa(Et,JP),hi.reset(o,S)),Jr.showWithinBounds(S,H(_e),{anchor:tt,transition:{classes:[JP],mode:"placement"}},function(){return x.some(A())}),ot.fold(h.clear,h.set),N()&&ln(Et,"display","none")}},rt=o2(function(){if(!(!t.hasFocus()||t.removed))if(vi(S.element,JP))rt.throttle();else{var Ae=re();S$(Ae,t).fold(W,function(ot){Se(ot.toolbars,x.some(ot.elem))})}},17);t.on("init",function(){t.on("remove",W),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",te),t.on("click keyup focus SetContent",rt.throttle),t.on(tI,W),t.on(n$,function(Ae){var ot=re();Ot(ot.lookupTable,Ae.toolbarKey).each(function(_e){Se([_e],qa(Ae.target!==t,Ae.target)),Jr.getContent(S).each(Gt.focusIn)})}),t.on("focusout",function(Ae){cf.setEditorTimeout(t,function(){ss(o.element).isNone()&&ss(S.element).isNone()&&W()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&W()}),t.on("AfterProgressState",function(Ae){Ae.state?W():t.hasFocus()&&rt.throttle()}),t.on("NodeChange",function(Ae){ss(S.element).fold(rt.throttle,Pe)})})},T$=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];be(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:ec(t,o.cmd),onSetup:e5(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:ec(t,"JustifyNone")})},O$={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},D$=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",l=function(h){return"(?:"+h+")?"},f=["Infinity",t+s+l(t)+l(o),s+t+l(o),t+l(o)].join("|"),d="[+-]?(?:"+f+")";return new RegExp("^("+d+")(.*)$")}(),_$=function(t,r){return Cr(r,function(o){return Cr(O$[o],function(s){return t===s})})},B$=function(t,r){var o=x.from(D$.exec(t));return o.bind(function(s){var l=Number(s[1]),f=s[2];return _$(f,r)?x.some({value:l,unit:f}):x.none()})},z$=function(t,r){return B$(t,r).map(function(o){var s=o.value,l=o.unit;return s+l})},fI=function(t,r){var o=function(){var s=r.getOptions(t),l=r.getCurrent(t).map(r.hash),f=da();return Ke(s,function(d){return{type:"togglemenuitem",text:r.display(d),onSetup:function(h){var p=function(S){S&&(f.on(function(A){return A.setActive(!1)}),f.set(h)),h.setActive(S)};p(Rr(l,r.hash(d)));var y=r.watcher(t,d,p);return function(){f.clear(),y()}},onAction:function(){return r.setCurrent(t,d)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},M$={name:"lineheight",text:"Line height",icon:"line-height",getOptions:S6,hash:function(t){return z$(t,["fixed","relative","empty"]).getOr(t)},display:Mt,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return x.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},R$=function(t){var r=x.from(k6(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:X(o),hash:function(s){return nr(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,l,f){return s.formatter.formatChanged("lang",f,!1,{value:l.code,customValue:l.customCode}).unbind},getCurrent:function(s){var l=Ye.fromDom(s.selection.getNode());return $b(l,function(f){return x.some(f).filter(na).bind(function(d){var h=Sa(d,"lang");return h.map(function(p){var y=Sa(d,"data-mce-lang").getOrUndefined();return{code:p,customCode:y,title:""}})})})},setCurrent:function(s,l){return s.execCommand("Lang",!1,l)},onToolbarSetup:function(s){var l=$f();return s.setActive(t.formatter.match("lang",{},void 0,!0)),l.set(t.formatter.formatChanged("lang",s.setActive,!0)),l.clear}}})},P$=function(t){fI(t,M$),R$(t).each(function(r){return fI(t,r)})},F$=function(t,r){eL(t,r),oL(t,r),bL(t,r),hL(t,r),dL(t,r)},I$=function(t){return t5(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},N$=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:I$(t),onAction:ec(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:ec(t,"indent")})},L$=function(t){N$(t)},QP=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},$$=function(t){Ic.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,l){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:e5(t,s.name),onAction:QP(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:e5(t,o),onAction:QP(t,o)})}},H$=function(t){Ic.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:ec(t,r.action)})})},V$=function(t){Ic.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:ec(t,r.action),onSetup:e5(t,r.name)})})},U$=function(t){$$(t),H$(t),V$(t)},W$=function(t){Ic.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:ec(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:QP(t,"code")})},j$=function(t){U$(t),W$(t)},i5=function(t,r){return t5(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},q$=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:i5(t,"hasUndo"),onAction:ec(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:i5(t,"hasRedo"),onAction:ec(t,"redo")})},G$=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:i5(t,"hasUndo"),onAction:ec(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:i5(t,"hasRedo"),onAction:ec(t,"redo")})},K$=function(t){q$(t),G$(t)},X$=function(t){return t5(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},Y$=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:X$(t),onAction:ec(t,"mceToggleVisualAid")})},Z$=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ec(t,"mceToggleVisualAid")})},J$=function(t){Z$(t),Y$(t)},Q$=function(t,r){T$(t),j$(t),F$(t,r),K$(t),gz(t),J$(t),L$(t),P$(t)},HC=function(t,r){return{type:"makeshift",x:t,y:r}},eH=function(t,r,o){return HC(t.x+r,t.y+o)},vI=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},tH=function(t){if(vI(t)){var r=t.touches[0];return HC(r.pageX,r.pageY)}else return HC(t.pageX,t.pageY)},nH=function(t){if(vI(t)){var r=t.touches[0];return HC(r.clientX,r.clientY)}else return HC(t.clientX,t.clientY)},rH=function(t,r){var o=kg.DOM.getPos(t);return eH(r,o.x,o.y)},aH=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?tH(r):rH(t.getContentAreaContainer(),nH(r)):dI(t)},dI=function(t){return{type:"selection",root:Ye.fromDom(t.selection.getNode())}},oH=function(t){return{type:"node",node:x.some(Ye.fromDom(t.selection.getNode())),root:Ye.fromDom(t.getBody())}},mI=function(t,r,o){switch(o){case"node":return oH(t);case"point":return aH(t,r);case"selection":return dI(t)}},iH=function(t,r,o,s,l,f){var d=o(),h=mI(t,r,f);nm(d,Gs.CLOSE_ON_EXECUTE,s,!1).map(function(p){r.preventDefault(),Jr.showMenuAt(l,{anchor:h},{menu:{markers:yl("normal")},data:p})})},uH={onLtr:function(){return[Eo,Vo,Ao,mi,co,Mi,ds,rv,nv,Kp,yg,bg]},onRtl:function(){return[Eo,Ao,Vo,co,mi,Mi,ds,rv,yg,bg,nv,Kp]}},sH=12,cH={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},lH=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],l=o.getRng(),f=$0(t.getWin(),qm.domRange(l));return f.exists(function(d){return d.left<=s.clientX&&d.right>=s.clientX&&d.top<=s.clientY&&d.bottom>=s.clientY})},fH=function(t){var r=t.selection.getRng(),o=function(){cf.setEditorTimeout(t,function(){t.selection.setRng(r)},10),f()};t.once("touchend",o);var s=function(d){d.preventDefault(),d.stopImmediatePropagation()};t.on("mousedown",s,!0);var l=function(){return f()};t.once("longpresscancel",l);var f=function(){t.off("touchend",o),t.off("longpresscancel",l),t.off("mousedown",s)}},vH=function(t,r,o){var s=mI(t,r,o),l=o==="point"?sH:0;return K({bubble:Hf(0,l,cH),layouts:uH,overrides:{maxWidthFunction:Ku(),maxHeightFunction:Wm()}},s)},dH=function(t,r,o,s,l,f,d){var h=vH(t,r,f);nm(o,Gs.CLOSE_ON_EXECUTE,s,!0).map(function(p){r.preventDefault(),Jr.showMenuWithinBounds(l,{anchor:h},{menu:{markers:yl("normal"),highlightImmediately:d},data:p,type:"horizontal"},function(){return x.some(oI(t,s.shared,f==="node"?"node":"selection"))}),t.fire(tI)})},mH=function(t,r,o,s,l,f){var d=Lt(),h=d.os.isiOS(),p=d.os.isOSX(),y=d.os.isAndroid(),S=d.deviceType.isTouch(),A=function(){return!(y||h||p&&S)},z=function(){var N=o();dH(t,r,N,s,l,f,A())};if((p||h)&&f!=="node"){var R=function(){fH(t),z()};lH(t,r)?R():(t.once("selectionchange",R),t.once("touchend",function(){return t.off("selectionchange",R)}))}else z()},gI=function(t){return typeof t=="string"?t.split(/[ ,]/):t},hI=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},gH=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return x.from(t.getParam(r)).map(gI).getOrThunk(function(){return dt(gI(o),function(l){return mn(s,l)})})},hH=function(t){return t.getParam("contextmenu")===!1},pH=function(t){return gH(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},bH=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},pI=function(t){return Nt(t)?t==="|":t.type==="separator"},eF={type:"separator"},bI=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(Nt(t))return t;switch(t.type){case"separator":return eF;case"submenu":return K(K({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return Nt(o)?o:Ke(o,bI)}});default:return K(K({type:"menuitem"},r(t)),{onAction:bn(t.onAction)})}},yI=function(t,r){if(r.length===0)return t;var o=et(t).filter(function(l){return!pI(l)}),s=o.fold(function(){return[]},function(l){return[eF]});return t.concat(s).concat(r).concat([eF])},yH=function(t,r,o){var s=Yt(r,function(l,f){return Ot(t,f.toLowerCase()).map(function(d){var h=d.update(o);if(Nt(h))return yI(l,h.split(" "));if(h.length>0){var p=Ke(h,bI);return yI(l,p)}else return l}).getOrThunk(function(){return l.concat([f])})},[]);return s.length>0&&pI(s[s.length-1])&&s.pop(),s},wH=function(t,r){return r.ctrlKey&&!hI(t)},wI=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},CI=function(t,r){return wI(t,r)?t.selection.getStart(!0):r.target},CH=function(t,r){var o=bH(t),s=wI(t,r)?"selection":"point";if(eu(o)){var l=CI(t,r),f=Ig(Ye.fromDom(l),o);return f?"node":s}else return s},xH=function(t,r,o){var s=Lt(),l=s.deviceType.isTouch,f=Ho(Jr.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:qe([En("dismissContextMenu",[Oe(Is(),function(p,y){jn.close(p),t.focus()})])])})),d=function(p){return Jr.hide(f)},h=function(p){if(hI(t)&&p.preventDefault(),!(wH(t,p)||hH(t))){var y=CH(t,p),S=function(){var z=CI(t,p),R=t.ui.registry.getAll(),N=pH(t);return yH(R.contextMenus,N,z)},A=l()?mH:iH;A(t,p,S,o,f,y)}};t.on("init",function(){var p="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");t.on(p,d),t.on("longpress contextmenu",h)})},tF=Fu.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),u5=function(t){return function(r){return r.translate(-t.left,-t.top)}},s5=function(t){return function(r){return r.translate(t.left,t.top)}},zv=function(t){return function(r,o){return Yt(t,function(s,l){return l(s)},Br(r,o))}},c5=function(t,r,o){return t.fold(zv([s5(o),u5(r)]),zv([u5(r)]),zv([]))},pb=function(t,r,o){return t.fold(zv([s5(o)]),zv([]),zv([s5(r)]))},xI=function(t,r,o){return t.fold(zv([]),zv([u5(o)]),zv([s5(r),u5(o)]))},SH=function(t,r,o,s,l,f){var d=pb(t,l,f),h=pb(r,l,f);return Math.abs(d.left-h.left)<=o&&Math.abs(d.top-h.top)<=s},kH=function(t,r,o,s,l,f){var d=pb(t,l,f),h=pb(r,l,f),p=Math.abs(d.left-h.left),y=Math.abs(d.top-h.top);return Br(p,y)},SI=function(t,r,o){var s=t.fold(function(l,f){return{position:x.some("absolute"),left:x.some(l+"px"),top:x.some(f+"px")}},function(l,f){return{position:x.some("absolute"),left:x.some(l-o.left+"px"),top:x.some(f-o.top+"px")}},function(l,f){return{position:x.some("fixed"),left:x.some(l+"px"),top:x.some(f+"px")}});return K({right:x.none(),bottom:x.none()},s)},AH=function(t,r,o){return t.fold(function(s,l){return l5(s+r,l+o)},function(s,l){return fm(s+r,l+o)},function(s,l){return vh(s+r,l+o)})},nF=function(t,r,o,s){var l=function(f,d){return function(h,p){var y=f(r,o,s);return d(h.getOr(y.left),p.getOr(y.top))}};return t.fold(l(xI,l5),l(pb,fm),l(c5,vh))},l5=tF.offset,fm=tF.absolute,vh=tF.fixed,kI=function(t,r){var o=Yr(t,r);return nr(o)?NaN:parseInt(o,10)},EH=function(t,r){var o=t.element,s=kI(o,r.leftAttr),l=kI(o,r.topAttr);return isNaN(s)||isNaN(l)?x.none():x.some(Br(s,l))},TH=function(t,r,o){var s=t.element;Tn(s,r.leftAttr,o.left+"px"),Tn(s,r.topAttr,o.top+"px")},OH=function(t,r){var o=t.element;oo(o,r.leftAttr),oo(o,r.topAttr)},DH=function(t,r,o,s){return EH(t,r).fold(function(){return o},function(l){return vh(l.left+s.left,l.top+s.top)})},_H=function(t,r,o,s,l,f){var d=DH(t,r,o,s),h=r.mustSnap?zH(t,r,d,l,f):MH(t,r,d,l,f),p=c5(d,l,f);return TH(t,r,p),h.fold(function(){return{coord:vh(p.left,p.top),extra:x.none()}},function(y){return{coord:y.output,extra:y.extra}})},BH=function(t,r){OH(t,r)},AI=function(t,r,o,s){return gt(t,function(l){var f=l.sensor,d=SH(r,f,l.range.left,l.range.top,o,s);return d?x.some({output:nF(l.output,r,o,s),extra:l.extra}):x.none()})},zH=function(t,r,o,s,l){var f=r.getSnapPoints(t),d=AI(f,o,s,l);return d.orThunk(function(){var h=Yt(f,function(p,y){var S=y.sensor,A=kH(o,S,y.range.left,y.range.top,s,l);return p.deltas.fold(function(){return{deltas:x.some(A),snap:x.some(y)}},function(z){var R=(A.left+A.top)/2,N=(z.left+z.top)/2;return R<=N?{deltas:x.some(A),snap:x.some(y)}:p})},{deltas:x.none(),snap:x.none()});return h.snap.map(function(p){return{output:nF(p.output,o,s,l),extra:p.extra}})})},MH=function(t,r,o,s,l){var f=r.getSnapPoints(t);return AI(f,o,s,l)},RH=function(t,r,o){return{coord:nF(t.output,t.output,r,o),extra:t.extra}},PH=function(t,r,o,s){var l=r.getTarget(t.element);if(r.repositionTarget){var f=ao(t.element),d=su(f),h=yf(l),p=RH(s,d,h),y=SI(p.coord,d,h);cc(l,y)}},FH=Object.freeze({__proto__:null,snapTo:PH}),rF="data-initial-z-index",IH=function(t){La(t.element).filter(na).each(function(r){Sa(r,rF).fold(function(){return xr(r,"z-index")},function(o){return ln(r,"z-index",o)}),oo(r,rF)})},NH=function(t){La(t.element).filter(na).each(function(r){io(r,"z-index").each(function(o){Tn(r,rF,o)}),ln(r,"z-index",ba(t.element,"z-index"))})},EI=function(t,r){t.getSystem().addToGui(r),NH(r)},LH=function(t){IH(t),t.getSystem().removeFromGui(t)},TI=function(t,r,o){return t.getSystem().build(jo.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},$H=vu("snaps",[Te("getSnapPoints"),zn("onSensor"),Te("leftAttr"),Te("topAttr"),ae("lazyViewport",lu),ae("mustSnap",!1)]),aF=[ae("useFixed",ut),Te("blockerClass"),ae("getTarget",Mt),ae("onDrag",Pe),ae("repositionTarget",!0),ae("onDrop",Pe),zr("getBounds",lu),$H],HH=function(t){return qo(io(t,"left"),io(t,"top"),io(t,"position"),function(r,o,s){var l=s==="fixed"?vh:l5;return l(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=si(t);return fm(r.left,r.top)})},VH=function(t,r,o,s,l){var f=l.bounds,d=pb(r,o,s),h=zi(d.left,f.x,f.x+f.width-l.width),p=zi(d.top,f.y,f.y+f.height-l.height),y=fm(h,p);return r.fold(function(){var S=xI(y,o,s);return l5(S.left,S.top)},X(y),function(){var S=c5(y,o,s);return vh(S.left,S.top)})},UH=function(t,r,o,s,l,f,d){var h=r.fold(function(){var p=AH(o,f.left,f.top),y=c5(p,s,l);return vh(y.left,y.top)},function(p){var y=_H(t,p,o,f,s,l);return y.extra.each(function(S){p.onSensor(t,S)}),y.coord});return VH(t,h,s,l,d)},WH=function(t,r,o,s){var l=r.getTarget(t.element);if(r.repositionTarget){var f=ao(t.element),d=su(f),h=yf(l),p=HH(l),y=UH(t,r.snaps,p,d,h,s,o),S=SI(y,d,h);cc(l,S)}r.onDrag(t,l,s)},OI=function(t,r){return{bounds:t.getBounds(),height:iu(r.element),width:lc(r.element)}},oF=function(t,r,o,s,l){var f=o.update(s,l),d=o.getStartData().getOrThunk(function(){return OI(r,t)});f.each(function(h){WH(t,r,d,h)})},DI=function(t,r,o,s){r.each(LH),o.snaps.each(function(f){BH(t,f)});var l=o.getTarget(t.element);s.reset(),o.onDrop(t,l)},iF=function(t){return function(r,o){var s=function(l){o.setStartData(OI(r,l))};return Mr(Rt([Oe(Yb(),function(l){o.getStartData().each(function(){return s(l)})})],t(r,o,s),!0))}},jH=function(t){return Mr([Oe(os(),t.forceDrop),Oe(Ub(),t.drop),Oe(_f(),function(r,o){t.move(o.event)}),Oe(Vb(),t.delayDrop)])},qH=function(t){return x.from(Br(t.x,t.y))},GH=function(t,r){return Br(r.left-t.left,r.top-t.top)},KH=Object.freeze({__proto__:null,getData:qH,getDelta:GH}),_I=function(t,r,o){return[Oe(os(),function(s,l){var f=l.event.raw;if(f.button===0){l.stop();var d=function(){return DI(s,x.some(y),t,r)},h=i4(d,200),p={drop:d,delayDrop:h.schedule,forceDrop:d,move:function(A){h.cancel(),oF(s,t,r,KH,A)}},y=TI(s,t.blockerClass,jH(p)),S=function(){o(s),EI(s,y)};S()}})]},XH=Rt(Rt([],aF,!0),[Dr("dragger",{handlers:iF(_I)})],!1),YH=function(t){return Mr([Oe(ol(),t.forceDrop),Oe(Em(),t.drop),Oe(ux(),t.drop),Oe(Ps(),function(r,o){t.move(o.event)})])},ZH=function(t){var r=t[0];return x.some(Br(r.clientX,r.clientY))},JH=function(t){var r=t.raw,o=r.touches;return o.length===1?ZH(o):x.none()},QH=function(t,r){return Br(r.left-t.left,r.top-t.top)},BI=Object.freeze({__proto__:null,getData:JH,getDelta:QH}),zI=function(t,r,o){var s=da(),l=function(f){DI(f,s.get(),t,r),s.clear()};return[Oe(ol(),function(f,d){d.stop();var h=function(){return l(f)},p={drop:h,delayDrop:Pe,forceDrop:h,move:function(A){oF(f,t,r,BI,A)}},y=TI(f,t.blockerClass,YH(p));s.set(y);var S=function(){o(f),EI(f,y)};S()}),Oe(Ps(),function(f,d){d.stop(),oF(f,t,r,BI,d.event)}),Oe(Em(),function(f,d){d.stop(),l(f)}),Oe(ux(),l)]},e9=Rt(Rt([],aF,!0),[Dr("dragger",{handlers:iF(zI)})],!1),t9=function(t,r,o){return Rt(Rt([],_I(t,r,o),!0),zI(t,r,o),!0)},n9=Rt(Rt([],aF,!0),[Dr("dragger",{handlers:iF(t9)})],!1),r9=XH,a9=e9,o9=n9,i9=Object.freeze({__proto__:null,mouse:r9,touch:a9,mouseOrTouch:o9}),u9=function(){var t=x.none(),r=x.none(),o=function(){t=x.none(),r=x.none()},s=function(p,y){var S=t.map(function(A){return p.getDelta(A,y)});return t=x.some(y),S},l=function(p,y){return p.getData(y).bind(function(S){return s(p,S)})},f=function(p){r=x.some(p)},d=function(){return r},h=X({});return li({readState:h,reset:o,update:l,getStartData:d,setStartData:f})},s9=Object.freeze({__proto__:null,init:u9}),dh=cd({branchKey:"mode",branches:i9,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:x.from(t.extra)}}},state:s9,apis:FH}),uF=40,f5=uF/2,MI=function(t,r,o,s,l,f){return t.fold(function(){return dh.snap({sensor:fm(o-f5,s-f5),range:Br(l,f),output:fm(x.some(o),x.some(s)),extra:{td:r}})},function(d){var h=o-f5,p=s-f5,y=uF,S=uF,A=d.element.dom.getBoundingClientRect();return dh.snap({sensor:fm(h,p),range:Br(y,S),output:fm(x.some(o-A.width/2),x.some(s-A.height/2)),extra:{td:r}})})},RI=function(t,r,o){var s=function(l,f){return l.exists(function(d){return jr(d,f)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(l,f){var d=f.td;s(r.get(),d)||(r.set(d),o(d))},mustSnap:!0}},PI=function(t){return ir(Wo.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:qe([dh.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Vg.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},c9=function(t,r){var o=jt([]),s=jt([]),l=jt(!1),f=da(),d=da(),h=function(Se){var rt=fc(Se);return MI(R.getOpt(r),Se,rt.x,rt.y,rt.width,rt.height)},p=function(){return Ke(o.get(),function(Se){return h(Se)})},y=function(Se){var rt=fc(Se);return MI(N.getOpt(r),Se,rt.right,rt.bottom,rt.width,rt.height)},S=function(){return Ke(s.get(),function(Se){return y(Se)})},A=RI(p,f,function(Se){d.get().each(function(rt){t.fire("TableSelectorChange",{start:Se,finish:rt})})}),z=RI(S,d,function(Se){f.get().each(function(rt){t.fire("TableSelectorChange",{start:rt,finish:Se})})}),R=PI(A),N=PI(z),W=Ho(R.asSpec()),te=Ho(N.asSpec()),H=function(Se,rt,Ae,ot){var _e=rt.dom.getBoundingClientRect();xr(Se.element,"display");var xe=Ds(Ye.fromDom(t.getBody())).dom.innerHeight,tt=Ae(_e),Et=ot(_e,xe);(tt||Et)&&ln(Se.element,"display","none")},re=function(Se,rt,Ae,ot){var _e=Ae(rt);dh.snapTo(Se,_e);var xe=function(Et){return Et[ot]<0},tt=function(Et,Ee){return Et[ot]>Ee};H(Se,rt,xe,tt)},me=function(Se){return re(W,Se,h,"top")},ye=function(){return f.get().each(me)},ne=function(Se){return re(te,Se,y,"bottom")},ce=function(){return d.get().each(ne)};Lt().deviceType.isTouch()&&(t.on("TableSelectionChange",function(Se){l.get()||(Uo(r,W),Uo(r,te),l.set(!0)),f.set(Se.start),d.set(Se.finish),Se.otherCells.each(function(rt){o.set(rt.upOrLeftCells),s.set(rt.downOrRightCells),me(Se.start),ne(Se.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){ye(),ce()}),t.on("TableSelectionClear",function(){l.get()&&(cs(W),cs(te),l.set(!1)),f.clear(),d.clear()}))},l9=function(t){return t.nodeType===1&&(t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark")},f9=function(t,r,o){r.delimiter||(r.delimiter="\xBB");var s=function(f){var d=f||[],h=Ke(d,function(y,S){return Wo.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":S,"tab-index":-1,"aria-level":S+1},innerHtml:y.name},action:function(A){t.focus(),t.selection.select(y.element),t.nodeChanged()},buttonBehaviours:qe([wu.button(o.isDisabled),Ia()])})}),p={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return Yt(h.slice(1),function(y,S){var A=y;return A.push(p),A.push(S),A},[h[0]])},l=function(f){for(var d=[],h=f.length;h-- >0;){var p=f[h];if(p.nodeType===1&&!l9(p)){var y=t.fire("ResolveName",{name:p.nodeName.toLowerCase(),target:p});if(y.isDefaultPrevented()||d.push({name:y.name,element:p}),y.isPropagationStopped())break}}return d};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:qe([Gt.config({mode:"flow",selector:"div[role=button]"}),It.config({disabled:o.isDisabled}),Ia(),ma.config({}),dn.config({}),En("elementPathEvents",[ca(function(f,d){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Gt.focusIn(f)}),t.on("NodeChange",function(h){var p=l(h.parents);p.length>0?dn.set(f,s(p)):dn.set(f,[])})})])]),components:[]}},mh;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(mh||(mh={}));var v9=function(t,r,o,s,l){var f={};return f.height=a5(s+r.top,d3(t),I2(t)),o===mh.Both&&(f.width=a5(l+r.left,v3(t),F2(t))),f},FI=function(t,r,o){var s=Ye.fromDom(t.getContainer()),l=v9(t,r,o,$a(s),Xo(s));cn(l,function(f,d){return ln(s,d,GP(f))}),H3(t)},d9=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?mh.None:o==="both"?mh.Both:mh.Vertical},v5=function(t,r,o,s){var l=20,f=Br(o*l,s*l);return FI(t,f,r),x.some(!0)},m9=function(t,r){var o=d9(t);return o===mh.None?x.none():x.some(qs("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[dh.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,l,f){return FI(t,f,o)},blockerClass:"tox-blocker"}),Gt.config({mode:"special",onLeft:function(){return v5(t,o,-1,0)},onRight:function(){return v5(t,o,1,0)},onUp:function(){return v5(t,o,0,-1)},onDown:function(){return v5(t,o,0,1)}}),ma.config({}),nn.config({})]},r.icons))},g9=function(t,r){var o,s=function(l,f,d){return dn.set(l,[Rf(r.translate(["{0} "+d,f[d]]))])};return Wo.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:qe([wu.button(r.isDisabled),Ia(),ma.config({}),dn.config({}),it.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),En("wordcount-events",[gc(function(l){var f=it.getValue(l),d=f.mode==="words"?"characters":"words";it.setValue(l,{mode:d,count:f.count}),s(l,f.count,d)}),ca(function(l){t.on("wordCountUpdate",function(f){var d=it.getValue(l).mode;it.setValue(l,{mode:d,count:f.wordCount}),s(l,f.wordCount,d)})})])]),eventOrder:(o={},o[du()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},h9=function(t,r){var o=function(){var f=bu.translate(["Powered by {0}","Tiny"]),d='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+f+'">'+f+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:d}}},s=function(){var f=[];return t.getParam("elementpath",!0,"boolean")&&f.push(f9(t,{},r)),t.hasPlugin("wordcount")&&f.push(g9(t,r)),t.getParam("branding",!0,"boolean")&&f.push(o()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:f}]:[]},l=function(){var f=s(),d=m9(t,r);return f.concat(d.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:l()}},p9=function(t){var r,o=t.inline,s=o?t$:KL,l=s1(t)?EP:ib,f=x.none(),d=Lt(),h=d.browser.isIE(),p=h?["tox-platform-ie"]:[],y=d.deviceType.isTouch(),S="tox-platform-touch",A=y?[S]:[],z=p3(t),R=Eg(t),N=bu.isRtl()?{attributes:{dir:"rtl"}}:{},W={attributes:(r={},r[z0]=z?ml.BottomToTop:ml.TopToBottom,r)},te=function(){return f.bind(Ca.getHeader)},H=function(){return l.isDocked(te)},re=function(){ln(Su.element,"width",document.body.clientWidth+"px")},me=function(){var oi=jr(pr(),R)&&ba(R,"display")==="grid",vm={dom:K({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(p).concat(A)},N),behaviours:qe([hi.config({useFixed:function(){return H()}})])},yb={dom:{styles:{width:document.body.clientWidth+"px"}},events:Mr([Oe(Fs(),re)])};return we(vm,oi?yb:{})},ye=Ho(me()),ne=function(){return An.value(ye)},ce=ir({dom:{tag:"div",classes:["tox-anchorbar"]}}),Se=function(){return f.bind(function(oi){return ce.getOpt(oi)}).getOrDie("Could not find a anchor bar element")},rt=function(){return f.bind(function(oi){return Ca.getToolbar(oi)}).getOrDie("Could not find more toolbar element")},Ae=function(){return f.bind(function(oi){return Ca.getThrobber(oi)}).getOrDie("Could not find throbber element")},ot=Tv(ye,t,Se),_e=Ca.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ot,onEscape:function(){t.focus()}}),xe=Ag(t),tt=Ca.parts.toolbar(K({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ne,providers:ot.shared.providers,onEscape:function(){t.focus()},type:xe,lazyToolbar:rt,lazyHeader:function(){return te().getOrDie("Could not find header element")}},W)),Et=Ca.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ot.shared.providers,onEscape:function(){t.focus()},type:xe}),Ee=Ca.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),xt=Ca.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),_t=Ca.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ot}),Hn=t.getParam("statusbar",!0,"boolean"),gr=Hn&&!o?x.some(h9(t,ot.shared.providers)):x.none(),ea={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Ee,xt]},tc=i1(t),Cs=L2(t),wF=N2(t),CF=function(){return tc?[Et]:Cs?[tt]:[]},m5=Ca.parts.header({dom:K({tag:"div",classes:["tox-editor-header"]},W),components:bt([wF?[_e]:[],CF(),u1(t)?[]:[ce.asSpec()]]),sticky:s1(t),editor:t,sharedBackstage:ot.shared}),xF=bt([z?[]:[m5],o?[]:[ea],z?[m5]:[]]),UC={dom:{tag:"div",classes:["tox-editor-container"]},components:xF},g5=bt([[UC],o?[]:gr.toArray(),[_t]]),WC=H2(t),h5=K(K({role:"application"},bu.isRtl()?{dir:"rtl"}:{}),WC?{"aria-hidden":"true"}:{}),Wc=Ho(Ca.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(z?["tox-tinymce--toolbar-bottom"]:[]).concat(A).concat(p),styles:K({visibility:"hidden"},WC?{opacity:"0",border:"0"}:{}),attributes:h5},components:g5,behaviours:qe([Ia(),It.config({disableClass:"tox-tinymce--disabled"}),Gt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));f=x.some(Wc),t.shortcuts.add("alt+F9","focus menubar",function(){Ca.focusMenubar(Wc)}),t.shortcuts.add("alt+F10","focus toolbar",function(){Ca.focusToolbar(Wc)}),t.addCommand("ToggleToolbarDrawer",function(){Ca.toggleToolbarDrawer(Wc)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return Ca.isToolbarDrawerToggled(Wc)});var jC=d4(Wc),Su=d4(ye);iP(t,jC,Su);var SF=function(){var oi={broadcastAll:Su.broadcast,broadcastOn:Su.broadcastOn,register:Pe};return{channels:oi}},kF=function(){var oi=GP(YL(t)),vm=GP(ZL(t));return t.inline||(zl("div","width",vm)&&ln(Wc.element,"width",vm),zl("div","height",oi)?ln(Wc.element,"height",oi):ln(Wc.element,"height","200px")),oi},AF=function(){l.setup(t,ot.shared,te),Q$(t,ot),xH(t,ne,ot),G(t),le(t,Ae,ot.shared),kt(E6(t),function(Au,nc){t.ui.registry.addGroupToolbarButton(nc,Au)});var oi=t.ui.registry.getAll(),vm=oi.buttons,yb=oi.menuItems,EF=oi.contextToolbars,wb=oi.sidebars,TF=h3(t),mt={menuItems:yb,menus:z6(t),menubar:M6(t),toolbar:TF.getOrThunk(function(){return V2(t)}),allowToolbarGroups:xe===yu.floating,buttons:vm,sidebar:wb};E$(t,EF,ye,{backstage:ot}),c9(t,ye);var On=t.getElement(),br=kF(),ha={mothership:jC,uiMothership:Su,outerContainer:Wc},ku={targetNode:On,height:br};return s.render(t,ha,mt,ot,ku)};return{mothership:jC,uiMothership:Su,backstage:ot,renderUI:AF,getUi:SF}},b9=function(t,r){var o=x.from(Yr(t,"id")).fold(function(){var s=wt("dialog-describe");return Tn(r,"id",s),s},Mt);Tn(t,"aria-describedby",o)},y9=function(t,r){var o=Sa(t,"id").fold(function(){var s=wt("dialog-label");return Tn(r,"id",s),s},Mt);Tn(t,"aria-labelledby",o)},w9=X([Te("lazySink"),vr("dragBlockClass"),zr("getBounds",lu),ae("useTabstopAt",Ve),ae("eventOrder",{}),Ja("modalBehaviours",[Gt]),la("onExecute"),jl("onEscape")]),sF={sketch:Mt},C9=X([Ws({name:"draghandle",overrides:function(t,r){return{behaviours:qe([dh.config({mode:"mouse",getTarget:function(o){return Uh(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Do({schema:[Te("dom")],name:"title"}),Do({factory:sF,schema:[Te("dom")],name:"close"}),Do({factory:sF,schema:[Te("dom")],name:"body"}),Ws({factory:sF,schema:[Te("dom")],name:"footer"}),vs({factory:{sketch:function(t,r){return K(K({},t),{dom:r.dom,components:r.components})}},schema:[ae("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ae("components",[])],name:"blocker"})]),x9=function(t,r,o,s){var l,f=da(),d=function(N){f.set(N);var W=t.lazySink(N).getOrDie(),te=s.blocker(),H=W.getSystem().build(K(K({},te),{components:te.components.concat([hu(N)]),behaviours:qe([nn.config({}),En("dialog-blocker-events",[ul(Nl(),function(){Gt.focusIn(N)})])])}));Uo(W,H),Gt.focusIn(N)},h=function(N){f.clear(),La(N.element).each(function(W){N.getSystem().getByDom(W).each(function(te){cs(te)})})},p=function(N){return Oc(N,t,"body")},y=function(N){return Oc(N,t,"footer")},S=function(N,W){ht.block(N,W)},A=function(N){ht.unblock(N)},z=wt("modal-events"),R=K(K({},t.eventOrder),(l={},l[mu()]=[z].concat(t.eventOrder["alloy.system.attached"]||[]),l));return{uid:t.uid,dom:t.dom,components:r,apis:{show:d,hide:h,getBody:p,getFooter:y,setIdle:A,setBusy:S},eventOrder:R,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Qa(t.modalBehaviours,[dn.config({}),Gt.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),ht.config({getRoot:f.get}),En(z,[ca(function(N){y9(N.element,Oc(N,t,"title").element),b9(N.element,Oc(N,t,"body").element)})])])}},to=pi({name:"ModalDialog",configFields:w9(),partFields:C9(),factory:x9,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),S9=Ft([un("type"),un("name")].concat(uv)),k9=uo,II=[Za("name","name",Jn(function(){return wt("button-name")}),Aa),Fr("icon"),Ru("align","end",["start","end"]),ua("primary",!1),ua("disabled",!1)],NI=Rt(Rt([],II,!0),[un("text")],!1),cF=Rt([Mu("type",["submit","cancel","custom"])],NI,!0),A9=Rt([Mu("type",["menu"]),Fr("text"),Fr("tooltip"),Fr("icon"),ci("items",S9)],II,!0),E9=zu("type",{submit:cF,cancel:cF,custom:cF,menu:A9}),T9=[un("type"),un("text"),Mu("level",["info","warn","error","success"]),un("icon"),ae("url","")],O9=Ft(T9),D9=function(t){return[un("type"),t]},_9=[un("type"),un("text"),ua("disabled",!1),ua("primary",!1),Za("name","name",Jn(function(){return wt("button-name")}),Aa),Fr("icon"),ua("borderless",!1)],B9=Ft(_9),z9=[un("type"),un("name"),un("label"),ua("disabled",!1)],M9=Ft(z9),R9=uo,lF=[un("type"),un("name")],Uc=lF.concat([Fr("label")]),P9=Uc.concat([ae("columns","auto")]),F9=Ft(P9),I9=Rb([un("value"),un("text"),un("icon")]),N9=Uc,L9=Ft(N9),$9=Aa,H9=Uc,V9=Ft(H9),U9=Aa,W9=lF.concat([Zv("tag","textarea"),un("scriptId"),un("scriptUrl"),Pu("settings",void 0)]),j9=lF.concat([Zv("tag","textarea"),Jo("init")]),q9=Xv(function(t){return ia("customeditor.old",fu(j9),t).orThunk(function(){return ia("customeditor.new",fu(W9),t)})}),G9=Aa,K9=Uc,X9=Ft(K9),Y9=O5(),Z9=function(t){return[un("type"),Fl("columns"),t]},J9=[un("type"),un("html"),Ru("presets","presentation",["presentation","document"])],Q9=Ft(J9),eV=Uc.concat([ua("sandboxed",!0)]),tV=Ft(eV),nV=Aa,rV=Uc.concat([Vi("currentState",Ft([Te("blob"),un("url")]))]),aV=Ft(rV),oV=Uc.concat([Fr("inputMode"),Fr("placeholder"),ua("maximized",!1),ua("disabled",!1)]),iV=Ft(oV),uV=Aa,sV=function(t){return[un("type"),un("label"),t]},cV=[un("text"),un("value")],lV=[un("text"),ci("items",D5("items",function(){return LI}))],LI=Mb([Ft(cV),Ft(lV)]),fV=Uc.concat([ci("items",LI),ua("disabled",!1)]),vV=Ft(fV),dV=Aa,mV=Uc.concat([Ah("items",[un("text"),un("value")]),vc("size",1),ua("disabled",!1)]),gV=Ft(mV),hV=Aa,pV=Uc.concat([ua("constrain",!0),ua("disabled",!1)]),bV=Ft(pV),$I=Ft([un("width"),un("height")]),yV=[un("type"),ci("header",Aa),ci("cells",rl(Aa))],wV=Ft(yV),CV=Uc.concat([Fr("placeholder"),ua("maximized",!1),ua("disabled",!1)]),xV=Ft(CV),SV=Aa,kV=Uc.concat([Ru("filetype","file",["image","media","file"]),ae("disabled",!1)]),AV=Ft(kV),EV=Ft([un("value"),ae("meta",{})]),fF=function(t){return Za("items","items",vn(),rl(Xv(function(r){return ia("Checking item of "+t,vF,r).fold(function(o){return An.error(Tf(o))},function(o){return An.value(o)})})))},vF=QC(function(){return kh("type",{alertbanner:O9,bar:Ft(D9(fF("bar"))),button:B9,checkbox:M9,colorinput:L9,colorpicker:V9,dropzone:X9,grid:Ft(Z9(fF("grid"))),iframe:tV,input:iV,listbox:vV,selectbox:gV,sizeinput:bV,textarea:xV,urlinput:AV,customeditor:q9,htmlpanel:Q9,imagetools:aV,collection:F9,label:Ft(sV(fF("label"))),table:wV,panel:HI})}),TV=[un("type"),ae("classes",[]),ci("items",vF)],HI=Ft(TV),OV=[Za("name","name",Jn(function(){return wt("tab-name")}),Aa),un("title"),ci("items",vF)],DV=[un("type"),Ah("tabs",OV)],_V=Ft(DV),BV=NI,zV=E9,MV=Ft([un("title"),Vi("body",kh("type",{panel:HI,tabpanel:_V})),Zv("size","normal"),ci("buttons",zV),ae("initialData",{}),zr("onAction",Pe),zr("onChange",Pe),zr("onSubmit",Pe),zr("onClose",Pe),zr("onCancel",Pe),ae("onTabChange",Pe)]),RV=function(t){return ia("dialog",MV,t)},PV=Ft(Rt([Mu("type",["cancel","custom"])],BV,!0)),FV=Ft([un("title"),un("url"),km("height"),km("width"),Ui("buttons",PV),zr("onAction",Pe),zr("onCancel",Pe),zr("onClose",Pe),zr("onMessage",Pe)]),IV=function(t){return ia("dialog",FV,t)},dF=function(t){return Dn(t)?[t].concat(er(xa(t),dF)):pn(t)?er(t,dF):[]},NV=function(t){return Nt(t.type)&&Nt(t.name)},LV={checkbox:R9,colorinput:$9,colorpicker:U9,dropzone:Y9,input:uV,iframe:nV,sizeinput:$I,selectbox:hV,listbox:dV,size:$I,textarea:SV,urlinput:EV,customeditor:G9,collection:I9,togglemenuitem:k9},$V=function(t){return x.from(LV[t.type])},HV=function(t){return dt(dF(t),NV)},VV=function(t){var r=HV(t),o=er(r,function(s){return $V(s).fold(function(){return[]},function(l){return[Vi(s.name,l)]})});return Ft(o)},VI=function(t){var r=Ms(RV(t)),o=VV(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},VC={open:function(t,r){var o=VI(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=Ms(IV(r));return t(o)},redial:function(t){return VI(t)}},UI=function(t){var r=[],o={};return cn(t,function(s,l){s.fold(function(){r.push(l)},function(f){o[l]=f})}),r.length>0?An.error(r):An.value(o)},UV=function(t,r){var o=ir(Jd.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ke(t.items,function(l){return yC(s,l,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:qe([Gt.config({mode:"acyclic",useTabstopAt:an(Qd)}),Zs.memento(o),Cv.memento(o,{postprocess:function(s){return UI(s).fold(function(l){return console.error(l),{}},Mt)}})])}},WV=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:gg(t.action),behaviours:Qa(t.tabButtonBehaviours,[nn.config({}),Gt.config({mode:"execution",useSpace:!0,useEnter:!0}),it.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},jV=Gi({name:"TabButton",configFields:[ae("uid",void 0),Te("value"),Za("dom","dom",Zo(function(){return{attributes:{role:"tab",id:wt("aria"),"aria-selected":"false"}}}),zs()),vr("action"),ae("domModification",{}),Ja("tabButtonBehaviours",[nn,Gt,it]),Te("view")],factory:WV}),qV=X([Te("tabs"),Te("dom"),ae("clickToDismiss",!1),Ja("tabbarBehaviours",[sr,Gt]),Nf(["tabClass","selectedClass"])]),GV=ag({factory:jV,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,l){sr.dehighlight(s,l),qt(s,xo(),{tabbar:s,button:l})},o=function(s,l){sr.highlight(s,l),qt(s,cx(),{tabbar:s,button:l})};return{action:function(s){var l=s.getSystem().getByUid(t.uid).getOrDie(),f=sr.isHighlighted(l,s),d=function(){return f&&t.clickToDismiss?r:f?Pe:o}();d(l,s)},domModification:{classes:[t.markers.tabClass]}}}}),KV=X([GV]),XV=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Qa(t.tabbarBehaviours,[sr.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(l,f){Tn(f.element,"aria-selected","true")},onDehighlight:function(l,f){Tn(f.element,"aria-selected","false")}}),Gt.config({mode:"flow",getInitial:function(l){return sr.getHighlighted(l).map(function(f){return f.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},WI=pi({name:"Tabbar",configFields:qV(),partFields:KV(),factory:XV}),YV=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:Qa(t.tabviewBehaviours,[dn.config({})]),domModification:{attributes:{role:"tabpanel"}}}},ZV=Gi({name:"Tabview",configFields:[Ja("tabviewBehaviours",[dn])],factory:YV}),JV=X([ae("selectFirst",!0),zn("onChangeTab"),zn("onDismissTab"),ae("tabs",[]),Ja("tabSectionBehaviours",[])]),QV=Do({factory:WI,schema:[Te("dom"),al("markers",[Te("tabClass"),Te("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),eU=Do({factory:ZV,name:"tabview"}),tU=X([QV,eU]),nU=function(t,r,o,s){var l=function(d){var h=it.getValue(d);kr(d,t,"tabview").each(function(p){var y=at(t.tabs,function(S){return S.value===h});y.each(function(S){var A=S.view();Sa(d.element,"id").each(function(z){Tn(p.element,"aria-labelledby",z)}),dn.set(p,A),t.onChangeTab(p,d,A)})})},f=function(d,h){kr(d,t,"tabbar").each(function(p){h(p).each(il)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:eg(t.tabSectionBehaviours),events:Mr(bt([t.selectFirst?[ca(function(d,h){f(d,sr.getFirst)})]:[],[Oe(cx(),function(d,h){var p=h.event.button;l(p)}),Oe(xo(),function(d,h){var p=h.event.button;t.onDismissTab(d,p)})]])),apis:{getViewItems:function(d){return kr(d,t,"tabview").map(function(h){return dn.contents(h)}).getOr([])},showTab:function(d,h){var p=function(y){var S=sr.getCandidates(y),A=at(S,function(z){return it.getValue(z)===h});return A.filter(function(z){return!sr.isHighlighted(y,z)})};f(d,p)}}}},bb=pi({name:"TabSection",configFields:JV(),partFields:tU(),factory:nU,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),rU=function(t,r,o){return Ke(t,function(s,l){dn.set(o,t[l].view());var f=r.dom.getBoundingClientRect();return dn.set(o,[]),f.height})},aU=function(t){return Xe(za(t,function(r,o){return r>o?-1:r<o?1:0}))},oU=function(t,r,o){var s=Ce(t).dom,l=Uh(t,".tox-dialog-wrap").getOr(t),f=ba(l,"position")==="fixed",d;f?d=Math.max(s.clientHeight,window.innerHeight):d=Math.max(s.offsetHeight,s.scrollHeight);var h=$a(r),p=r.dom.offsetLeft>=o.dom.offsetLeft+Xo(o),y=p?Math.max($a(o),h):h,S=parseInt(ba(t,"margin-top"),10)||0,A=parseInt(ba(t,"margin-bottom"),10)||0,z=$a(t)+S+A,R=z-y;return d-R},iU=function(t,r){Xe(t).each(function(o){return bb.showTab(r,o.value)})},jI=function(t,r){ln(t,"height",r+"px"),Lt().browser.isIE()?xr(t,"flex-basis"):ln(t,"flex-basis",r+"px")},d5=function(t,r,o){Uh(t,'[role="dialog"]').each(function(s){Fa(s,'[role="tablist"]').each(function(l){o.get().map(function(f){return ln(r,"height","0"),ln(r,"flex-basis","0"),Math.min(f,oU(s,r,l))}).each(function(f){jI(r,f)})})})},mF=function(t){return Fa(t,'[role="tabpanel"]')},uU=function(t){var r=function(){var s=da(),l=[ca(function(d){var h=d.element;mF(h).each(function(p){ln(p,"visibility","hidden"),d.getSystem().getByDom(p).toOptional().each(function(y){var S=rU(t,p,y),A=aU(S);A.fold(s.clear,s.set)}),d5(h,p,s),xr(p,"visibility"),iU(t,d),cf.requestAnimationFrame(function(){d5(h,p,s)})})}),Oe(Fs(),function(d){var h=d.element;mF(h).each(function(p){d5(h,p,s)})}),Oe(y1,function(d,h){var p=d.element;mF(p).each(function(y){var S=vl(on(y));ln(y,"visibility","hidden");var A=io(y,"height").map(function(N){return parseInt(N,10)});xr(y,"height"),xr(y,"flex-basis");var z=y.dom.getBoundingClientRect().height,R=A.forall(function(N){return z>N});R?(s.set(z),d5(p,y,s)):A.each(function(N){jI(y,N)}),xr(y,"visibility"),S.each(Sc)})})],f=!1;return{extraEvents:l,selectFirst:f}}(),o=function(){var s=[],l=!0;return{extraEvents:s,selectFirst:l}}();return{smartTabHeight:r,naiveTabHeight:o}},qI="send-data-to-section",GI="send-data-to-view",sU=function(t,r){var o=jt({}),s=function(p){var y=it.getValue(p),S=UI(y).getOr({}),A=o.get(),z=we(A,S);o.set(z)},l=function(p){var y=o.get();it.setValue(p,y)},f=jt(null),d=Ke(t.tabs,function(p){return{value:p.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(p.title)},view:function(){return[Jd.sketch(function(y){return{dom:{tag:"div",classes:["tox-form"]},components:Ke(p.items,function(S){return yC(y,S,r)}),formBehaviours:qe([Gt.config({mode:"acyclic",useTabstopAt:an(Qd)}),En("TabView.form.events",[ca(l),gu(s)]),Hu.config({channels:Df([{key:qI,value:{onReceive:s}},{key:GI,value:{onReceive:l}}])})])}})]}}}),h=uU(d).smartTabHeight;return bb.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(p,y,S){var A=it.getValue(y);qt(p,p4,{name:A,oldName:f.get()}),f.set(A)},tabs:d,components:[bb.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[WI.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:qe([ma.config({})])}),bb.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:h.selectFirst,tabSectionBehaviours:qe([En("tabpanel",h.extraEvents),Gt.config({mode:"acyclic"}),In.config({find:function(p){return Xe(bb.getViewItems(p))}}),it.config({store:{mode:"manual",getValue:function(p){return p.getSystem().broadcastOn([qI],{}),o.get()},setValue:function(p,y){o.set(y),p.getSystem().broadcastOn([GI],{})}}})])})},gF=wt("update-dialog"),KI=wt("update-title"),XI=wt("update-body"),YI=wt("update-footer"),ZI=wt("body-send-message"),JI=function(t,r,o,s){var l=function(h){switch(h.body.type){case"tabpanel":return[sU(h.body,o)];default:return[UV(h.body,o)]}},f=function(h,p){return x.some({isTabPanel:function(){return p.body.type==="tabpanel"}})},d={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:K(K({},r.map(function(h){return{id:h}}).getOr({})),s?d:{})},components:[],behaviours:qe([Zs.childAt(0),Xu.config({channel:XI,updateState:f,renderComponents:l,initialData:t})])}},cU=function(t,r,o,s){return JI(t,x.some(r),o,s)},lU=function(t,r){var o=JI(t,x.none(),r,!1);return to.parts.body(o)},fU=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[pE({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:qe([ma.config({}),nn.config({})])})]}],behaviours:qe([Gt.config({mode:"acyclic",useTabstopAt:an(Qd)})])};return to.parts.body(r)},vU=G2.deviceType.isTouch(),QI=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},eN=function(t,r){return to.parts.close(Wo.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:qe([ma.config({})])}))},tN=function(){return to.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},nN=function(t,r){return to.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:gn("<p>"+r.translate(t)+"</p>")}]}]})},rN=function(t){return to.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},aN=function(t,r){return[jo.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),jo.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},hF=function(t){var r,o="tox-dialog",s=o+"-wrap",l=s+"__backdrop",f=o+"__disable-scroll";return to.sketch({lazySink:t.lazySink,onEscape:function(d){return t.onEscape(d),x.some(!0)},useTabstopAt:function(d){return!Qd(d)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:K({position:"relative"},t.extraStyles)},components:Rt([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:gn('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:vU?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:s,modalBehaviours:qe(Rt([nn.config({}),En("dialog-events",t.dialogEvents.concat([ul(Nl(),function(d,h){Gt.focusIn(d)})])),En("scroll-lock",[ca(function(){so(pr(),f)}),gu(function(){Pa(pr(),f)})])],t.extraBehaviours,!0)),eventOrder:K((r={},r[du()]=["dialog-events"],r[mu()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[zm()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},oN=function(t){return Wo.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[qs("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Fn(r,Cu)}})},iN=function(t,r,o){var s=function(l){return[Rf(o.translate(l.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:K({},r.map(function(l){return{id:l}}).getOr({}))},components:s(t),behaviours:qe([Xu.config({channel:KI,renderComponents:s})])}},uN=function(){return{dom:gn('<div class="tox-dialog__draghandle"></div>')}},dU=function(t,r,o){return jo.sketch({dom:gn('<div class="tox-dialog__header"></div>'),components:[iN(t,x.some(r),o),uN(),oN(o)],containerBehaviours:qe([dh.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return _i(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},mU=function(t,r){var o=to.parts.title(iN(t,x.none(),r)),s=to.parts.draghandle(uN()),l=to.parts.close(oN(r)),f=[o].concat(t.draggable?[s]:[]).concat([l]);return jo.sketch({dom:gn('<div class="tox-dialog__header"></div>'),components:f})},sN=function(t,r){return mU({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},cN=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:gn('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},lN=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){to.setBusy(t(),function(l,f){return cN(s.message,f,r)})},onUnblock:function(){to.setIdle(t())}}},fN=function(t,r,o,s){var l,f=function(d,h){return x.some(h)};return Ho(hF(K(K({},t),{lazySink:s.shared.getSink,extraBehaviours:Rt([Xu.config({channel:gF,updateState:f,initialData:r}),Cv.memory({})],t.extraBehaviours,!0),onEscape:function(d){Fn(d,Cu)},dialogEvents:o,eventOrder:(l={},l[Iu()]=[Xu.name(),Hu.name()],l[mu()]=["scroll-lock",Xu.name(),"messages","dialog-events","alloy.base.behaviour"],l[zm()]=["alloy.base.behaviour","dialog-events","messages",Xu.name(),"scroll-lock"],l)})))},vN=function(t){var r=function(o){var s=Ke(o.items,function(l){var f=jt(!1);return K(K({},l),{storage:f})});return K(K({},o),{items:s})};return Ke(t,function(o){return o.type==="menu"?r(o):o})},dN=function(t){return Yt(t,function(r,o){if(o.type==="menu"){var s=o;return Yt(s.items,function(l,f){return l[f.name]=f.storage,l},r)}return r},{})},mN=function(t,r){return[$l(Nl(),O7),t(Xi,function(o,s){r.onClose(),s.onClose()}),t(Cu,function(o,s,l,f){s.onCancel(o),Fn(f,Xi)}),Oe(qd,function(o,s){return r.onUnblock()}),Oe(b1,function(o,s){return r.onBlock(s.event)})]},gU=function(t,r){var o=function(l,f){return Oe(l,function(d,h){s(d,function(p,y){f(t(),p,h.event,d)})})},s=function(l,f){Xu.getState(l).get().each(function(d){f(d,l)})};return Rt(Rt([],mN(o,r),!0),[o(zc,function(l,f,d){f.onAction(l,{name:d.name})})],!1)},hU=function(t,r,o){var s=function(f,d){return Oe(f,function(h,p){l(h,function(y,S){d(t(),y,p.event,h)})})},l=function(f,d){Xu.getState(f).get().each(function(h){d(h.internalDialog,f)})};return Rt(Rt([],mN(s,r),!0),[s(jd,function(f,d){return d.onSubmit(f)}),s(Ki,function(f,d,h){d.onChange(f,{name:h.name})}),s(zc,function(f,d,h,p){var y=function(){return Gt.focusIn(p)},S=function(R){return ph(R,"disabled")||Sa(R,"aria-disabled").exists(function(N){return N==="true"})},A=on(p.element),z=vl(A);d.onAction(f,{name:h.name,value:h.value}),vl(A).fold(y,function(R){S(R)||z.exists(function(N){return Ti(R,N)&&S(N)})?y():o().toOptional().filter(function(N){return!Ti(N.element,R)}).each(y)})}),s(p4,function(f,d,h){d.onTabChange(f,{newTabName:h.name,oldTabName:h.oldName})}),gu(function(f){var d=t();it.setValue(f,d.getData())})],!1)},pF={initUrlDialog:gU,initDialog:hU},pU=function(t,r){return rm(t,t.type,r)},bU=function(t,r,o){return at(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},yU=function(t,r){var o=r.map(function(h){return h.footerButtons}).getOr([]),s=Bt(o,function(h){return h.align==="start"}),l=function(h,p){return jo.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+h]},components:Ke(p,function(y){return y.memento.asSpec()})})},f=l("start",s.pass),d=l("end",s.fail);return[f,d]},gN=function(t,r){var o=function(s,l){var f=Ke(l.buttons,function(h){var p=ir(pU(h,r));return{name:h.name,align:h.align,memento:p}}),d=function(h,p){return bU(h,f,p)};return x.some({lookupByName:d,footerButtons:f})};return{dom:gn('<div class="tox-dialog__footer"></div>'),components:[],behaviours:qe([Xu.config({channel:YI,initialData:t,updateState:o,renderComponents:yU})])}},wU=function(t,r){return gN(t,r)},hN=function(t,r){return to.parts.footer(gN(t,r))},bF=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=In.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Jd.getField(s,r).fold(function(){var l=t.getFooter(),f=Xu.getState(l);return f.get().bind(function(d){return d.lookupByName(s,r)})},function(l){return x.some(l)})}else return x.none()},CU=function(t,r){var o=t.getRoot();return Xu.getState(o).get().map(function(s){return Ms(ia("data",s.dataValidator,r))}).getOr(r)},pN=function(t,r,o){var s=function(W){var te=t.getRoot();te.getSystem().isConnected()&&W(te)},l=function(){var W=t.getRoot(),te=W.getSystem().isConnected()?t.getFormWrapper():W,H=it.getValue(te),re=kt(o,function(me){return me.get()});return K(K({},H),re)},f=function(W){s(function(te){var H=N.getData(),re=K(K({},H),W),me=CU(t,re),ye=t.getFormWrapper();it.setValue(ye,me),cn(o,function(ne,ce){mn(re,ce)&&ne.set(re[ce])})})},d=function(W){bF(t,W).each(It.disable)},h=function(W){bF(t,W).each(It.enable)},p=function(W){bF(t,W).each(nn.focus)},y=function(W){if(!Nt(W))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(te){qt(te,b1,{message:W})})},S=function(){s(function(W){Fn(W,qd)})},A=function(W){s(function(te){var H=t.getBody(),re=Xu.getState(H);re.get().exists(function(me){return me.isTabPanel()})&&In.getCurrent(H).each(function(me){bb.showTab(me,W)})})},z=function(W){s(function(te){var H=r(W);te.getSystem().broadcastOn([gF],H),te.getSystem().broadcastOn([KI],H.internalDialog),te.getSystem().broadcastOn([XI],H.internalDialog),te.getSystem().broadcastOn([YI],H.internalDialog),N.setData(H.initialData)})},R=function(){s(function(W){Fn(W,Xi)})},N={getData:l,setData:f,disable:d,enable:h,focus:p,block:y,unblock:S,showTab:A,redial:z,close:R};return N},xU=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},SU=function(t,r,o){var s=sN(t.internalDialog.title,o),l=lU({body:t.internalDialog.body},o),f=vN(t.internalDialog.buttons),d=dN(f),h=hN({buttons:f},o),p=pF.initDialog(function(){return R},lN(function(){return A},o.shared.providers,r),o.shared.getSink),y=xU(t.internalDialog.size),S={header:s,body:l,footer:x.some(h),extraClasses:y,extraBehaviours:[],extraStyles:{}},A=fN(S,t,p,o),z=function(){var N=function(){var W=to.getBody(A);return In.getCurrent(W).getOr(W)};return{getRoot:X(A),getBody:function(){return to.getBody(A)},getFooter:function(){return to.getFooter(A)},getFormWrapper:N}}(),R=pN(z,r.redial,d);return{dialog:A,instanceApi:R}},kU=function(t,r,o,s){var l,f,d=wt("dialog-label"),h=wt("dialog-content"),p=function(H,re){return x.some(re)},y=ir(dU({title:t.internalDialog.title,draggable:!0},d,o.shared.providers)),S=ir(cU({body:t.internalDialog.body},h,o,s)),A=vN(t.internalDialog.buttons),z=dN(A),R=ir(wU({buttons:A},o)),N=pF.initDialog(function(){return te},{onBlock:function(H){ht.block(W,function(re,me){return cN(H.message,me,o.shared.providers)})},onUnblock:function(){ht.unblock(W)},onClose:function(){return r.closeWindow()}},o.shared.getSink),W=Ho({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(l={role:"dialog"},l["aria-labelledby"]=d,l["aria-describedby"]=h,l)},eventOrder:(f={},f[Iu()]=[Xu.name(),Hu.name()],f[du()]=["execute-on-form"],f[mu()]=["reflecting","execute-on-form"],f),behaviours:qe([Gt.config({mode:"cyclic",onEscape:function(H){return Fn(H,Xi),x.some(!0)},useTabstopAt:function(H){return!Qd(H)&&(Po(H)!=="button"||Yr(H,"disabled")!=="disabled")}}),Xu.config({channel:gF,updateState:p,initialData:t}),nn.config({}),En("execute-on-form",N.concat([ul(Nl(),function(H,re){Gt.focusIn(H)})])),ht.config({getRoot:function(){return x.some(W)}}),dn.config({}),Cv.memory({})]),components:[y.asSpec(),S.asSpec(),R.asSpec()]}),te=pN({getRoot:X(W),getFooter:function(){return R.get(W)},getBody:function(){return S.get(W)},getFormWrapper:function(){var H=S.get(W);return In.getCurrent(H).getOr(H)}},r.redial,z);return{dialog:W,instanceApi:te}},yF=tinymce.util.Tools.resolve("tinymce.util.URI"),AU=function(t){var r=function(d){t.getSystem().isConnected()&&d(t)},o=function(d){if(!Nt(d))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(h){qt(h,b1,{message:d})})},s=function(){r(function(d){Fn(d,qd)})},l=function(){r(function(d){Fn(d,Xi)})},f=function(d){r(function(h){h.getSystem().broadcastOn([ZI],d)})};return{block:o,unblock:s,close:l,sendMessage:f}},EU=["insertContent","setContent","execCommand","close","block","unblock"],bN=function(t){return Dn(t)&&EU.indexOf(t.mceAction)!==-1},TU=function(t){return!bN(t)&&Dn(t)&&mn(t,"mceAction")},OU=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=Yn(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},DU=function(t,r,o,s){var l,f=sN(t.title,s),d=fU(t),h=t.buttons.bind(function(re){return re.length===0?x.none():x.some(hN({buttons:re},s))}),p=pF.initUrlDialog(function(){return H},lN(function(){return te},s.shared.providers,r)),y=K(K({},t.height.fold(function(){return{}},function(re){return{height:re+"px","max-height":re+"px"}})),t.width.fold(function(){return{}},function(re){return{width:re+"px","max-width":re+"px"}})),S=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],A=new yF(t.url,{base_uri:new yF(window.location.href)}),z=A.protocol+"://"+A.host+(A.port?":"+A.port:""),R=$f(),N=[En("messages",[ca(function(){var re=Oa(Ye.fromDom(window),"message",function(me){if(A.isSameOrigin(new yF(me.raw.origin))){var ye=me.raw.data;bN(ye)?OU(o,H,ye):TU(ye)&&t.onMessage(H,ye)}});R.set(re)}),gu(R.clear)]),Hu.config({channels:(l={},l[ZI]={onReceive:function(re,me){Fa(re.element,"iframe").each(function(ye){var ne=ye.dom.contentWindow;ne.postMessage(me,z)})}},l)})],W={header:f,body:d,footer:h,extraClasses:S,extraBehaviours:N,extraStyles:y},te=fN(W,t,p,s),H=AU(te);return{dialog:te,instanceApi:H}},_U=function(t){var r=t.backstage.shared,o=function(s,l){var f=function(){to.hide(y),l()},d=ir(rm({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:x.none()},"cancel",t.backstage)),h=tN(),p=eN(f,r.providers),y=Ho(hF({lazySink:function(){return r.getSink()},header:QI(h,p),body:nN(s,r.providers),footer:x.some(rN(aN([],[d.asSpec()]))),onEscape:f,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Oe(Cu,f)],eventOrder:{}}));to.show(y);var S=d.get(y);nn.focus(S)};return{open:o}},BU=function(t){var r=t.backstage.shared,o=function(s,l){var f=function(z){to.hide(S),l(z)},d=ir(rm({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:x.none()},"submit",t.backstage)),h=rm({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:x.none()},"cancel",t.backstage),p=tN(),y=eN(function(){return f(!1)},r.providers),S=Ho(hF({lazySink:function(){return r.getSink()},header:QI(p,y),body:nN(s,r.providers),footer:x.some(rN(aN([],[h,d.asSpec()]))),onEscape:function(){return f(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Oe(Cu,function(){return f(!1)}),Oe(jd,function(){return f(!0)})],eventOrder:{}}));to.show(S);var A=d.get(S);nn.focus(A)};return{open:o}},zU=function(t,r){return Ms(ia("data",r,t))},MU=function(t){return Ig(t,".tox-alert-dialog")||Ig(t,".tox-confirm-dialog")},RU=function(t,r,o){return r&&o?[]:[vo.config({contextual:{lazyContext:function(){return x.some(Ya(Ye.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},PU=function(t){var r=t.backstage,o=t.editor,s=s1(o),l=_U(t),f=BU(t),d=function(N,W,te){return W!==void 0&&W.inline==="toolbar"?S(N,r.shared.anchors.inlineDialog(),te,W.ariaAttrs):W!==void 0&&W.inline==="cursor"?S(N,r.shared.anchors.cursor(),te,W.ariaAttrs):y(N,te)},h=function(N,W){return p(N,W)},p=function(N,W){var te=function(H){var re=DU(H,{closeWindow:function(){to.hide(re.dialog),W(re.instanceApi)}},o,r);return to.show(re.dialog),re.instanceApi};return VC.openUrl(te,N)},y=function(N,W){var te=function(H,re,me){var ye=re,ne={dataValidator:me,initialData:ye,internalDialog:H},ce=SU(ne,{redial:VC.redial,closeWindow:function(){to.hide(ce.dialog),W(ce.instanceApi)}},r);return to.show(ce.dialog),ce.instanceApi.setData(ye),ce.instanceApi};return VC.open(te,N)},S=function(N,W,te,H){var re=function(me,ye,ne){var ce=zU(ye,ne),Se=da(),rt=r.shared.header.isPositionedAtTop(),Ae={dataValidator:ne,initialData:ce,internalDialog:me},ot=function(){return Se.on(function(tt){Jr.reposition(tt),vo.refresh(tt)})},_e=kU(Ae,{redial:VC.redial,closeWindow:function(){Se.on(Jr.hide),o.off("ResizeEditor",ot),Se.clear(),te(_e.instanceApi)}},r,H),xe=Ho(Jr.sketch(K(K({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},rt?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:qe(Rt([En("window-manager-inline-events",[Oe(Is(),function(tt,Et){Fn(_e.dialog,Cu)})])],RU(o,s,rt),!0)),isExtraPart:function(tt,Et){return MU(Et)}})));return Se.set(xe),Jr.showWithin(xe,hu(_e.dialog),{anchor:W},x.some(pr())),(!s||!rt)&&(vo.refresh(xe),o.on("ResizeEditor",ot)),_e.instanceApi.setData(ce),Gt.focusIn(_e.dialog),_e.instanceApi};return VC.open(re,N)},A=function(N,W){f.open(N,function(te){W(te)})},z=function(N,W){l.open(N,function(){W()})},R=function(N){N.close()};return{open:d,openUrl:h,alert:z,close:R,confirm:A}};function FU(){lr.add("silver",function(t){var r=p9(t),o=r.uiMothership,s=r.backstage,l=r.renderUI,f=r.getUi;Fz.register(t,s.shared);var d=PU({editor:t,backstage:s});return{renderUI:l,getWindowManagerImpl:X(d),getNotificationManagerImpl:function(){return RB(t,{backstage:s},o)},ui:f()}})}FU()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});var hW=`.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}body.mce-content-body{background-color:#333;color:#dfe0e4;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;line-height:1.4;margin:1rem}.mce-content-body a{color:#4099ff}.mce-content-body table{border-collapse:collapse}.mce-content-body table:not([cellpadding]) td,.mce-content-body table:not([cellpadding]) th{padding:.4rem}.mce-content-body table[border]:not([border="0"]):not([style*=border-width]) td,.mce-content-body table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}.mce-content-body table[border]:not([border="0"]):not([style*=border-style]) td,.mce-content-body table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}.mce-content-body table[border]:not([border="0"]):not([style*=border-color]) td,.mce-content-body table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#6d737b}.mce-content-body figure{display:table;margin:1rem auto}.mce-content-body figure figcaption{color:#8a8f97;display:block;margin-top:.25rem;text-align:center}.mce-content-body hr{border-color:#6d737b;border-style:solid;border-width:1px 0 0 0}.mce-content-body code{background-color:#6d737b;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #6d737b;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #6d737b;margin-right:1.5rem;padding-right:1rem}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%20fill%3D%22%23cccccc%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%236d737b%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:0 0;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282a36}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#6272a4}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ff79c6}.token.boolean,.token.number{color:#bd93f9}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#50fa7b}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#f1fa8c}.token.keyword{color:#8be9fd}.token.important,.token.regex{color:#ffb86c}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%20fill%3D%22%23cccccc%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed #000;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #4099ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #4099ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #4099ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #4099ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #4099ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#4099ff}.mce-content-body .mce-edit-focus{outline:3px solid #4099ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid transparent;content:"";inset:-1px;mix-blend-mode:lighten;position:absolute}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{border-color:#0054b4b3}}.mce-content-body img::-moz-selection{background:0 0}.mce-content-body img::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#4099ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}body{font-family:sans-serif}table{border-collapse:collapse}
`,pW=`code[class*=language-],pre[class*=language-]{color:#ccc;background:0 0;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}
`;const bW=["html { overflow-x: hidden; } body {font-size: 14px;} .mce-content-body img { max-width: 100%; height: auto; }",hW.toString(),pW.toString()],yW=bW.join("");var wW=`.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed #000;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid rgba(180,215,255,.7);content:"";inset:-1px;mix-blend-mode:multiply;position:absolute}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{border-color:#0054b4b3}}.mce-content-body img::-moz-selection{background:0 0}.mce-content-body img::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}body{font-family:sans-serif}table{border-collapse:collapse}
`,CW=`code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}
`;const xW=["html { overflow-x: hidden; } body {font-size: 14px;} .mce-content-body img { max-width: 100%; height: auto; }",wW.toString(),CW.toString()],SW=xW.join("");var kW=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],AW=function(We){return kW.map(function(Tt){return Tt.toLowerCase()}).indexOf(We.toLowerCase())!==-1},EW=function(We,Tt,At){Object.keys(Tt).filter(AW).forEach(function(Rn){var Nt=Tt[Rn];typeof Nt=="function"&&(Rn==="onInit"?Nt(We,At):At.on(Rn.substring(2),function(Dn){return Nt(Dn,At)}))})},TW=function(We,Tt,At,Rn){var Nt=We.modelEvents?We.modelEvents:null,Dn=Array.isArray(Nt)?Nt.join(" "):Nt;KC(Rn,function(pn,cr){At&&typeof pn=="string"&&pn!==cr&&pn!==At.getContent({format:We.outputFormat})&&At.setContent(pn)}),At.on(Dn||"change input undo redo",function(){Tt.emit("update:modelValue",At.getContent({format:We.outputFormat}))})},OW=function(We,Tt,At,Rn,Nt,Dn){Rn.setContent(Dn()),At.attrs["onUpdate:modelValue"]&&TW(Tt,At,Rn,Nt),EW(We,At.attrs,Rn)},kN=0,BN=function(We){var Tt=Date.now(),At=Math.floor(Math.random()*1e9);return kN++,We+"_"+At+kN+String(Tt)},DW=function(We){return We!==null&&We.tagName.toLowerCase()==="textarea"},AN=function(We){return typeof We=="undefined"||We===""?[]:Array.isArray(We)?We:We.split(" ")},_W=function(We,Tt){return AN(We).concat(AN(Tt))},BW=function(We){return We==null},EN=function(){return{listeners:[],scriptId:BN("tiny-script"),scriptLoaded:!1}},zW=function(){var We=EN(),Tt=function(Nt,Dn,pn,cr){var Yn=Dn.createElement("script");Yn.referrerPolicy="origin",Yn.type="application/javascript",Yn.id=Nt,Yn.src=pn;var nr=function(){Yn.removeEventListener("load",nr),cr()};Yn.addEventListener("load",nr),Dn.head&&Dn.head.appendChild(Yn)},At=function(Nt,Dn,pn){We.scriptLoaded?pn():(We.listeners.push(pn),Nt.getElementById(We.scriptId)||Tt(We.scriptId,Nt,Dn,function(){We.listeners.forEach(function(cr){return cr()}),We.scriptLoaded=!0}))},Rn=function(){We=EN()};return{load:At,reinitialize:Rn}},MW=zW(),RW=function(){return typeof window!="undefined"?window:global},gh=function(){var We=RW();return We&&We.tinymce?We.tinymce:null},PW={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(We){return We==="html"||We==="text"}}},hh=globalThis&&globalThis.__assign||function(){return hh=Object.assign||function(We){for(var Tt,At=1,Rn=arguments.length;At<Rn;At++){Tt=arguments[At];for(var Nt in Tt)Object.prototype.hasOwnProperty.call(Tt,Nt)&&(We[Nt]=Tt[Nt])}return We},hh.apply(this,arguments)},FW=function(We,Tt,At,Rn){return We(Rn||"div",{id:Tt,ref:At})},IW=function(We,Tt,At){return We("textarea",{id:Tt,visibility:"hidden",ref:At})},NW=y5({props:PW,setup:function(We,Tt){var At=We.init?hh({},We.init):{},Rn=ZU(We),Nt=Rn.disabled,Dn=Rn.modelValue,pn=Rn.tagName,cr=Mv(null),Yn=null,nr=We.id||BN("tiny-vue"),Kr=We.init&&We.init.inline||We.inline,Jt=!!Tt.attrs["onUpdate:modelValue"],Wn=!0,Vr=We.initialValue?We.initialValue:"",Xr="",Pe=function($t){return Jt?function(){return Dn!=null&&Dn.value?Dn.value:""}:function(){return $t?Vr:Xr}},bn=function(){var $t=Pe(Wn),X=hh(hh({},At),{readonly:We.disabled,selector:"#"+nr,plugins:_W(At.plugins,We.plugins),toolbar:We.toolbar||At.toolbar,inline:Kr,setup:function(Mt){Yn=Mt,Mt.on("init",function(fe){return OW(fe,We,Tt,Mt,Dn,$t)}),typeof At.setup=="function"&&At.setup(Mt)}});DW(cr.value)&&(cr.value.style.visibility=""),gh().init(X),Wn=!1};KC(Nt,function($t){var X;Yn!==null&&(typeof((X=Yn.mode)===null||X===void 0?void 0:X.set)=="function"?Yn.mode.set($t?"readonly":"design"):Yn.setMode($t?"readonly":"design"))}),KC(pn,function($t){var X;Jt||(Xr=Yn.getContent()),(X=gh())===null||X===void 0||X.remove(Yn),xN(function(){return bn()})}),JU(function(){if(gh()!==null)bn();else if(cr.value&&cr.value.ownerDocument){var $t=We.cloudChannel?We.cloudChannel:"5",X=We.apiKey?We.apiKey:"no-api-key",Mt=BW(We.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+X+"/tinymce/"+$t+"/tinymce.min.js":We.tinymceScriptSrc;MW.load(cr.value.ownerDocument,Mt,bn)}}),QU(function(){gh()!==null&&gh().remove(Yn)}),Kr||(eW(function(){Wn||bn()}),tW(function(){var $t;Jt||(Xr=Yn.getContent()),($t=gh())===null||$t===void 0||$t.remove(Yn)}));var Cn=function($t){var X;Xr=Yn.getContent(),(X=gh())===null||X===void 0||X.remove(Yn),At=hh(hh({},At),$t),xN(function(){return bn()})};return Tt.expose({rerender:Cn}),function(){return Kr?FW(CN,nr,cr,We.tagName):IW(CN,nr,cr)}}}),LW="/_Admin/assets/zh_CN.75720298.js";function $W(){var Tt;const We=document.body.querySelector(".tox-tinymce-aux");if(We){const At=(Tt=Array.from(document.querySelectorAll(".el-overlay")).at(-1))==null?void 0:Tt.style.zIndex;We.style.setProperty("z-index",At)}}function HW(){const We=document.body.querySelector(".tox-tinymce-aux");We&&We.style.removeProperty("z-index")}const VW=y5({setup(We){var bn;const{t:Tt}=GU(),At=Mv(0),Rn=Mv(nW("classic")==="true"),Nt=Mv(),Dn=uW(),pn=sW(),cr=Mv(!1),Yn=Mv(()=>{}),nr=DN();function Kr(){return nr.toolbar?nr.toolbar:"undo redo | fontselect fontsizeselect bold italic forecolor backcolor removeformat | indent outdent | alignleft aligncenter alignright alignjustify | bullist numlist | "+(nr["hidden-image"]?"link | ":"image link | ")+(nr["hidden-code"]?"":"codesample | code")}function Jt(){return nr.font_formats||cW.join(";")}function Wn(){return nr.font_size_formats||lW.join(" ")}KC(()=>nr.toolbar,()=>{At.value++});const Vr={forced_root_block:"div",branding:!1,skin:!1,content_css:!1,plugins:"autoresize link textcolor lists image monaco codesample paste autolink",paste_data_images:!nr["hidden-image"],toolbar:Kr(),menubar:!1,statusbar:!1,remove_script_host:!1,document_base_url:(bn=pn==null?void 0:pn.site)==null?void 0:bn.prUrl,convert_urls:!1,extended_valid_elements:"style",valid_children:"+body[style]",min_height:nr.min_height||385,max_height:nr.max_height||600,codesample_dialog_height:500,codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"C#",value:"csharp"}],codesample_global_prismjs:!0,content_style:TN.value?yW:SW,formats:{removeformat:[{selector:"h1,h2,h3,h4,h5,h6",remove:"none",split:!1,expand:!1,block_expand:!0,deep:!0},{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small,table,tbody,tr,td,th,a",remove:"all",split:!0,expand:!1,deep:!0},{selector:"*",remove:"none"}]},browser_spellcheck:!0,font_formats:Jt(),fontsize_formats:Wn(),file_picker_types:"image",file_picker_callback(Cn){if(nr["manual-upload"]){const $t=document.createElement("input");$t.type="file",$t.accept="image/*",$t.addEventListener("change",X=>{const Mt=X.target.files[0];if(!Mt)return!1;if(!/image\/\w+/.test(Mt.type))return console.warn("\u8BF7\u786E\u4FDD\u6587\u4EF6\u4E3A\u56FE\u50CF\u7C7B\u578B"),!1;const fe=new FileReader;fe.readAsDataURL(Mt),fe.onload=function(){Cn(this.result)}}),$t.click()}else cr.value=!0,Yn.value=Cn},monaco:{width:800,height:400},target_list:nr["only-new-window"]||Rn.value==!0?[{title:Tt("common.newWindow"),value:"_blank"}]:void 0,setup:function(Cn){const $t=nr["editor-setup"];typeof $t=="function"&&$t(Cn),Cn.on("init",SN(function(){Cn.addShortcut("meta+s","",()=>{var Mt,fe;const X=new KeyboardEvent("keydown",{metaKey:!0,code:"KeyS",key:"s",keyCode:83,bubbles:!0});(fe=(Mt=Nt.value)==null?void 0:Mt.$el)==null||fe.dispatchEvent(X)}),$W()},50)),Cn.on("remove",SN(HW,50))}},Xr=rW(()=>{const Cn=Vr;Dn.currentLang==="zh"&&(Cn.language="zh_CN",Cn.language_url=LW);const $t=nr["additional-toolbar-buttons"];return $t&&(Cn.toolbar+=" | "+$t),_F(_F({},Cn),fW(nr,["forced_root_block","force_br_newlines","force_p_newlines","content_style"]))});function Pe(Cn){var X;const $t=Cn[0];!$t||Yn.value($t.url,{alt:(X=$t.alt)!=null?X:$t.name})}return(Cn,$t)=>(qC(),ON(oW,null,[(qC(),BF(p5(NW),_N({ref_key:"editorHtml",ref:Nt,key:At.value},Cn.$attrs,{init:p5(Xr)}),null,16,["init"])),cr.value?(qC(),BF(p5(iW),{key:0,modelValue:cr.value,"onUpdate:modelValue":$t[0]||($t[0]=X=>cr.value=X),onChoose:Pe},null,8,["modelValue"])):aW("",!0)],64))}}),tj=y5({setup(We){const Tt=DN(),At=Mv(Date.now().toString());return KC([()=>TN.value,()=>Tt.min_height,()=>Tt.max_height],()=>{At.value=Date.now().toString()}),(Rn,Nt)=>(qC(),BF(VW,_N(Rn.$attrs,{key:At.value}),null,16))}});export{tj as _,HW as r,$W as s};
