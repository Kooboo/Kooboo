var V=(b,t,a)=>new Promise((d,m)=>{var r=o=>{try{i(a.next(o))}catch(n){m(n)}},p=o=>{try{i(a.throw(o))}catch(n){m(n)}},i=o=>o.done?d(o.value):Promise.resolve(o.value).then(r,p);i((a=a.apply(b,t)).next())});import{_ as E}from"./index.5f37a601.js";import{_ as R}from"./tooltip.7fc982a4.js";import{g as S}from"./i18n.97105311.js";import{_ as k}from"./object-schema.6610fe82.js";import{d as T,g as c,cd as w,c as U,o as q,a as I,b as e,u as s,w as l,f as g,aH as O,t as C}from"./url.2e6a77c4.js";import{u as $}from"./replace-all.8fa5a83d.js";import{i as D,s as F}from"./user-options.cdd34f39.js";import{r as A,a as H,l as J,i as K}from"./validate.98ddbafd.js";import{E as j}from"./index.4587e608.js";import{E as z,a as G}from"./index.317a7f30.js";import"./index.b09a9f00.js";import"./windi.539ebeab.js";import"./index.9e96921b.js";import"./index.9589f7cf.js";import"./focus-trap.de18cf8f.js";import"./isNil.98bb3b88.js";import"./event.53b2ad83.js";import"./icon-button.e1f3bfd2.js";import"./index.975a8825.js";import"./index.bc93d068.js";import"./index.afee24fe.js";import"./index.f997a738.js";import"./error.7e8331f1.js";import"./event.776e7e11.js";import"./scroll.8babc10c.js";import"./isEqual.3700b7f1.js";import"./_baseIsEqual.abb55a3a.js";import"./debounce.61c67278.js";import"./toNumber.574be4f1.js";import"./index.a46fa52c.js";import"./validator.1d438d08.js";import"./main.52487121.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./index.99641a60.js";import"./index.77759eed.js";import"./index.b1fe55d8.js";import"./index.51a59403.js";import"./index.29d7c76d.js";import"./style.f835519e.js";import"./_baseClone.f10ff33c.js";const L={class:"p-24 mb-64"},M={class:"rounded-normal bg-fff dark:bg-[#252526] mt-16 py-24 px-56px"},P={class:"w-504px"},Q={class:"flex items-center"},Ao=T({setup(b){const{t}=S(),a=c([]),d=w(),m=c(""),r=c(""),p=c(),i=U(()=>({name:m.value}));function o(){d.goBackOrTo($({name:"useroptions"}))}const n={name:[A(1,50),H(t("common.nameRequiredTips")),J(),K(D,t("common.nameExistsTips"))]};function y(){return V(this,null,function*(){var _;yield(_=p.value)==null?void 0:_.validate(),yield F({name:m.value,display:r.value,schema:JSON.stringify(a.value)}),o()})}return(_,u)=>{const x=j,f=z,N=R,h=G,B=E;return q(),I("div",L,[e(h,{ref_key:"form",ref:p,model:s(i),"label-position":"top",rules:s(n)},{default:l(()=>[g("div",M,[g("div",P,[e(f,{label:s(t)("common.name"),prop:"name"},{default:l(()=>[e(x,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=v=>m.value=v)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:s(t)("common.displayName")},{default:l(()=>[e(x,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=v=>r.value=v)},null,8,["modelValue"])]),_:1},8,["label"])]),e(f,null,{label:l(()=>[g("div",Q,[O(C(s(t)("common.customSettings"))+" ",1),e(N,{tip:s(t)("common.settingSchemaTips",{name:m.value||"{Name}"}),"custom-class":"ml-4"},null,8,["tip"])])]),default:l(()=>[e(k,{schema:a.value},null,8,["schema"])]),_:1})])]),_:1},8,["model","rules"]),e(B,{permission:{feature:"userOptions",action:"setting"},onCancel:o,onSave:y})])}}});export{Ao as default};
