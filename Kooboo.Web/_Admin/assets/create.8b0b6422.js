var V=(b,t,a)=>new Promise((d,m)=>{var r=o=>{try{i(a.next(o))}catch(n){m(n)}},p=o=>{try{i(a.throw(o))}catch(n){m(n)}},i=o=>o.done?d(o.value):Promise.resolve(o.value).then(r,p);i((a=a.apply(b,t)).next())});import{_ as E}from"./index.5f76a3ad.js";import{_ as R}from"./tooltip.e27982e5.js";import{g as S}from"./i18n.bcd18f8a.js";import{_ as k}from"./object-schema.bb5b5763.js";import{d as T,g as c,cd as w,c as U,o as q,a as I,b as e,u as s,w as l,f as g,aH as O,t as C}from"./url.8f5ec20c.js";import{u as $}from"./replace-all.d441bf14.js";import{i as D,s as F}from"./user-options.100a290a.js";import{r as A,a as H,l as J,i as K}from"./validate.238a9986.js";import{E as j}from"./index.5cbbc5d7.js";import{E as z,a as G}from"./index.6d63eb53.js";import"./index.aec72f69.js";import"./windi.19264205.js";import"./index.05e21f33.js";import"./index.ec6ad7db.js";import"./focus-trap.eafcfd1f.js";import"./isNil.98bb3b88.js";import"./event.53b2ad83.js";import"./icon-button.315b6443.js";import"./index.3a977dfb.js";import"./index.c80f5028.js";import"./index.6d22f937.js";import"./index.79f78425.js";import"./error.7e8331f1.js";import"./event.776e7e11.js";import"./scroll.4888a9e9.js";import"./isEqual.11d86bcc.js";import"./_baseIsEqual.547729d3.js";import"./debounce.730e1961.js";import"./toNumber.6efebd6a.js";import"./index.9a83ee01.js";import"./validator.b73911a9.js";import"./main.582f9de6.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./index.2341329b.js";import"./index.bda83f28.js";import"./index.bff48780.js";import"./index.649f6c77.js";import"./index.a32fb6e5.js";import"./style.9c8f6403.js";import"./_baseClone.eeff2792.js";const L={class:"p-24 mb-64"},M={class:"rounded-normal bg-fff dark:bg-[#252526] mt-16 py-24 px-56px"},P={class:"w-504px"},Q={class:"flex items-center"},Ao=T({setup(b){const{t}=S(),a=c([]),d=w(),m=c(""),r=c(""),p=c(),i=U(()=>({name:m.value}));function o(){d.goBackOrTo($({name:"useroptions"}))}const n={name:[A(1,50),H(t("common.nameRequiredTips")),J(),K(D,t("common.nameExistsTips"))]};function y(){return V(this,null,function*(){var _;yield(_=p.value)==null?void 0:_.validate(),yield F({name:m.value,display:r.value,schema:JSON.stringify(a.value)}),o()})}return(_,u)=>{const x=j,f=z,N=R,h=G,B=E;return q(),I("div",L,[e(h,{ref_key:"form",ref:p,model:s(i),"label-position":"top",rules:s(n)},{default:l(()=>[g("div",M,[g("div",P,[e(f,{label:s(t)("common.name"),prop:"name"},{default:l(()=>[e(x,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=v=>m.value=v)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:s(t)("common.displayName")},{default:l(()=>[e(x,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=v=>r.value=v)},null,8,["modelValue"])]),_:1},8,["label"])]),e(f,null,{label:l(()=>[g("div",Q,[O(C(s(t)("common.customSettings"))+" ",1),e(N,{tip:s(t)("common.settingSchemaTips",{name:m.value||"{Name}"}),"custom-class":"ml-4"},null,8,["tip"])])]),default:l(()=>[e(k,{schema:a.value},null,8,["schema"])]),_:1})])]),_:1},8,["model","rules"]),e(B,{permission:{feature:"userOptions",action:"setting"},onCancel:o,onSave:y})])}}});export{Ao as default};
