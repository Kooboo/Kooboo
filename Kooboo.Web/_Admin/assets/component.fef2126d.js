var je=Object.defineProperty,He=Object.defineProperties;var Ke=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var fe=(n,e,t)=>e in n?je(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,J=(n,e)=>{for(var t in e||(e={}))De.call(e,t)&&fe(n,t,e[t]);if(de)for(var t of de(e))Oe.call(e,t)&&fe(n,t,e[t]);return n},me=(n,e)=>He(n,Ke(e));var R=(n,e,t)=>new Promise((o,s)=>{var l=c=>{try{r(t.next(c))}catch(d){s(d)}},a=c=>{try{r(t.throw(c))}catch(d){s(d)}},r=c=>c.done?o(c.value):Promise.resolve(c.value).then(l,a);r((t=t.apply(n,e)).next())});import{d as C,o as u,a as E,f as D,n as Q,u as _,r as H,j as g,w,l as Te,k as T,aH as Y,t as M,s as Ue,g as B,G as U,B as N,c as z,b6 as oe,F as S,N as Be,b as O,m as Ne,aT as he,b2 as pe,aq as ge,bh as Z,A as q,i as X,K as ye,bz as be,az as Le}from"./url.8f5ec20c.js";import"./vue.esm-bundler.8965fe82.js";import{b as Re,i as qe,k as Me,u as Ge,E as we,_ as Se,w as Fe}from"./windi.19264205.js";import{s as ae,G as F,g as ee,a as ve}from"./utils.dd51a1eb.js";import{E as ne}from"./index.aec72f69.js";import{E as Ye}from"./index.0a8d3d17.js";import{E as Je,a as Qe}from"./index.6d22f937.js";import{E as We}from"./index.5cbbc5d7.js";import{E as Xe}from"./index.d6799c63.js";import{E as $e}from"./index.373c837a.js";import{g as ue,w as Ze,C as ce,h as et,m as tt}from"./i18n.bcd18f8a.js";import{E as ke}from"./index.30822da9.js";import{E as ot,a as nt}from"./index.6d63eb53.js";import{_ as Ee}from"./plugin-vue_export-helper.21dcd24c.js";import{E as st}from"./index.564bc658.js";import{E as xe}from"./index.55babe62.js";import{u as at}from"./index.c80f5028.js";import{E as lt}from"./index.79f78425.js";import{E as rt}from"./index.cdccec76.js";import{s as ut}from"./confirm.eadb49f1.js";import{_ as ie}from"./plugin-vue_export-helper.41ffa612.js";import{E as ct,a as it}from"./index.b83a1079.js";import{E as dt}from"./index.d4a6b2d5.js";import"./index.10f642b2.js";import"./index.a3d8335f.js";import"./error.7e8331f1.js";import"./scroll.4888a9e9.js";import"./aria.75ec5909.js";import"./event.53b2ad83.js";import"./focus-trap.eafcfd1f.js";import"./isNil.98bb3b88.js";import"./validator.b73911a9.js";import"./index.05e21f33.js";import"./event.776e7e11.js";import"./index.e3f90979.js";import"./index.ec6ad7db.js";import"./isEqual.11d86bcc.js";import"./_baseIsEqual.547729d3.js";import"./debounce.730e1961.js";import"./toNumber.6efebd6a.js";import"./index.9a83ee01.js";import"./dayjs.min.59f10137.js";import"./_baseClone.eeff2792.js";import"./index.ea2df5df.js";import"./browser.6efdef8a.js";import"./throttle.3f3ee457.js";import"./position.f6e7bc86.js";import"./logo-transparent.1566007e.js";import"./index.daafc4da.js";import"./refs.d2253dd4.js";const ft=Re({icon:{type:qe,default:()=>Me},title:String,content:{type:String,default:""}}),mt={back:()=>!0},pt={name:"ElPageHeader"},vt=C(me(J({},pt),{props:ft,emits:mt,setup(n,{emit:e}){const{t}=at(),o=Ge("page-header");function s(){e("back")}return(l,a)=>(u(),E("div",{class:Q(_(o).b())},[D("div",{class:Q(_(o).e("left")),onClick:s},[l.icon||l.$slots.icon?(u(),E("div",{key:0,class:Q(_(o).e("icon"))},[H(l.$slots,"icon",{},()=>[l.icon?(u(),g(_(we),{key:0},{default:w(()=>[(u(),g(Te(l.icon)))]),_:1})):T("v-if",!0)])],2)):T("v-if",!0),D("div",{class:Q(_(o).e("title"))},[H(l.$slots,"title",{},()=>[Y(M(l.title||_(t)("el.pageHeader.title")),1)])],2)],2),D("div",{class:Q(_(o).e("content"))},[H(l.$slots,"content",{},()=>[Y(M(l.content),1)])],2)],2))}}));var _t=Se(vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const ht=Fe(_t);function gt(){const n=Ue({});function e(a,r){const c=o(a);if(!(!c||!c.exposed))return c.exposed[r]}function t(a,r){let c=B(void 0);if(!a)return c;if(r){const d=e(a,r);U(d)&&(c=d)}else{const d=n[a];U(d)&&(c=d)}return c}function o(a){const r=n[a];if(!(!r||U(r)))return r}function s(a,r){const c=o(a);if(!c||!c.exposed)return;const d=c.exposed[r];if(typeof d=="function")return d}function l(a,r){!a||!r||(n[a]=r)}return{pageState:n,getState:t,getExposedAction:s,setState:l}}const L="__page_state__",Ce="__page_auth__",yt=C({props:{get:null,post:null,to:null,confirm:null},setup(n){const e=n,t=N(L);function o(){return R(this,null,function*(){if(e.confirm&&(yield ae(e.confirm)),e.get){const s=t==null?void 0:t.getExposedAction(e.get,"get");s&&(yield s())}if(e.post){const s=t==null?void 0:t.getExposedAction(e.post,"post");s&&(yield s())}e.to&&(location.href=F(e.to))})}return(s,l)=>{const a=ne;return u(),g(a,{onClick:o},{default:w(()=>[H(s.$slots,"default")]),_:3})}}}),Ve=C({props:{type:null,data:null,options:null},setup(n){const e=n,t=N(L),o=z({get(){const l=t==null?void 0:t.getState(e.data);return l==null?void 0:l.value},set(l){const a=t==null?void 0:t.getState(e.data);a&&(a.value=l)}}),s=z(()=>{const l=[];if(e.options){const a=t==null?void 0:t.getState(e.options,"mappedResponse").value;if(a&&Array.isArray(a))for(const r of a)typeof r=="object"?l.push(r):l.push({label:r,value:r})}return l});return(l,a)=>{const r=Je,c=Qe,d=We,$=Xe,k=Ye,P=$e;return n.options?(u(),g(c,{key:0,modelValue:_(o),"onUpdate:modelValue":a[0]||(a[0]=m=>U(o)?o.value=m:null),clearable:""},{default:w(()=>[(u(!0),E(S,null,oe(_(s),m=>(u(),g(r,{key:m.value,label:m.label,value:m.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):n.type=="textarea"?(u(),g(d,{key:1,modelValue:_(o),"onUpdate:modelValue":a[1]||(a[1]=m=>U(o)?o.value=m:null),type:"textarea"},null,8,["modelValue"])):n.type=="date"?(u(),g($,{key:2,modelValue:_(o),"onUpdate:modelValue":a[2]||(a[2]=m=>U(o)?o.value=m:null),type:"date","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])):n.type=="number"?(u(),g(k,{key:3,modelValue:_(o),"onUpdate:modelValue":a[3]||(a[3]=m=>U(o)?o.value=m:null)},null,8,["modelValue"])):n.type=="datetime"?(u(),g($,{key:4,modelValue:_(o),"onUpdate:modelValue":a[4]||(a[4]=m=>U(o)?o.value=m:null),type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])):n.type=="switch"?(u(),g(P,{key:5,modelValue:_(o),"onUpdate:modelValue":a[5]||(a[5]=m=>U(o)?o.value=m:null)},null,8,["modelValue"])):(u(),g(d,{key:6,modelValue:_(o),"onUpdate:modelValue":a[6]||(a[6]=m=>U(o)?o.value=m:null),type:n.type},null,8,["modelValue","type"]))}}}),le=C({props:{data:null,schemas:null,to:null},setup(n){const e=n,t=N(L),{t:o}=ue(),s=z(()=>{if(e.schemas)return e.schemas;if(!!e.data)return t==null?void 0:t.getState(e.data,"items").value});function l(){return R(this,null,function*(){if(e.data){const a=t==null?void 0:t.getExposedAction(e.data,"post");a&&(yield a()),e.to?location.href=F(e.to):location.reload()}})}return(a,r)=>{const c=Be("KForm",!0),d=ke,$=ot,k=ne,P=nt;return _(s)?(u(),g(P,{key:0,"label-position":"top",onSubmit:r[0]||(r[0]=Ze(()=>{},["prevent"]))},{default:w(()=>[(u(!0),E(S,null,oe(_(s),m=>{var j;return u(),E(S,{key:m.name},[m.hidden?T("",!0):(u(),g($,{key:0,label:(j=m.label)!=null?j:m.name},{default:w(()=>[m.type=="object"?(u(),g(d,{key:0,shadow:"never",class:"w-full"},{default:w(()=>[O(c,{schemas:m.children},null,8,["schemas"])]),_:2},1024)):(u(),g(Ve,{key:1,modelValue:m.data.value,"onUpdate:modelValue":f=>m.data.value=f,type:m.type,options:m.options},null,8,["modelValue","onUpdate:modelValue","type","options"]))]),_:2},1032,["label"]))],64)}),128)),n.data?(u(),g(k,{key:0,type:"primary",onClick:l},{default:w(()=>[Y(M(_(o)("common.submit")),1)]),_:1})):T("",!0)]),_:1})):T("",!0)}}}),Ae=C({props:{align:{default:"center"}},setup(n){const e=n,t=z(()=>{switch(e.align){case"end":return"flex-end";case"start":return"flex-start";default:return"center"}});return(o,s)=>(u(),E("div",{class:"flex space-x-8",style:Ne({alignItems:_(t)})},[H(o.$slots,"default")],4))}}),bt={},wt={class:"flex-1 h-full w-full"};function $t(n,e){return u(),E("div",wt,[H(n.$slots,"default")])}var re=Ee(bt,[["render",$t]]);const kt=C({props:{total:null,pageSize:null,currentPage:null},setup(n){const e=n,t=N(L);function o(r,c){if(!r)return c;if(typeof r=="number")return r;let d=t==null?void 0:t.getState(r).value;return!d||(d=parseInt(d),Number.isNaN(d))?c:d}const s=z(()=>o(e.total,1)),l=z(()=>o(e.pageSize,5)),a=z({get(){return o(e.currentPage,1)},set(r){if(typeof e.currentPage=="string"){var c=t==null?void 0:t.getState(e.currentPage);c&&(c.value=r)}}});return(r,c)=>{const d=st;return u(),g(Ae,null,{default:w(()=>[O(re),O(d,{"current-page":_(a),"onUpdate:current-page":c[0]||(c[0]=$=>U(a)?a.value=$:null),background:"",layout:"prev, pager, next",total:_(s),"page-size":_(l)},null,8,["current-page","total","page-size"]),O(re)]),_:1})}}}),ze=C({props:{data:{default:void 0},size:{default:16},color:{default:"#303133"}},setup(n){const e=n,t=N(L),o=z(()=>t==null?void 0:t.getState(e.data).value),s=z(()=>{if(typeof e.size=="number")return e.size;switch(e.size.toLowerCase()){case"large":return 24;case"small":return 12;default:return 16}});return(l,a)=>(u(),E("p",he({class:"whitespace-nowrap"},l.$attrs,{style:{color:n.color,fontSize:_(s)+"px"}}),[H(l.$slots,"default",{},()=>[Y(M(_(o)),1)])],16))}}),Et=["innerHTML"],xt=C({props:{data:null},setup(n){const e=n,t=N(L),o=z(()=>{const s=t==null?void 0:t.getState(e.data).value;return s!=null?s:e.data});return(s,l)=>(u(),E("div",{innerHTML:_(o)},null,8,Et))}}),Ct=C({props:{data:null},setup(n){const e=n,t=N(L),o=z(()=>{const s=t==null?void 0:t.getState(e.data).value;return s!=null?s:e.data});return(s,l)=>{const a=xe;return u(),g(a,{src:_(o)},null,8,["src"])}}}),Vt={class:"p-24 space-y-8"},At=C({props:{size:null,back:null,title:null,auth:null},setup(n){const e=n,{t}=ue(),o=gt();pe(L,o),pe(Ce,e.auth);function s(){!e.back||(location.href=F(e.back))}return(l,a)=>{const r=ht,c=lt,d=rt;return u(),g(d,{size:n.size},{default:w(()=>[O(c,null,{default:w(()=>[D("div",Vt,[n.back?(u(),g(r,{key:0,title:_(t)("common.back"),content:n.title,onBack:s},null,8,["title","content"])):n.title?(u(),g(ze,{key:1,size:"large"},{default:w(()=>[Y(M(n.title),1)]),_:1})):T("",!0),H(l.$slots,"default")])]),_:3})]),_:3},8,["size"])}}}),zt={class:"hidden"},Pt=C({props:{id:null,get:null,post:null,to:null,initGet:null,initPost:null,from:null,loading:null,confirm:null},setup(n,{expose:e}){const t=n,o=N(L),s=N(Ce),l=B({}),a=B([]),r=B({}),c=ge([]),d=Z(),$=ee(d);let k=B($?JSON.parse($):void 0);if(t.from){let i=o==null?void 0:o.getState(t.from,"mappedResponse");(!i||!i.value)&&(i=o==null?void 0:o.getState(t.from)),i&&(k=i)}const P=B(k.value);o==null||o.setState(t.id,q());function m(i){if(i.length==1&&!i[0].name)return i[0].data.value;if(i.length>=1){const h={};for(const b of i)!b.name||(se.get(b.type)=="object"&&b.children?b.children&&(h[b.name]=m(b.children)):h[b.name]=b.data.value);return h}}const j=z(()=>m(c.value));function f(){if(!t.to)return;let i=t.to;Object.keys(l.value)&&(i=be(i,l.value),location.href=F(i))}function p(){return R(this,null,function*(){let i=t.initGet||t.get;i&&(t.confirm&&(yield ae(t.confirm)),yield ve(()=>R(this,null,function*(){try{k.value=yield _e(F(i),{query:l.value,headers:r.value,authUrl:s,storages:a.value})}catch(h){console.error(h)}}),t.loading))})}function v(){return R(this,null,function*(){let i=t.initPost||t.post;i&&(t.confirm&&(yield ae(t.confirm)),yield ve(()=>R(this,null,function*(){try{k.value=yield _e(F(i),{method:"POST",query:l.value,body:j.value,authUrl:s,headers:r.value,storages:a.value})}catch(h){console.error(h)}}),t.loading))})}function y(i,h){var I;const b={};for(const A of h)!A.name||(A.source=="code"&&A.from?A.data.value=window[A.from](i):A.data.value=i[(I=A.from)!=null?I:A.name],b[A.name]=A.data.value);return b}function V(i,h){if(Array.isArray(i)){const b=[];for(const I of i)b.push(V(I,h));return b}else if(typeof i=="object")return y(i,h);return i}return X(()=>k.value,()=>{c.value.length?P.value=V(k.value,c.value):P.value=k.value},{immediate:!0,deep:!0}),ye(()=>{t.initGet&&p(),t.initPost&&v()}),e({headers:r,storages:a,query:l,items:c,rawResponse:k,mappedResponse:P,get:t.initGet||t.get?p:void 0,post:t.initPost||t.post?v:void 0,to:t.to?f:void 0}),(i,h)=>(u(),E("div",zt,[H(i.$slots,"default")]))}}),It={class:"hidden"},jt=C({props:{name:null,id:null,from:null,source:null,getOnChange:{type:Boolean},postOnChange:{type:Boolean}},setup(n){var $,k,P,m,j,f,p,v,y,V,i;const e=n,t=new ce,o=Z(),s=N(L);let l=B(($=ee(o))!=null?$:"");const a=(m=(P=(k=q())==null?void 0:k.parent)==null?void 0:P.exposed)==null?void 0:m.query,r=(p=(f=(j=q())==null?void 0:j.parent)==null?void 0:f.exposed)==null?void 0:p.get,c=(V=(y=(v=q())==null?void 0:v.parent)==null?void 0:y.exposed)==null?void 0:V.post,d=(i=e.from)!=null?i:e.name;if(a&&e.name){const h=z({get(){var b,I,A,x;switch(e.source){case"query":return new URLSearchParams(location.search).get(d);case"cookie":return t.get(d);case"local-storage":return(b=localStorage.getItem(d))!=null?b:"";case"session-storage":return(I=sessionStorage.getItem(d))!=null?I:"";case"id":return(x=(A=s==null?void 0:s.getState(d))==null?void 0:A.value)==null?void 0:x.toString();default:return l.value}},set(b){if(e.source=="id"){const I=s==null?void 0:s.getState(d);I&&(I.value=b)}l.value=b}});a.value[e.name]=h,s==null||s.setState(e.id,h),e.getOnChange&&X(()=>h.value,()=>{r&&r()}),e.postOnChange&&X(()=>h.value,()=>{c&&c()})}return(h,b)=>(u(),E("div",It,[H(h.$slots,"default")]))}}),Ht={class:"hidden"},Kt=C({props:{name:null,id:null,from:null,source:null,getOnChange:{type:Boolean},postOnChange:{type:Boolean}},setup(n){var $,k,P,m,j,f,p,v,y,V,i;const e=n,t=new ce,o=Z(),s=N(L);let l=B(($=ee(o))!=null?$:"");const a=(m=(P=(k=q())==null?void 0:k.parent)==null?void 0:P.exposed)==null?void 0:m.headers,r=(p=(f=(j=q())==null?void 0:j.parent)==null?void 0:f.exposed)==null?void 0:p.get,c=(V=(y=(v=q())==null?void 0:v.parent)==null?void 0:y.exposed)==null?void 0:V.post,d=(i=e.from)!=null?i:e.name;if(a&&e.name){const h=z({get(){var b,I,A,x;switch(e.source){case"query":return new URLSearchParams(location.search).get(d);case"cookie":return t.get(d);case"local-storage":return(b=localStorage.getItem(d))!=null?b:"";case"session-storage":return(I=sessionStorage.getItem(d))!=null?I:"";case"id":return(x=(A=s==null?void 0:s.getState(d))==null?void 0:A.value)==null?void 0:x.toString();default:return l.value}},set(b){if(e.source=="id"){const I=s==null?void 0:s.getState(d);I&&(I.value=b)}l.value=b}});a.value[e.name]=h,s==null||s.setState(e.id,h),e.getOnChange&&X(()=>h.value,()=>{r&&r()}),e.postOnChange&&X(()=>h.value,()=>{c&&c()})}return(h,b)=>(u(),E("div",Ht,[H(h.$slots,"default")]))}}),Dt={class:"hidden"},Ot=C({props:{name:null,type:null,id:null,hidden:{type:Boolean},label:null,from:null,options:null,width:null,source:null,disabled:{type:Boolean}},setup(n,{expose:e}){var f,p,v;const t=n,o=new ce,s=Z(),l=ge([]),a=z(()=>t.type?t.type:l.value.length?"object":"string"),r=N(L),c=ee(s),d=B(W(a.value,c)),$=(f=t.from)!=null?f:t.name,k=r==null?void 0:r.getState($),P=z({get(){var y;if(a.value=="object"){const V={};for(const i of l.value)!i.name||(V[i.name]=i.data);return V}else switch(t.source){case"query":return W(a.value,new URLSearchParams(location.search).get($));case"cookie":return W(a.value,o.get($));case"local-storage":return W(a.value,localStorage.getItem($));case"session-storage":return W(a.value,sessionStorage.getItem($));case"id":return(y=r==null?void 0:r.getState($))==null?void 0:y.value;default:return d.value}},set(y){t.source=="id"&&k&&(k.value=y),d.value=y}}),m=z(()=>{let y=t.width;return y&&!Number.isNaN(parseFloat(y))&&(y=y+"px"),{type:a.value,name:t.name,data:P,children:l.value,hidden:t.hidden,label:t.label,from:t.from,options:t.options,width:y,disabled:t.disabled,source:t.source}});t.id&&(r==null||r.setState(t.id,P));const j=(p=q())==null?void 0:p.parent;return(v=j==null?void 0:j.exposed)!=null&&v.items&&j.exposed.items.value.push(m.value),e({items:l}),(y,V)=>(u(),E("div",Dt,[H(y.$slots,"default")]))}}),Tt={class:"hidden"},Ut=C({props:{type:{default:"json"}},setup(n){var l,a,r;const e=n,t=Z(),o=ee(t),s=(r=(a=(l=q())==null?void 0:l.parent)==null?void 0:a.exposed)==null?void 0:r.rawResponse;return s&&o&&ye(()=>{switch(e.type){case"json":s.value=JSON.parse(o);break;default:s.value=o}}),(c,d)=>(u(),E("div",Tt,[H(c.$slots,"default")]))}}),Bt={class:"hidden"},Nt=C({props:{name:null,from:null,to:null},setup(n){var o,s,l;const e=n,t=(l=(s=(o=q())==null?void 0:o.parent)==null?void 0:s.exposed)==null?void 0:l.storages;return t&&U(t)&&t.value.push({name:e.name,from:e.from,to:e.to}),(a,r)=>(u(),E("div",Bt,[H(a.$slots,"default")]))}});var Lt={KData:Pt,KDataQuery:jt,KDataHeader:Kt,KDataItem:Ot,KDataInit:Ut,KDataStorage:Nt};function W(n,e){var t,o,s,l;switch(se.get(n)){case"array":return(t=te(e))!=null?t:[];case"boolean":return(o=te(e==null?void 0:e.toLowerCase()))!=null?o:!1;case"number":return(s=te(e))!=null?s:0;case"object":return(l=te(e))!=null?l:{};default:return e!=null?e:""}}function te(n){try{return JSON.parse(n.toLowerCase())}catch(e){}}const K={string:"string",number:"number",boolean:"boolean",array:"array",object:"object"},se={string:K.string,text:K.string,textarea:K.string,html:K.string,image:K.string,date:K.string,time:K.string,datetime:K.string,number:K.number,switch:K.boolean,boolean:K.boolean,bool:K.boolean,array:K.array,list:K.array,object:K.object,get(n){return n?se[n.trim().toLowerCase()]:se.string}};function _e(n,e){return R(this,null,function*(){var o;(e==null?void 0:e.query)&&Object.keys(e.query)&&(n=be(n,e.query));const t=yield fetch(n,{method:(o=e==null?void 0:e.method)!=null?o:"GET",body:e!=null&&e.body?JSON.stringify(e==null?void 0:e.body):void 0,headers:e==null?void 0:e.headers});if(e!=null&&e.storages){for(const s of e.storages)if(s.from=="header"){const l=t.headers.get(s.name);l&&Rt(s.name,l,s.to)}}if(t.status===401&&(e==null?void 0:e.authUrl))throw location.href=F(e.authUrl),Error("auth abort");return yield t.json()})}function Rt(n,e,t){switch(t){case"local-storage":localStorage.setItem(n,e);break;case"session-storage":sessionStorage.setItem(n,e);break}}const qt={},Mt={class:"space-y-8"};function Gt(n,e){const t=ke;return u(),g(t,{shadow:"never"},{default:w(()=>[D("div",Mt,[H(n.$slots,"default")])]),_:3})}var St=Ee(qt,[["render",Gt]]),Ft={KInline:Ae,KFill:re,KCard:St};const Yt=C({name:"Delete"}),Jt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Qt=D("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),Wt=[Qt];function Xt(n,e,t,o,s,l){return u(),E("svg",Jt,Wt)}var Zt=ie(Yt,[["render",Xt]]);const eo=C({name:"Edit"}),to={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oo=D("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),no=D("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),so=[oo,no];function ao(n,e,t,o,s,l){return u(),E("svg",to,so)}var lo=ie(eo,[["render",ao]]);const ro=C({name:"Plus"}),uo={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},co=D("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),io=[co];function fo(n,e,t,o,s,l){return u(),E("svg",uo,io)}var mo=ie(ro,[["render",fo]]);const po={class:"flex items-center justify-end"},vo={class:"whitespace-nowrap"},_o={class:"hidden"},ho=C({props:{edit:{default:void 0},data:{default:void 0},remove:{default:void 0},create:{default:void 0}},setup(n,{expose:e}){const t=n,o=N(L),{t:s}=ue(),l=B(!1),a=B(!1),r=B([]),c=z(()=>{var p;let f=o==null?void 0:o.getState(t.data,"mappedResponse");return(!f||!f.value)&&(f=o==null?void 0:o.getState(t.data)),!f||!Array.isArray(f.value)?[]:(p=f.value)!=null?p:[]});function d(){if(o==null?void 0:o.getExposedAction(t.edit,"post"))l.value=!0;else{const p=o==null?void 0:o.getExposedAction(t.edit,"to");p&&p()}}function $(f){if(o==null?void 0:o.getExposedAction(t.edit,"post")){const v=o==null?void 0:o.getState(t.edit,"items");if(v)for(const y of v.value)y.name&&(y.data.value=f[y.name]);a.value=!0}else{const v=o==null?void 0:o.getExposedAction(t.edit,"to");v&&(m(t.edit,f),v())}}function k(f){return R(this,null,function*(){m(t.remove,f);const p=o==null?void 0:o.getExposedAction(t.remove,"post");p&&(yield p()),location.reload()})}function P(f,p){return R(this,null,function*(){if(f.confirm&&(yield ut(f.confirm)),f.get){m(f.get,p);const v=o==null?void 0:o.getExposedAction(f.get,"get");v&&(yield v())}if(f.post){m(f.post,p);const v=o==null?void 0:o.getExposedAction(f.post,"post");v&&(yield v())}if(f.to){m(f.to,p);const v=o==null?void 0:o.getExposedAction(f.to,"to");v&&(yield v())}})}function m(f,p){return R(this,null,function*(){var y;const v=(y=o==null?void 0:o.getState(f,"query"))==null?void 0:y.value;if(!!v&&Object.keys(v).length)for(const V in v)v[V]=p[V]})}const j=z(()=>{var v;const f=[],p=(v=o==null?void 0:o.getState(t.data,"items"))==null?void 0:v.value;if(p!=null&&p.length)f.push(...p);else for(const y of c.value){const V=Object.keys(y);for(const i of V)f.some(h=>h.name==i)||f.push({name:i,label:i,type:"string",data:B()})}return f});return e({actions:r}),(f,p)=>{const v=xe,y=$e,V=ct,i=we,h=ne,b=ne,I=it,A=dt;return u(),E(S,null,[O(I,he({data:_(c)},f.$attrs),{default:w(()=>[(u(!0),E(S,null,oe(_(j),x=>(u(),E(S,{key:x.name},[x.hidden?T("",!0):(u(),g(V,{key:0,prop:x.name,label:x.label,width:x.width},{default:w(({row:G})=>[x.type=="image"?(u(),g(v,{key:0,src:G[x.name],class:"w-full h-full"},null,8,["src"])):x.type=="switch"?(u(),g(y,{key:1,"model-value":G[x.name]},null,8,["model-value"])):(u(),E(S,{key:2},[Y(M(G[x.name]),1)],64))]),_:2},1032,["prop","label","width"]))],64))),128)),n.create||n.edit||n.remove||r.value.length?(u(),g(V,{key:0,fixed:"right",align:"right"},{header:w(()=>[D("div",po,[n.create?(u(),g(h,{key:0,type:"primary",onClick:d},{default:w(()=>[O(i,{size:12},{default:w(()=>[O(_(mo))]),_:1}),D("span",null,M(_(s)("common.create")),1)]),_:1})):T("",!0)])]),default:w(({row:x})=>[D("div",vo,[(u(!0),E(S,null,oe(r.value,(G,Ie)=>(u(),g(b,{key:Ie,onClick:bo=>P(G,x)},{default:w(()=>[Y(M(G.label),1)]),_:2},1032,["onClick"]))),128)),n.edit?(u(),g(h,{key:0,type:"success",onClick:G=>$(x)},{default:w(()=>[O(i,{size:12},{default:w(()=>[O(_(lo))]),_:1}),D("span",null,M(_(s)("common.edit")),1)]),_:2},1032,["onClick"])):T("",!0),n.remove?(u(),g(h,{key:1,type:"danger",onClick:G=>k(x)},{default:w(()=>[O(i,{size:12},{default:w(()=>[O(_(Zt))]),_:1}),D("span",null,M(_(s)("common.delete")),1)]),_:2},1032,["onClick"])):T("",!0)])]),_:1})):T("",!0)]),_:1},16,["data"]),D("div",_o,[H(f.$slots,"default")]),(u(),g(Le,{to:"body"},[a.value&&n.edit?(u(),g(A,{key:0,"model-value":a.value,onClosed:p[0]||(p[0]=x=>a.value=!1)},{default:w(()=>[O(le,{data:n.edit},null,8,["data"])]),_:1},8,["model-value"])):T("",!0),l.value&&n.create?(u(),g(A,{key:1,"model-value":l.value,onClosed:p[1]||(p[1]=x=>l.value=!1)},{default:w(()=>[O(le,{data:n.create},null,8,["data"])]),_:1},8,["model-value"])):T("",!0)]))],64)}}}),go=C({props:{get:null,post:null,to:null,confirm:null,label:null},setup(n){var o,s,l;const e=n,t=(l=(s=(o=q())==null?void 0:o.parent)==null?void 0:s.exposed)==null?void 0:l.actions;return t&&U(t)&&t.value.push({confirm:e.confirm,get:e.get,post:e.post,to:e.to,label:e.label}),()=>{}}});var yo={KTable:ho,KTableAction:go};const Pe=et({components:J(J(J({KButton:yt,KInput:Ve,KPagination:kt,KForm:le,KText:ze,KPage:At,KHtml:xt,KImage:Ct},yo),Ft),Lt)});tt(Pe);Pe.mount("#app");
