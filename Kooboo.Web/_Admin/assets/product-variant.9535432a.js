import{d as w}from"./i18n.97105311.js";import{n as V}from"./guid.c1a40312.js";import{g as v}from"./url.2e6a77c4.js";const m=w.global.t,N=[{key:"text",value:m("common.text")},{key:"color",value:m("common.color")}];function b(o,i){return{id:V(),active:!0,barcode:"",originalInventory:0,newInventory:0,selectedOptions:o,price:0,sku:"",weight:0,image:i,tags:[],digitalItems:[],autoDelivery:!0,order:0}}function S(o,i){const u=[];for(const d of o)for(const f of d.selectedOptions)f.name==i&&(u.includes(f.value)||u.push(f.value));return u}function O(o,i=!1){return o!=null&&o.length?o.map(u=>i?u.value:`${u.name}: ${u.value}`).join(" / "):"-"}function $(){const o=v([]),i=v([]);function u(e){i.value.push(e);for(const s of e.selectedOptions)o.value.includes(s.name)||o.value.push(s.name)}function d(e,s,a){const t=[];for(const n of i.value)if(n.selectedOptions.find(l=>l.name==e)){const l=JSON.parse(JSON.stringify(n.selectedOptions));l.find(r=>r.name==e).value=s;const y=O(l);t.find(r=>O(r)==y)||t.push(l)}else n.selectedOptions.push({name:e,value:s});for(const n of t)i.value.push(b(n,a))}function f(e,s){const a=o.value.findIndex(t=>t==e);o.value.splice(a,1,s);for(const t of i.value){const n=t.selectedOptions.find(c=>c.name==e);n&&(n.name=s)}}function I(e,s,a){for(const t of i.value){const n=t.selectedOptions.find(c=>c.name==e);!n||n.value==s&&(n.value=a)}}function p(e,s){const a=i.value.find(t=>t.selectedOptions.find(n=>n.name==e&&n.value!=s));for(const t of[...i.value]){const n=t.selectedOptions.findIndex(c=>c.name==e);if(n!=-1&&t.selectedOptions[n].value==s)if(a){const c=i.value.findIndex(l=>l==t);i.value.splice(c,1)}else t.selectedOptions.splice(n,1)}}function x(e){const s=o.value.indexOf(e);o.value.splice(s,1);for(const a of[...i.value]){const t=a.selectedOptions.find(n=>n.name==e);!t||p(t.name,t.value)}}function g(e){o.value.push(e)}function h(e){const s=i.value.findIndex(a=>a.id==e);i.value.splice(s,1)}return{options:o,list:i,updateOptionName:f,updateOptionItem:I,addOptionItem:d,addVariant:u,deleteOptionItem:p,deleteOption:x,addOption:g,removeVariant:h}}export{N as a,O as b,b as c,S as g,$ as u};
