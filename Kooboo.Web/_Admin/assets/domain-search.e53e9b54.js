var F=($,i,v)=>new Promise((n,r)=>{var b=f=>{try{e(v.next(f))}catch(k){r(k)}},h=f=>{try{e(v.throw(f))}catch(k){r(k)}},e=f=>f.done?n(f.value):Promise.resolve(f.value).then(b,h);e((v=v.apply($,i)).next())});import{g as B,o as O,w as L}from"./i18n.25caaace.js";import{S as M}from"./search-input.9d340a13.js";import{r as P}from"./index.7247b296.js";import{_ as H}from"./index.50326354.js";import{c as z}from"./index.da93e646.js";import{d as q,cd as J,g as y,c as Q,o as c,j as C,w as a,b as o,u as t,a as E,b6 as T,F as j,f as d,t as p,aH as K,k as I}from"./url.8f5ec20c.js";import{E as W}from"./index.f571dfc9.js";import{E as A,a as G}from"./index.94998415.js";import{E as X,a as Y}from"./index.960b9732.js";import{b as Z,a as ee}from"./index.5b499f72.js";import{E as oe}from"./index.a5d96e5a.js";import{u as le}from"./use-first-input-focus.0df83e78.js";import{r as ae,U as te,V as ne}from"./validate.f3c0b03b.js";import{E as S}from"./index.e9f8834a.js";import{E as se}from"./index.2e51d36e.js";import{E as me,a as re}from"./index.5388dbc8.js";import{E as ue}from"./index.85ace6fa.js";/* empty css                                                                 */import"./plugin-vue_export-helper.21dcd24c.js";import"./main.1c3b59e3.js";import"./index.50c16ae5.js";import"./windi.a815125a.js";import"./preload-helper.13a99eb0.js";import"./replace-all.b35629e7.js";import"./event.776e7e11.js";import"./index.1e7e06b8.js";import"./error.7e8331f1.js";import"./isNil.98bb3b88.js";import"./_baseClone.885c975f.js";import"./_baseIsEqual.0a4e01e5.js";import"./isEqual.2e410d13.js";import"./index.158cdd11.js";import"./focus-trap.81e4fb05.js";import"./event.53b2ad83.js";import"./index.c6488b3c.js";import"./index.f9c89813.js";import"./scroll.0cf77af8.js";import"./debounce.730e1961.js";import"./toNumber.6efebd6a.js";import"./index.c93fe8e7.js";import"./validator.9b0d789f.js";import"./index.1d16d007.js";import"./refs.d2253dd4.js";import"./index.878e2bbf.js";import"./index.adb17f32.js";import"./index.b065185c.js";import"./index.ab12ea9e.js";import"./index.b1b64a44.js";import"./style.1b77b3a2.js";const de={class:"flex space-x-8 items-center"},ie={class:"font-bold"},ce={class:"flex"},pe={key:0},fe=q({props:{modelValue:{type:Boolean},domain:null},emits:["update:modelValue"],setup($,{emit:i}){const v=$,{t:n}=B(),r=J(),b=y(!0),h=y(),e=y({domainName:v.domain.domain,year:1,client:{name:"",address:"",phone:"",email:""},useKoobooClient:!0}),f=Q(()=>v.domain.price.product.price*e.value.year),k=y([]);for(var w=1;w<=10;w++)k.value.push({value:w,label:w+" "+n(w===1?"common.year":"common.years")});const V=()=>F(this,null,function*(){const _=yield z({domains:[{domainName:e.value.domainName,year:e.value.year}],Address:e.value.useKoobooClient?void 0:e.value.client,totalAmount:f.value});r.push({name:"checkOrder",query:{orderId:_}})});return(_,l)=>{const x=W,u=A,N=X,g=Y,U=Z,R=ee,D=G,m=oe;return c(),C(m,{"model-value":b.value,width:"600px","close-on-click-modal":!1,title:t(n)("common.createOrder"),onClosed:l[8]||(l[8]=s=>i("update:modelValue",!1))},{footer:a(()=>[o(H,{"confirm-label":t(n)("common.ok"),onConfirm:V,onCancel:l[7]||(l[7]=s=>b.value=!1)},null,8,["confirm-label"])]),default:a(()=>[o(D,{ref_key:"form",ref:h,"label-position":"top",model:e.value,onKeydown:O(V,["enter"])},{default:a(()=>[o(u,{label:t(n)("common.domain")},{default:a(()=>[o(x,{modelValue:e.value.domainName,"onUpdate:modelValue":l[0]||(l[0]=s=>e.value.domainName=s),disabled:""},null,8,["modelValue"])]),_:1},8,["label"]),o(u,{label:`${t(n)("common.period")} (${t(n)("common.year")})`,prop:"year"},{default:a(()=>[o(g,{modelValue:e.value.year,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value.year=s),class:"w-30","default-first-option":""},{default:a(()=>[(c(!0),E(j,null,T(k.value,s=>(c(),C(N,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(u,null,{default:a(()=>[d("div",de,[d("div",ie,p(t(n)("domain.amount"))+":",1),d("div",ce,[d("span",null,p(t(f).toFixed(2)),1),d("span",null,p($.domain.price.product.currency),1)])])]),_:1}),o(u,{label:t(n)("common.contactInformation"),prop:"useKoobooClient"},{default:a(()=>[o(R,{modelValue:e.value.useKoobooClient,"onUpdate:modelValue":l[2]||(l[2]=s=>e.value.useKoobooClient=s),class:"ml-4"},{default:a(()=>[o(U,{label:!0},{default:a(()=>[K(p(t(n)("common.auto")),1)]),_:1}),o(U,{label:!1},{default:a(()=>[K(p(t(n)("common.custom")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e.value.useKoobooClient?I("",!0):(c(),E("div",pe,[o(u,{label:t(n)("common.name"),required:""},{default:a(()=>[o(x,{modelValue:e.value.client.name,"onUpdate:modelValue":l[3]||(l[3]=s=>e.value.client.name=s)},null,8,["modelValue"])]),_:1},8,["label"]),o(u,{label:t(n)("common.phone"),required:""},{default:a(()=>[o(x,{modelValue:e.value.client.phone,"onUpdate:modelValue":l[4]||(l[4]=s=>e.value.client.phone=s)},null,8,["modelValue"])]),_:1},8,["label"]),o(u,{label:t(n)("common.email"),required:""},{default:a(()=>[o(x,{modelValue:e.value.client.email,"onUpdate:modelValue":l[5]||(l[5]=s=>e.value.client.email=s)},null,8,["modelValue"])]),_:1},8,["label"]),o(u,{label:t(n)("common.address"),required:""},{default:a(()=>[o(x,{modelValue:e.value.client.address,"onUpdate:modelValue":l[6]||(l[6]=s=>e.value.client.address=s),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"])]))]),_:1},8,["model","onKeydown"])]),_:1},8,["model-value","title"])}}}),_e={class:"p-24 space-y-24"},ve={class:"text-444 text-2l font-bold"},ye={class:"bg-fff dark:bg-444 rounded-normal space-y-24 py-32"},be={class:"flex justify-center flex-wrap"},ke={class:"max-w-1000px mx-auto px-24"},Ve={key:0,class:"flex items-center space-x-4"},xe={class:"text-blue text-s"},we=d("span",null,"/",-1),Ee={key:0,class:"text-blue"},he={key:1,class:"text-orange"},wo=q({setup($){const{t:i}=B();le();const v=y([{name:"com",selected:!0},{name:"net",selected:!0},{name:"site",selected:!0},{name:"dev",selected:!0},{name:"land",selected:!1},{name:"io",selected:!1},{name:"cc",selected:!1},{name:"co",selected:!1},{name:"eu",selected:!1},{name:"uk",selected:!1},{name:"nl",selected:!1},{name:"es",selected:!1}]),n=y([]),r=y({keyword:""}),b=y(!1),h=y(),e=y(),f={keyword:[ae(1,63),te(),ne()]};function k(){return F(this,null,function*(){yield e.value.validate(),r.value.keyword=r.value.keyword.replace(/^-+/,"").replace(/-+$/,""),r.value.keyword=r.value.keyword.replace(/^\.+|\.+$/g,"");const V=v.value.filter(u=>u.selected).map(u=>u.name),_=r.value.keyword.indexOf(".")>-1;let l;if(_?(V.push(r.value.keyword.split(".")[1]),l=r.value.keyword.split(".")[0]):l=r.value.keyword,!V.length||!r.value.keyword.trim()){n.value=[];return}const x=yield P(V,l);n.value=x.results})}function w(V){h.value=V,b.value=!0}return(V,_)=>{const l=S,x=A,u=G,N=se,g=me,U=S,R=re,D=ue;return c(),E("div",_e,[d("div",ve,p(t(i)("common.domainSearch")),1),d("div",ye,[o(u,{ref_key:"form",ref:e,model:r.value,rules:f,class:"w-full flex justify-center",onSubmit:_[1]||(_[1]=L(()=>{},["prevent"]))},{default:a(()=>[o(x,{prop:"keyword"},{default:a(()=>[o(M,{modelValue:r.value.keyword,"onUpdate:modelValue":_[0]||(_[0]=m=>r.value.keyword=m),placeholder:"Input domain name like: 'kooboo'",class:"w-500px",onKeypress:O(k,["enter"])},null,8,["modelValue","onKeypress"]),o(l,{type:"primary",round:"",class:"ml-8",onClick:k},{default:a(()=>[K(p(t(i)("common.search")),1)]),_:1})]),_:1})]),_:1},8,["model"]),d("div",be,[(c(!0),E(j,null,T(v.value,m=>(c(),C(N,{key:m.name,modelValue:m.selected,"onUpdate:modelValue":s=>m.selected=s,class:"pb-8",label:`.${m.name}`},null,8,["modelValue","onUpdate:modelValue","label"]))),128))]),d("div",ke,[n.value.length?(c(),C(R,{key:0,data:n.value},{default:a(()=>[o(g,{prop:"domain",label:t(i)("common.name")},null,8,["label"]),o(g,{label:t(i)("common.price")},{default:a(({row:m})=>[m.price?(c(),E("div",Ve,[d("span",null,p(m.price.product.price.toFixed(2)),1),d("div",xe,[d("span",null,p(m.price.product.currency),1),we,d("span",null,"1"+p(t(i)("common.year")),1)])])):I("",!0)]),_:1},8,["label"]),o(g,{label:t(i)("common.status")},{default:a(({row:m})=>[m.status=="free"?(c(),E("div",Ee,p(t(i)("common.canRegister")),1)):(c(),E("div",he,p(t(i)("common.cantRegister")),1))]),_:1},8,["label"]),o(g,{align:"center"},{default:a(({row:m})=>[o(U,{round:"",plain:"",type:"primary",disabled:m.status!="free",onClick:s=>w(m)},{default:a(()=>[K(p(t(i)("common.immediatelyGet")),1)]),_:2},1032,["disabled","onClick"])]),_:1})]),_:1},8,["data"])):(c(),C(D,{key:1,description:"Please search domain name"}))])]),b.value?(c(),C(fe,{key:0,modelValue:b.value,"onUpdate:modelValue":_[2]||(_[2]=m=>b.value=m),domain:h.value},null,8,["modelValue","domain"])):I("",!0)])}}});export{wo as default};
