var x=Object.defineProperty;var w=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var N=(a,t,s)=>t in a?x(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,d=(a,t)=>{for(var s in t||(t={}))L.call(t,s)&&N(a,s,t[s]);if(w)for(var s of w(t))T.call(t,s)&&N(a,s,t[s]);return a};var l=(a,t,s)=>new Promise((m,u)=>{var c=e=>{try{i(s.next(e))}catch(o){u(o)}},p=e=>{try{i(s.throw(e))}catch(o){u(o)}},i=e=>e.done?m(e.value):Promise.resolve(e.value).then(c,p);i((s=s.apply(a,t)).next())});import{a as E,p as q,c as v}from"./useLabels.a0b6497c.js";import{a6 as y}from"./i18n.bcd18f8a.js";import{i as f}from"./string.75b81683.js";import{u as B}from"./commerce.733e9edf.js";import{c as D}from"./index.87ae2965.js";import{i as P}from"./isEmpty.8640792d.js";function S(a,t){const s=B();function m(e=0){return l(this,null,function*(){let o=[];return f(a,"productCustomFields")?o=s.settings.productCustomFields:f(a,"categoryCustomFields")&&(o=s.settings.categoryCustomFields),P(o)&&e<3?(yield s.loadSettings(),yield m(e++)):o})}const u=y(()=>l(this,null,function*(){const e=yield m();return e!=null?e:[]}),[]),c=y(()=>l(this,null,function*(){const e=yield m();return(e!=null?e:[]).filter(o=>!o.isSystemField)}),[]),{getDisplayName:p}=E(t);function i(e,o){return y(()=>e.map(n=>{var g,F,C;const r=u.value.find(b=>f(b.name,n.name));return{name:D(n.name),prop:n.prop,displayName:p(n.name,n.displayName||(r==null?void 0:r.displayName)),controlType:(F=(g=n.controlType)!=null?g:r==null?void 0:r.type)!=null?F:"TextBox",multipleValue:(C=r==null?void 0:r.multiple)!=null?C:!1,attrs:d(d({},n.attrs),o==null?void 0:o.call(r,n.name))}}),[])}return{fields:u,customFields:c,getColumns:i}}function K(){return S("productCustomFields",q)}function M(){return S("categoryCustomFields",v)}export{M as a,K as u};
