var x=Object.defineProperty;var w=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var N=(a,t,s)=>t in a?x(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,d=(a,t)=>{for(var s in t||(t={}))L.call(t,s)&&N(a,s,t[s]);if(w)for(var s of w(t))T.call(t,s)&&N(a,s,t[s]);return a};var l=(a,t,s)=>new Promise((m,u)=>{var c=e=>{try{i(s.next(e))}catch(o){u(o)}},p=e=>{try{i(s.throw(e))}catch(o){u(o)}},i=e=>e.done?m(e.value):Promise.resolve(e.value).then(c,p);i((s=s.apply(a,t)).next())});import{a as E,p as q,c as v}from"./useLabels.aeaf94fa.js";import{a6 as y}from"./i18n.a87944a4.js";import{i as f}from"./string.955a924b.js";import{u as B}from"./commerce.ded2851e.js";import{c as D}from"./index.85105f22.js";import{i as P}from"./isEmpty.8a500dd9.js";function S(a,t){const s=B();function m(e=0){return l(this,null,function*(){let o=[];return f(a,"productCustomFields")?o=s.settings.productCustomFields:f(a,"categoryCustomFields")&&(o=s.settings.categoryCustomFields),P(o)&&e<3?(yield s.loadSettings(),yield m(e++)):o})}const u=y(()=>l(this,null,function*(){const e=yield m();return e!=null?e:[]}),[]),c=y(()=>l(this,null,function*(){const e=yield m();return(e!=null?e:[]).filter(o=>!o.isSystemField)}),[]),{getDisplayName:p}=E(t);function i(e,o){return y(()=>e.filter(r=>r).map(r=>{var g,F,C;const n=u.value.find(b=>f(b.name,r.name));return{name:D(r.name),prop:r.prop,displayName:p(r.name,r.displayName||(n==null?void 0:n.displayName)),controlType:(F=(g=r.controlType)!=null?g:n==null?void 0:n.type)!=null?F:"TextBox",multipleValue:(C=n==null?void 0:n.multiple)!=null?C:!1,attrs:d(d({},r.attrs),o==null?void 0:o.call(n,r.name))}}),[])}return{fields:u,customFields:c,getColumns:i}}function K(){return S("productCustomFields",q)}function M(){return S("categoryCustomFields",v)}export{M as a,K as u};
