var h=(v,s,m)=>new Promise((u,r)=>{var f=i=>{try{n(m.next(i))}catch(p){r(p)}},l=i=>{try{n(m.throw(i))}catch(p){r(p)}},n=i=>i.done?u(i.value):Promise.resolve(i.value).then(f,l);n((m=m.apply(v,s)).next())});import{g as B,d as D,u as N}from"./index.f2618a8f.js";import{B as T}from"./breadcrumb.3432b615.js";import{_ as z}from"./icon-button.a2edb33f.js";import{_ as M}from"./k-table.c1a07faa.js";import{u as R}from"./use-date.3be35318.js";import{u as y}from"./replace-all.e310d26c.js";import{d as V,cd as $,g as A,N as I,b7 as q,o as b,a as L,b as t,f as _,e as P,j as E,w as a,u as o,aH as x,t as d,k as S}from"./url.8f5ec20c.js";import{g as j}from"./i18n.0d8cb6d1.js";import{b as H}from"./confirm.f89fa710.js";import{E as O}from"./windi.dcba9a95.js";import{E as U}from"./index.c7806af3.js";import{E as F}from"./index.8e0d96d6.js";import{c as G}from"./index.9a7a049b.js";import{E as J}from"./index.38840738.js";import"./main.d919dab0.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";/* empty css                                                               */import"./plugin-vue_export-helper.21dcd24c.js";import"./plugin-vue_export-helper.41ffa612.js";import"./index.3d638063.js";import"./error.7e8331f1.js";import"./index.36905e5d.js";import"./index.1d64e54f.js";import"./sortable.esm.a99254e8.js";import"./index.17321c3b.js";import"./isEqual.8058d1d5.js";import"./_baseIsEqual.f1f57955.js";import"./index.97ced36a.js";import"./event.776e7e11.js";import"./index.6e9a6658.js";import"./isNil.98bb3b88.js";import"./index.ec3d8ab1.js";import"./index.230671a2.js";import"./dayjs.min.8b8ca7e9.js";import"./logo-transparent.1566007e.js";import"./index.ab7ae43a.js";import"./index.1e651ffe.js";import"./scroll.9a94de30.js";import"./aria.75ec5909.js";import"./event.53b2ad83.js";import"./focus-trap.0c15535f.js";import"./validator.11bc55c7.js";import"./debounce.730e1961.js";import"./toNumber.6efebd6a.js";import"./index.6d134d76.js";const K={class:"p-24"},Q={class:"flex items-center py-24 space-x-16"},W={class:"flex items-center"},X=["title"],Y={class:"ellipsis","data-cy":"url"},Jt=V({setup(v){const{t:s}=j(),m=$(),u=A([]),r=()=>h(this,null,function*(){u.value=yield B()}),f=l=>h(this,null,function*(){yield H(l.length),yield D(l.map(n=>n.id)),r()});return r(),(l,n)=>{const i=O,p=U,c=F,C=G,k=J,g=I("router-link"),w=q("hasPermission");return b(),L("div",K,[t(T,{name:"OpenApis"}),_("div",Q,[P((b(),E(p,{round:"","data-cy":"create",onClick:n[0]||(n[0]=e=>o(m).push(o(y)({name:"openapi-edit"})))},{default:a(()=>[_("div",W,[t(i,{class:"iconfont icon-a-addto"}),x(" "+d(o(s)("common.create")),1)])]),_:1})),[[w,{feature:"openApi",action:"edit"}]])]),t(o(M),{data:u.value,"show-check":"",sort:"lastModified",permission:{feature:"openApi",action:"delete"},onDelete:f},{default:a(()=>[t(c,{width:"240px",label:o(s)("common.name"),prop:"name"},{default:a(({row:e})=>[_("span",{class:"ellipsis",title:e.name,"data-cy":"name"},d(e.name),9,X)]),_:1},8,["label"]),t(c,{label:o(s)("common.type"),width:"90"},{default:a(({row:e})=>[t(C,{size:"small",class:"rounded-full","data-cy":"type"},{default:a(()=>[x(d(e.type),1)]),_:2},1024)]),_:1},8,["label"]),t(c,{label:"URL"},{default:a(({row:e})=>[_("span",Y,d(e.url),1)]),_:1}),t(c,{width:"180px",label:o(s)("common.lastModified"),prop:"lastModified"},{default:a(({row:e})=>[x(d(o(R)(e.lastModified)),1)]),_:1},8,["label"]),t(c,{width:"120px",align:"right"},{default:a(({row:e})=>[e.type=="url"?(b(),E(z,{key:0,icon:"icon-Refresh",tip:o(s)("common.updateDocument"),onClick:Z=>o(N)(e.id)},null,8,["tip","onClick"])):S("",!0),t(g,{to:o(y)({name:"openapi-authorizes",query:{id:e.id}}),"data-cy":"authorize",class:"mx-8"},{default:a(()=>[t(k,{placement:"top",content:o(s)("common.authorize")},{default:a(()=>[t(i,{class:"iconfont icon-lock hover:text-blue text-l"})]),_:1},8,["content"])]),_:2},1032,["to"]),t(g,{to:o(y)({name:"openapi-edit",query:{id:e.id}}),"data-cy":"edit",class:"mx-8"},{default:a(()=>[t(k,{placement:"top",content:o(s)("common.edit")},{default:a(()=>[t(i,{class:"iconfont icon-a-writein hover:text-blue text-l"})]),_:1},8,["content"])]),_:2},1032,["to"])]),_:1})]),_:1},8,["data"])])}}});export{Jt as default};
