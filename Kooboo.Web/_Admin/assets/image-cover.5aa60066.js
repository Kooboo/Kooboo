import{g as B,w as u}from"./i18n.48bd28ac.js";import{u as U}from"./main.ea42d807.js";import{d as S,g as j,c as D,c0 as I,o as i,a as v,b as l,w as t,f as n,u as o,t as r,j as k,n as z,k as m,m as M}from"./url.2e6a77c4.js";import{M as $}from"./media-dialog.00ce8f4f.js";import"./validate.efc4a5c0.js";import"./image-editor.vue_vue_type_style_index_0_scoped_true_lang.f6d26366.js";import{_ as w}from"./media.56507018.js";import{E as f}from"./index.2bc50276.js";import{E as A}from"./windi.a5b0b048.js";import{E as N}from"./index.968f79fd.js";var F="/_Admin/assets/commerce_default_image.ceec75bb.svg";const P={class:"flex items-center justify-center"},q={key:0,class:"text-fff absolute inset-0 bg-444/60 flex flex-col items-center justify-center transition-all opacity-0 group-hover:opacity-100 space-y-4"},G={class:"flex flex-col gap-4 items-center"},Y=S({props:{modelValue:null,editable:{type:Boolean},size:null,description:null,folder:null,prefix:null},emits:["update:model-value","delete"],setup(e,{emit:x}){const p=e,V=U(),d=j(!1),{t:c}=B(),h=D(()=>`url("${p.modelValue?I(V.site.prUrl,p.modelValue):F}")`);function g(y){x("update:model-value",y[0].url)}function C(){x("update:model-value",""),x("delete")}return(y,a)=>{const s=A,E=N;return i(),v("div",P,[l(E,{placement:"top",trigger:"click",disabled:!e.editable||e.size=="large"},{reference:t(()=>[n("div",{style:M({backgroundImage:o(h)}),class:z(["w-48px h-48px bg-contain bg-center bg-no-repeat rounded-normal overflow-hidden inline-block relative group bg-gray",{"cursor-pointer":e.editable,"w-128px":e.size=="large","h-128px":e.size=="large","w-24px":e.size=="mini","h-24px":e.size=="mini","!rounded-4px":e.size=="mini"}]),onClick:a[1]||(a[1]=u(()=>{},["stop"]))},[e.editable&&e.size=="large"?(i(),v("div",q,[l(w,{folder:e.folder||"/",prefix:e.prefix,multiple:!1,onAfterUpload:g},{default:t(()=>[l(o(f),{round:"",size:"small",type:"primary",class:"w-80px"},{default:t(()=>[l(s,{class:"iconfont icon-a-Cloudupload"}),n("span",null,r(o(c)("common.upload")),1)]),_:1})]),_:1},8,["folder","prefix"]),l(o(f),{round:"",size:"small",type:"primary",class:"!ml-0 w-80px",onClick:a[0]||(a[0]=u(b=>d.value=!0,["stop"]))},{default:t(()=>[l(s,{class:"iconfont icon-folder"}),n("span",null,r(o(c)("common.select")),1)]),_:1}),p.modelValue?(i(),k(s,{key:0,class:z(["iconfont icon-delete text-orange absolute top-8 right-8",{"text-l":e.size=="large"}]),onClick:u(C,["stop"])},null,8,["class","onClick"])):m("",!0)])):m("",!0),e.description?(i(),v("div",{key:1,class:z(["bg-444/60 text-s h-16px text-fff absolute left-0 right-0 bottom-0 flex items-center justify-center",{"h-24px":e.size=="large"}])},r(e.description),3)):m("",!0)],6)]),default:t(()=>[n("div",G,[l(w,{folder:e.folder||"/",prefix:e.prefix,multiple:!1,onAfterUpload:g},{default:t(()=>[l(o(f),{round:"",size:"small",type:"primary",class:"w-100px"},{default:t(()=>[l(s,{class:"iconfont icon-a-Cloudupload"}),n("span",null,r(o(c)("common.upload")),1)]),_:1})]),_:1},8,["folder","prefix"]),l(o(f),{round:"",size:"small",type:"primary",class:"!ml-0 w-100px",onClick:a[2]||(a[2]=u(b=>d.value=!0,["stop"]))},{default:t(()=>[l(s,{class:"iconfont icon-folder"}),n("span",null,r(o(c)("common.select")),1)]),_:1}),p.modelValue?(i(),k(o(f),{key:0,round:"",size:"small",type:"danger",class:"!ml-0 w-100px",onClick:u(C,["stop"])},{default:t(()=>[l(s,{class:"iconfont icon-delete"}),n("span",null,r(o(c)("common.delete")),1)]),_:1},8,["onClick"])):m("",!0)])]),_:1},8,["disabled"]),d.value?(i(),k(o($),{key:0,modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=b=>d.value=b),onChoose:g},null,8,["modelValue"])):m("",!0)])}}});export{Y as _,F as d};
