var B=Object.defineProperty,V=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var g=(s,e,o)=>e in s?B(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,E=(s,e)=>{for(var o in e||(e={}))$.call(e,o)&&g(s,o,e[o]);if(b)for(var o of b(e))C.call(e,o)&&g(s,o,e[o]);return s},v=(s,e)=>V(s,S(e));var w=(s,e,o)=>new Promise((c,a)=>{var i=t=>{try{n(o.next(t))}catch(l){a(l)}},u=t=>{try{n(o.throw(t))}catch(l){a(l)}},n=t=>t.done?c(t.value):Promise.resolve(t.value).then(i,u);n((o=o.apply(s,e)).next())});import{g as F,o as I,w as K}from"./i18n.bcd18f8a.js";import{_ as A}from"./container.0878dba9.js";import{d as R,E as q,x as d,g as M,cd as z,o as D,a as G,b as m,w as p,u as r,f,t as _,aH as H}from"./url.8f5ec20c.js";import{B as Q}from"./validate.238a9986.js";import{r as T}from"./index.309453c4.js";import{r as U}from"./index.92b3d4b4.js";import{n as j}from"./guid.c1a40312.js";import{u as J}from"./use-first-input-focus.0df83e78.js";import{E as L,b as O}from"./main.582f9de6.js";import{E as P}from"./index.5cbbc5d7.js";import{E as W,a as X}from"./index.6d63eb53.js";import{E as Y}from"./index.aec72f69.js";import{E as Z}from"./index.79f78425.js";import"./logo-transparent.1566007e.js";import"./light-switch.228a2b15.js";import"./dark.166fd971.js";import"./plugin-vue_export-helper.41ffa612.js";import"./windi.19264205.js";import"./index.2341329b.js";import"./index.bda83f28.js";import"./replace-all.d441bf14.js";import"./index.bff48780.js";import"./index.649f6c77.js";import"./index.a32fb6e5.js";import"./style.9c8f6403.js";import"./toNumber.6efebd6a.js";import"./_baseIsEqual.547729d3.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./event.776e7e11.js";import"./index.05e21f33.js";import"./error.7e8331f1.js";import"./isNil.98bb3b88.js";import"./_baseClone.eeff2792.js";import"./isEqual.11d86bcc.js";const oo={class:"h-full overflow-hidden"},eo={class:"flex items-center mb-16 text-m"},to={class:"text-444 mr-4"},Go=R({setup(s){const{t:e}=F();J();const o=q({userName:"",password:j(),verifyid:d("id")}),c={userName:Q},a=M(),i=z(),u=()=>w(this,null,function*(){yield a.value.validate();const t=yield(d("type")==="oauth"?U:T)(o);if(t.error){L.error(t.error);return}t.access_token&&(O().login(t.access_token),i.replace({name:"home"}))});return(n,t)=>{const l=P,x=W,k=X,N=Y,h=Z;return D(),G("div",oo,[m(h,null,{default:p(()=>[m(A,{title:r(e)("common.pickName"),onKeypress:I(u,["enter"])},{default:p(()=>[f("div",eo,[f("span",to,_(r(e)("common.haveKoobooAccount")),1),f("a",{class:"text-blue cursor-pointer","data-cy":"binding-account",onClick:t[0]||(t[0]=y=>r(i).push({name:"bind-account",query:v(E({},r(i).currentRoute.value.query),{id:r(o).verifyid,type:r(d)("type")})}))},_(r(e)("common.bindAccount")),1)]),m(k,{ref_key:"form",ref:a,"label-position":"top",model:r(o),rules:r(c),onSubmit:t[2]||(t[2]=K(()=>{},["prevent"]))},{default:p(()=>[m(x,{label:r(e)("common.username"),prop:"userName"},{default:p(()=>[m(l,{modelValue:r(o).userName,"onUpdate:modelValue":t[1]||(t[1]=y=>r(o).userName=y),"data-cy":"username"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"]),m(N,{class:"w-full text-l h-48px",round:"",type:"primary",size:"large","data-cy":"confirm",onClick:u},{default:p(()=>[H(_(r(e)("common.ok")),1)]),_:1})]),_:1},8,["title","onKeypress"])]),_:1})])}}});export{Go as default};
