import{g as B,w as c}from"./i18n.a87944a4.js";import{u as U}from"./main.9fdfea92.js";import{d as S,g as j,c as A,A as D,o as i,a as v,b as l,w as t,f as n,u as o,t as r,j as k,n as z,k as m,m as I}from"./url.4cb47a7a.js";import{M}from"./media-dialog.69c737ad.js";import"./validate.bb56f9e3.js";import"./image-editor.vue_vue_type_style_index_0_scoped_true_lang.ec5f0705.js";import{_ as w}from"./media.e27599b4.js";import{E as f}from"./index.361e2245.js";import{E as $}from"./windi.6360286d.js";import{E as N}from"./index.bec063d7.js";var F="/_Admin/assets/commerce_default_image.ceec75bb.svg";const P={class:"flex items-center justify-center"},q={key:0,class:"text-fff absolute inset-0 bg-444/60 flex flex-col items-center justify-center transition-all opacity-0 group-hover:opacity-100 space-y-4"},G={class:"flex flex-col gap-4 items-center"},Y=S({props:{modelValue:null,editable:{type:Boolean},size:null,description:null,folder:null,prefix:null},emits:["update:model-value","delete"],setup(e,{emit:x}){const p=e,V=U(),d=j(!1),{t:u}=B(),h=A(()=>`url("${p.modelValue?D(V.site.prUrl,p.modelValue):F}")`);function g(y){x("update:model-value",y[0].url)}function C(){x("update:model-value",""),x("delete")}return(y,a)=>{const s=$,E=N;return i(),v("div",P,[l(E,{placement:"top",trigger:"click",disabled:!e.editable||e.size=="large"},{reference:t(()=>[n("div",{style:I({backgroundImage:o(h)}),class:z(["w-48px h-48px bg-contain bg-center bg-no-repeat rounded-normal overflow-hidden inline-block relative group bg-gray",{"cursor-pointer":e.editable,"w-128px":e.size=="large","h-128px":e.size=="large","w-24px":e.size=="mini","h-24px":e.size=="mini","!rounded-4px":e.size=="mini"}]),onClick:a[1]||(a[1]=c(()=>{},["stop"]))},[e.editable&&e.size=="large"?(i(),v("div",q,[l(w,{folder:e.folder||"/",prefix:e.prefix,multiple:!1,onAfterUpload:g},{default:t(()=>[l(o(f),{round:"",size:"small",type:"primary",class:"w-80px"},{default:t(()=>[l(s,{class:"iconfont icon-a-Cloudupload"}),n("span",null,r(o(u)("common.upload")),1)]),_:1})]),_:1},8,["folder","prefix"]),l(o(f),{round:"",size:"small",type:"primary",class:"!ml-0 w-80px",onClick:a[0]||(a[0]=c(b=>d.value=!0,["stop"]))},{default:t(()=>[l(s,{class:"iconfont icon-folder"}),n("span",null,r(o(u)("common.select")),1)]),_:1}),p.modelValue?(i(),k(s,{key:0,class:z(["iconfont icon-delete text-orange absolute top-8 right-8",{"text-l":e.size=="large"}]),onClick:c(C,["stop"])},null,8,["class","onClick"])):m("",!0)])):m("",!0),e.description?(i(),v("div",{key:1,class:z(["bg-444/60 text-s h-16px text-fff absolute left-0 right-0 bottom-0 flex items-center justify-center",{"h-24px":e.size=="large"}])},r(e.description),3)):m("",!0)],6)]),default:t(()=>[n("div",G,[l(w,{folder:e.folder||"/",prefix:e.prefix,multiple:!1,onAfterUpload:g},{default:t(()=>[l(o(f),{round:"",size:"small",type:"primary",class:"w-100px"},{default:t(()=>[l(s,{class:"iconfont icon-a-Cloudupload"}),n("span",null,r(o(u)("common.upload")),1)]),_:1})]),_:1},8,["folder","prefix"]),l(o(f),{round:"",size:"small",type:"primary",class:"!ml-0 w-100px",onClick:a[2]||(a[2]=c(b=>d.value=!0,["stop"]))},{default:t(()=>[l(s,{class:"iconfont icon-folder"}),n("span",null,r(o(u)("common.select")),1)]),_:1}),p.modelValue?(i(),k(o(f),{key:0,round:"",size:"small",type:"danger",class:"!ml-0 w-100px",onClick:c(C,["stop"])},{default:t(()=>[l(s,{class:"iconfont icon-delete"}),n("span",null,r(o(u)("common.delete")),1)]),_:1},8,["onClick"])):m("",!0)])]),_:1},8,["disabled"]),d.value?(i(),k(o(M),{key:0,modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=b=>d.value=b),onChoose:g},null,8,["modelValue"])):m("",!0)])}}});export{Y as _,F as d};
