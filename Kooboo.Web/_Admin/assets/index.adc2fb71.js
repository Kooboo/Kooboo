var H=(h,i,l)=>new Promise((a,p)=>{var _=m=>{try{n(l.next(m))}catch(v){p(v)}},g=m=>{try{n(l.throw(m))}catch(v){p(v)}},n=m=>m.done?a(m.value):Promise.resolve(m.value).then(_,g);n((l=l.apply(h,i)).next())});import{g as T,o as W,w as te}from"./i18n.a87944a4.js";import{u as ae}from"./use-operation-dialog.4f6d7533.js";import{a as ne}from"./validate.bb56f9e3.js";import{b as le,p as se,c as re,d as ie,e as me,f as de,h as ue}from"./index.d2657986.js";import{_ as Z}from"./index.f0d5f031.js";import{b as J}from"./main.9fdfea92.js";import{_ as ce}from"./plugin-vue_export-helper.21dcd24c.js";import{E as pe}from"./index.79632b7d.js";import{E as Q}from"./index.178b9e08.js";import{E as q,a as F}from"./index.9fd79879.js";import{E as M}from"./index.c003dfa1.js";import{d as U,g as C,i as _e,o as d,j as k,w as t,b as r,u as e,a as O,f as y,t as L,F as K,b7 as z,k as D,H as fe,b4 as ve,b2 as Ce,cd as X,G as ge,O as be,aI as Y,n as ye}from"./url.4cb47a7a.js";import{s as he,b as we}from"./confirm.b60b5d2f.js";import{E as ee,a as oe}from"./index.7c862087.js";import{_ as Ve}from"./k-table.b1a54b80.js";import{E as Le}from"./index.24947ed8.js";import{r as ke}from"./index.544e4d97.js";import{E as xe}from"./index.361e2245.js";import{E as De}from"./index.b38edc72.js";import"./index.d24a40b9.js";import"./index.f23f1e38.js";import"./replace-all.56d2c1f7.js";import"./index.a24f458a.js";import"./index.1fd72ea8.js";import"./index.abe211fa.js";import"./style.c350d462.js";import"./toNumber.47eea968.js";import"./_baseIsEqual.dc9e64c4.js";import"./index.50c16ae5.js";import"./windi.6360286d.js";import"./preload-helper.13a99eb0.js";import"./event.776e7e11.js";import"./index.7b8c5aef.js";import"./error.7e8331f1.js";import"./isNil.98bb3b88.js";import"./_baseClone.b8903935.js";import"./isEqual.4cab74e3.js";import"./index.c10802d9.js";import"./scroll.16983984.js";import"./index.4d568055.js";import"./focus-trap.50a00b7f.js";import"./refs.3132cbdb.js";import"./logo-transparent.1566007e.js";import"./index.f2c1b903.js";import"./aria.75ec5909.js";import"./event.53b2ad83.js";import"./validator.b5df2420.js";import"./index.d96452a6.js";import"./index.fd96ea36.js";import"./debounce.4e0c106e.js";import"./index.66319a92.js";import"./sortable.esm.a99254e8.js";import"./icon-button.74ccc970.js";import"./index.4f90a917.js";import"./index.c6da2706.js";import"./index.42922617.js";import"./index.f15f695e.js";const Ne=h=>(ve("data-v-5c21889a"),h=h(),Ce(),h),$e={key:0,class:"mb-16"},Oe={class:"text-2l font-bold"},Se={class:"space-y-4 leading-4"},Ee={class:"break-normal"},He=Ne(()=>y("p",{class:"leading-2"},"\xA0",-1)),Ae=U({props:{modelValue:{type:Boolean}},emits:["create-success"],setup(h,{emit:i}){const l=h,{t:a}=T(),{visible:p,handleClose:_}=ae(l,i),g=J(),n=C(),m=C({domainName:""}),v=C(),x={domainName:[ne(a("common.domainRequiredTips"))]};_e(()=>p.value,b=>{var f;b&&((f=n.value)==null||f.resetFields(),m.value.domainName="",le().then(N=>v.value=N))});function w(){var b;(b=n.value)==null||b.validate(f=>H(this,null,function*(){f&&(yield se(m.value.domainName),_(),i("create-success"))}))}return(b,f)=>{const N=pe,S=Q,E=q,s=F,o=M;return d(),k(o,{modelValue:e(p),"onUpdate:modelValue":f[2]||(f[2]=u=>fe(p)?p.value=u:null),width:"500px","close-on-click-modal":!1,title:e(a)("common.newLocalDomain"),onClose:e(_)},{footer:t(()=>[r(Z,{"confirm-label":e(a)("common.create"),onConfirm:w,onCancel:e(_)},null,8,["confirm-label","onCancel"])]),default:t(()=>[r(s,{ref_key:"form",ref:n,class:"el-form--label-normal",model:m.value,rules:e(x),"label-position":"top",onSubmit:f[1]||(f[1]=te(()=>{},["prevent"]))},{default:t(()=>{var u;return[(u=e(g).header)!=null&&u.isOnlineServer?(d(),O("div",$e,[r(N,{closable:!1,type:"info",class:"dark:bg-444"},{header:t(()=>[y("span",Oe,L(e(a)("common.addADomainNameToYourAccount")),1)]),default:t(()=>{var A,$;return[y("div",Se,[y("div",Ee,L(e(a)("common.dnsServer")),1),(d(!0),O(K,null,z((A=v.value)==null?void 0:A.dnsServers,B=>(d(),O("div",{key:B},L(B),1))),128)),He,y("div",null,L(e(a)("common.orCreateYourDomainWildcardTips")),1),y("div",null,L(($=v.value)==null?void 0:$.cName),1)])]}),_:1})])):D("",!0),r(E,{prop:"domainName",label:e(a)("common.domain")},{default:t(()=>[r(S,{modelValue:m.value.domainName,"onUpdate:modelValue":f[0]||(f[0]=A=>m.value.domainName=A),"data-cy":"subdomain",onKeydown:W(w,["enter"])},null,8,["modelValue","onKeydown"])]),_:1},8,["label"])]}),_:1},8,["model","rules"])]),_:1},8,["modelValue","title","onClose"])}}});var Be=ce(Ae,[["__scopeId","data-v-5c21889a"]]);const Ie=U({props:{domain:null,dataCenter:null,modelValue:{type:Boolean}},emits:["update:modelValue","change-success"],setup(h,{emit:i}){const l=h,{t:a}=T(),p=C(!0),_=C(),g=C(),n=C(),m=()=>H(this,null,function*(){yield he(a("common.assignDataCenterTips")),yield re(l.domain,g.value),p.value=!1,i("change-success")});return(()=>H(this,null,function*(){g.value=l.dataCenter,n.value=yield ie(l.domain)}))(),(x,w)=>{const b=ee,f=oe,N=q,S=F,E=M;return d(),k(E,{"model-value":p.value,width:"350px","close-on-click-modal":!1,title:e(a)("common.changeDataCenter"),"custom-class":"changeDataCenterDialog",onClosed:w[2]||(w[2]=s=>i("update:modelValue",!1))},{footer:t(()=>[r(Z,{onConfirm:m,onCancel:w[1]||(w[1]=s=>p.value=!1)})]),default:t(()=>[r(S,{ref_key:"form",ref:_,class:"el-form--label-normal","label-position":"top"},{default:t(()=>[r(N,{label:e(a)("common.dataCenter")},{default:t(()=>[r(f,{modelValue:g.value,"onUpdate:modelValue":w[0]||(w[0]=s=>g.value=s),class:"w-full",placeholder:"Text"},{default:t(()=>[(d(!0),O(K,null,z(n.value,s=>(d(),k(b,{key:s.dataCenter,value:s.dataCenter,label:s.description},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},512)]),_:1},8,["model-value","title"])}}}),Te=U({props:{domain:null,modelValue:{type:Boolean}},emits:["update:modelValue","change-success"],setup(h,{emit:i}){const l=h,{t:a}=T(),p=C(!0),_=C();return me(l.domain).then(g=>_.value=g),(g,n)=>{const m=Le,v=M;return d(),k(v,{"model-value":p.value,width:"340px","close-on-click-modal":!1,"custom-class":"el-dialog--zero-padding",title:e(a)("common.transferDomain"),onClosed:n[0]||(n[0]=x=>i("update:modelValue",!1))},{default:t(()=>[r(m,{icon:_.value?"success":"info",title:_.value,"sub-title":_.value?e(a)("common.transferDomainTip"):e(a)("common.loading")},null,8,["icon","title","sub-title"])]),_:1},8,["model-value","title"])}}}),Ue=U({props:{modelValue:{type:Boolean},domain:null},emits:["update:modelValue"],setup(h,{emit:i}){const l=h,{t:a}=T(),p=X(),_=C(!0),g=C(),n=C({domainName:l.domain,year:1}),m=C([]);for(var v=1;v<=10;v++)m.value.push({value:v,label:v+" "+a(v===1?"common.year":"common.years")});const x=()=>H(this,null,function*(){const w=yield ke({domain:{domainName:n.value.domainName,year:n.value.year}});p.push({name:"checkOrder",query:{orderId:w}})});return(w,b)=>{const f=Q,N=q,S=ee,E=oe,s=F,o=M;return d(),k(o,{"model-value":_.value,width:"600px","close-on-click-modal":!1,title:e(a)("common.createDomainRenewOrder"),onClosed:b[3]||(b[3]=u=>i("update:modelValue",!1))},{footer:t(()=>[r(Z,{"confirm-label":e(a)("common.ok"),onConfirm:x,onCancel:b[2]||(b[2]=u=>_.value=!1)},null,8,["confirm-label"])]),default:t(()=>[r(s,{ref_key:"form",ref:g,"label-position":"top",model:n.value,onKeydown:W(x,["enter"])},{default:t(()=>[r(N,{label:e(a)("common.domain")},{default:t(()=>[r(f,{modelValue:n.value.domainName,"onUpdate:modelValue":b[0]||(b[0]=u=>n.value.domainName=u),disabled:""},null,8,["modelValue"])]),_:1},8,["label"]),r(N,{label:`${e(a)("common.period")} (${e(a)("common.year")})`,prop:"year"},{default:t(()=>[r(E,{modelValue:n.value.year,"onUpdate:modelValue":b[1]||(b[1]=u=>n.value.year=u),class:"w-30","default-first-option":""},{default:t(()=>[(d(!0),O(K,null,z(m.value,u=>(d(),k(S,{key:u.value,label:u.label,value:u.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","onKeydown"])]),_:1},8,["model-value","title"])}}}),Me={class:"p-24"},Re={class:"flex items-center pb-24 space-x-16"},Ze={class:"flex items-center"},qe={class:"flex items-center"},Fe=["title","onClick"],Ke={"data-cy":"expire-date"},ze={"data-cy":"record"},Pe={"data-cy":"site-number"},je={class:"flex gap-8 items-center justify-center"},Ge=["onClick"],Ye=y("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M14 4.00098H9.994L6.98 2.00098H2C1.73478 2.00098 1.48043 2.10633 1.29289 2.29387C1.10536 2.48141 1 2.73576 1 3.00098V12.999C1 13.2642 1.10536 13.5185 1.29289 13.7061C1.48043 13.8936 1.73478 13.999 2 13.999H14C14.2652 13.999 14.5196 13.8936 14.7071 13.7061C14.8946 13.5185 15 13.2642 15 12.999V5.00098C15 4.73576 14.8946 4.48141 14.7071 4.29387C14.5196 4.10633 14.2652 4.00098 14 4.00098ZM14 12.499C14 12.6316 13.9473 12.7588 13.8536 12.8525C13.7598 12.9463 13.6326 12.999 13.5 12.999H2.5C2.36739 12.999 2.24021 12.9463 2.14645 12.8525C2.05268 12.7588 2 12.6316 2 12.499V3.50098C2 3.36837 2.05268 3.24119 2.14645 3.14742C2.24021 3.05366 2.36739 3.00098 2.5 3.00098H6.997L10.001 5.00098H13.5C13.6326 5.00098 13.7598 5.05366 13.8536 5.14742C13.9473 5.24119 14 5.36837 14 5.50098V12.499Z",fill:"rgb(153, 153, 153)"}),y("path",{d:"M8.93598 6.19379C8.88831 6.14291 8.83091 6.10214 8.76717 6.07389C8.70344 6.04564 8.63467 6.0305 8.56497 6.02937C8.49526 6.02823 8.42604 6.04112 8.36142 6.06727C8.29679 6.09343 8.23809 6.13231 8.18879 6.1816C8.1395 6.2309 8.10062 6.2896 8.07446 6.35423C8.04831 6.41885 8.03542 6.48807 8.03656 6.55778C8.03769 6.62748 8.05283 6.69625 8.08108 6.75998C8.10933 6.82372 8.1501 6.88112 8.20098 6.92879L9.26698 7.99479H4.00098V9.03379H9.20298L8.20198 10.0348C8.1511 10.0824 8.11033 10.1399 8.08208 10.2036C8.05383 10.2673 8.03869 10.3361 8.03756 10.4058C8.03642 10.4755 8.04931 10.5447 8.07546 10.6093C8.10162 10.674 8.1405 10.7327 8.18979 10.782C8.23909 10.8313 8.29779 10.8701 8.36241 10.8963C8.42704 10.9225 8.49626 10.9353 8.56597 10.9342C8.63567 10.9331 8.70444 10.9179 8.76817 10.8897C8.83191 10.8614 8.88931 10.8207 8.93698 10.7698L10.858 8.84879C10.9554 8.75128 11.0101 8.6191 11.0101 8.48129C11.0101 8.34347 10.9554 8.21129 10.858 8.11379L8.93598 6.19379Z",fill:"rgb(153, 153, 153)"})],-1),We=[Ye],Je=["onClick"],Qe=y("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M9.76552 1L13.2345 3L12.5625 4.172C12.7919 4.443 13.0002 4.73983 13.1875 5.0625C13.3749 5.38517 13.5312 5.7185 13.6565 6.0625H15.0005V10.0625H13.6565C13.4065 10.7605 13.0419 11.3907 12.5625 11.953L13.2345 13.125L9.76552 15.125L9.09352 13.953C8.36419 14.0883 7.63502 14.0883 6.90602 13.953L6.23402 15.125L2.76502 13.125L3.43702 11.953C3.19736 11.6717 2.98636 11.3722 2.80402 11.0545C2.62169 10.7368 2.46802 10.4062 2.34302 10.0625H0.999023V6.0625H2.34302C2.59302 5.3645 2.95769 4.73433 3.43702 4.172L2.76502 3L6.23402 1L6.90602 2.172C7.63536 2.03667 8.36452 2.03667 9.09352 2.172L9.76552 1ZM10.1405 2.3595L9.95302 2.672L9.60902 3.2815L8.90602 3.1565C8.30169 3.04183 7.69752 3.04183 7.09352 3.1565L6.39052 3.2815L5.85902 2.3595L4.14002 3.3595L4.65552 4.2815L4.20252 4.813C3.80652 5.28167 3.50436 5.80767 3.29602 6.391L3.06152 7.063H1.99902V9.063H3.04602L3.29602 9.735C3.40036 10.037 3.52536 10.313 3.67102 10.563C3.81669 10.813 3.99386 11.063 4.20252 11.313L4.65552 11.8445L4.14002 12.7665L5.85902 13.7665L6.39052 12.8445L7.09352 12.9695C7.69786 13.0842 8.30202 13.0842 8.90602 12.9695L9.60902 12.8445L10.1405 13.7665L11.8595 12.7665L11.344 11.8445L11.797 11.313C12.193 10.8337 12.4952 10.3077 12.7035 9.735L12.938 9.063H14.0005V7.063H12.9535L12.7035 6.391C12.6099 6.10967 12.4849 5.83617 12.3285 5.5705C12.1722 5.30483 11.995 5.05217 11.797 4.8125L11.344 4.281L11.8595 3.359L10.1405 2.3595ZM8.00002 4.5625C8.98969 4.5835 9.81519 4.92467 10.4765 5.586C11.1379 6.24733 11.479 7.07283 11.5 8.0625C11.479 9.05217 11.1379 9.87767 10.4765 10.539C9.81519 11.2003 8.98969 11.5415 8.00002 11.5625C7.01036 11.5415 6.18486 11.2003 5.52352 10.539C4.86219 9.87767 4.52102 9.05217 4.50002 8.0625C4.52102 7.07283 4.86219 6.24733 5.52352 5.586C6.18486 4.92467 7.01036 4.5835 8.00002 4.5625ZM8.00002 5.5625C7.29169 5.5835 6.70319 5.82833 6.23452 6.297C5.76586 6.76567 5.52102 7.35417 5.50002 8.0625C5.52102 8.77083 5.76586 9.35933 6.23452 9.828C6.70319 10.2967 7.29169 10.5415 8.00002 10.5625C8.70836 10.5415 9.29686 10.2967 9.76552 9.828C10.2342 9.35933 10.479 8.77083 10.5 8.0625C10.479 7.35417 10.2342 6.76567 9.76552 6.297C9.29686 5.82833 8.70836 5.5835 8.00002 5.5625V5.5625Z",fill:"rgb(153, 153, 153)"})],-1),Xe=[Qe],lt=U({setup(h){const i=J(),{t:l}=T(),a=X(),p=C(!1),_=C(!1),g=C(!1),n=C(),m=C(),v=C([]),x=ge({status:!1,open(){x.status=!0}}),w=(s,o)=>{var u;!((u=i.currentOrg)!=null&&u.isAdmin)||(p.value=!0,m.value=o,n.value=s)};function b(s){return H(this,null,function*(){s.length&&(yield we(s.length),yield de(s.map(o=>o.id)),f())})}const f=()=>H(this,null,function*(){v.value=yield ue()});f();function N(s){var o;!((o=i.currentOrg)!=null&&o.isAdmin)||a.push({name:"domainDNS",query:{domainName:s.domainName}})}function S(s){var o;!((o=i.currentOrg)!=null&&o.isAdmin)||(n.value=s.domainName,_.value=!0)}function E(s){var o;!((o=i.currentOrg)!=null&&o.isAdmin)||(n.value=s.domainName,g.value=!0)}return(s,o)=>{var B;const u=xe,A=be("router-link"),$=De;return d(),O("div",Me,[y("div",Re,[r(u,{round:"",onClick:e(x).open},{default:t(()=>[y("div",Ze,L(e(l)("common.new")),1)]),_:1},8,["onClick"]),(B=e(i).currentOrg)!=null&&B.isAdmin?(d(),k(u,{key:0,round:"",onClick:o[0]||(o[0]=V=>e(a).push({name:"domain-search"}))},{default:t(()=>[y("div",qe,L(e(l)("common.domainPurchase")),1)]),_:1})):D("",!0)]),r(e(Ve),{data:v.value,"show-check":"",onDelete:b},{default:t(()=>{var V,P;return[r($,{label:e(l)("common.domain"),"min-width":"300"},{default:t(({row:c})=>[r(A,{class:"text-blue ellipsis",to:{name:"domain-binding",query:{id:c.id}},"data-cy":"domain"},{default:t(()=>[Y(L(c.domainName),1)]),_:2},1032,["to"])]),_:1},8,["label"]),(V=e(i).header)!=null&&V.isOnlineServer?(d(),k($,{key:0,label:e(l)("common.dataCenter"),width:"200",align:"center"},{default:t(({row:c})=>{var I;return[c.dataCenter?(d(),O("div",{key:0,style:{"max-width":"fit-content"},class:ye(["my-0 mx-auto px-12 ellipsis leading-7 h-28px rounded-full border border-[#a7b0be] border-opacity-40 border-solid text-14px text-666 dark:text-fff/86 hover:bg-666/10 cursor-pointer",(I=e(i).currentOrg)!=null&&I.isAdmin?"":"cursor-not-allowed  hover:bg-transparent"]),title:c.dataCenter,onClick:R=>w(c.domainName,c.dataCenter)},L(c.dataCenter),11,Fe)):D("",!0)]}),_:1},8,["label"])):D("",!0),r($,{label:e(l)("common.expirationDate"),width:"200",align:"center"},{default:t(({row:c})=>[y("span",Ke,L(c.expires),1)]),_:1},8,["label"]),r($,{label:e(l)("common.record"),width:"100",align:"center"},{default:t(({row:c})=>[y("span",ze,L(c.records),1)]),_:1},8,["label"]),r($,{label:e(l)("common.site"),width:"100",align:"center"},{default:t(({row:c})=>[y("span",Pe,L(c.sites),1)]),_:1},8,["label"]),(P=e(i).header)!=null&&P.isOnlineServer?(d(),k($,{key:1,label:e(l)("common.action"),width:"160",align:"center"},{default:t(({row:c})=>{var I,R,j;return[y("div",je,[((I=e(i).currentOrg)==null?void 0:I.isAdmin)&&c.source=="OpenProvider"?(d(),k(u,{key:0,size:"small",type:"primary",round:"",class:"mr-8",onClick:G=>E(c)},{default:t(()=>[Y(L(e(l)("common.renew")),1)]),_:2},1032,["onClick"])):D("",!0),((R=e(i).currentOrg)==null?void 0:R.isAdmin)&&c.source=="OpenProvider"?(d(),O("div",{key:1,class:"hover:cursor-pointer",onClick:G=>S(c)},We,8,Ge)):D("",!0),((j=e(i).currentOrg)==null?void 0:j.isAdmin)&&c.enableDns?(d(),O("div",{key:2,class:"hover:cursor-pointer",onClick:G=>N(c)},Xe,8,Je)):D("",!0)])]}),_:1},8,["label"])):D("",!0)]}),_:1},8,["data"]),r(Be,{modelValue:e(x).status,"onUpdate:modelValue":o[1]||(o[1]=V=>e(x).status=V),onCreateSuccess:o[2]||(o[2]=V=>f())},null,8,["modelValue"]),p.value?(d(),k(Ie,{key:0,modelValue:p.value,"onUpdate:modelValue":o[3]||(o[3]=V=>p.value=V),"data-center":m.value,domain:n.value,onChangeSuccess:o[4]||(o[4]=V=>f())},null,8,["modelValue","data-center","domain"])):D("",!0),_.value?(d(),k(Te,{key:1,modelValue:_.value,"onUpdate:modelValue":o[5]||(o[5]=V=>_.value=V),domain:n.value},null,8,["modelValue","domain"])):D("",!0),g.value?(d(),k(Ue,{key:2,modelValue:g.value,"onUpdate:modelValue":o[6]||(o[6]=V=>g.value=V),domain:n.value},null,8,["modelValue","domain"])):D("",!0)])}}});export{lt as default};
