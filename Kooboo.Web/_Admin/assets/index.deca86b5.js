var O=Object.defineProperty,j=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var C=(a,t,o)=>t in a?O(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,N=(a,t)=>{for(var o in t||(t={}))U.call(t,o)&&C(a,o,t[o]);if(P)for(var o of P(t))q.call(t,o)&&C(a,o,t[o]);return a},B=(a,t)=>j(a,R(t));import{b as G,d as v,u as H,ac as J,ah as K,F as Q,ai as X,B as Y,E as Z,_ as ee,w as te}from"./windi.a5b0b048.js";import{d as se,c as n,v as ae,p as D,o as c,a as d,n as u,u as s,f as g,m as h,r as I,t as T,k as x,j as E,w as re,l as oe}from"./url.2e6a77c4.js";const ne=G({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:a=>a>=0&&a<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:v(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:v([String,Array,Function]),default:""},format:{type:v(Function),default:a=>`${a}%`}}),le=["aria-valuenow"],ie={viewBox:"0 0 100 100"},ce=["d","stroke","stroke-width"],ue=["d","stroke","opacity","stroke-linecap","stroke-width"],de={key:0},pe={name:"ElProgress"},fe=se(B(N({},pe),{props:ne,setup(a){const t=a,o={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=H("progress"),F=n(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:_(t.percentage)})),m=n(()=>(t.strokeWidth/t.width*100).toFixed(1)),b=n(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(m.value)/2}`,10):0),w=n(()=>{const e=b.value,l=t.type==="dashboard";return`
          M 50 50
          m 0 ${l?"":"-"}${e}
          a ${e} ${e} 0 1 1 0 ${l?"-":""}${e*2}
          a ${e} ${e} 0 1 1 0 ${l?"":"-"}${e*2}
          `}),y=n(()=>2*Math.PI*b.value),k=n(()=>t.type==="dashboard"?.75:1),$=n(()=>`${-1*y.value*(1-k.value)/2}px`),W=n(()=>({strokeDasharray:`${y.value*k.value}px, ${y.value}px`,strokeDashoffset:$.value})),z=n(()=>({strokeDasharray:`${y.value*k.value*(t.percentage/100)}px, ${y.value}px`,strokeDashoffset:$.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),A=n(()=>{let e;return t.color?e=_(t.percentage):e=o[t.status]||o.default,e}),L=n(()=>t.status==="warning"?J:t.type==="line"?t.status==="success"?K:Q:t.status==="success"?X:Y),M=n(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),S=n(()=>t.format(t.percentage));function V(e){const l=100/e.length;return e.map((i,f)=>D(i)?{color:i,percentage:(f+1)*l}:i).sort((i,f)=>i.percentage-f.percentage)}const _=e=>{var l;const{color:p}=t;if(ae(p))return p(e);if(D(p))return p;{const i=V(p);for(const f of i)if(f.percentage>e)return f.color;return(l=i[i.length-1])==null?void 0:l.color}};return(e,l)=>(c(),d("div",{class:u([s(r).b(),s(r).m(e.type),s(r).is(e.status),{[s(r).m("without-text")]:!e.showText,[s(r).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(c(),d("div",{key:0,class:u(s(r).b("bar"))},[g("div",{class:u(s(r).be("bar","outer")),style:h({height:`${e.strokeWidth}px`})},[g("div",{class:u([s(r).be("bar","inner"),{[s(r).bem("bar","inner","indeterminate")]:e.indeterminate}]),style:h(s(F))},[(e.showText||e.$slots.default)&&e.textInside?(c(),d("div",{key:0,class:u(s(r).be("bar","innerText"))},[I(e.$slots,"default",{percentage:e.percentage},()=>[g("span",null,T(s(S)),1)])],2)):x("v-if",!0)],6)],6)],2)):(c(),d("div",{key:1,class:u(s(r).b("circle")),style:h({height:`${e.width}px`,width:`${e.width}px`})},[(c(),d("svg",ie,[g("path",{class:u(s(r).be("circle","track")),d:s(w),stroke:`var(${s(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":s(m),fill:"none",style:h(s(W))},null,14,ce),g("path",{class:u(s(r).be("circle","path")),d:s(w),stroke:s(A),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":s(m),style:h(s(z))},null,14,ue)]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(c(),d("div",{key:2,class:u(s(r).e("text")),style:h({fontSize:`${s(M)}px`})},[I(e.$slots,"default",{percentage:e.percentage},()=>[e.status?(c(),E(s(Z),{key:1},{default:re(()=>[(c(),E(oe(s(L))))]),_:1})):(c(),d("span",de,T(s(S)),1))])],6)):x("v-if",!0)],10,le))}}));var he=ee(fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const ke=te(he);export{ke as E};
