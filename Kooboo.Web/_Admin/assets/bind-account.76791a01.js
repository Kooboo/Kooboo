var B=Object.defineProperty,C=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var E=(s,o,e)=>o in s?B(s,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[o]=e,x=(s,o)=>{for(var e in o||(o={}))$.call(o,e)&&E(s,e,o[e]);if(w)for(var e of w(o))F.call(o,e)&&E(s,e,o[e]);return s},v=(s,o)=>C(s,I(o));var N=(s,o,e)=>new Promise((c,i)=>{var l=t=>{try{p(e.next(t))}catch(m){i(m)}},u=t=>{try{p(e.throw(t))}catch(m){i(m)}},p=t=>t.done?c(t.value):Promise.resolve(t.value).then(l,u);p((e=e.apply(s,o)).next())});import{g as K,o as R}from"./i18n.a87944a4.js";import{_ as S}from"./container.b5d815f8.js";import{d as q,G as A,x as f,g as T,cd as U,o as z,a as D,b as a,w as n,u as r,f as _,t as b,aI as G}from"./url.4cb47a7a.js";import{a as V,C as M}from"./validate.bb56f9e3.js";import{b as P}from"./index.0d898b76.js";import{b as Q}from"./index.0f9746b8.js";import{u as j}from"./use-first-input-focus.135952ac.js";import{E as H,b as J}from"./main.9fdfea92.js";import{E as L}from"./index.178b9e08.js";import{E as O,a as W}from"./index.9fd79879.js";import{E as X}from"./index.361e2245.js";import{E as Y}from"./index.fd96ea36.js";import"./logo-transparent.1566007e.js";import"./light-switch.51a4a594.js";import"./dark.9459c47b.js";import"./plugin-vue_export-helper.41ffa612.js";import"./windi.6360286d.js";import"./index.d24a40b9.js";import"./index.f23f1e38.js";import"./replace-all.56d2c1f7.js";import"./index.a24f458a.js";import"./index.1fd72ea8.js";import"./index.abe211fa.js";import"./style.c350d462.js";import"./toNumber.47eea968.js";import"./_baseIsEqual.dc9e64c4.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./event.776e7e11.js";import"./index.7b8c5aef.js";import"./error.7e8331f1.js";import"./isNil.98bb3b88.js";import"./_baseClone.b8903935.js";import"./isEqual.4cab74e3.js";const Z={class:"h-full overflow-hidden"},oo={class:"flex items-center mb-16 text-m"},eo={class:"text-444 mr-4"},Uo=q({setup(s){const{t:o}=K();j();const e=A({userName:"",password:"",verifyid:f("id")}),c={userName:[V(o("common.inputUsernameTips"))],password:[V(o("common.inputPasswordTips"),!1),M]},i=T(),l=U(),u=()=>N(this,null,function*(){yield i.value.validate();const t=yield(f("type")==="oauth"?Q:P)(e);if(t.error){H.error(t.error);return}t.access_token&&(J().login(t.access_token),l.replace({name:"home"}))});return(p,t)=>{const m=L,y=O,g=W,k=X,h=Y;return z(),D("div",Z,[a(h,null,{default:n(()=>[a(S,{title:r(o)("common.bindAccount"),onKeypress:R(u,["enter"])},{default:n(()=>[_("div",oo,[_("span",eo,b(r(o)("common.withoutKoobooAccount")),1),_("a",{class:"text-blue cursor-pointer",onClick:t[0]||(t[0]=d=>r(l).push({name:"bind-name",query:v(x({},r(l).currentRoute.value.query),{id:r(e).verifyid,type:r(f)("type")})}))},b(r(o)("common.bindName")),1)]),a(g,{ref_key:"form",ref:i,"label-position":"top",model:r(e),rules:r(c)},{default:n(()=>[a(y,{label:r(o)("common.username"),prop:"userName"},{default:n(()=>[a(m,{modelValue:r(e).userName,"onUpdate:modelValue":t[1]||(t[1]=d=>r(e).userName=d),"data-cy":"username"},null,8,["modelValue"])]),_:1},8,["label"]),a(y,{label:r(o)("common.password"),prop:"password"},{default:n(()=>[a(m,{modelValue:r(e).password,"onUpdate:modelValue":t[2]||(t[2]=d=>r(e).password=d),type:"password","data-cy":"password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"]),a(k,{class:"w-full text-l h-48px",round:"",type:"primary",size:"large","data-cy":"confirm",onClick:u},{default:n(()=>[G(b(r(o)("common.ok")),1)]),_:1})]),_:1},8,["title","onKeypress"])]),_:1})])}}});export{Uo as default};
