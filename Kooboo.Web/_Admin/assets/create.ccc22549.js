var V=(b,t,a)=>new Promise((d,m)=>{var r=o=>{try{i(a.next(o))}catch(n){m(n)}},p=o=>{try{i(a.throw(o))}catch(n){m(n)}},i=o=>o.done?d(o.value):Promise.resolve(o.value).then(r,p);i((a=a.apply(b,t)).next())});import{_ as E}from"./index.e6a73380.js";import{_ as R}from"./tooltip.9f258018.js";import{g as S}from"./i18n.0d8cb6d1.js";import{_ as k}from"./object-schema.dc74d69d.js";import{d as T,g as c,cd as w,c as U,o as q,a as I,b as e,u as s,w as l,f as g,aH as O,t as C}from"./url.8f5ec20c.js";import{u as $}from"./replace-all.e310d26c.js";import{i as D,s as F}from"./user-options.8d9d28e4.js";import{r as A,a as H,l as J,i as K}from"./validate.b9ea657d.js";import{E as j}from"./index.97ced36a.js";import{E as z,a as G}from"./index.6756a6f3.js";import"./index.c7806af3.js";import"./windi.dcba9a95.js";import"./index.6e9a6658.js";import"./index.38840738.js";import"./focus-trap.0c15535f.js";import"./isNil.98bb3b88.js";import"./event.53b2ad83.js";import"./icon-button.a2edb33f.js";import"./index.36905e5d.js";import"./index.1d64e54f.js";import"./index.9a7a049b.js";import"./index.3d638063.js";import"./error.7e8331f1.js";import"./event.776e7e11.js";import"./scroll.9a94de30.js";import"./isEqual.8058d1d5.js";import"./_baseIsEqual.f1f57955.js";import"./debounce.730e1961.js";import"./toNumber.6efebd6a.js";import"./index.6d134d76.js";import"./validator.11bc55c7.js";import"./main.d919dab0.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./index.3e5d2d38.js";import"./index.f2618a8f.js";import"./index.ddf78e53.js";import"./index.6943850d.js";import"./index.4ccd5d27.js";import"./style.67f0cdc4.js";import"./_baseClone.24478792.js";const L={class:"p-24 mb-64"},M={class:"rounded-normal bg-fff dark:bg-[#252526] mt-16 py-24 px-56px"},P={class:"w-504px"},Q={class:"flex items-center"},Ao=T({setup(b){const{t}=S(),a=c([]),d=w(),m=c(""),r=c(""),p=c(),i=U(()=>({name:m.value}));function o(){d.goBackOrTo($({name:"useroptions"}))}const n={name:[A(1,50),H(t("common.nameRequiredTips")),J(),K(D,t("common.nameExistsTips"))]};function y(){return V(this,null,function*(){var _;yield(_=p.value)==null?void 0:_.validate(),yield F({name:m.value,display:r.value,schema:JSON.stringify(a.value)}),o()})}return(_,u)=>{const x=j,f=z,N=R,h=G,B=E;return q(),I("div",L,[e(h,{ref_key:"form",ref:p,model:s(i),"label-position":"top",rules:s(n)},{default:l(()=>[g("div",M,[g("div",P,[e(f,{label:s(t)("common.name"),prop:"name"},{default:l(()=>[e(x,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=v=>m.value=v)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:s(t)("common.displayName")},{default:l(()=>[e(x,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=v=>r.value=v)},null,8,["modelValue"])]),_:1},8,["label"])]),e(f,null,{label:l(()=>[g("div",Q,[O(C(s(t)("common.customSettings"))+" ",1),e(N,{tip:s(t)("common.settingSchemaTips",{name:m.value||"{Name}"}),"custom-class":"ml-4"},null,8,["tip"])])]),default:l(()=>[e(k,{schema:a.value},null,8,["schema"])]),_:1})])]),_:1},8,["model","rules"]),e(B,{permission:{feature:"userOptions",action:"setting"},onCancel:o,onSave:y})])}}});export{Ao as default};
