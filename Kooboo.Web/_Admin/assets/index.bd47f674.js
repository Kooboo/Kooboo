import{g as j,w as R}from"./i18n.25caaace.js";import{i as z}from"./isEqual.2e410d13.js";import{E as S,a as T}from"./index.2e51d36e.js";import{E as L,a as M}from"./index.486a11ff.js";import{d as x,g as v,h as N,i as C,o as _,a as g,f as h,t as w,u as f,b as a,w as c,F as O,b6 as D,j as F}from"./url.8f5ec20c.js";import{s as k,t as q,u as U}from"./style.1b77b3a2.js";import{_ as B}from"./editable-tags.b9955dfc.js";import{_ as G}from"./icon-button.0e134c9b.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";import{E as H,a as J}from"./index.e89ba775.js";const K={class:"px-16 pb-8"},P={class:"text-12px text-999 pb-8"},Q=["title"],W=x({props:{modelValue:null},emits:["update:modelValue"],setup(i,{emit:u}){const l=i,{t:n}=j(),m=v([{name:"history",items:["undo","redo"]},{name:"styles",items:["fontselect","fontsizeselect","bold","italic","forecolor","backcolor","removeformat"]},{name:"indentation",items:["indent","outdent"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"list",items:["bullist","numlist"]},{name:"insert",items:["image","link"]},{name:"code",items:["codesample","code"]}]),e=m.value.map(s=>s.items).flat(),o=v([]);function d(s,r){const p=[];return s.forEach(({items:$})=>{const b=[];for(const y of $)r.includes(y)&&b.push(y);b.length&&p.push(b.join(" "))}),p.join(" | ")}function t(){l.modelValue?o.value=l.modelValue.split(" ").filter(s=>s!=="|"):o.value=e}return N(t),C(()=>l.modelValue,t),C(()=>o.value,()=>{if(z(o.value,e)){u("update:modelValue","");return}const s=d(m.value,o.value);u("update:modelValue",s)}),(s,r)=>{const p=S,$=T,b=L,y=M;return _(),g("div",K,[h("span",P,w(f(n)("common.richEditorToolbarConfigurationTips")),1),a(y,null,{default:c(()=>[(_(!0),g(O,null,D(f(e),V=>(_(),F(b,{key:V,span:6},{default:c(()=>[a($,{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=I=>o.value=I)},{default:c(()=>[(_(),F(p,{key:V,label:V,disabled:o.value.length===1&&o.value[0]===V},{default:c(()=>[h("span",{class:"ellipsis max-w-120px inline-block",title:f(n)(`tinymce.${V}`)},w(f(n)(`tinymce.${V}`)),9,Q)]),_:2},1032,["label","disabled"]))]),_:2},1032,["modelValue"])]),_:2},1024))),128))]),_:1})])}}}),X={class:"px-16 py-8"},Y=x({props:{modelValue:null},emits:["update:modelValue"],setup(i,{emit:u}){const l=i,n=v([]),m=()=>{n.value=l.modelValue?l.modelValue.split(" "):k.slice()};m(),C(()=>l.modelValue,m);const e=o=>{const d=o.sort();z(d,k)?u("update:modelValue",""):u("update:modelValue",d.join(" "))};return(o,d)=>(_(),g("div",X,[a(B,{modelValue:n.value,"onUpdate:modelValue":[d[0]||(d[0]=t=>n.value=t),e],options:f(k)},null,8,["modelValue","options"])]))}}),Z={class:"px-16 py-8"},ee=x({props:{modelValue:null},emits:["update:modelValue"],setup(i,{emit:u}){const l=i,n={};for(const t of q){const s=t.indexOf("="),r=t.substring(0,s);n[r]=t}const m=v(U(Object.keys(n),[t=>t.toLowerCase()])),e=v([]),o=()=>{e.value=l.modelValue?l.modelValue.split(";").map(t=>t.split("=")[0]):Object.keys(n)};o(),C(()=>l.modelValue,o);const d=t=>{const s=U(t,[r=>r.toLowerCase()]);if(z(s,m.value))u("update:modelValue","");else{const r=s.map(p=>n[p]||`${p}=${p}`).join(";");u("update:modelValue",r)}};return(t,s)=>(_(),g("div",Z,[a(B,{modelValue:e.value,"onUpdate:modelValue":[s[0]||(s[0]=r=>e.value=r),d],options:m.value},null,8,["modelValue","options"])]))}}),te={class:"flex items-center justify-center w-full"},oe={class:"overflow-hidden flex-1"},E=x({props:{title:null},emits:["reset"],setup(i,{emit:u}){const{t:l}=j();return(n,m)=>{const e=G;return _(),g("div",te,[h("div",oe,w(i.title),1),a(e,{icon:"icon-Refresh",class:"text-orange",style:{position:"initial"},tip:f(l)("common.confirmResetDefaultValues"),"data-cy":"reset",onClick:m[0]||(m[0]=R(()=>{},["stop"])),onConfirm:m[1]||(m[1]=o=>u("reset"))},null,8,["tip"])])}}});const le={class:"w-full"},ne=x({props:{modelValue:null},emits:["update:modelValue","reset"],setup(i,{emit:u}){const{t:l}=j(),n=v(["toolbar","font-size","font-family"]);return(m,e)=>{const o=H,d=J;return _(),g("div",le,[a(d,{modelValue:n.value,"onUpdate:modelValue":e[6]||(e[6]=t=>n.value=t),class:"richEditorConfig w-full bg-[#fafafa] dark:bg-[#333]"},{default:c(()=>[a(o,{name:"toolbar"},{title:c(()=>[a(E,{title:f(l)("common.richEditorToolbarConfiguration"),onReset:e[0]||(e[0]=t=>u("reset","toolbar"))},null,8,["title"])]),default:c(()=>[a(W,{modelValue:i.modelValue.toolbar,"onUpdate:modelValue":e[1]||(e[1]=t=>i.modelValue.toolbar=t)},null,8,["modelValue"])]),_:1}),a(o,{name:"font-size"},{title:c(()=>[a(E,{title:f(l)("common.richEditorFontSizeConfiguration"),onReset:e[2]||(e[2]=t=>u("reset","font_size_formats"))},null,8,["title"])]),default:c(()=>[a(Y,{modelValue:i.modelValue.font_size_formats,"onUpdate:modelValue":e[3]||(e[3]=t=>i.modelValue.font_size_formats=t)},null,8,["modelValue"])]),_:1}),a(o,{name:"font-family"},{title:c(()=>[a(E,{title:f(l)("common.richEditorFontFamilyConfiguration"),onReset:e[4]||(e[4]=t=>u("reset","font_formats"))},null,8,["title"])]),default:c(()=>[a(ee,{modelValue:i.modelValue.font_formats,"onUpdate:modelValue":e[5]||(e[5]=t=>i.modelValue.font_formats=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])}}});var _e=A(ne,[["__scopeId","data-v-b0877e70"]]);export{_e as T};
