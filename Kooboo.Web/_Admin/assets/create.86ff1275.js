var V=(b,t,a)=>new Promise((d,m)=>{var r=o=>{try{i(a.next(o))}catch(n){m(n)}},p=o=>{try{i(a.throw(o))}catch(n){m(n)}},i=o=>o.done?d(o.value):Promise.resolve(o.value).then(r,p);i((a=a.apply(b,t)).next())});import{_ as E}from"./index.214551b7.js";import{_ as R}from"./tooltip.ae959863.js";import{g as S}from"./i18n.25caaace.js";import{_ as k}from"./object-schema.1e8163e9.js";import{d as T,g as c,cd as w,c as U,o as q,a as I,b as e,u as s,w as l,f as g,aH as O,t as C}from"./url.8f5ec20c.js";import{u as $}from"./replace-all.b35629e7.js";import{i as D,s as F}from"./user-options.5095f900.js";import{r as A,a as H,l as J,i as K}from"./validate.f3c0b03b.js";import{E as j}from"./index.f571dfc9.js";import{E as z,a as G}from"./index.94998415.js";import"./index.e9f8834a.js";import"./windi.a815125a.js";import"./index.1e7e06b8.js";import"./index.158cdd11.js";import"./focus-trap.81e4fb05.js";import"./isNil.98bb3b88.js";import"./event.53b2ad83.js";import"./icon-button.0e134c9b.js";import"./index.0c2ced08.js";import"./index.f9c89813.js";import"./index.960b9732.js";import"./index.c6488b3c.js";import"./error.7e8331f1.js";import"./event.776e7e11.js";import"./scroll.0cf77af8.js";import"./isEqual.2e410d13.js";import"./_baseIsEqual.0a4e01e5.js";import"./debounce.730e1961.js";import"./toNumber.6efebd6a.js";import"./index.c93fe8e7.js";import"./validator.9b0d789f.js";import"./main.1c3b59e3.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./index.878e2bbf.js";import"./index.adb17f32.js";import"./index.b065185c.js";import"./index.ab12ea9e.js";import"./index.b1b64a44.js";import"./style.1b77b3a2.js";import"./_baseClone.885c975f.js";const L={class:"p-24 mb-64"},M={class:"rounded-normal bg-fff dark:bg-[#252526] mt-16 py-24 px-56px"},P={class:"w-504px"},Q={class:"flex items-center"},Ao=T({setup(b){const{t}=S(),a=c([]),d=w(),m=c(""),r=c(""),p=c(),i=U(()=>({name:m.value}));function o(){d.goBackOrTo($({name:"useroptions"}))}const n={name:[A(1,50),H(t("common.nameRequiredTips")),J(),K(D,t("common.nameExistsTips"))]};function y(){return V(this,null,function*(){var _;yield(_=p.value)==null?void 0:_.validate(),yield F({name:m.value,display:r.value,schema:JSON.stringify(a.value)}),o()})}return(_,u)=>{const x=j,f=z,N=R,h=G,B=E;return q(),I("div",L,[e(h,{ref_key:"form",ref:p,model:s(i),"label-position":"top",rules:s(n)},{default:l(()=>[g("div",M,[g("div",P,[e(f,{label:s(t)("common.name"),prop:"name"},{default:l(()=>[e(x,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=v=>m.value=v)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:s(t)("common.displayName")},{default:l(()=>[e(x,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=v=>r.value=v)},null,8,["modelValue"])]),_:1},8,["label"])]),e(f,null,{label:l(()=>[g("div",Q,[O(C(s(t)("common.customSettings"))+" ",1),e(N,{tip:s(t)("common.settingSchemaTips",{name:m.value||"{Name}"}),"custom-class":"ml-4"},null,8,["tip"])])]),default:l(()=>[e(k,{schema:a.value},null,8,["schema"])]),_:1})])]),_:1},8,["model","rules"]),e(B,{permission:{feature:"userOptions",action:"setting"},onCancel:o,onSave:y})])}}});export{Ao as default};
