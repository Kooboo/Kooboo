var Ee=Object.defineProperty,Ne=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ge=(u,d,t)=>d in u?Ee(u,d,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[d]=t,O=(u,d)=>{for(var t in d||(d={}))Pe.call(d,t)&&ge(u,t,d[t]);if(fe)for(var t of fe(d))Be.call(d,t)&&ge(u,t,d[t]);return u},L=(u,d)=>Ne(u,Se(d));var T=(u,d,t)=>new Promise((c,m)=>{var e=r=>{try{g(t.next(r))}catch(k){m(k)}},y=r=>{try{g(t.throw(r))}catch(k){m(k)}},g=r=>r.done?c(r.value):Promise.resolve(r.value).then(e,y);g((t=t.apply(u,d)).next())});import{_ as se}from"./icon-button.3313e42d.js";import{_ as De,g as Ae,a as Te}from"./create-dialog.c1bf5b63.js";import{g as K,o as ye,w as xe}from"./i18n.48bd28ac.js";import{S as he}from"./search-input.67dfc984.js";import{E as Y}from"./windi.a5b0b048.js";import{E as te}from"./index.2bc50276.js";import{E as G,a as Z}from"./index.b494e80e.js";import{E as ne}from"./index.a439b087.js";import{E as be}from"./index.7034978e.js";import{E as J}from"./index.c4e9b529.js";import{d as M,g as V,h as j,b7 as ke,o as s,a as I,b as a,w as o,f as i,e as Ce,j as h,aH as B,t as p,u as n,k as x,F as z,i as $e,b6 as le,c as Re,c0 as Ue,cg as ze}from"./url.2e6a77c4.js";import{c as oe}from"./index.0d2684bf.js";import{E as X}from"./index.379e80ad.js";import{g as qe,a as Ke}from"./shipping.f7d1d018.js";import{_ as U}from"./currency-amount.de4456dd.js";import{e as we}from"./guid.c1a40312.js";import{g as Me,a as je}from"./digital-shipping.f03d4646.js";import{b as Ve}from"./product-variant.f9d76101.js";import{a as Fe}from"./cart.dd59d4a2.js";import{_ as Oe}from"./editable-tags.e8873ae5.js";import{_ as Q}from"./property-item.c8a41109.js";import{f as Le,h as Qe}from"./product.c1a83798.js";import{u as Ie}from"./useFields.2c414714.js";import{_ as ae}from"./index.4a51c2b7.js";import{g as Ge}from"./discount.21525f15.js";import{u as He}from"./main.ea42d807.js";import{u as We}from"./commerce.f8d3336c.js";import{E as Je}from"./index.77edae39.js";import{E as Xe}from"./index.fc90f5ad.js";const Ye={class:"flex items-center pb-12 space-x-16"},Ze={class:"flex items-center"},et=i("div",{class:"flex-1"},null,-1),tt={class:"text-center"},lt=M({props:{modelValue:{type:Boolean}},emits:["update:modelValue","selected"],setup(u,{emit:d}){const{t}=K(),c=V(!0),m=V(!1),e=V(),y=V({pageIndex:1,pageSize:30,keyword:""});function g(k){return T(this,null,function*(){y.value.pageIndex=k,e.value=yield Ae(y.value)})}j(()=>{g(1)});function r(k){d("selected",k),c.value=!1}return(k,_)=>{const A=Y,E=te,R=he,C=G,D=Z,P=ne,b=be,f=J,v=ke("hasPermission");return s(),I(z,null,[a(f,{"model-value":c.value,width:"800px",title:n(t)("commerce.selectCustomer"),"close-on-click-modal":!1,onClosed:_[3]||(_[3]=$=>d("update:modelValue",!1))},{default:o(()=>{var $,S,F;return[i("div",Ye,[Ce((s(),h(E,{round:"",onClick:_[0]||(_[0]=N=>m.value=!0)},{default:o(()=>[i("div",Ze,[a(A,{class:"mr-16 iconfont icon-a-addto"}),B(" "+p(n(t)("common.create")),1)])]),_:1})),[[v,{feature:"carts",action:"edit"}]]),et,a(R,{modelValue:y.value.keyword,"onUpdate:modelValue":_[1]||(_[1]=N=>y.value.keyword=N),class:"w-248px",onKeydown:_[2]||(_[2]=ye(xe(N=>g(1),["prevent"]),["enter"]))},null,8,["modelValue"])]),a(P,{"max-height":"400px"},{default:o(()=>[e.value?(s(),h(D,{key:0,data:e.value.list,class:"el-table--gray mb-24",onRowClick:r},{default:o(()=>[a(C,{label:n(t)("common.email")},{default:o(({row:N})=>[B(p(N.email),1)]),_:1},8,["label"]),a(C,{label:n(t)("common.phone")},{default:o(({row:N})=>[B(p(N.phone),1)]),_:1},8,["label"]),a(C,{label:n(t)("common.firstName")},{default:o(({row:N})=>[B(p(N.firstName),1)]),_:1},8,["label"]),a(C,{label:n(t)("common.lastName")},{default:o(({row:N})=>[B(p(N.lastName),1)]),_:1},8,["label"])]),_:1},8,["data"])):x("",!0)]),_:1}),i("div",tt,[a(b,{class:"py-8",layout:"prev, pager, next","hide-on-single-page":"","page-size":($=e.value)==null?void 0:$.pageSize,"current-page":(S=e.value)==null?void 0:S.pageIndex,total:(F=e.value)==null?void 0:F.count,onCurrentChange:g},null,8,["page-size","current-page","total"])])]}),_:1},8,["model-value","title"]),m.value?(s(),h(De,{key:0,modelValue:m.value,"onUpdate:modelValue":_[4]||(_[4]=$=>m.value=$),onReload:_[5]||(_[5]=$=>g(1))},null,8,["modelValue"])):x("",!0)],64)}}}),nt={key:0,class:"border border-gray p-12 rounded-normal w-full h-115px w-max-400px dark:bg-444 dark:text-gray"},ot={class:"flex items-center space-x-8"},at=i("div",{class:"flex-1"},null,-1),st={class:"p-4"},it={class:"text-l"},ut={class:"text-s"},ct={class:"text-s"},Tl=M({props:{modelValue:null,readonly:{type:Boolean}},emits:["update:model-value"],setup(u,{emit:d}){const t=u,{t:c}=K(),m=V(!1),e=V(),y=V();j(()=>T(this,null,function*(){e.value=t.modelValue}));function g(){e.value=void 0,d("update:model-value",void 0)}function r(k){e.value=k.id,d("update:model-value",k.id)}return $e(()=>e.value,()=>T(this,null,function*(){e.value&&(y.value=yield Te(e.value))})),(k,_)=>{const A=oe,E=Y,R=X,C=se;return s(),I(z,null,[y.value?(s(),I("div",nt,[i("div",ot,[y.value.membershipId?(s(),h(A,{key:0,type:"success",size:"small",round:""},{default:o(()=>[B(p(y.value.membership),1)]),_:1})):x("",!0),at,u.readonly?x("",!0):(s(),h(R,{key:1,placement:"top",content:n(c)("common.delete")},{default:o(()=>[a(E,{class:"iconfont icon-delete text-orange text-l",onClick:g})]),_:1},8,["content"]))]),i("div",st,[i("div",it,p(y.value.firstName)+" "+p(y.value.lastName),1),i("div",ut,p(y.value.email)+" "+p(y.value.phone),1),i("div",ct,p(y.value.rewardPoints)+" "+p(n(c)("common.rewardPoints")),1)])])):u.readonly?x("",!0):(s(),h(C,{key:1,circle:"",class:"text-blue",icon:"icon-a-addto",tip:n(c)("common.add"),onClick:_[0]||(_[0]=D=>m.value=!0)},null,8,["tip"])),m.value?(s(),h(lt,{key:2,modelValue:m.value,"onUpdate:modelValue":_[1]||(_[1]=D=>m.value=D),onSelected:r},null,8,["modelValue"])):x("",!0)],64)}}}),dt={class:"flex items-center"},rt={class:"text-black dark:text-[#cfd3dc]"},mt=M({props:{modelValue:{type:Boolean}},emits:["update:modelValue","selected"],setup(u,{emit:d}){const{t}=K(),c=V(!0),m=V([]);function e(){return T(this,null,function*(){m.value=yield qe()})}j(()=>T(this,null,function*(){e()}));function y(g){d("selected",g),c.value=!1}return(g,r)=>{const k=oe,_=G,A=Z,E=ne,R=J;return s(),h(R,{"model-value":c.value,width:"800px",title:n(t)("commerce.selectShipping"),"close-on-click-modal":!1,onClosed:r[0]||(r[0]=C=>d("update:modelValue",!1))},{default:o(()=>[a(E,{"max-height":"400px"},{default:o(()=>[a(A,{data:m.value,class:"el-table--gray mb-24",onRowClick:y},{default:o(()=>[a(_,{label:n(t)("common.name")},{default:o(({row:C})=>[i("div",dt,[i("span",rt,p(C.name),1),C.isDefault?(s(),h(k,{key:0,round:"",size:"small"},{default:o(()=>[B(p(n(t)("common.default")),1)]),_:1})):x("",!0)])]),_:1},8,["label"]),a(_,{label:n(t)("common.description"),align:"center"},{default:o(({row:C})=>[B(p(C.description),1)]),_:1},8,["label"]),a(_,{label:n(t)("common.baseCost"),align:"center"},{default:o(({row:C})=>[a(U,{amount:C.baseCost},null,8,["amount"])]),_:1},8,["label"]),a(_,{label:n(t)("common.costRule")},{default:o(({row:C})=>[(s(!0),I(z,null,le(C.additionalCosts,(D,P)=>(s(),I("div",{key:P,class:"text-s text-999 flex gap-8 items-center"},[a(U,{amount:D.cost},null,8,["amount"]),i("span",null,p(D.description),1)]))),128))]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})]),_:1},8,["model-value","title"])}}}),pt={key:0,class:"border border-gray p-12 rounded-normal w-full h-115px w-max-400px dark:bg-444 dark:text-gray"},vt={class:"flex items-center space-x-8"},_t=i("div",{class:"flex-1"},null,-1),ft={class:"p-4"},gt={class:"text-l"},yt=["title"],Rl=M({props:{modelValue:null,readonly:{type:Boolean}},emits:["update:model-value"],setup(u,{emit:d}){const t=u,{t:c}=K(),m=V(!1),e=V();j(()=>T(this,null,function*(){e.value=yield Ke(t.modelValue||we)}));function y(g){e.value=g,d("update:model-value",g.id)}return(g,r)=>{const k=Y,_=X,A=se;return s(),I(z,null,[e.value?(s(),I("div",pt,[i("div",vt,[_t,u.readonly?x("",!0):(s(),h(_,{key:0,placement:"top",content:n(c)("common.select")},{default:o(()=>[a(k,{class:"iconfont icon-a-writein text-blue text-l",onClick:r[0]||(r[0]=E=>m.value=!0)})]),_:1},8,["content"]))]),i("div",ft,[i("div",gt,p(e.value.name),1),i("div",{class:"text-s truncate",title:e.value.description},p(e.value.description),9,yt)])])):u.readonly?x("",!0):(s(),h(A,{key:1,circle:"",class:"text-blue",icon:"icon-a-addto",tip:n(c)("common.add"),onClick:r[1]||(r[1]=E=>m.value=!0)},null,8,["tip"])),m.value?(s(),h(mt,{key:2,modelValue:m.value,"onUpdate:modelValue":r[2]||(r[2]=E=>m.value=E),onSelected:y},null,8,["modelValue"])):x("",!0)],64)}}}),xt={class:"flex items-center"},ht={class:"text-black dark:text-[#cfd3dc]"},bt=M({props:{modelValue:{type:Boolean}},emits:["update:modelValue","selected"],setup(u,{emit:d}){const{t}=K(),c=V(!0),m=V([]);function e(){return T(this,null,function*(){m.value=yield Me()})}j(()=>T(this,null,function*(){e()}));function y(g){d("selected",g),c.value=!1}return(g,r)=>{const k=oe,_=G,A=Z,E=ne,R=J;return s(),h(R,{"model-value":c.value,width:"800px",title:n(t)("commerce.selectShipping"),"close-on-click-modal":!1,onClosed:r[0]||(r[0]=C=>d("update:modelValue",!1))},{default:o(()=>[a(E,{"max-height":"400px"},{default:o(()=>[a(A,{data:m.value,class:"el-table--gray mb-24",onRowClick:y},{default:o(()=>[a(_,{label:n(t)("common.name")},{default:o(({row:C})=>[i("div",xt,[i("span",ht,p(C.name),1),C.isDefault?(s(),h(k,{key:0,round:"",size:"small"},{default:o(()=>[B(p(n(t)("common.default")),1)]),_:1})):x("",!0)])]),_:1},8,["label"]),a(_,{label:n(t)("common.description"),align:"center"},{default:o(({row:C})=>[B(p(C.description),1)]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})]),_:1},8,["model-value","title"])}}}),kt={key:0,class:"border border-gray p-12 rounded-normal w-full h-115px w-max-400px dark:bg-444 dark:text-gray"},Ct={class:"flex items-center space-x-8"},$t=i("div",{class:"flex-1"},null,-1),wt={class:"p-4"},Vt={class:"text-l"},It=["title"],Ul=M({props:{modelValue:null,readonly:{type:Boolean}},emits:["update:model-value"],setup(u,{emit:d}){const t=u,{t:c}=K(),m=V(!1),e=V();j(()=>T(this,null,function*(){e.value=yield je(t.modelValue||we)}));function y(g){e.value=g,d("update:model-value",g.id)}return(g,r)=>{const k=Y,_=X,A=se;return s(),I(z,null,[e.value?(s(),I("div",kt,[i("div",Ct,[$t,u.readonly?x("",!0):(s(),h(_,{key:0,placement:"top",content:n(c)("common.select")},{default:o(()=>[a(k,{class:"iconfont icon-a-writein text-blue text-l",onClick:r[0]||(r[0]=E=>m.value=!0)})]),_:1},8,["content"]))]),i("div",wt,[i("div",Vt,p(e.value.name),1),i("div",{class:"text-s truncate",title:e.value.description},p(e.value.description),9,It)])])):u.readonly?x("",!0):(s(),h(A,{key:1,circle:"",class:"text-blue",icon:"icon-a-addto",tip:n(c)("common.add"),onClick:r[1]||(r[1]=E=>m.value=!0)},null,8,["tip"])),m.value?(s(),h(bt,{key:2,modelValue:m.value,"onUpdate:modelValue":r[2]||(r[2]=E=>m.value=E),onSelected:y},null,8,["modelValue"])):x("",!0)],64)}}}),Et={key:0},Nt={class:"flex items-center pb-12 space-x-16"},St=i("div",{class:"flex-1"},null,-1),Pt={class:"text-center"},Bt={class:"flex items-center"},Dt={class:"text-black dark:text-[#cfd3dc]"},At=M({props:{excludes:null,modelValue:{type:Boolean}},emits:["update:modelValue","selected"],setup(u,{emit:d}){const t=u,{t:c}=K(),m=V(!0),e=V(!1),{getColumns:y}=Ie(),g=V({pageIndex:1,pageSize:30,keyword:"",excludes:t.excludes}),r=V(),k=V([]),_=y([{name:"featuredImage"},{name:"title"},{name:"variantsCount"},{name:"inventory"},{name:"active"}]),A=y([{name:"featuredImage",prop:"image"},{name:"selectedOptions",displayName:c("common.options")},{name:"inventory"},{name:"active"}]);function E(D){return T(this,null,function*(){g.value.pageIndex=D,r.value=yield Le(g.value),r.value.list=r.value.list.map(P=>L(O({},P),{selected:!1}))})}j(()=>{E(1)});function R(D){return T(this,null,function*(){k.value=yield Qe(D.id),k.value.length==1?(d("selected",k.value[0]),m.value=!1):e.value=!0})}function C(D){d("selected",D),e.value=!1,m.value=!1}return(D,P)=>{const b=he,f=Z,v=ne,$=be,S=J,F=J;return s(),I(z,null,[a(S,{"model-value":m.value,width:"800px",title:n(c)("common.selectProduct"),"close-on-click-modal":!1,onClosed:P[2]||(P[2]=N=>d("update:modelValue",!1))},{default:o(()=>{var N,H,W;return[r.value?(s(),I("div",Et,[i("div",Nt,[St,a(b,{modelValue:g.value.keyword,"onUpdate:modelValue":P[0]||(P[0]=q=>g.value.keyword=q),class:"w-248px",onKeydown:P[1]||(P[1]=ye(xe(q=>E(1),["prevent"]),["enter"]))},null,8,["modelValue"])]),a(v,{"max-height":"400px"},{default:o(()=>{var q;return[a(f,{data:(q=r.value)==null?void 0:q.list,class:"el-table--gray",onRowClick:R},{default:o(()=>[a(ae,{columns:n(_)},null,8,["columns"])]),_:1},8,["data"])]}),_:1}),i("div",Pt,[a($,{class:"py-8",layout:"prev, pager, next","hide-on-single-page":"","page-size":(N=r.value)==null?void 0:N.pageSize,"current-page":(H=r.value)==null?void 0:H.pageIndex,total:(W=r.value)==null?void 0:W.count,onCurrentChange:E},null,8,["page-size","current-page","total"])])])):x("",!0)]}),_:1},8,["model-value","title"]),a(F,{modelValue:e.value,"onUpdate:modelValue":P[3]||(P[3]=N=>e.value=N),width:"600px",title:n(c)("commerce.selectVariant")},{default:o(()=>[a(v,{"max-height":"400px"},{default:o(()=>[a(f,{data:k.value,class:"el-table--gray",onRowClick:C},{default:o(()=>[a(ae,{columns:n(A)},{selectedOptions:o(({row:N})=>[i("div",Bt,[i("span",Dt,p(n(Ve)(N.selectedOptions,!0)),1)])]),_:1},8,["columns"])]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue","title"])],64)}}}),Tt={class:"space-y-12"},Rt={class:"flex items-center"},Ut={class:"flex items-center"},zt=i("div",{class:"flex-1"},null,-1),qt={class:"flex items-center"},Kt={key:0,class:"absolute inset-0 w-25px pl-8"},Mt=i("div",{class:"bg-blue h-full mx-auto w-2px"},null,-1),jt=[Mt],Ft={class:"text-s"},Ot={key:0},Lt={class:"inline-flex flex-wrap gap-4"},Qt={class:"flex space-x-12 justify-end"},Gt={class:"flex relative"},Ht=i("div",{class:"flex-1"},null,-1),Wt={class:"absolute right-0 space-y-4"},Jt={key:0,class:"flex items-center gap-4 text-s justify-end"},Xt={key:1,class:"flex items-center gap-4 text-s justify-end"},Yt={class:"text-s space-y-4"},Zt={class:"flex gap-4"},el={class:"flex items-center gap-8"},tl={key:0,class:"flex items-center gap-4"},ll=B(" ( "),nl={key:0},ol=B(" ) "),zl=M({props:{customerId:null,shippingId:null,discountCodes:null,lines:null,extensionButton:null,readonly:{type:Boolean},redeemPoints:{type:Boolean}},emits:["update:lines","update:has-physics-products","update:has-digital-products","update:redeem-points"],setup(u,{emit:d}){const t=u,{t:c}=K(),m=V(!1),e=V(),y=V(),{getColumns:g}=Ie(),r=He(),k=We(),_=g([{name:"featuredImage",prop:"image",attrs:{width:80,align:"center"}},{name:"title"},{name:"inventory",attrs:{width:100,align:"center"}},{name:"price",displayName:c("common.price"),attrs:{align:"center"}},{name:"quantity",displayName:c("common.quantity"),attrs:{width:100,align:"center"}},{name:"totalQuantity",displayName:c("common.totalQuantity"),attrs:{width:120,align:"center"}},{name:"amount",displayName:c("common.amount"),attrs:{align:"center"}},{name:"discounts",displayName:c("common.discounts"),attrs:{align:"center"}}]);t.readonly||Ge().then(b=>y.value=b);function A(b,f){const v=t.lines.find($=>$.variantId==b&&$.groupName==f);!v||(v.groupName&&v.isMain?d("update:lines",t.lines.filter($=>$.groupName!=f)):d("update:lines",t.lines.filter($=>$!=v)))}function E(b,f){const v=[...t.lines];let $=v.find(S=>S.variantId==b.variantId&&S.groupName==b.groupName);$&&($.quantity=parseInt(f)),d("update:lines",v)}function R(b){const f=[...t.lines];let v=f.find($=>$.variantId==b.id&&!$.groupName);v?v.quantity+=1:(v={quantity:1,variantId:b.id},f.push(v)),d("update:lines",f)}const C=Re(()=>{var f;const b=[];if(!((f=e.value)!=null&&f.lines))return b;for(const v of e.value.lines)if(!v.groupName)b.push(L(O({},v),{rowKey:v.variantId+v.groupName}));else if(v.isMain){const $=e.value.lines.filter(S=>S.groupName==v.groupName&&!S.isMain).map(S=>L(O({},S),{rowKey:S.variantId+S.groupName,isChild:!0}));b.push(L(O({},v),{rowKey:v.variantId+v.groupName,children:$}))}else e.value.lines.find(S=>S.groupName==v.groupName&&S.isMain)||b.push(L(O({},v),{rowKey:v.variantId+v.groupName}));return b});function D({row:b}){if(!!b.isChild)return"text-999 text-s !bg-gray/20"}function P(b){if(!b.url)return;let f=Ue(r.site.baseUrl,b.url);ze(f)}return $e([()=>t.customerId,()=>t.shippingId,()=>t.discountCodes,()=>t.lines,()=>t.redeemPoints],()=>T(this,null,function*(){e.value=yield Fe({customerId:t.customerId,shippingId:t.shippingId,discountCodes:t.discountCodes,lines:t.lines,redeemPoints:t.redeemPoints}),d("update:has-digital-products",e.value.lines.some(b=>b.isDigital)),d("update:has-physics-products",e.value.lines.some(b=>!b.isDigital))}),{deep:!0,immediate:!0}),(b,f)=>{var H,W,q,ie,ue,ce,de,re,me;const v=Y,$=Xe,S=oe,F=Z,N=ke("hasPermission");return s(),I(z,null,[i("div",Tt,[i("div",Rt,[u.readonly?x("",!0):Ce((s(),h(n(te),{key:0,round:"",onClick:f[0]||(f[0]=l=>m.value=!0)},{default:o(()=>[i("div",Ut,[a(v,{class:"mr-16 iconfont icon-a-addto"}),B(" "+p(n(c)("common.addProduct")),1)])]),_:1})),[[N,{feature:"carts",action:"edit"}]]),zt,u.extensionButton?(s(),h(n(te),{key:1,round:"",type:"primary",onClick:f[1]||(f[1]=l=>P(u.extensionButton))},{default:o(()=>[i("div",qt,p(u.extensionButton.text),1)]),_:1})):x("",!0)]),a(F,{data:n(C),class:"el-table--gray","row-key":"rowKey","default-expand-all":"","row-class-name":D},{default:o(()=>[n(C).some(l=>{var w;return(w=l.children)==null?void 0:w.length})?(s(),h(n(G),{key:0,width:"25"},{default:o(({row:l})=>[l.isChild?(s(),I("div",Kt,jt)):x("",!0)]),_:1})):x("",!0),a(ae,{columns:n(_)},{title:o(({row:l})=>[i("div",null,[i("div",null,p(l.title),1),i("div",Ft,p(n(Ve)(l.options)),1)])]),price:o(({row:l})=>[a(U,{original:l.originalPrice,amount:l.price},null,8,["original","amount"])]),amount:o(({row:l})=>[a(U,{amount:l.amount,original:l.originalAmount},null,8,["amount","original"])]),quantity:o(({row:l})=>[u.readonly?(s(),I("div",Ot,p(l.quantity),1)):(s(),h($,{key:1,modelValue:l.quantity,"onUpdate:modelValue":w=>l.quantity=w,modelModifiers:{number:!0},class:"w-50px text-center",onChange:w=>E(l,w)},null,8,["modelValue","onUpdate:modelValue","onChange"]))]),discounts:o(({row:l})=>[i("div",Lt,[(s(!0),I(z,null,le(l.discountAllocations,(w,ee)=>(s(),h(S,{key:ee},{default:o(()=>[B(p(w.title),1)]),_:2},1024))),128))])]),_:1},8,["columns"]),a(n(G),{align:"right"},{default:o(({row:l})=>[l.extensionButton?(s(),h(n(te),{key:0,type:"primary",size:"small",onClick:w=>P(l.extensionButton)},{default:o(()=>[B(p(l.extensionButton.text),1)]),_:2},1032,["onClick"])):x("",!0)]),_:1}),u.readonly?x("",!0):(s(),h(n(G),{key:1,align:"right",width:"30"},{default:o(({row:l})=>[i("div",Qt,[a(n(X),{placement:"top",content:n(c)("common.delete")},{default:o(()=>[a(v,{class:"iconfont icon-delete hover:text-orange text-l",onClick:w=>A(l.variantId,l.groupName)},null,8,["onClick"])]),_:2},1032,["content"])])]),_:1}))]),_:1},8,["data"]),i("div",Gt,[a(Oe,{"model-value":u.discountCodes,"add-label":n(c)("commerce.discountCodes"),readonly:u.readonly,options:y.value,onAddItem:f[2]||(f[2]=l=>u.discountCodes.push(l)),onRemoveItem:f[3]||(f[3]=l=>u.discountCodes.splice(l,1)),onChangeItem:f[4]||(f[4]=(l,w)=>u.discountCodes.splice(l,1,w))},null,8,["model-value","add-label","readonly","options"]),Ht,i("div",Wt,[u.customerId&&!u.readonly&&((H=e.value)==null?void 0:H.canPointsDeductionAmount)>0?(s(),I("div",Jt,[a(n(Je),{label:n(c)("common.redeemPoints",{points:(W=e.value)==null?void 0:W.canRedeemPoints,amount:(ie=(q=e.value)==null?void 0:q.canPointsDeductionAmount)==null?void 0:ie.toFixed(2),currency:n(k).settings.currencyCode}),"model-value":u.redeemPoints,"onUpdate:modelValue":f[5]||(f[5]=l=>d("update:redeem-points",l))},null,8,["label","model-value"])])):x("",!0),e.value&&((ue=e.value)==null?void 0:ue.earnPoints)>0?(s(),I("div",Xt,[i("span",null,p(n(c)("common.orderWillEarn")),1),i("span",null,p((ce=e.value)==null?void 0:ce.earnPoints),1),i("span",null,p(n(c)("commerce.points")),1)])):x("",!0)])]),i("div",Yt,[(de=e.value)!=null&&de.discountAllocations.length?(s(),h(Q,{key:0,name:n(c)("common.discount")},{default:o(()=>[i("div",Zt,[(s(!0),I(z,null,le(e.value.discountAllocations,(l,w)=>(s(),h(S,{key:w},{default:o(()=>[B(p(l.title),1)]),_:2},1024))),128))])]),_:1},8,["name"])):x("",!0),a(Q,{name:n(c)("commerce.subtotalAmount")},{default:o(()=>{var l,w;return[a(U,{amount:(l=e.value)==null?void 0:l.subtotalAmount,original:(w=e.value)==null?void 0:w.originalSubtotalAmount},null,8,["amount","original"])]}),_:1},8,["name"]),(re=e.value)!=null&&re.insuranceAmount?(s(),h(Q,{key:1,name:n(c)("commerce.insuranceAmount")},{default:o(()=>{var l;return[a(U,{amount:(l=e.value)==null?void 0:l.insuranceAmount},null,8,["amount"])]}),_:1},8,["name"])):x("",!0),(me=e.value)!=null&&me.pointsDeductionAmount?(s(),h(Q,{key:2,name:n(c)("commerce.points")},{default:o(()=>{var l;return[a(U,{amount:-((l=e.value)==null?void 0:l.pointsDeductionAmount)},null,8,["amount"]),B(" ("+p(e.value.redeemPoints)+" "+p(n(c)("commerce.points"))+") ",1)]}),_:1},8,["name"])):x("",!0),e.value&&(e.value.lines.some(l=>!l.isDigital)||e.value.shippingAmount>0)?(s(),h(Q,{key:3,name:n(c)("commerce.shippingAmount")},{default:o(()=>{var l,w,ee,pe;return[i("div",el,[a(U,{amount:(l=e.value)==null?void 0:l.shippingAmount},null,8,["amount"]),((pe=(ee=(w=e.value)==null?void 0:w.shippingAllocations)==null?void 0:ee.length)!=null?pe:0)>1?(s(),I("div",tl,[ll,(s(!0),I(z,null,le(e.value.shippingAllocations,(ve,_e)=>(s(),I("div",{key:_e,class:"flex items-center gap-4"},[a(n(X),{placement:"top",content:ve.title},{default:o(()=>[a(U,{amount:ve.cost},null,8,["amount"])]),_:2},1032,["content"]),_e!=e.value.shippingAllocations.length-1?(s(),I("span",nl,"+")):x("",!0)]))),128)),ol])):x("",!0)])]}),_:1},8,["name"])):x("",!0),a(Q,{class:"text-l",name:n(c)("common.total")},{default:o(()=>{var l,w;return[a(U,{amount:(l=e.value)==null?void 0:l.totalAmount,original:(w=e.value)==null?void 0:w.originalAmount},null,8,["amount","original"])]}),_:1},8,["name"])])]),m.value?(s(),h(At,{key:0,modelValue:m.value,"onUpdate:modelValue":f[6]||(f[6]=l=>m.value=l),onSelected:R},null,8,["modelValue"])):x("",!0)],64)}}});export{zl as _,Tl as a,Rl as b,Ul as c};
