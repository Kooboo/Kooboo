var y=(g,r,l)=>new Promise((e,u)=>{var p=a=>{try{d(l.next(a))}catch(n){u(n)}},w=a=>{try{d(l.throw(a))}catch(n){u(n)}},d=a=>a.done?e(a.value):Promise.resolve(a.value).then(p,w);d((l=l.apply(g,r)).next())});import{g as R,o as C,w as U}from"./i18n.a87944a4.js";import{_ as B}from"./container.b5d815f8.js";import{i as T,r as F}from"./index.1fd72ea8.js";import{d as I,g as b,G as N,cd as q,o as S,a as $,b as s,w as i,u as o,aI as v,t as _,f as E,x as h}from"./url.4cb47a7a.js";import{B as D,e as K,a as V,i as L,D as Q,C as z,E as A}from"./validate.bb56f9e3.js";import{u as G}from"./use-first-input-focus.135952ac.js";import{Q as M}from"./main.9fdfea92.js";import{_ as O}from"./two-fa-verify-dialog.55dc53b4.js";import{E as j}from"./index.178b9e08.js";import{E as H,a as J}from"./index.9fd79879.js";import{E as W}from"./index.361e2245.js";import{E as X}from"./index.fd96ea36.js";import"./logo-transparent.1566007e.js";import"./light-switch.51a4a594.js";import"./dark.9459c47b.js";import"./plugin-vue_export-helper.41ffa612.js";import"./windi.6360286d.js";import"./index.d24a40b9.js";import"./index.f23f1e38.js";import"./replace-all.56d2c1f7.js";import"./index.a24f458a.js";import"./index.abe211fa.js";import"./style.c350d462.js";import"./toNumber.47eea968.js";import"./_baseIsEqual.dc9e64c4.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./index.79632b7d.js";import"./index.c003dfa1.js";import"./index.c10802d9.js";import"./error.7e8331f1.js";import"./scroll.16983984.js";import"./index.4d568055.js";import"./focus-trap.50a00b7f.js";import"./isNil.98bb3b88.js";import"./refs.3132cbdb.js";import"./event.776e7e11.js";import"./index.7b8c5aef.js";import"./_baseClone.b8903935.js";import"./isEqual.4cab74e3.js";const Y={class:"h-full overflow-hidden"},Z={class:"text-s pt-8 dark:text-fff/50"},oo={class:"text-s pt-8 dark:text-fff/50",href:"https://www.kooboo.com/terms"},Ao=I({setup(g){const{t:r}=R(),l=b(!1);G();const e=N({username:"",password:"",confirmPassword:"",email:"",tel:"",code:""}),u={username:D,email:[K,V(r("common.inputEmailTips")),L(T,r("common.theEmailAlreadyExists"))],password:[V(r("common.inputPasswordTips")),Q,z],confirmPassword:[V(r("common.inputConfirmPasswordTips")),A(e)]},p=b(),w=q(),d=()=>{e.confirmPassword.length>0&&p.value.validateField("confirmPassword")},a=n=>y(this,null,function*(){if(e.code=n,yield p.value.validate(),yield F(e),!e.code){l.value=!0;return}return h("vscode-require-auth")?M():w.replace({name:"home"}),!0});return(n,t)=>{const f=j,c=H,P=J,x=W,k=X;return S(),$("div",Y,[s(k,null,{default:i(()=>[s(B,{title:o(r)("common.register"),back:"",onKeypress:t[5]||(t[5]=C(m=>a(),["enter"]))},{default:i(()=>[s(P,{ref_key:"form",ref:p,"label-position":"top",model:o(e),rules:o(u)},{default:i(()=>[s(c,{label:o(r)("common.username"),prop:"username"},{default:i(()=>[s(f,{modelValue:o(e).username,"onUpdate:modelValue":t[0]||(t[0]=m=>o(e).username=m),"data-cy":"username"},null,8,["modelValue"])]),_:1},8,["label"]),s(c,{label:o(r)("common.email"),prop:"email"},{default:i(()=>[s(f,{modelValue:o(e).email,"onUpdate:modelValue":t[1]||(t[1]=m=>o(e).email=m),"data-cy":"email"},null,8,["modelValue"])]),_:1},8,["label"]),s(c,{ref:"psw",label:o(r)("common.password"),prop:"password"},{default:i(()=>[s(f,{modelValue:o(e).password,"onUpdate:modelValue":t[2]||(t[2]=m=>o(e).password=m),type:"password","data-cy":"password",onBlur:d},null,8,["modelValue"])]),_:1},8,["label"]),s(c,{label:o(r)("common.confirmPassword"),prop:"confirmPassword"},{default:i(()=>[s(f,{modelValue:o(e).confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=m=>o(e).confirmPassword=m),type:"password","data-cy":"confirm-password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"]),s(x,{class:"w-full",round:"",type:"primary",size:"large","data-cy":"register",onClick:t[4]||(t[4]=U(m=>a(),["prevent"]))},{default:i(()=>[v(_(o(r)("common.register")),1)]),_:1}),E("p",Z,[v(_(o(r)("common.registerTips"))+" ",1),E("a",oo,_(o(r)("common.termsandcondition")),1)])]),_:1},8,["title"]),s(O,{modelValue:l.value,"onUpdate:modelValue":t[6]||(t[6]=m=>l.value=m),tip:o(r)("common.registerVerifyCodeSentTip"),onOk:a},null,8,["modelValue","tip"])]),_:1})])}}});export{Ao as default};
