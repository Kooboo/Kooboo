var g=(f,s,n)=>new Promise((p,l)=>{var a=e=>{try{o(n.next(e))}catch(t){l(t)}},i=e=>{try{o(n.throw(e))}catch(t){l(t)}},o=e=>e.done?p(e.value):Promise.resolve(e.value).then(a,i);o((n=n.apply(f,s)).next())});import{g as I}from"./index.a24f458a.js";import{d as B,N as C,cd as S,g as v,x as T,K as L,o as _,a as h,b as c,w as m,f as u,t as x,u as d,j as N,e as R}from"./url.4cb47a7a.js";import{g as q}from"./i18n.a87944a4.js";import{E as D}from"./index.d878e15f.js";import{E as F,a as M}from"./index.b38edc72.js";import{E as U,al as V}from"./windi.6360286d.js";import{E as j}from"./index.7df1cda1.js";import"./replace-all.56d2c1f7.js";import"./main.9fdfea92.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./index.fd96ea36.js";import"./error.7e8331f1.js";import"./index.d96452a6.js";import"./focus-trap.50a00b7f.js";import"./isNil.98bb3b88.js";import"./event.53b2ad83.js";import"./index.7b8c5aef.js";import"./debounce.4e0c106e.js";import"./toNumber.47eea968.js";import"./index.42922617.js";import"./event.776e7e11.js";import"./index.66319a92.js";import"./index.4d568055.js";const K={class:"w-1120px mx-auto py-32"},P={class:"flex items-center space-x-12"},Q={class:"font-bold"},W={class:"text-s text-999"},Y={key:1,class:"w-16 h-16 inline-block clone-site-loading"},ge=B({setup(f){const{t:s}=q(),n=C(),p=S(),l=v(0),a=v([]),i=setInterval(()=>g(this,null,function*(){a.value=yield I(n.query);const o=a.value.length;let t=a.value.filter(r=>r.done).length*100/o;if(t!==100&&(l.value=Math.floor(t)),o>0&&t===100){const r=T("currentFolder");clearInterval(i),p.replace({name:"home",query:{currentFolder:r}})}}),500);return L(()=>{clearInterval(i)}),(o,e)=>{const t=D,r=F,y=U,b=M,E=j,w=V;return _(),h("div",K,[c(E,null,{header:m(()=>[u("div",P,[u("span",Q,x(d(s)("common.cloneSite")),1),u("span",W,x(d(s)("common.cloneWebsiteYouMayLeaveTips")),1)])]),default:m(()=>[c(t,{"text-inside":!0,"stroke-width":26,percentage:l.value},null,8,["percentage"]),c(b,{class:"mt-24 el-table--gray rounded-normal",data:a.value},{default:m(()=>[c(r,{label:"URL",prop:"url"}),c(r,{label:d(s)("common.status"),prop:"done",width:"100px",align:"center"},{default:m(k=>[k.row.done?(_(),N(y,{key:0,class:"iconfont icon-yes2 text-green"})):R((_(),h("div",Y,null,512)),[[w,!0]])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})])}}});export{ge as default};
