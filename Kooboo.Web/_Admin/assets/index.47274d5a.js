import{d as v,g as i,i as f,h as d,o as w,a as b,cn as h}from"./url.8f5ec20c.js";const E=v({props:{content:null,baseUrl:null,agentEvents:null},setup(u,{expose:m}){const n=u,e=i(),p=a=>{var o=h(n.baseUrl),l=`<!DOCTYPE html><base href='${o}' />`;return l+a},r=()=>{var o,l;if(!((o=e.value)!=null&&o.contentDocument))return;e.value.contentDocument.open();const a=n.baseUrl?p(n.content):n.content;if(e.value.contentDocument.write(a),e.value.contentDocument.close(),n.agentEvents){const t=(l=e.value)==null?void 0:l.contentWindow;if(!t)return;const c=t.HTMLElement.prototype;n.agentEvents(c)}else e.value.contentDocument.onclick=t=>{t.preventDefault()},e.value.contentDocument.onkeydown=t=>{var s;t.preventDefault();const c=new KeyboardEvent("keydown",t);(s=e.value)==null||s.dispatchEvent(c)}};return f(()=>n.content,r),d(r),m({element:e}),(a,o)=>(w(),b("iframe",{ref_key:"element",ref:e,frameborder:"0",src:"about:blank",class:"w-full h-full",sandbox:"allow-same-origin allow-scripts"},null,512))}});export{E as _};
