var ee=Object.defineProperty,ae=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var U=(s,r,o)=>r in s?ee(s,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[r]=o,h=(s,r)=>{for(var o in r||(r={}))te.call(r,o)&&U(s,o,r[o]);if(O)for(var o of O(r))se.call(r,o)&&U(s,o,r[o]);return s},j=(s,r)=>ae(s,ie(r));import{s as S,i as E,o as ne,w as oe}from"./i18n.25caaace.js";import{p as T,d as le,c as p,g as N,i as B,h as re,o as n,a as v,f as P,u as a,n as d,j as f,w as y,l as C,k as c,t as I,F as q,b as ce,m as G,A as ue,K as de,bN as H}from"./url.8f5ec20c.js";import{b as ve,i as L,d as fe,q as pe,u as me,o as he,R as ye,E as b,n as be,_ as ge,w as ke}from"./windi.a815125a.js";import{i as we}from"./validator.9b0d789f.js";import{U as _,C as D,I as z}from"./event.776e7e11.js";import{u as Ce,a as Ie}from"./index.1e7e06b8.js";import{u as Se}from"./index.e9f8834a.js";import{d as Ve,t as Ee}from"./error.7e8331f1.js";const Te=ve({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:L,default:""},inactiveIcon:{type:L,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:fe(Function)},size:{type:String,validator:we},tabindex:{type:[String,Number]}}),Ne={[_]:s=>S(s)||T(s)||E(s),[D]:s=>S(s)||T(s)||E(s),[z]:s=>S(s)||T(s)||E(s)},Be=["onClick"],Pe=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],_e=["aria-hidden"],De=["aria-hidden"],ze=["aria-hidden"],Ae=["aria-hidden"],Fe={name:"ElSwitch"},Ke=le(j(h({},Fe),{props:Te,emits:Ne,setup(s,{expose:r,emit:o}){const t=s,A="ElSwitch",R=ue(),{formItem:g}=Ce(),W=pe(),i=me("switch");Se({from:'"value"',replacement:'"model-value" or "v-model"',scope:A,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},p(()=>{var e;return!!((e=R.vnode.props)!=null&&e.value)}));const{inputId:J}=Ie(t,{formItemContext:g}),k=he(p(()=>t.loading)),V=N(t.modelValue!==!1),m=N(),Q=N(),X=p(()=>[i.b(),i.m(W.value),i.is("disabled",k.value),i.is("checked",l.value)]),Y=p(()=>({width:ye(t.width)}));B(()=>t.modelValue,()=>{V.value=!0}),B(()=>t.value,()=>{V.value=!1});const F=p(()=>V.value?t.modelValue:t.value),l=p(()=>F.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(F.value)||(o(_,t.inactiveValue),o(D,t.inactiveValue),o(z,t.inactiveValue)),B(l,e=>{var u;m.value.checked=e,t.validateEvent&&((u=g==null?void 0:g.validate)==null||u.call(g,"change").catch(x=>Ve()))});const w=()=>{const e=l.value?t.inactiveValue:t.activeValue;o(_,e),o(D,e),o(z,e),de(()=>{m.value.checked=l.value})},K=()=>{if(k.value)return;const{beforeChange:e}=t;if(!e){w();return}const u=e();[H(u),S(u)].includes(!0)||Ee(A,"beforeChange must return type `Promise<boolean>` or `boolean`"),H(u)?u.then(M=>{M&&w()}).catch(M=>{}):u&&w()},Z=p(()=>i.cssVarBlock(h(h(h({},t.activeColor?{"on-color":t.activeColor}:null),t.inactiveColor?{"off-color":t.inactiveColor}:null),t.borderColor?{"border-color":t.borderColor}:null))),$=()=>{var e,u;(u=(e=m.value)==null?void 0:e.focus)==null||u.call(e)};return re(()=>{m.value.checked=l.value}),r({focus:$}),(e,u)=>(n(),v("div",{class:d(a(X)),style:G(a(Z)),onClick:oe(K,["prevent"])},[P("input",{id:a(J),ref_key:"input",ref:m,class:d(a(i).e("input")),type:"checkbox",role:"switch","aria-checked":a(l),"aria-disabled":a(k),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(k),tabindex:e.tabindex,onChange:w,onKeydown:ne(K,["enter"])},null,42,Pe),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(n(),v("span",{key:0,class:d([a(i).e("label"),a(i).em("label","left"),a(i).is("active",!a(l))])},[e.inactiveIcon?(n(),f(a(b),{key:0},{default:y(()=>[(n(),f(C(e.inactiveIcon)))]),_:1})):c("v-if",!0),!e.inactiveIcon&&e.inactiveText?(n(),v("span",{key:1,"aria-hidden":a(l)},I(e.inactiveText),9,_e)):c("v-if",!0)],2)):c("v-if",!0),P("span",{ref_key:"core",ref:Q,class:d(a(i).e("core")),style:G(a(Y))},[e.inlinePrompt?(n(),v("div",{key:0,class:d(a(i).e("inner"))},[e.activeIcon||e.inactiveIcon?(n(),v(q,{key:0},[e.activeIcon?(n(),f(a(b),{key:0,class:d([a(i).is("icon"),a(l)?a(i).is("show"):a(i).is("hide")])},{default:y(()=>[(n(),f(C(e.activeIcon)))]),_:1},8,["class"])):c("v-if",!0),e.inactiveIcon?(n(),f(a(b),{key:1,class:d([a(i).is("icon"),a(l)?a(i).is("hide"):a(i).is("show")])},{default:y(()=>[(n(),f(C(e.inactiveIcon)))]),_:1},8,["class"])):c("v-if",!0)],64)):e.activeText||e.inactiveIcon?(n(),v(q,{key:1},[e.activeText?(n(),v("span",{key:0,class:d([a(i).is("text"),a(l)?a(i).is("show"):a(i).is("hide")]),"aria-hidden":!a(l)},I(e.activeText.substring(0,3)),11,De)):c("v-if",!0),e.inactiveText?(n(),v("span",{key:1,class:d([a(i).is("text"),a(l)?a(i).is("hide"):a(i).is("show")]),"aria-hidden":a(l)},I(e.inactiveText.substring(0,3)),11,ze)):c("v-if",!0)],64)):c("v-if",!0)],2)):c("v-if",!0),P("div",{class:d(a(i).e("action"))},[e.loading?(n(),f(a(b),{key:0,class:d(a(i).is("loading"))},{default:y(()=>[ce(a(be))]),_:1},8,["class"])):c("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(n(),v("span",{key:1,class:d([a(i).e("label"),a(i).em("label","right"),a(i).is("active",a(l))])},[e.activeIcon?(n(),f(a(b),{key:0},{default:y(()=>[(n(),f(C(e.activeIcon)))]),_:1})):c("v-if",!0),!e.activeIcon&&e.activeText?(n(),v("span",{key:1,"aria-hidden":!a(l)},I(e.activeText),9,Ae)):c("v-if",!0)],2)):c("v-if",!0)],14,Be))}}));var Me=ge(Ke,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Je=ke(Me);export{Je as E};
