var v=(e,r,o)=>new Promise((s,a)=>{var c=t=>{try{l(o.next(t))}catch(u){a(u)}},b=t=>{try{l(o.throw(t))}catch(u){a(u)}},l=t=>t.done?s(t.value):Promise.resolve(t.value).then(c,b);l((o=o.apply(e,r)).next())});import{_ as B}from"./alert.8fe5500a.js";import{d as I,g as U,w as F}from"./i18n.bcd18f8a.js";import{a as p}from"./replace-all.d441bf14.js";import{d as g}from"./main.582f9de6.js";import{_ as $}from"./index.7a75fca3.js";import{a as h,E as D}from"./index.6d63eb53.js";import{E as M}from"./index.5cbbc5d7.js";import{E as j}from"./index.d4a6b2d5.js";import{d as z,g as L,c as N,o as i,j as _,w as d,b as V,k as q,u as f,a as E,b6 as A,F as G,t as O}from"./url.8f5ec20c.js";const w=I.global.t,oe=()=>g.get(p("KConfig/list")),ne=e=>g.get(p("KConfig/Get"),e),se=e=>g.post(p("KConfig/Deletes"),e,void 0,{successMessage:w("common.deleteSuccess")}),H=e=>g.post(p("KConfig/Update"),e,void 0,{successMessage:w("common.saveSuccess")}),J={key:1},ae=z({props:{modelValue:{type:Boolean},current:null,alert:null},emits:["update:modelValue","success"],setup(e,{emit:r}){const o=e,s=L(!0);let a=!1;const{t:c}=U(),b=N(()=>Object.keys(o.current.binding).length>0);function l(){return v(this,null,function*(){yield H({id:o.current.id,binding:o.current.binding}),a=!0,t()})}const t=()=>{r("success",a),r("update:modelValue",!1)};return(u,n)=>{const x=B,k=M,y=D,K=j;return i(),_(K,{modelValue:s.value,"onUpdate:modelValue":n[2]||(n[2]=C=>s.value=C),width:"600px","close-on-click-modal":!1,title:f(c)("common.KoobooConfig"),"custom-class":"el-dialog--zero-padding",onClosed:t},{footer:d(()=>[V($,{permission:{feature:"text",action:"edit"},onConfirm:l,onCancel:n[1]||(n[1]=C=>s.value=!1)})]),default:d(()=>[e.alert?(i(),_(x,{key:0,content:e.alert},null,8,["content"])):q("",!0),V(f(h),{"label-position":"top",class:"px-32 py-24",onSubmit:n[0]||(n[0]=F(()=>{},["prevent"]))},{default:d(()=>[f(b)?(i(!0),E(G,{key:0},A(e.current.binding,(C,m)=>(i(),_(y,{key:m,label:m},{default:d(()=>[V(k,{modelValue:e.current.binding[m],"onUpdate:modelValue":S=>e.current.binding[m]=S,type:"textarea",autosize:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),128)):(i(),E("div",J,O(f(c)("common.noConfigurationItem")),1))]),_:1})]),_:1},8,["modelValue","title"])}}});export{ae as _,ne as a,se as d,oe as g,H as u};
