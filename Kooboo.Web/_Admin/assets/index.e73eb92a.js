var $=(e,t,n)=>new Promise((o,l)=>{var s=i=>{try{u(n.next(i))}catch(d){l(d)}},a=i=>{try{u(n.throw(i))}catch(d){l(d)}},u=i=>i.done?o(i.value):Promise.resolve(i.value).then(s,a);u((n=n.apply(e,t)).next())});import{d as V,o as _,a as S,f as x,g as p,c as K,j as C,w as f,b as c,K as _o,h as Gt,aV as Tl,k as F,m as ce,u as r,t as A,F as Z,b6 as se,aT as ho,B as xn,G as U,b2 as kn,aH as R,i as he,l as xt,n as Ge,at as Ce,r as Vl,ce as it,e as Ll,x as Re,aF as Jt,ct as Dl,I as Ml,bz as yo}from"./url.8f5ec20c.js";import{d as bo,u as Il,E as wn,i as Bl,a3 as Pl,b as jl,e as zl}from"./main.582f9de6.js";import{a as $n,C as q}from"./replace-all.d441bf14.js";import{K as kt,w as Cn,x as _e,y as xo,z as dn,A as ko,B as mn,C as wt,D as fn,E as pn,F as ze,G as wo,H as Ol,I as vn,J as Nl,L as le,M as Hl,N as Ul,O as Rl,f as Wl,e as ee,P as $o,Q as $t,R as Co,S as Ct,T as De,U as so,V as Eo,m as me,k as we,W as ao,c as ql,n as Kl,X as Gl}from"./style.9c8f6403.js";import{n as Oe,e as Jl}from"./guid.c1a40312.js";import{d as j,g as H,e as Zl,w as gn}from"./i18n.bcd18f8a.js";import{_ as En}from"./color-picker.a16347ae.js";import{E as Ne,al as Ql}from"./windi.19264205.js";import{E as Xl,a as Yl,b as er}from"./index.8bc4b1d6.js";import{s as Qe}from"./confirm.eadb49f1.js";import{h as tr}from"./index.498de854.js";import{_ as nr,a as or}from"./edit-dialog.29a8ab7f.js";import"./textContent.85a87e1d.js";import"./dark.166fd971.js";import{_ as lr}from"./index.20b12391.js";/* empty css                                                               */import"./media-list.vue_vue_type_style_index_0_scoped_true_lang.c0b84b74.js";/* empty css                                                          */import"./file.734aeed6.js";import"./validate.238a9986.js";import"./use-date.a1321c18.js";import"./use-copy-text.c117d066.js";/* empty css                                                          *//* empty css                                                                 */import"./use-file-upload.c73251ef.js";/* empty css                                                         */import"./image-editor.vue_vue_type_style_index_0_scoped_true_lang.53a9e945.js";import"./index.8dbd37cf.js";import"./index.ccf403d8.js";import"./vuedraggable.umd.7929a3b6.js";import"./index.3be79fd5.js";import"./sortable.esm.a99254e8.js";import"./k-table.7d05e82e.js";import"./index.72ccc088.js";import{E as rr}from"./edit-content.a8f5dc63.js";import"./index.a32fb6e5.js";import{E as sr}from"./edit-data-form.c8b62766.js";import"./html-block.bf64ebf5.js";import{c as ar,_ as ir}from"./edit-dialog.d0241369.js";import{Z as cr,a as ur,N as dr,M as mr}from"./dev-mode.1f379952.js";import"./userWorker.b3a6730b.js";import"./config.812575d1.js";import"./product.9a7c7001.js";import"./commerce.733e9edf.js";import"./useTag.af222f48.js";import"./option-group-editor.ce3e28ca.js";import"./useLabels.a0b6497c.js";import"./dayjs.min.59f10137.js";import"./index.84fe3ce9.js";import"./custom-field.b807d01a.js";import{S as fr}from"./index.f7600a46.js";import{m as Zt,x as pr,f as vr,r as So,h as Qt,p as gr,k as _r,y as hr,u as yr}from"./index.edadf6a1.js";import{a as br,g as io,r as xr,_ as co}from"./renderer.24497618.js";import{l as kr,e as wr,a as $r}from"./page.e927203a.js";import{c as Sn}from"./cloneDeep.060340c1.js";import{u as Fo}from"./binding.590888cf.js";import{E as Cr}from"./index.10f642b2.js";import{E as Fn}from"./index.4ecdcecf.js";import{_ as Ee}from"./alert.8fe5500a.js";import{_ as Se}from"./index.7a75fca3.js";import{E as Ao,a as To}from"./index.6c05d6c4.js";import{E as G}from"./index.d4a6b2d5.js";import{E as ue}from"./index.aec72f69.js";import{E as Er}from"./index.ec6ad7db.js";import{_ as Sr}from"./edit-value-dialog.8c05c63f.js";import{M as Fr}from"./media-dialog.31d6c41c.js";import{_ as Ar}from"./index.47274d5a.js";import{E as Tr}from"./index.d84e2378.js";import{E as Vr}from"./index.7a30c6dd.js";import{_ as Lr}from"./plugin-vue_export-helper.41ffa612.js";import{E as ct}from"./index.5cbbc5d7.js";import{E as An,a as Xt}from"./index.6d63eb53.js";import{E as Yt,a as en}from"./index.b83a1079.js";import{E as Tn,a as Vn,c as Vo}from"./index.6d22f937.js";import{E as tn}from"./index.79f78425.js";import{E as nn}from"./index.d26cbad9.js";import{_ as Dr}from"./htmlblock-form.8acb4544.js";import{_ as Mr}from"./edit-form.162c1eb5.js";import{_ as Lo}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as Ln}from"./icon-button.315b6443.js";import{d as Ir}from"./debounce.730e1961.js";import{E as Br}from"./index.cdccec76.js";import"./index.50c16ae5.js";import"./preload-helper.13a99eb0.js";import"./toNumber.6efebd6a.js";import"./_baseIsEqual.547729d3.js";import"./index.f78668f8.js";import"./event.53b2ad83.js";import"./position.f6e7bc86.js";import"./index.9a83ee01.js";import"./validator.b73911a9.js";import"./event.776e7e11.js";import"./index.c80f5028.js";import"./index.05e21f33.js";import"./error.7e8331f1.js";import"./dropdown.f6378640.js";import"./refs.d2253dd4.js";import"./focus-trap.eafcfd1f.js";import"./isNil.98bb3b88.js";import"./logo-transparent.1566007e.js";import"./pick.80c375ab.js";import"./_basePickBy.0604ed3c.js";import"./index.2341329b.js";import"./index.bda83f28.js";import"./index.bff48780.js";import"./index.649f6c77.js";import"./key-value-editor.958730ca.js";import"./string.75b81683.js";import"./use-operation-dialog.175b540a.js";import"./index.daafc4da.js";import"./index.59b1471f.js";import"./index.373c837a.js";import"./index.d6799c63.js";import"./index.e3f90979.js";import"./isEqual.11d86bcc.js";import"./index.0a8d3d17.js";import"./index.b8a66e09.js";import"./index.564bc658.js";import"./classCompletion.a22e38a6.js";import"./editor.main.d2800f63.js";import"./index.4dc50d47.js";import"./use-save-tip.8f44d6c0.js";import"./index.73c941f5.js";import"./toggleComment.5b29ca87.js";import"./index.79dc05e0.js";import"./index.ff00fbd6.js";import"./index.57a23e6d.js";import"./image-editor.f97cfa84.js";import"./main.esm.6441082b.js";import"./index.7633560d.js";import"./image-cover.2420cf5d.js";import"./media.71de4b30.js";import"./breadcrumb.edaec300.js";import"./search-provider.17b07ede.js";import"./last.e7aa49db.js";import"./_baseIndexOf.4d7985be.js";import"./_baseUniq.098d08d2.js";import"./folder.8308bb9d.js";import"./relations-tag.7a82bbd0.js";import"./index.ea2df5df.js";import"./browser.6efdef8a.js";import"./throttle.3f3ee457.js";import"./search-input.5b2e8d23.js";import"./layout.29f65550.js";import"./index.4972d853.js";import"./scroll.4888a9e9.js";import"./utils.dd51a1eb.js";import"./index.99c245f4.js";import"./index.55babe62.js";import"./product-variant.08b1c2e8.js";import"./editable-tags.310754fc.js";import"./_baseClone.eeff2792.js";import"./index.87ae2965.js";import"./_createCompounder.2027fb34.js";import"./useFields.4b33b4c8.js";import"./isEmpty.8640792d.js";import"./content-effect.92be69e3.js";import"./omitBy.da11f041.js";import"./pickBy.705899be.js";import"./index.a0617677.js";import"./index.72905c45.js";import"./index.a3d8335f.js";import"./aria.75ec5909.js";import"./file.eef7ed38.js";import"./index.3a977dfb.js";const Pr=V({name:"Close"}),jr={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zr=x("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),Or=[zr];function Nr(e,t,n,o,l,s){return _(),S("svg",jr,Or)}var Hr=Lr(Pr,[["render",Nr]]);const Ur=j.global.t;function Rr(e,t){return $(this,null,function*(){yield bo.post($n("/InlineEditor/Update"),t,{url:e},{successMessage:Ur("common.saveSuccess")})})}function Wr(e){return $(this,null,function*(){return yield bo.post($n("/InlineEditor/canEnter"),{url:e})})}const Ke=p([]),Pe=p([]);function qr(){const e=Pe.value[Pe.value.length-1];if(console.log(e),e){for(const t of[...e].reverse())t.undo();Ke.value.push(e)}Pe.value.pop()}function Kr(){const e=Ke.value[Ke.value.length-1];if(console.log(e),e){for(const t of e)t.redo();Pe.value.push(e)}Ke.value.pop()}function ae(e){console.log(e),Pe.value.push(e),Ke.value=[]}function Do(e){return $(this,null,function*(){const t=[];for(const n of Pe.value)for(const o of n)for(const l of o.changes)t.push(Jr(l));yield Rr(e,t)})}const Be=K(()=>Pe.value.length),an=K(()=>Ke.value.length);function fe(e){let t=e.getAttribute(kt);return t||(t=Oe(),e.setAttribute(kt,t)),t}function ut(e,t="children"){let n=[];switch(t){case"brothers":e.parentElement&&(n=_e(e.parentElement,!0));break;case"self":n=_e(e,!0,!0);break;case"children":default:n=_e(e,!0);break}for(const o of n)o.setAttribute(Cn,"")}function Gr(e){return e.hasAttribute(Cn)}function N(e,t){var l;let n=!0,o=e;for(;o&&!(!Gr(o)&&te(o));){if(o==(t==null?void 0:t.reference)||((l=t==null?void 0:t.references)==null?void 0:l.includes(o)))return null;o=o.parentElement,n=!1}return{isSelf:n,element:o}}function Jr(e){var n;const t=[];for(const o in e)t.push({key:o.toLowerCase(),value:(n=e[o])==null?void 0:n.toString()});return{source:e.source,infos:t}}const Dn=["htmlblock"],ie=["view","Page","Layout","form",...Dn],dt=["textcontent"],Mo=["commerce"],mt=["kconfig"],on=["Label"],ft=["keyvalue"],pt=["indexdb","sqlite","mysql","sqlserver","mongo"],ln=["html","body"];function D(e){let t=e,n=!1;const o=[],l=[];for(;t;){if(dn(t)){const a=_n(t);if(a){if(a.type=="start"&&!o.includes(a.id)){const u=JSON.parse(a.bindings),i=[];let d=t;for(;d;){if(i.push(d),dn(d)){const m=_n(d);if(m&&m.type=="end"&&m.id==a.id)break}d=d.nextSibling}const g=Oe();u.forEach(m=>{m.references=i,m.group=g}),l.push(...u)}a.type=="end"&&o.push(a.id)}}if(ko(t)){const a=t;if(!n){const u=Zr(a),i=Oe();u.forEach(d=>{d.reference=a,d.group=i}),l.push(...u)}}let s=t.previousSibling;s?n=!0:(s=t.parentElement,n=!1),t=s}return l}function ye(e){var n;return e?e.getAttribute("data-designer-type")||e.id==="designer-page-style"?!0:((n=D(e)[0])==null?void 0:n.source)==="designer":!1}function te(e){return e.getAttribute(xo)}function _n(e){if(!e.textContent||!e.textContent.startsWith(mn))return;let t=e.textContent.substring(mn.length+2);const n={};if(t.startsWith("start"))n.type="start";else if(t.startsWith("end"))n.type="end";else return;return t=t.substring(t.indexOf("-")+2),n.type=="start"?(n.id=t.substring(0,t.indexOf("[")-2),n.bindings=t.substring(t.indexOf("["))):n.id=t.substring(0),n}function Zr(e){const t=[];if(e.hasAttribute(wt)&&t.push(...JSON.parse(e.getAttribute(wt))),e.hasAttribute(fn)){const n=JSON.parse(e.getAttribute(fn));n.forEach(o=>o.target="content"),t.push(...n)}if(e.hasAttribute(pn)){const n=JSON.parse(e.getAttribute(pn));n.forEach(o=>o.target="attribute"),t.push(...n)}return t}function pe(e,t,n=!0){if(!!e)if(n){const o=e[0];return o?e.filter(s=>s.group==o.group).find(s=>t.includes(s.source)):void 0}else return e.find(o=>t.includes(o.source))}function z(e,t,n,o){return n&&(o="attribute"),e.find(l=>!t.includes(l.source)||o&&l.target!=o?!1:l.attribute==n?!0:l.target!="attribute")}function Io(e,t){const n=t?e.outerHTML:e.innerHTML;return n.includes(wt)||n.includes(mn)}function Qr(e,t){const n=z(e,on);return!(!n||t&&n.reference==t)}function Bo(e,t,n){const o=z(e,ft,n);return!(!o||t&&o.reference==t||n&&o.reference!=t)}function Po(e,t,n){const o=z(e,dt,n);return!(!o||!o.id||!o.fieldName||t&&o.reference==t||n&&o.reference!=t)}function jo(e,t,n){const o=z(e,pt,n);return!(!o||!o.id||!o.fieldName||t&&o.reference==t||n&&o.reference!=t)}function zo(e,t,n){const o=z(e,mt,n!=null?n:"innerHtml");return!o||!o.key?!1:n=="innerHtml"?!0:!(t&&o.reference==t||n&&o.reference!=t)}function Mn(e,t){var s;if(ln.includes((s=t.tagName)==null?void 0:s.toLowerCase()))return!1;const n=z(e,ie);if(!n)return!1;const o=N(t,n);return!(!o||Io(o.element)||!te(o.element))}function vt(e,t){var s;if(ln.includes((s=t.tagName)==null?void 0:s.toLowerCase()))return!1;const n=z(e,ie);if(!n)return!1;const o=N(t,n);return!(!o||!o.isSelf&&Io(o.element)||!te(o.element))}function Fe(e,t){if(Qr(e,t)||Bo(e,t)||Po(e,t)||jo(e,t)||zo(e,t))return!0}function Oo(e,t,n){if(Bo(e,t,n)||Po(e,t,n)||jo(e,t,n)||zo(e,t,n))return!0}function W(e,t){var l;const n=(l=e[0])==null?void 0:l.group;return!!e.find(s=>{var a,u;return!(s.source!="Binding"||s.group!=n||((a=s.Expression)==null?void 0:a.startsWith("{"))&&((u=s.Expression)==null?void 0:u.endsWith("}"))||s.attribute!=t)})}function Ae(e){return e.some(t=>t.selfClosed)}const st=e=>{if(!!e)return e.getBoundingClientRect()},Xr=()=>({x:window.innerWidth,y:window.innerHeight});function ne(e){const t=document.createElement("div");t.innerHTML=e;const n=wo(t,!0);for(const o of n)if(dn(o)&&_n(o)&&Ol(o),ko(o)){const l=o;l.removeAttribute(ze),l.removeAttribute(Cn),l.removeAttribute(kt),l.removeAttribute(xo),l.removeAttribute(wt),l.removeAttribute(fn),l.removeAttribute(pn),(l.hasAttribute(vn)||l.hasAttribute(Nl))&&l.remove()}return t.innerHTML}function ke(e,t){return e.find(n=>n.getAttribute(ze)==t)}const hn={aliceblue:{hex:"F0F8FF",dec:[240,248,255]},antiquewhite:{hex:"FAEBD7",dec:[250,235,215]},aqua:{hex:"00FFFF",dec:[0,255,255]},aquamarine:{hex:"7FFFD4",dec:[127,255,212]},azure:{hex:"F0FFFF",dec:[240,255,255]},beige:{hex:"F5F5DC",dec:[245,245,220]},bisque:{hex:"FFE4C4",dec:[255,228,196]},black:{hex:"000000",dec:[0,0,0]},blanchedalmond:{hex:"FFEBCD",dec:[255,235,205]},blue:{hex:"0000FF",dec:[0,0,255]},blueviolet:{hex:"8A2BE2",dec:[138,43,226]},brown:{hex:"A52A2A",dec:[165,42,42]},burlywood:{hex:"DEB887",dec:[222,184,135]},cadetblue:{hex:"5F9EA0",dec:[95,158,160]},chartreuse:{hex:"7FFF00",dec:[127,255,0]},chocolate:{hex:"D2691E",dec:[210,105,30]},coral:{hex:"FF7F50",dec:[255,127,80]},cornflowerblue:{hex:"6495ED",dec:[100,149,237]},cornsilk:{hex:"FFF8DC",dec:[255,248,220]},crimson:{hex:"DC143C",dec:[220,20,60]},cyan:{hex:"00FFFF",dec:[0,255,255]},darkblue:{hex:"00008B",dec:[0,0,139]},darkcyan:{hex:"008B8B",dec:[0,139,139]},darkgoldenrod:{hex:"B8860B",dec:[184,134,11]},darkgray:{hex:"A9A9A9",dec:[169,169,169]},darkgreen:{hex:"006400",dec:[0,100,0]},darkgrey:{hex:"A9A9A9",dec:[169,169,169]},darkkhaki:{hex:"BDB76B",dec:[189,183,107]},darkmagenta:{hex:"8B008B",dec:[139,0,139]},darkolivegreen:{hex:"556B2F",dec:[85,107,47]},darkorange:{hex:"FF8C00",dec:[255,140,0]},darkorchid:{hex:"9932CC",dec:[153,50,204]},darkred:{hex:"8B0000",dec:[139,0,0]},darksalmon:{hex:"E9967A",dec:[233,150,122]},darkseagreen:{hex:"8FBC8F",dec:[143,188,143]},darkslateblue:{hex:"483D8B",dec:[72,61,139]},darkslategray:{hex:"2F4F4F",dec:[47,79,79]},darkslategrey:{hex:"2F4F4F",dec:[47,79,79]},darkturquoise:{hex:"00CED1",dec:[0,206,209]},darkviolet:{hex:"9400D3",dec:[148,0,211]},deeppink:{hex:"FF1493",dec:[255,20,147]},deepskyblue:{hex:"00BFFF",dec:[0,191,255]},dimgray:{hex:"696969",dec:[105,105,105]},dimgrey:{hex:"696969",dec:[105,105,105]},dodgerblue:{hex:"1E90FF",dec:[30,144,255]},firebrick:{hex:"B22222",dec:[178,34,34]},floralwhite:{hex:"FFFAF0",dec:[255,250,240]},forestgreen:{hex:"228B22",dec:[34,139,34]},fuchsia:{hex:"FF00FF",dec:[255,0,255]},gainsboro:{hex:"DCDCDC",dec:[220,220,220]},ghostwhite:{hex:"F8F8FF",dec:[248,248,255]},gold:{hex:"FFD700",dec:[255,215,0]},goldenrod:{hex:"DAA520",dec:[218,165,32]},gray:{hex:"808080",dec:[128,128,128]},green:{hex:"008000",dec:[0,128,0]},greenyellow:{hex:"ADFF2F",dec:[173,255,47]},grey:{hex:"808080",dec:[128,128,128]},honeydew:{hex:"F0FFF0",dec:[240,255,240]},hotpink:{hex:"FF69B4",dec:[255,105,180]},indianred:{hex:"CD5C5C",dec:[205,92,92]},indigo:{hex:"4B0082",dec:[75,0,130]},ivory:{hex:"FFFFF0",dec:[255,255,240]},khaki:{hex:"F0E68C",dec:[240,230,140]},lavender:{hex:"E6E6FA",dec:[230,230,250]},lavenderblush:{hex:"FFF0F5",dec:[255,240,245]},lawngreen:{hex:"7CFC00",dec:[124,252,0]},lemonchiffon:{hex:"FFFACD",dec:[255,250,205]},lightblue:{hex:"ADD8E6",dec:[173,216,230]},lightcoral:{hex:"F08080",dec:[240,128,128]},lightcyan:{hex:"E0FFFF",dec:[224,255,255]},lightgoldenrodyellow:{hex:"FAFAD2",dec:[250,250,210]},lightgray:{hex:"D3D3D3",dec:[211,211,211]},lightgreen:{hex:"90EE90",dec:[144,238,144]},lightgrey:{hex:"D3D3D3",dec:[211,211,211]},lightpink:{hex:"FFB6C1",dec:[255,182,193]},lightsalmon:{hex:"FFA07A",dec:[255,160,122]},lightseagreen:{hex:"20B2AA",dec:[32,178,170]},lightskyblue:{hex:"87CEFA",dec:[135,206,250]},lightslategray:{hex:"778899",dec:[119,136,153]},lightslategrey:{hex:"778899",dec:[119,136,153]},lightsteelblue:{hex:"B0C4DE",dec:[176,196,222]},lightyellow:{hex:"FFFFE0",dec:[255,255,224]},lime:{hex:"00FF00",dec:[0,255,0]},limegreen:{hex:"32CD32",dec:[50,205,50]},linen:{hex:"FAF0E6",dec:[250,240,230]},magenta:{hex:"FF00FF",dec:[255,0,255]},maroon:{hex:"800000",dec:[128,0,0]},mediumaquamarine:{hex:"66CDAA",dec:[102,205,170]},mediumblue:{hex:"0000CD",dec:[0,0,205]},mediumorchid:{hex:"BA55D3",dec:[186,85,211]},mediumpurple:{hex:"9370DB",dec:[147,112,219]},mediumseagreen:{hex:"3CB371",dec:[60,179,113]},mediumslateblue:{hex:"7B68EE",dec:[123,104,238]},mediumspringgreen:{hex:"00FA9A",dec:[0,250,154]},mediumturquoise:{hex:"48D1CC",dec:[72,209,204]},mediumvioletred:{hex:"C71585",dec:[199,21,133]},midnightblue:{hex:"191970",dec:[25,25,112]},mintcream:{hex:"F5FFFA",dec:[245,255,250]},mistyrose:{hex:"FFE4E1",dec:[255,228,225]},moccasin:{hex:"FFE4B5",dec:[255,228,181]},navajowhite:{hex:"FFDEAD",dec:[255,222,173]},navy:{hex:"000080",dec:[0,0,128]},oldlace:{hex:"FDF5E6",dec:[253,245,230]},olive:{hex:"808000",dec:[128,128,0]},olivedrab:{hex:"6B8E23",dec:[107,142,35]},orange:{hex:"FFA500",dec:[255,165,0]},orangered:{hex:"FF4500",dec:[255,69,0]},orchid:{hex:"DA70D6",dec:[218,112,214]},palegoldenrod:{hex:"EEE8AA",dec:[238,232,170]},palegreen:{hex:"98FB98",dec:[152,251,152]},paleturquoise:{hex:"AFEEEE",dec:[175,238,238]},palevioletred:{hex:"DB7093",dec:[219,112,147]},papayawhip:{hex:"FFEFD5",dec:[255,239,213]},peachpuff:{hex:"FFDAB9",dec:[255,218,185]},peru:{hex:"CD853F",dec:[205,133,63]},pink:{hex:"FFC0CB",dec:[255,192,203]},plum:{hex:"DDA0DD",dec:[221,160,221]},powderblue:{hex:"B0E0E6",dec:[176,224,230]},purple:{hex:"800080",dec:[128,0,128]},rebeccapurple:{hex:"663399",dec:[102,51,153]},red:{hex:"FF0000",dec:[255,0,0]},rosybrown:{hex:"BC8F8F",dec:[188,143,143]},royalblue:{hex:"4169E1",dec:[65,105,225]},saddlebrown:{hex:"8B4513",dec:[139,69,19]},salmon:{hex:"FA8072",dec:[250,128,114]},sandybrown:{hex:"F4A460",dec:[244,164,96]},seagreen:{hex:"2E8B57",dec:[46,139,87]},seashell:{hex:"FFF5EE",dec:[255,245,238]},sienna:{hex:"A0522D",dec:[160,82,45]},silver:{hex:"C0C0C0",dec:[192,192,192]},skyblue:{hex:"87CEEB",dec:[135,206,235]},slateblue:{hex:"6A5ACD",dec:[106,90,205]},slategray:{hex:"708090",dec:[112,128,144]},slategrey:{hex:"708090",dec:[112,128,144]},snow:{hex:"FFFAFA",dec:[255,250,250]},springgreen:{hex:"00FF7F",dec:[0,255,127]},steelblue:{hex:"4682B4",dec:[70,130,180]},tan:{hex:"D2B48C",dec:[210,180,140]},teal:{hex:"008080",dec:[0,128,128]},thistle:{hex:"D8BFD8",dec:[216,191,216]},tomato:{hex:"FF6347",dec:[255,99,71]},turquoise:{hex:"40E0D0",dec:[64,224,208]},violet:{hex:"EE82EE",dec:[238,130,238]},wheat:{hex:"F5DEB3",dec:[245,222,179]},white:{hex:"FFFFFF",dec:[255,255,255]},whitesmoke:{hex:"F5F5F5",dec:[245,245,245]},yellow:{hex:"FFFF00",dec:[255,255,0]},yellowgreen:{hex:"9ACD32",dec:[154,205,50]}},No=[{name:"color",extract:e=>Ve("color",e)},{name:"background",extract:e=>Le("background-color",e)},{name:"background-color",extract:e=>Ve("background-color",e)},{name:"border",extract:e=>Le("border-color",e)},{name:"border-color",extract(e){const t=[];if(e){const n=Ho(e);n.length==1?t.push({key:"border-color",value:n[0]}):n.length==2?(t.push({key:"border-top-color",value:n[0]}),t.push({key:"border-bottom-color",value:n[0]}),t.push({key:"border-left-color",value:n[1]}),t.push({key:"border-right-color",value:n[1]})):n.length==3?(t.push({key:"border-top-color",value:n[0]}),t.push({key:"border-bottom-color",value:n[2]}),t.push({key:"border-left-color",value:n[1]}),t.push({key:"border-right-color",value:n[1]})):n.length==4&&(t.push({key:"border-top-color",value:n[0]}),t.push({key:"border-right-color",value:n[1]}),t.push({key:"border-bottom-color",value:n[2]}),t.push({key:"border-left-color",value:n[3]}))}return t}},{name:"border-top",extract:e=>Le("border-top-color",e)},{name:"border-right",extract:e=>Le("border-right-color",e)},{name:"border-bottom",extract:e=>Le("border-bottom-color",e)},{name:"border-left",extract:e=>Le("border-left-color",e)},{name:"border-top-color",extract:e=>Ve("border-top-color",e)},{name:"border-right-color",extract:e=>Ve("border-right-color",e)},{name:"border-bottom-color",extract:e=>Ve("border-bottom-color",e)},{name:"border-left-color",extract:e=>Ve("border-left-color",e)},{name:"outline",extract:e=>Le("outline-color",e)},{name:"outline-color",extract:e=>Ve("outline-color",e)}];function Ve(e,t){const n=[];return t&&n.push({key:e,value:t}),n}function Le(e,t){const n=[];if(t){const o=Ho(t);o.length&&n.push({key:e,value:o[0]})}return n}const Yr=RegExp(`\\s${Object.keys(hn).map(e=>"("+e+")").join("|")}|(rgb(a)?\\(\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*\\d+\\s*(,\\s*\\d*\\.?\\d*\\s*)?)\\)|(#[\\d\\w]{3,8})\\s`,"gim");function Ho(e){e=` ${e} `;const t=[],n=e.matchAll(Yr);for(const o of n)t.push(o[0].trim());return t}function Uo(e){if(e in hn){const t=hn[e].dec;return`rgb(${t[0]},${t[1]},${t[2]})`}return e}const es={class:"w-46px flex items-center justify-center pr-4"},ts=V({props:{modelValue:null,displayColor:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=p();let l=n.modelValue||"rgba(0,0,0,0)";function s(a){a.endsWith("0)")&&(l==null?void 0:l.endsWith("0)"))&&t("update:modelValue",a.substring(0,a.length-2)+"1)"),l=a}return(a,u)=>{const i=ct;return _(),C(i,{"model-value":e.modelValue,placeholder:e.displayColor,"onUpdate:modelValue":u[1]||(u[1]=d=>a.$emit("update:modelValue",d))},{append:f(()=>[x("div",es,[c(En,{ref_key:"picker",ref:o,"show-alpha":"","model-value":e.modelValue||e.displayColor,"onUpdate:modelValue":u[0]||(u[0]=d=>a.$emit("update:modelValue",d)),onActiveChange:s},null,8,["model-value"])])]),_:1},8,["model-value","placeholder"])}}});var Ro=Lo(ts,[["__scopeId","data-v-cb85724e"]]);const ns=["width","height"],os=V({props:{color:null,size:null},setup(e){const t=e;function n(){var y,w;if(!o.value)return;const i=o.value.getContext("2d");let d=0,g=0,m=0;const h=(y=t.size)!=null?y:12;for(;(d<o.value.width||g<o.value.height)&&(m%2||(i.fillStyle=(w=t.color)!=null?w:"#D7D7D7",i.fillRect(d,g,h,h)),d+=h,!(d>o.value.width&&(d=0,m=g/h%2?1:0,g+=h,g>o.value.height)));)m++}const o=p(),l=p(!1),s=new ResizeObserver(()=>$(this,null,function*(){!a.value||(l.value=!1,u.value=a.value.getBoundingClientRect(),l.value=!0,yield _o(),n())})),a=p(),u=p();return Gt(()=>{s.observe(a.value)}),Tl(()=>{s.disconnect()}),(i,d)=>{var g,m;return _(),S("div",{ref_key:"container",ref:a,class:"w-full h-full"},[l.value?(_(),S("canvas",{key:0,ref_key:"canvas",ref:o,width:(g=u.value)==null?void 0:g.width,height:(m=u.value)==null?void 0:m.height,class:"dark:bg-666"},null,8,ns)):F("",!0)],512)}}}),ls={key:0,class:"transition-all duration-300 absolute inset-0 top-auto opacity-0 bg-000/40 flex items-center justify-center group-hover:opacity-100"},rs={class:"text-fff text-2l font-bold p-12"},In=V({props:{src:null,hasUrlWrap:{type:Boolean},onSelect:null},setup(e){const t=e,n=p(),{t:o}=H(),l=K(()=>t.hasUrlWrap?t.src:`url("${t.src}")`);return(s,a)=>{const u=os;return _(),S("div",{ref_key:"container",ref:n,class:"h-full w-full overflow-hidden relative bg-fff group cursor-pointer",onClick:a[0]||(a[0]=(...i)=>e.onSelect&&e.onSelect(...i))},[c(u),x("div",{class:"absolute inset-0 bg-no-repeat bg-center bg-contain",style:ce({backgroundImage:r(l)})},null,4),e.onSelect?(_(),S("div",ls,[x("span",rs,A(r(o)("common.clickReplace")),1)])):F("",!0)],512)}}}),cn=V({props:{options:null},setup(e){const t=e,n=K(()=>[{key:"",value:""},...t.options]);return(o,l)=>{const s=Tn,a=Vn;return _(),S("div",null,[c(a,ho(o.$attrs,{filterable:"","allow-create":"","default-first-option":"",class:"w-full"}),{default:f(()=>[(_(!0),S(Z,null,se(r(n),u=>(_(),C(s,{key:u.key,label:u.value,value:u.key},null,8,["label","value"]))),128))]),_:1},16)])}}}),Ye=p(!1);let Et;const Wo=p(!1),rn=(e=!1)=>$(void 0,null,function*(){return Et=new q,Ye.value=!0,Wo.value=e,yield Et.promise}),ss=e=>{e?Et.resolve(e):Et.reject("close image dialog")};const as={class:"h-180px flex w-full space-x-12"},is={class:"flex-1 w-full relative group"},cs={class:"flex-1 space-y-4"},us=V({setup(e){const{t}=H(),n=le(J.value,"background-image"),o=le(J.value,"background-size"),l=le(J.value,"background-repeat"),s=le(J.value,"background-position"),a=le(J.value,"background-color"),u=getComputedStyle(J.value),i=()=>$(this,null,function*(){const m=(yield rn(!1))[0];n.value=`url(${m.url})`}),d=xn("values");return d==null||d.push(n,o,l,s,a),(g,m)=>{const h=In,y=Ln,w=Ro;return _(),S("div",as,[x("div",is,[c(h,{src:r(n)||r(u).backgroundImage,class:"rounded-normal","has-url-wrap":!0,"on-select":i},null,8,["src"]),r(u).backgroundImage!="none"?(_(),C(y,{key:0,class:"opacity-0 group-hover:opacity-100 absolute top-12 right-12 transform scale-75 origin-top-right",circle:"",icon:"icon-delete",tip:r(t)("common.remove"),onClick:m[0]||(m[0]=v=>n.value="none")},null,8,["tip"])):F("",!0)]),x("div",cs,[c(cn,{modelValue:r(o),"onUpdate:modelValue":m[1]||(m[1]=v=>U(o)?o.value=v:null),placeholder:r(u).backgroundSize,options:r(Hl),title:"background-size"},null,8,["modelValue","placeholder","options"]),c(cn,{modelValue:r(l),"onUpdate:modelValue":m[2]||(m[2]=v=>U(l)?l.value=v:null),placeholder:r(u).backgroundRepeat,options:r(Ul),title:"background-repeat"},null,8,["modelValue","placeholder","options"]),c(cn,{modelValue:r(s),"onUpdate:modelValue":m[3]||(m[3]=v=>U(s)?s.value=v:null),placeholder:r(u).backgroundPosition,options:r(Rl),title:"background-position"},null,8,["modelValue","placeholder","options"]),c(w,{modelValue:r(a),"onUpdate:modelValue":m[4]||(m[4]=v=>U(a)?a.value=v:null),"display-color":r(u).backgroundColor},null,8,["modelValue","display-color"])])])}}});var ds=Lo(us,[["__scopeId","data-v-1ce6ad30"]]);const ms={class:"flex w-full space-x-12"},fs={class:"flex-1"},ps={class:"px-12"},vs={class:"flex-1"},gs={class:"px-12"},_s=V({setup(e){const{t}=H(),n=le(J.value,"width"),o=le(J.value,"height"),l=getComputedStyle(J.value),s=xn("values");return s==null||s.push(n,o),(a,u)=>{const i=ct;return _(),S("div",ms,[x("div",fs,[c(i,{modelValue:r(n),"onUpdate:modelValue":u[0]||(u[0]=d=>U(n)?n.value=d:null),placeholder:r(l).width},{append:f(()=>[x("span",ps,A(r(t)("common.width")),1)]),_:1},8,["modelValue","placeholder"])]),x("div",vs,[c(i,{modelValue:r(o),"onUpdate:modelValue":u[1]||(u[1]=d=>U(o)?o.value=d:null),placeholder:r(l).height},{append:f(()=>[x("span",gs,A(r(t)("common.height")),1)]),_:1},8,["modelValue","placeholder"])])])}}}),hs={class:"space-y-12 w-full"},ys={class:"flex w-full space-x-12"},bs={class:"flex-1"},xs={class:"flex-1"},ks={class:"px-12"},ws={class:"flex w-full space-x-12"},$s={class:"flex-1"},Cs={class:"px-12"},Es={class:"flex-1"},Ss={class:"px-12"},Fs=V({setup(e){const{t}=H(),n=le(J.value,"color"),o=le(J.value,"line-height"),l=le(J.value,"font-size"),s=le(J.value,"font-weight"),a=le(J.value,"font-family"),u=getComputedStyle(J.value),i=K({get(){var g,m;return(m=(g=a.value)==null?void 0:g.split(","))==null?void 0:m.map(h=>h==null?void 0:h.trim()).filter(h=>!!h)},set(g){a.value=g.join(",")}}),d=xn("values");return d==null||d.push(l,s,a,o,n),(g,m)=>{const h=Ro,y=ct,w=Tn,v=Vn;return _(),S("div",hs,[x("div",ys,[x("div",bs,[c(h,{modelValue:r(n),"onUpdate:modelValue":m[0]||(m[0]=b=>U(n)?n.value=b:null),"show-alpha":!0,"display-color":r(u).color},null,8,["modelValue","display-color"])]),x("div",xs,[c(y,{modelValue:r(s),"onUpdate:modelValue":m[1]||(m[1]=b=>U(s)?s.value=b:null),placeholder:r(u).fontWeight},{append:f(()=>[x("span",ks,A(r(t)("common.fontWeight")),1)]),_:1},8,["modelValue","placeholder"])])]),x("div",ws,[x("div",$s,[c(y,{modelValue:r(l),"onUpdate:modelValue":m[2]||(m[2]=b=>U(l)?l.value=b:null),placeholder:r(u).fontSize},{append:f(()=>[x("span",Cs,A(r(t)("common.size")),1)]),_:1},8,["modelValue","placeholder"])]),x("div",Es,[c(y,{modelValue:r(o),"onUpdate:modelValue":m[3]||(m[3]=b=>U(o)?o.value=b:null),placeholder:r(u).lineHeight},{append:f(()=>[x("span",Ss,A(r(t)("common.lineHeight")),1)]),_:1},8,["modelValue","placeholder"])])]),x("div",null,[c(v,{modelValue:r(i),"onUpdate:modelValue":m[4]||(m[4]=b=>U(i)?i.value=b:null),multiple:"",filterable:"","allow-create":"","default-first-option":"",class:"w-full",placeholder:r(u).fontFamily,title:"font-family"},{default:f(()=>[(_(!0),S(Z,null,se(r(Wl),b=>(_(),C(w,{key:b,label:b,value:b},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])])}}}),As={class:"px-32 py-24"},Ts=V({setup(e){const{t}=H(),n=p(!0),o=p([]);let l=p(!1);const s=()=>{l.value=!0,a()},a=()=>{const u=o.value.filter(i=>i.origin!=i.value);Ls(l.value,u)};return kn("values",o.value),(u,i)=>{const d=An,g=Xt,m=ue,h=G;return _(),C(h,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=y=>n.value=y),width:"600px","close-on-click-modal":!1,title:r(t)("common.inlineStyle"),"custom-class":"el-dialog--zero-padding",draggable:"",onClosed:a},{footer:f(()=>[c(m,{round:"",onClick:i[0]||(i[0]=y=>n.value=!1)},{default:f(()=>[R(A(r(t)("common.cancel")),1)]),_:1}),c(m,{type:"primary",round:"",onClick:s},{default:f(()=>[R(A(r(t)("common.save")),1)]),_:1})]),default:f(()=>[x("div",As,[c(g,{ref:"form","label-position":"top"},{default:f(()=>[c(d,{label:r(t)("common.background")},{default:f(()=>[c(ds)]),_:1},8,["label"]),c(d,{label:r(t)("common.size")},{default:f(()=>[c(_s)]),_:1},8,["label"]),c(d,{label:r(t)("common.font")},{default:f(()=>[c(Fs)]),_:1},8,["label"])]),_:1},512)])]),_:1},8,["modelValue","title"])}}}),Bn=p(!1);let St;const J=p(),Vs=e=>$(void 0,null,function*(){return St=new q,J.value=e,Bn.value=!0,yield St.promise}),Ls=(e,t)=>{e?St.resolve(t):St.reject(),Bn.value=!1};function Ds(e,t){const n=z(e,on);if(!(!n||W(e))&&!(t&&n.reference==t))return{source:n.source,id:n.id,value:ne(n.reference.innerHTML)}}function Ms(e,t){const n=z(e,ft,void 0,"content");if(!(!n||W(e))&&!(t&&n.reference==t))return{source:n.source,id:n.key,value:ne(n.reference.innerHTML)}}function Is(e,t,n){const o=z(e,ft,n);if(!(!o||o.reference!==t||W(e,"attribute")))return{source:o.source,id:o.key,value:t.getAttribute(n)}}function Bs(e,t){const n=z(e,mt,"innerHtml");if(!(!n||W(e))&&!(t&&n.reference==t))return{source:n.source,id:n.key,value:ne(n.reference.innerHTML),attribute:"innerHtml"}}function Ps(e,t,n){const o=z(e,mt,n);if(!(!o||o.reference!=t||W(e,n)))return{source:o.source,id:o.key,value:t.getAttribute(n),attribute:n}}function js(e,t){const n=z(e,dt,void 0,"content");if(!(!n||W(e))&&!(t&&n.reference==t))return{source:n.source,id:n.id,path:n.fieldName,action:"update",value:ne(n.reference.innerHTML)}}function zs(e,t,n){const o=z(e,dt,n);if(!(!o||o.reference!=t||W(e,n)))return{source:o.source,id:o.id,path:o.fieldName,action:"update",value:t.getAttribute(n)}}function Os(e,t){const n=z(e,pt,void 0,"content");if(!(!n||W(e))&&!(t&&n.reference==t))return{source:n.source,id:n.id,path:n.fieldName,table:n.table,action:"update",value:ne(n.reference.innerHTML)}}function Ns(e,t,n){const o=z(e,pt,n);if(!(!o||o.reference!=t||W(e,n)))return{source:o.source,id:o.id,path:o.fieldName,table:o.table,action:"update",value:t.getAttribute(n)}}function Te(e,t){const n=Ds(e,t);if(n)return n;const o=Ms(e,t);if(o)return o;const l=Bs(e,t);if(l)return l;const s=js(e,t);if(s)return s;const a=Os(e,t);if(a)return a}function qo(e,t,n){const o=Is(e,t,n);if(o)return o;const l=Ps(e,t,n);if(l)return l;const s=zs(e,t,n);if(s)return s;const a=Ns(e,t,n);if(a)return a}function ve(e,t){let n;return{changes:[],undo:()=>{const s=uo(e);s&&(n=s.innerHTML,s.innerHTML=t)},redo:()=>{const s=uo(e);s&&(s.innerHTML=n)}}}function uo(e){if(!T.value)return;const t=ee(T.value);for(const n of t){const o=n.getAttribute(kt);if(!!o&&o.includes(e))return n}}const{t:Hs}=j.global,Us="editStyle",Rs=Hs("common.inlineStyle"),Ws="icon-style",qs=0;function Pn(e){const t=N(e);if(!t)return!1;const n=D(t.element);return Ae(n)?!1:Fe(n,t.element)?!W(n,"style"):vt(n,e)}function Ks(e){return $(this,null,function*(){const t=yield jn(e);t&&ae([t])})}function jn(e){return $(this,null,function*(){const{element:t,isSelf:n}=N(e),o=n?e.parentElement:t,l=o.innerHTML,s=e.parentElement.innerHTML;try{const a=yield Vs(e);if(l==o.innerHTML)return;if(!a.length)throw new Error("not change style");const u=fe(e.parentElement),i=ve(u,l),d=zn(e);if(!d)throw new Error("can not get changes");return i.changes.push(d),i}catch(a){throw e.parentElement.innerHTML=s,new Error("change style error")}})}function zn(e){var l;const t=D(e),n=Te(t,e);if(n)return n;const o=z(t,ie);if(o){const{element:s,isSelf:a}=N(e,o),u=te(s);return a?{source:o.source,id:o.id,action:"update",koobooId:u,attribute:"style",value:(l=s.getAttribute("style"))==null?void 0:l.replaceAll('"',"'")}:{source:o.source,id:o.id,action:"update",koobooId:u,value:ne(s.innerHTML)}}}var Gs=Object.freeze(Object.defineProperty({__proto__:null,name:Us,display:Rs,icon:Ws,order:qs,active:Pn,invoke:Ks,editStyle:jn,getChange:zn},Symbol.toStringTag,{value:"Module"}));const{t:Js}=j.global;function mo(e,t){const n=[];for(const o of No){const l=e.style.getPropertyValue(o.name),s=o.extract(l);for(const a of s){if(Ct.includes(a.value))continue;const u=e.selectorText,i=Uo(a.value),d=a.key;n.find(g=>g.selectorText==u&&g.value==i&&g.property==d)||n.push({value:i,property:d,selectorText:u,rule:e,type:t,owner:e.parentStyleSheet.ownerNode})}}return n}function Zs(e,t){var o,l;const n=[];for(const s of Array.from((o=e.rules)!=null?o:[]))if($t(s)){const a=mo(s,e.type);for(const u of a)u.file=e.url,n.push(u)}else if(Co(s)){const a=s;for(const u of Array.from((l=a.cssRules)!=null?l:[])){if(!$t(u)||t&&!t.matchMedia(a.media.mediaText).matches)continue;const i=mo(u,e.type);for(const d of i)d.file=e.url,d.media=a.media.mediaText,n.push(d)}}return n}function Qs(e){const t=[],n=e.getAttribute("style");for(const o of No){if(!(n!=null&&n.includes(o.name)))continue;const l=e.style.getPropertyValue(o.name);if(!l)continue;const s=o.extract(l);for(const a of s){if(Ct.includes(a.value))continue;const u=a.key,i=Uo(a.value);t.find(d=>d.property==u&&d.value==i)||t.push({value:i,property:u,selectorText:`${e.tagName} > ${Js("common.inlineStyle")}`,type:"inline",references:[e],owner:e})}}return t}function Ko(e,t,n){n=n.filter(a=>Pn(a));const o=$o(e),l=ee(e),s=[];for(const a of o)for(const u of Zs(a,t))try{const i=l.filter(d=>{try{return d.matches(u.selectorText)}catch(g){const m=ea(u.selectorText);return d.matches(m)}});i.length&&i.some(d=>n.includes(d))&&(u.references=i,s.push(u))}catch(i){console.log(`matches selectorText error ${u.selectorText}`)}for(const a of n)s.push(...Qs(a));return s}const Xs=["transparent","rgba(0, 0, 0, 0)","rgb(0, 0, 0)","rgb(255, 255, 255)","rgba(255, 255, 255, 1)","initial","inherit","none"];function Go(e,t){const n=ee(e),o=Ko(e,t,n),l=new Set,s=o.map(a=>a.value).filter(a=>!Xs.includes(a));for(const a of s)l.add(a);return Array.from(l)}const Ys=[":fullscreen",":modal",":picture-in-picture",":autofill",":read-only",":read-write",":placeholder-shown",":indeterminate",":blank",":invalid",":in-range",":out-of-range",":required",":optional",":user-invalid",/:dir\(?.*?\)?/g,":link",":any-link",":target",":scope",":playing",":paused",":current",":past",":future",":root",/:has\(?.*?\)?/g,/:nth-child\(?.*?\)?/g,/:nth-last-child\(?.*?\)?/g,":first-child",":last-child",":only-child",/:nth-of-type\(?.*?\)?/g,/:nth-last-of-type\(?.*?\)?/g,":first-of-type",":last-of-type",":only-of-type",":focus-visible",":focus-within",":target-within",/:lang\(?.*?\)?/g,":active",/:host-context\(?.*?\)?/g,/:is\(?.*?\)?/g,/:where\(?.*?\)?/g,":left",":local-link",":autofill",":checked",":default",":defined",":disabled",":empty",":enabled",":focus",":hover",":visited",":valid",/:not\(?.*?\)?/g];function ea(e){for(const t of Ys)e=e.replaceAll(t,"");return e}const ta={class:"text-black rounded-normal p-4 hover:bg-blue/10 flex items-center cursor-pointer relative"},na={class:"flex items-center space-x-4 h-24 px-4"},Jo=V({props:{action:null},setup(e){const t=e,n=p(),o=p(),l=Go(T.value,Ze.value);return he(()=>be.value,()=>{var s;!t.action.active||(n.value=(s=t.action.active())!=null?s:"#000")},{immediate:!0,deep:!0}),(s,a)=>{const u=Ne;return _(),S("div",ta,[c(En,{ref_key:"picker",ref:o,modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=i=>n.value=i),"show-alpha":"",predefine:r(l),onChange:a[1]||(a[1]=i=>e.action.invoke(i))},{default:f(()=>[x("div",na,[e.action.params?(_(),C(xt(e.action.params.icon),{key:0,class:"w-16 h-16",color:n.value},null,8,["color"])):F("",!0),c(u,{class:"iconfont icon-pull-down text-s leading-none pointer-events-none"})])]),_:1},8,["modelValue","predefine"])])}}}),oa={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},la=x("title",null,"background-color",-1),ra={id:"\u5F39\u7A97",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},sa={id:"background-color"},aa=x("rect",{id:"\u77E9\u5F62\u5907\u4EFD-22",opacity:"0.43859282",x:"0",y:"0",width:"14",height:"14"},null,-1),ia=["fill"],ca=x("path",{id:"\u5F62\u72B6",d:"M5.33164931,0.259428793 L5.41390635,0.329520326 L6.32615229,1.25965344 L10.5629218,5.52973092 C10.6495848,5.61489811 10.6983993,5.73131101 10.6983993,5.85281791 C10.6983993,5.94394808 10.6709412,6.03221288 10.6206512,6.10657956 L10.5629218,6.1759049 L6.48269959,10.3027582 C6.39530407,10.3923349 6.27474412,10.4417645 6.14962023,10.4395632 C6.05588849,10.4405855 5.9648083,10.4131446 5.88806813,10.3618406 L5.81654086,10.3027582 L1.71633386,6.1759049 C1.56116658,6.01823995 1.54177067,5.7771684 1.65814613,5.5986518 L1.71633386,5.52640013 L5.2,1.92171506 L4.56301118,1.2771108 C4.31114711,1.0222356 4.30144815,0.615265312 4.54088474,0.348681376 L4.56709113,0.321298819 C4.77696835,0.115457699 5.09984919,0.0954948238 5.33164931,0.259428793 Z M11.3635431,7.11135538 L11.5458592,6.84206363 L11.5858287,6.90201791 C12.2786338,7.9079176 12.6117286,8.58739951 12.6117286,8.98043316 C12.6125979,9.26399901 12.5007996,9.53630206 12.3009129,9.73743804 C12.1010263,9.93857403 11.829425,10.0520667 11.5458592,10.0529487 C11.2622933,10.0520667 10.9906921,9.93857403 10.7908054,9.73743804 C10.5909187,9.53630206 10.4791205,9.26399901 10.4799898,8.98043316 C10.4799898,8.61547334 10.7700724,7.99778106 11.3635431,7.11135538 Z M6.05549178,2.83601696 L5.99849921,2.87128414 L5.97995453,2.87128414 L3.17599905,5.6937843 C3.15357316,5.71575203 3.13627023,5.74215179 3.12506348,5.77109436 L3.11294715,5.81617918 L9.16963934,5.81617918 L9.15832649,5.77850587 L9.14367679,5.74200046 L9.09916956,5.68636643 L6.30263195,2.87128414 C6.23217982,2.81250552 6.13616785,2.80074979 6.05549178,2.83601696 Z",fill:"#2D3645","fill-rule":"nonzero"},null,-1),ua=V({props:{color:{default:"#000"}},setup(e){return(t,n)=>(_(),S("svg",oa,[la,x("g",ra,[x("g",sa,[aa,x("polygon",{id:"\u8DEF\u5F84",fill:e.color,"fill-rule":"nonzero",points:"12.8333333 11.4683817 12.8333333 13.9683817 1.16666667 13.9683817 1.16666667 11.4683817"},null,8,ia),ca])])]))}}),da=j.global.t;var ma={name:"backColor",invoke:e=>{var t,n;(t=T.value)==null||t.execCommand("styleWithCSS",!1,"true"),(n=T.value)==null||n.execCommand("backColor",!1,e)},component:Jo,order:21,display:da("common.backColor"),active:()=>T.value?T.value.queryCommandValue("backColor"):!1,params:{icon:ua}},fa=Object.freeze(Object.defineProperty({__proto__:null,default:ma},Symbol.toStringTag,{value:"Module"}));const He=V({props:{action:null},setup(e){const t=e,n=p(!1);return he(()=>be.value,()=>{!t.action.active||(n.value=t.action.active())},{immediate:!0,deep:!0}),(o,l)=>{const s=Ne;return _(),S("div",{class:Ge(["rounded-normal p-4 hover:bg-blue/10 flex items-center cursor-pointer",n.value?"bg-blue/10":""]),onClick:l[0]||(l[0]=a=>e.action.invoke())},[c(s,{class:Ge(["iconfont w-24 h-24",e.action.icon])},null,8,["class"])],2)}}}),pa=j.global.t,va={name:"bold",invoke:()=>$(void 0,null,function*(){T.value.execCommand("styleWithCSS",!1,"true"),T.value.execCommand("bold"),Ce(be)}),component:He,order:10,icon:"icon-bold",display:pa("common.bold"),divider:!0,active:()=>T.value.queryCommandValue("bold")=="true"};var ga=Object.freeze(Object.defineProperty({__proto__:null,default:va},Symbol.toStringTag,{value:"Module"})),_a={name:"cancel",invoke:()=>{Nn(!0)},component:He,order:2,icon:"icon-close"},ha=Object.freeze(Object.defineProperty({__proto__:null,default:_a},Symbol.toStringTag,{value:"Module"}));const ya={class:"text-black rounded-normal p-4 hover:bg-blue/10 flex items-center cursor-pointer"},ba={class:"h-24 flex items-center space-x-4 px-4"},xa=V({props:{action:null},setup(e){const t=e,n=[{key:1,value:"10px"},{key:2,value:"13px"},{key:3,value:"16px"},{key:4,value:"18px"},{key:5,value:"24px"},{key:6,value:"32px"},{key:7,value:"48px"}],o=p(3),l=K(()=>{const s=n.find(a=>a.key==o.value);return s?s.value:"16px"});return he(()=>be.value,()=>{!t.action.active||(o.value=parseInt(t.action.active()))},{immediate:!0,deep:!0}),(s,a)=>{const u=Ne,i=Xl,d=Yl,g=er;return _(),C(g,{trigger:"click",onCommand:a[0]||(a[0]=m=>e.action.invoke(m))},{dropdown:f(()=>[c(d,null,{default:f(()=>[(_(),S(Z,null,se(n,m=>c(i,{key:m.key,command:m.key},{default:f(()=>[x("div",null,A(m.value),1)]),_:2},1032,["command"])),64))]),_:1})]),default:f(()=>[x("div",ya,[x("div",ba,[x("span",null,A(r(l)),1),c(u,{class:"iconfont icon-pull-down text-s leading-none"})])])]),_:1})}}}),ka=j.global.t;var wa={name:"fontSize",invoke:e=>{var t,n;(t=T.value)==null||t.execCommand("styleWithCSS",!1,"true"),(n=T.value)==null||n.execCommand("fontSize",!1,e),Ce(be)},component:xa,order:13,icon:"icon-underline",display:ka("common.fontSize"),active:()=>T.value.queryCommandValue("fontSize")},$a=Object.freeze(Object.defineProperty({__proto__:null,default:wa},Symbol.toStringTag,{value:"Module"}));const Ca={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ea=x("title",null,"text-color",-1),Sa={id:"\u5F39\u7A97",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},Fa={id:"text-color"},Aa=x("rect",{id:"\u77E9\u5F62\u5907\u4EFD-22",opacity:"0.43859282",x:"0",y:"0",width:"14",height:"14"},null,-1),Ta=["fill"],Va=x("path",{id:"\u5F62\u72B6",d:"M7.01302083,0.31 C7.33130787,0.31 7.55185828,0.448888889 7.69753444,0.749529035 L7.74869792,0.869895833 L10.7760417,9.04697917 C10.828125,9.19020833 10.8476562,9.28786458 10.8476562,9.3725 C10.8476562,9.67197917 10.6002604,9.88682292 10.2617188,9.88682292 C10.0053711,9.88682292 9.84372965,9.78214762 9.73317973,9.54662821 L9.68880208,9.43760417 L8.85546875,7.106875 L5.13802083,7.106875 L4.31119792,9.43760417 C4.20052083,9.75010417 4.03125,9.88682292 3.73828125,9.88682292 C3.39973958,9.88682292 3.15234375,9.67197917 3.15234375,9.3725 C3.15234375,9.30902344 3.16333008,9.23822266 3.1907959,9.14636475 L3.22395833,9.04697917 L6.24479167,0.87640625 C6.38802083,0.492291667 6.62890625,0.31 7.01302083,0.31 Z M7.01953125,1.82692708 L6.98046875,1.82692708 L5.4765625,6.11078125 L8.5234375,6.11078125 L7.01953125,1.82692708 Z",fill:"#2D3645","fill-rule":"nonzero"},null,-1),La=V({props:{color:{default:"#000"}},setup(e){return(t,n)=>(_(),S("svg",Ca,[Ea,x("g",Sa,[x("g",Fa,[Aa,x("polygon",{id:"\u8DEF\u5F84",fill:e.color,"fill-rule":"nonzero",points:"12.8333333 11.4623437 12.8333333 13.9623437 1.16666667 13.9623437 1.16666667 11.4623437"},null,8,Ta),Va])])]))}}),Da=j.global.t;var Ma={name:"foreColor",invoke:e=>{var t,n;(t=T.value)==null||t.execCommand("styleWithCSS",!1,"true"),(n=T.value)==null||n.execCommand("foreColor",!1,e),Ce(be)},component:Jo,order:20,icon:"icon-a-writein3",display:Da("common.textColor"),active:()=>T.value?T.value.queryCommandValue("foreColor"):!1,params:{icon:La}},Ia=Object.freeze(Object.defineProperty({__proto__:null,default:Ma},Symbol.toStringTag,{value:"Module"}));const Ba=j.global.t;var Pa={name:"image",invoke:()=>$(void 0,null,function*(){const e=yield rn();T.value.execCommand("insertImage",!1,e[0].url),setTimeout(()=>{var t;(t=T.value)==null||t.dispatchEvent(new Event("scroll"))},100)}),component:He,order:30,icon:"icon-photo",display:Ba("common.insertImage"),divider:!0,active:()=>T.value.queryCommandValue("insertImage")},ja=Object.freeze(Object.defineProperty({__proto__:null,default:Pa},Symbol.toStringTag,{value:"Module"}));const za=j.global.t;var Oa={name:"italic",invoke:()=>$(void 0,null,function*(){var e;(e=T.value)==null||e.execCommand("italic"),Ce(be)}),component:He,order:11,icon:"icon-italic",display:za("common.italic"),active:()=>T.value.queryCommandValue("italic")==="true"},Na=Object.freeze(Object.defineProperty({__proto__:null,default:Oa},Symbol.toStringTag,{value:"Module"}));const Ha={class:"px-32 py-24"},Ua=V({setup(e){const{t}=H(),n=p(!0),o=Zo.value,l=De(o,"href"),s=p(!1),a=()=>{s.value=!0,n.value=!1},u=()=>Ra(s.value,[l]);return(i,d)=>{const g=Ee,m=Tn,h=Vn,y=An,w=Xt,v=G;return _(),C(v,{modelValue:n.value,"onUpdate:modelValue":d[2]||(d[2]=b=>n.value=b),width:"600px","close-on-click-modal":!1,title:r(t)("common.link"),"custom-class":"el-dialog--zero-padding",draggable:"",onClosed:u},{footer:f(()=>[c(Se,{onConfirm:a,onCancel:d[1]||(d[1]=b=>n.value=!1)})]),default:f(()=>[c(g,{content:r(t)("common.linkDialogTip")},null,8,["content"]),x("div",Ha,[c(w,{ref:"form","label-position":"top"},{default:f(()=>[c(y,{label:r(t)("common.url")},{default:f(()=>[c(h,{modelValue:r(l),"onUpdate:modelValue":d[0]||(d[0]=b=>U(l)?l.value=b:null),filterable:"","allow-create":"","default-first-option":"",class:"w-full"},{default:f(()=>[(_(!0),S(Z,null,se(r(el),b=>(_(),C(m,{key:b,label:b,value:b},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},512)])]),_:1},8,["modelValue","title"])}}}),On=p(!1);let Ft;const Zo=p(),Qo=e=>$(void 0,null,function*(){return Ft=new q,Zo.value=e,On.value=!0,yield Ft.promise}),Ra=(e,t)=>{e?Ft.resolve(t):Ft.reject(),On.value=!1},Wa=j.global.t;var qa={name:"link",invoke:()=>$(void 0,null,function*(){const e=yield Qo(document.createElement("a"));T.value.execCommand("createLink",!1,e[0].value)}),component:He,order:31,display:Wa("common.insertLink"),icon:"icon-link1",active:()=>T.value.queryCommandValue("createLink")},Ka=Object.freeze(Object.defineProperty({__proto__:null,default:qa},Symbol.toStringTag,{value:"Module"})),Ga={name:"save",invoke:()=>{Nn(!1)},component:He,order:1,icon:"icon-yes3",divider:!0},Ja=Object.freeze(Object.defineProperty({__proto__:null,default:Ga},Symbol.toStringTag,{value:"Module"}));const Za=j.global.t;var Qa={name:"underline",invoke:()=>$(void 0,null,function*(){var e;(e=T.value)==null||e.execCommand("underline"),Ce(be)}),component:He,order:12,icon:"icon-underline",display:Za("common.underline"),active:()=>T.value.queryCommandValue("underline")==="true"},Xa=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"}));const fo={"./back-color.ts":fa,"./bold.ts":ga,"./cancel.ts":ha,"./font-size.ts":$a,"./fore-color.ts":Ia,"./image.ts":ja,"./italic.ts":Na,"./link.ts":Ka,"./save.ts":Ja,"./underline.ts":Xa};function Ya(){const e=[];for(const t in fo){const n=fo[t].default;e.push(n)}return e.sort((t,n)=>t.order-n.order)}const Xo=V({props:{handler:null,init:null},setup(e){const t=e,n=p("end"),o=p(),l=p({x:0,y:0}),s=p(t.init);var a=new Image;a.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";const u=d=>{n.value="start";const g=d.dataTransfer;g.setDragImage(a,0,0),g.effectAllowed="none";const m=o.value.getBoundingClientRect();l.value={x:d.x-m.x,y:d.y-m.y}},i=d=>{d.preventDefault(),s.value.x=d.x-l.value.x,s.value.y=d.y-l.value.y};return he(()=>t.handler,()=>{!t.handler||(t.handler.draggable=!0,t.handler.ondragstart=u,t.handler.ondragover=i,t.handler.ondragend=()=>n.value="end")},{immediate:!0}),he(()=>t.init,()=>s.value=t.init),(d,g)=>(_(),S(Z,null,[x("div",{class:Ge(["fixed",n.value!=="end"?"inset-0":""]),onDragover:i},null,34),x("div",{ref_key:"container",ref:o,class:"fixed",style:ce({top:s.value.y+"px",left:s.value.x+"px"})},[Vl(d.$slots,"default")],4)],64))}}),ei=V({setup(e){const t=st(Q.value),n=p(),o=p(),l=Ya(),s=it(()=>{let a=40;n.value&&(a=st(n.value).height);let u=t.y+X.value.y-a,i=t.x+X.value.x;return u=u<0?0:u,i=i<0?0:i,{x:i,y:u}});return(a,u)=>{const i=Ne,d=Vr;return _(),C(Xo,{handler:o.value,init:r(s)},{default:f(()=>[x("div",{ref_key:"barElement",ref:n,class:"shadow-s-10 bg-fff py-4 p-x-8 rounded-normal flex items-center fixed text-m"},[x("div",{ref_key:"handleElement",ref:o,class:"rounded-normal py-4 px-8 cursor-move"},[c(i,{class:"iconfont icon-move"})],512),(_(!0),S(Z,null,se(r(l),g=>(_(),S(Z,{key:g.name},[g.divider?(_(),C(d,{key:0,direction:"vertical"})):F("",!0),(_(),C(xt(g.component),{action:g,title:g.display},null,8,["action","title"]))],64))),128))],512)]),_:1},8,["handler","init"])}}}),ti={key:0},ni=V({props:{color:null},setup(e){const t=it(()=>st(Q.value)),n=o=>{const l=T.value.documentElement;!l||(l.scrollTop+=o.deltaY,l.scrollLeft+=o.deltaX)};return(o,l)=>{const s=Ne,a=ue;return r(t)&&r(re)?(_(),S("div",ti,[x("div",{class:"absolute top-0 left-0 right-0",style:ce({height:r(t).y+r(X).y+"px",left:r(t).x+r(X).x+"px",opacity:.5,backgroundColor:e.color||"black"}),onWheel:n},null,36),x("div",{class:"absolute bottom-0 right-0",style:ce({left:r(t).x+r(X).x+r(t).width+"px",top:r(t).y+r(X).y+"px",opacity:.5,backgroundColor:e.color||"black"}),onWheel:n},null,36),x("div",{class:"absolute bottom-0 left-0",style:ce({width:r(t).x+r(X).x+r(t).width+"px",top:r(t).y+r(X).y+r(t).height+"px",opacity:.5,backgroundColor:e.color||"black"}),onWheel:n},null,36),x("div",{class:"absolute top-0 left-0",style:ce({width:r(t).x+r(X).x+"px",height:r(t).y+r(X).y+r(t).height+"px",opacity:.5,backgroundColor:e.color||"black"}),onWheel:n},null,36),c(a,{circle:"",bg:"",type:"info",class:"absolute top-24 right-24",onClick:l[0]||(l[0]=u=>r(Nn)(!0))},{default:f(()=>[c(s,{color:"white"},{default:f(()=>[c(r(Hr))]),_:1})]),_:1})])):F("",!0)}}}),oi={key:0},li=V({setup(e){return(t,n)=>r(re)?(_(),S("div",oi,[c(ni),c(ei)])):F("",!0)}}),re=p(!1);let We;function ri(e){return $(this,null,function*(){if(re.value)return;e.setAttribute(so,"true"),e.onclick_bak=e.onclick,e.onclick=n=>{n.stopPropagation(),n.preventDefault()};const t=new MutationObserver(()=>{Ce(Q)});t.observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),re.value=!0,We=new q;try{yield We.promise}finally{e.removeAttribute(so),e.onclick=e.onclick_bak,t.disconnect(),re.value=!1}})}function Nn(e){e?We.reject():We==null||We.resolve();const t=Ze.value.getSelection();!t||("empty"in t&&t.empty(),"removeAllRanges"in t&&t.removeAllRanges())}const si={key:1,class:"fixed inset-0 bg-gray z-100"},ai=V({props:{content:null},setup(e){const{t}=H(),n=Il(),o=location.href,l=v=>{if(re.value)return;const b=g(v);!b||(Q.value=b,Ue.value={x:v.x,y:v.y})},s=p(!1),a=p(!1);let u;function i(){clearTimeout(u),s.value=!0,u=setTimeout(()=>{s.value=!1},20)}function d(v){const b=g(v);b&&($e.value=b)}function g(v){var k;const b=T.value.elementFromPoint(v.x-X.value.x,v.y-X.value.y);if(!ln.includes((k=b==null?void 0:b.tagName)==null?void 0:k.toLowerCase()))return b}function m(){a.value=!0}function h(){return $(this,null,function*(){if(Be.value)try{yield Qe(t("common.reloadTip"));const v=Re("path");yield Do(v)}catch(v){}location.href=o})}const y=v=>{const b=v.addEventListener;b("scroll",function(){Ce(Q),Ce($e)}),b("selectionchange",function(k){!re.value||(be.value=k)}),Ze.value.onbeforeunload=()=>{if(Tt.value)return Tt.value},Ze.value.onunload=m},w=K(()=>{const v=Je.value.size;return v&&`${Je.value.size}px !important`});return(v,b)=>{var P,I,B;const k=ue,E=Tr,M=Ql;return Ll((_(),S("div",{style:ce({width:r(w)}),class:"h-full my-0 mx-auto"},[e.content&&((I=(P=r(n))==null?void 0:P.site)==null?void 0:I.baseUrl)?(_(),C(Ar,{key:0,ref:L=>at.value=L,content:e.content,"agent-events":y},null,8,["content"])):F("",!0),x("div",{class:"fixed inset-0",style:ce({pointerEvents:s.value||r(re)?"none":"auto",cursor:(B=r($e))==null?void 0:B.style.cursor}),onPointermove:d,onWheel:i,onClick:l},null,36),a.value?(_(),S("div",si,[c(E,{icon:"warning",title:r(t)("common.notEditableTitle"),"sub-title":r(t)("common.notEditableTip")},{extra:f(()=>[c(k,{type:"primary",onClick:h},{default:f(()=>[R(A(r(t)("common.refresh")),1)]),_:1})]),_:1},8,["title","sub-title"])])):F("",!0)],4)),[[M,!e.content]])}}}),po=V({props:{position:null,color:null,width:null},setup(e){return(t,n)=>(_(),S("div",{class:"absolute pointer-events-none",style:ce({top:e.position.y+r(X).y+"px",left:e.position.x+r(X).x+"px",width:e.position.width+"px",height:e.position.height+"px",outlineStyle:"solid",outlineColor:e.color||"red",outlineWidth:(e.width||1)+"px"})},null,4))}}),ii={key:0},ci=V({setup(e){const t=K(()=>st(Q.value)),n=K(()=>st($e.value));return(o,l)=>r(re)?F("",!0):(_(),S("div",ii,[r(n)?(_(),C(po,{key:0,position:r(n),color:"rgba(34, 150, 243,.8)",width:2},null,8,["position"])):F("",!0),r(t)?(_(),C(po,{key:1,position:r(t),width:1},null,8,["position"])):F("",!0)]))}}),{t:un}=j.global,Yo=Zl(),el=p([]);tr().then(e=>el.value=e.pages.map(t=>t.url));const At=[{name:"full",size:void 0,display:un("common.fullScreen")},{name:"pad",size:820,display:un("common.pad")},{name:"phone",size:390,display:un("inlineDesign.phone")}],be=p(),Q=p(),$e=p(),Ue=p(),ui=p("en"),at=p(),Tt=p(),tl=e=>{var t;return(t=At.find(n=>n.name==e))!=null?t:At[0]},Je=p(tl(Yo.inlineDesignWidth.value)),di=e=>{Je.value=tl(e),Yo.inlineDesignWidth.value=Je.value.name},X=it(()=>{if(!at.value||Je.value==At[0])return{x:0,y:0};const e=at.value.element.getBoundingClientRect();return{x:e.x,y:e.y}}),T=it(()=>{var e,t;return(t=(e=at.value)==null?void 0:e.element)==null?void 0:t.contentDocument}),Ze=it(()=>{var e,t;return(t=(e=at.value)==null?void 0:e.element)==null?void 0:t.contentWindow}),{t:nl}=j.global,mi="click",fi=nl("common.trigger"),pi="icon-Select3",vi=50;function gi(e){return!!e}function _i(e){return $(this,null,function*(){Tt.value=nl("common.clickLeaveTip"),setTimeout(()=>{Tt.value=""},500),yield _o(),e.click()})}var hi=Object.freeze(Object.defineProperty({__proto__:null,name:mi,display:fi,icon:pi,order:vi,active:gi,invoke:_i},Symbol.toStringTag,{value:"Module"}));const{t:yi}=j.global,bi="copyDom",xi=yi("common.copy"),ki="icon-copy",wi=9;function $i(e){if(ye(e))return!1;const t=N(e);if(!t)return!1;const n=D(t.element);return Ae(n)?!1:Fe(n,t.element)?!W(n):vt(n,e)}function Ci(e){const{element:t,isSelf:n}=N(e),o=n?e.parentElement:t,l=o.innerHTML,s=Eo(e.outerHTML);e.parentElement.insertBefore(s,e.nextSibling);const a=fe(o),u=ve(a,l),i=Ei(e);if(!i)throw new Error("can not get change");u.changes.push(i),ae([u])}function Ei(e){const t=D(e),n=Te(t,e);if(n)return n;const o=z(t,ie);if(o){const{element:l,isSelf:s}=N(e,o),a=te(l);return ut(l,s?"brothers":"children"),{source:o.source,id:o.id,action:s?"copy":"update",koobooId:a,value:ne(l.innerHTML)}}}var Si=Object.freeze(Object.defineProperty({__proto__:null,name:bi,display:xi,icon:ki,order:wi,active:$i,invoke:Ci},Symbol.toStringTag,{value:"Module"}));function ol(e,t){const n=e.style.getPropertyValue(t),o=e.style.getPropertyPriority(t);let l,s;return{changes:[],undo:()=>{l=e.style.getPropertyValue(t),s=e.style.getPropertyPriority(t),e.style.setProperty(t,n,o)},redo:()=>{e.style.setProperty(t,l,s)}}}const Fi=["title"],Ai={class:"space-x-4 space-y-4"},Ti={class:"flex"},Vi={class:"flex items-center space-x-8 p-4 max-w-230px w-full justify-end"},Li={class:"flex-1 ellipsis"},Di=V({setup(e){const{t}=H(),n=p(!0),o=[],l=p(!1),s=Go(T.value,Ze.value),a=y=>{if(!y)return t("common.page");const w=y.split("/");return w[w.length-1]},u=y=>[a(y.file),y.media,y.selectorText].filter(w=>!!w).join(" > "),i=y=>{if(y.type=="inline"){const{element:w,isSelf:v}=N(y.owner),b=v?y.owner.parentElement:w,k=b.innerHTML,E=y.owner.style.getPropertyPriority(y.property);y.owner.style.setProperty(y.property,y.value,E);const M=fe(b),P=ve(M,k),I=d(y);if(!I)throw new Error("can not get change");P.changes.push(I),o.push(P)}else if(y.rule){const w=ol(y.rule,y.property),v=y.rule.style.getPropertyPriority(y.property);y.rule.style.setProperty(y.property,y.value,v);const b=D(y.owner),k=z(b,ie);w.changes.push({source:k==null?void 0:k.source,id:k==null?void 0:k.id,action:"styleSheet",mediarulelist:y.media,property:y.property,selector:y.selectorText,url:y.file,koobooId:te(y.owner),important:v,value:y.value}),o.push(w)}};function d(y){if(!!Pn(y.owner))return zn(y.owner)}const g=y=>{y.scrollIntoView({behavior:"smooth"}),$e.value=y},m=()=>{l.value=!0,n.value=!1};function h(y){return $(this,null,function*(){!l.value&&o.length&&(yield Qe(t("common.unsavedChangesLeaveTips"))),y()})}return(y,w)=>{const v=Yt,b=Vo,k=tn,E=Fn,M=en,P=nn,I=ue,B=G;return _(),C(B,{"model-value":n.value,width:"800px","close-on-click-modal":!1,title:r(t)("common.colorList"),draggable:"","custom-class":"el-dialog--zero-padding","before-close":h,onClosed:w[1]||(w[1]=L=>r(Mi)(l.value,o))},Jt({default:f(()=>[r(gt).length?(_(),C(k,{key:0},{default:f(()=>[c(M,{data:r(gt),"max-height":"540px"},{default:f(()=>[c(v,{width:"20px"}),c(v,{label:r(t)("common.path")},{default:f(({row:L})=>[x("div",{class:"ellipsis",title:u(L)},A(u(L)),9,Fi)]),_:1},8,["label"]),c(v,{label:r(t)("common.references"),width:"100",align:"center"},{default:f(({row:L})=>[c(E,{placement:"auto",trigger:"hover",width:240,onBeforeEnter:O=>L.renderReferences=!0,onAfterLeave:O=>L.renderReferences=!1},{reference:f(()=>[c(b,{round:"",class:"cursor-pointer"},{default:f(()=>[R(A(L.references.length),1)]),_:2},1024)]),default:f(()=>[L.renderReferences?(_(),C(k,{key:0,height:"180px"},{default:f(()=>[x("div",Ai,[(_(!0),S(Z,null,se(L.references,(O,oe)=>(_(),C(b,{key:oe,class:"cursor-pointer",size:"small",round:"",onPointerenter:Y=>g(O)},{default:f(()=>[R(A(O.tagName),1)]),_:2},1032,["onPointerenter"]))),128))])]),_:2},1024)):F("",!0)]),_:2},1032,["onBeforeEnter","onAfterLeave"])]),_:1},8,["label"]),c(v,{label:r(t)("common.property"),width:"150"},{default:f(({row:L})=>[x("div",Ti,[c(b,{type:"success",round:"",title:L.property},{default:f(()=>[R(A(L.property),1)]),_:2},1032,["title"])])]),_:1},8,["label"]),c(v,{label:r(t)("common.value"),width:"230"},{default:f(({row:L})=>[c(En,{modelValue:L.value,"onUpdate:modelValue":[O=>L.value=O,O=>i(L)],"show-alpha":"",predefine:r(s)},{default:f(({color:O})=>[x("div",Vi,[x("p",Li,A(L.value),1),x("div",{style:ce({backgroundColor:O}),class:"w-24 h-24 rounded-4px shadow-s-10"},null,4)])]),_:2},1032,["modelValue","onUpdate:modelValue","predefine"])]),_:1},8,["label"]),c(v,{width:"20px"})]),_:1},8,["data"])]),_:1})):(_(),C(P,{key:1}))]),_:2},[r(gt).length?{name:"footer",fn:f(()=>[c(I,{round:"",onClick:w[0]||(w[0]=L=>h(()=>n.value=!1))},{default:f(()=>[R(A(r(t)("common.cancel")),1)]),_:1}),c(I,{type:"primary",round:"",onClick:m},{default:f(()=>[R(A(r(t)("common.save")),1)]),_:1})])}:void 0]),1032,["model-value","title"])}}}),Hn=p(!1);let Vt;const gt=p([]),ll=e=>$(void 0,null,function*(){if(!!e)return Vt=new q,Hn.value=!0,gt.value=rl(e),yield Vt.promise}),Mi=(e,t)=>{if(e)t.length&&ae(t),Vt.resolve();else{for(const n of[...t].reverse())n.undo();Vt.reject()}Hn.value=!1};function rl(e){const t=_e(e,!0,!0).filter(l=>!ye(l)),n=Ko(T.value,Ze.value,t),o=[];for(const l of n)switch(l.type){case"file":o.push(l);break;case"embedded":case"inline":o.push(l);break}return o}const{t:Ii}=j.global,Bi="editColor",Pi=Ii("common.color"),ji="icon-background-color",zi=9;function Oi(e){return rl(e).length>0}function Ni(e){ll(e)}var Hi=Object.freeze(Object.defineProperty({__proto__:null,name:Bi,display:Pi,icon:ji,order:zi,active:Oi,invoke:Ni},Symbol.toStringTag,{value:"Module"}));const Ui=V({setup(e){const{t}=H();return(n,o)=>r(et)?(_(),C(nr,{key:0,modelValue:r(et),"onUpdate:modelValue":o[0]||(o[0]=l=>U(et)?et.value=l:null),current:r(Un),alert:r(t)("common.immediatelyChange"),onSuccess:r(Wi)},null,8,["modelValue","current","alert","onSuccess"])):F("",!0)}}),et=p(!1);let Lt;const Un=p(),Ri=e=>$(void 0,null,function*(){return Un.value=yield or({id:e,name:e}),et.value=!0,Lt=new q,yield Lt.promise}),Wi=e=>{e?Lt.resolve(Un.value):Lt.reject()},{t:qi}=j.global,Ki="editConfig",Gi=qi("common.config"),Ji="icon-a-setup",Zi=0,Qi=!0;function Xi(e){const t=D(e);return!!pe(t,mt)}function Yi(e){return $(this,null,function*(){const t=D(e),n=pe(t,mt);yield Ri(n.key),location.reload()})}var ec=Object.freeze(Object.defineProperty({__proto__:null,name:Ki,display:Gi,icon:Ji,order:Zi,immediate:Qi,active:Xi,invoke:Yi},Symbol.toStringTag,{value:"Module"}));const tc={class:"px-32 py-24"},nc=V({setup(e){const{t}=H(),n=p(),o=p(!1),l=p(!0),s=p();setTimeout(()=>{document.querySelectorAll(".tox-tinymce-aux").forEach(i=>{var d;(d=s.value)==null||d.appendChild(i)})},500);const a=()=>$(this,null,function*(){yield n.value.save(),o.value=!0,l.value=!1});return(u,i)=>{const d=Ee,g=G;return _(),C(g,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=m=>l.value=m),width:"800px","close-on-click-modal":!1,title:r(t)("common.textContent"),"custom-class":"el-dialog--zero-padding",onClosed:i[2]||(i[2]=m=>r(lc)(o.value))},{footer:f(()=>[c(Se,{onConfirm:a,onCancel:i[0]||(i[0]=m=>l.value=!1)})]),default:f(()=>[c(d,{content:r(t)("common.immediatelyChange")},null,8,["content"]),x("div",tc,[c(rr,{id:r(sl),ref_key:"form",ref:n,"folder-id":r(Jl)},null,8,["id","folder-id"])]),x("div",{ref_key:"tinymceAuxNewContainer",ref:s},null,512)]),_:1},8,["modelValue","title"])}}}),Rn=p(!1);let Dt;const sl=p(),oc=e=>$(void 0,null,function*(){return sl.value=e,Rn.value=!0,Dt=new q,yield Dt.promise}),lc=e=>{e?Dt.resolve():Dt.reject(),Rn.value=!1},{t:rc}=j.global,sc="editContent",ac=rc("common.content"),ic="icon-form",cc=0,uc=!0;function dc(e){const t=D(e);return!!pe(t,dt,!1)}function mc(e){return $(this,null,function*(){const t=D(e),n=pe(t,dt,!1);yield oc(n.id),location.reload()})}var fc=Object.freeze(Object.defineProperty({__proto__:null,name:sc,display:ac,icon:ic,order:cc,immediate:uc,active:dc,invoke:mc},Symbol.toStringTag,{value:"Module"}));const pc={class:"px-32 py-24"},vc=V({setup(e){const{t}=H(),n=p(),o=p(!1),l=p(!0),s=p();setTimeout(()=>{document.querySelectorAll(".tox-tinymce-aux").forEach(i=>{var d;(d=s.value)==null||d.appendChild(i)})},500);const a=()=>$(this,null,function*(){yield n.value.save(),o.value=!0,l.value=!1});return(u,i)=>{const d=Ee,g=ue,m=G;return _(),C(m,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=h=>l.value=h),width:"800px","close-on-click-modal":!1,title:r(t)("common.database"),"custom-class":"el-dialog--zero-padding",onClosed:i[2]||(i[2]=h=>r(_c)(o.value))},{footer:f(()=>[c(g,{round:"",onClick:i[0]||(i[0]=h=>l.value=!1)},{default:f(()=>[R(A(r(t)("common.cancel")),1)]),_:1}),c(g,{type:"primary",round:"",onClick:a},{default:f(()=>[R(A(r(t)("common.save")),1)]),_:1})]),default:f(()=>[c(d,{content:r(t)("common.immediatelyChange")},null,8,["content"]),x("div",pc,[c(sr,{id:r(al),ref_key:"form",ref:n,"db-type":r(cl),table:r(il)},null,8,["id","db-type","table"])]),x("div",{ref_key:"tinymceAuxNewContainer",ref:s},null,512)]),_:1},8,["modelValue","title"])}}}),Wn=p(!1);let Mt;const al=p(),il=p(),cl=p(),gc=(e,t,n)=>$(void 0,null,function*(){return cl.value=e,il.value=t,al.value=n,Wn.value=!0,Mt=new q,yield Mt.promise}),_c=e=>{e?Mt.resolve():Mt.reject(),Wn.value=!1},{t:hc}=j.global,yc="editDatabase",bc=hc("common.database"),xc="icon-form",kc=0,wc=!0,$c={indexdb:"Database",sqlite:"Sqlite",mysql:"MySql",sqlserver:"SqlServer"};function Cc(e){const t=D(e),n=z(t,pt);return!(!n||n.source=="mongo")}function Ec(e){return $(this,null,function*(){const t=D(e),n=z(t,pt);yield gc($c[n.source],n.table,n.id),location.reload()})}var Sc=Object.freeze(Object.defineProperty({__proto__:null,name:yc,display:bc,icon:xc,order:kc,immediate:wc,active:Cc,invoke:Ec},Symbol.toStringTag,{value:"Module"}));const{t:Fc}=j.global,Ac="editDom",Tc=Fc("common.edit"),Vc="icon-a-writein",Lc=0,qn=["img","input","video","audio","table","col","colgroup","tbody","td","tfoot","th","thead","tr","canvas","meter","progress","select","textarea"];function ul(e){var o;if(qn.includes((o=e.tagName)==null?void 0:o.toLowerCase())||me(e,!0).find(l=>{var s;return((s=l==null?void 0:l.tagName)==null?void 0:s.toLowerCase())=="svg"}))return!1;const t=N(e);if(!t)return!1;const n=D(t.element);return Ae(n)||n.find(l=>l.format=="text")?!1:Fe(n)?!W(n):W(n)||n.find(l=>l.source===null&&l.format=="html")?!1:Mn(n,e)}function Dc(e){return $(this,null,function*(){Mc(e);const{element:t}=N(e),n=t.innerHTML;try{if(yield ri(e),n==e.innerHTML)return;const o=fe(t),l=ve(o,n),s=Kn(e);if(!s)throw new Error("can not get change");l.changes.push(s),ae([l])}catch(o){t.innerHTML=n}})}function Kn(e){const t=D(e),n=Te(t);if(n)return n;const o=z(t,ie);if(!o)return;const{element:l}=N(e,o),s=te(l);return ut(l),{source:o.source,id:o.id,action:"update",koobooId:s,value:ne(l.innerHTML)}}function Mc(e){T.value.onselectstart=null,T.value.documentElement.style.userSelect="all",e.onselectstart=null,e.style.userSelect="all"}var Ic=Object.freeze(Object.defineProperty({__proto__:null,name:Ac,display:Tc,icon:Vc,order:Lc,ignoreTags:qn,active:ul,invoke:Dc,getChange:Kn},Symbol.toStringTag,{value:"Module"}));const Bc={class:"px-32 py-24"},Pc=V({setup(e){const{t}=H(),n=p(),o=p(!1),l=p(!0),s=p();setTimeout(()=>{document.querySelectorAll(".tox-tinymce-aux").forEach(i=>{var d;(d=s.value)==null||d.appendChild(i)})},500);const a=()=>$(this,null,function*(){yield n.value.save(),o.value=!0,l.value=!1});return(u,i)=>{const d=Ee,g=G;return _(),C(g,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=m=>l.value=m),width:"1000px","close-on-click-modal":!1,title:r(t)("common.htmlBlock"),"custom-class":"el-dialog--zero-padding","append-to-body":"",onClosed:i[2]||(i[2]=m=>r(Oc)(o.value,n.value.model))},{footer:f(()=>[c(Se,{onConfirm:a,onCancel:i[0]||(i[0]=m=>l.value=!1)})]),default:f(()=>[c(d,{content:r(t)("common.immediatelyChange")},null,8,["content"]),x("div",Bc,[c(Dr,{id:r(dl),ref_key:"form",ref:n},null,8,["id"])]),x("div",{ref_key:"tinymceAuxNewContainer",ref:s},null,512)]),_:1},8,["modelValue","title"])}}}),jc=j.global.t,Gn=p(!1);let It;const dl=p(),zc=e=>$(void 0,null,function*(){return dl.value=e,Gn.value=!0,It=new q,yield It.promise}),Oc=(e,t)=>{e?(wn.success(jc("common.saveSuccess")),It.resolve(t)):It.reject(),Gn.value=!1},{t:Nc}=j.global,Hc="editHtmlblock",Uc=Nc("common.htmlBlock"),Rc="icon-html",Wc=0,qc=!0;function Kc(e){const t=D(e);return!!pe(t,Dn)}function Gc(e){return $(this,null,function*(){const t=D(e),n=pe(t,Dn);yield zc(n.id),location.reload()})}var Jc=Object.freeze(Object.defineProperty({__proto__:null,name:Hc,display:Uc,icon:Rc,order:Wc,immediate:qc,active:Kc,invoke:Gc},Symbol.toStringTag,{value:"Module"}));const Zc={class:"flex w-full space-x-16"},Qc={class:"flex-1 items-center justify-center h-280px overflow-hidden rounded-normal relative"},Xc={class:"flex-1"},Yc={class:"el-form-item__label"},eu={class:"text-s text-999"},tu={class:"flex space-x-8 w-full"},nu={class:"px-12"},ou={class:"px-12"},lu=V({setup(e){var I,B;const{t}=H(),n=p(!0),o=p(),l=p(!1),s=p();we(_t.value,"picture")?s.value=_e(_t.value):s.value=[_t.value];const a=K(()=>s.value.find(L=>we(L,"img"))),u=K(()=>s.value.filter(L=>we(L,"source"))),i=De(a.value,"src"),d=Dl(i.value),g=[];if(d)try{for(const L of a.value.getAttributeNames())["src","title","alt","srcset","id","name"].includes(L)||(I=a.value.getAttribute(L))!=null&&I.endsWith(d)&&g.push(De(a.value,L))}catch(L){console.log(L)}const m=De((B=u.value[0])!=null?B:a.value,"srcset"),h=De(a.value,"width"),y=De(a.value,"height"),w=ao(a.value,"width"),v=ao(a.value,"height"),b=De(a.value,"alt"),k=p(a.value.src),E=()=>$(this,null,function*(){l.value=!0,n.value=!1}),M=()=>$(this,null,function*(){const O=(yield rn(!1))[0];i.value=O.url,m.value&&(m.value=O.url),k.value=O.previewUrl});he(()=>i.value,()=>{k.value=i.value;for(const L of g)L.value=i.value;if(u.value)for(const L of u.value)L.srcset=i.value});const P=()=>{su(l.value,[i,m,...g,h,y,b])};return(L,O)=>{const oe=ct,Y=An,Fl=Xt,Al=G;return _(),C(Al,{"model-value":n.value,width:"800px","close-on-click-modal":!1,title:r(t)("common.image"),draggable:"",onClosed:P},{footer:f(()=>[c(Se,{onConfirm:E,onCancel:O[5]||(O[5]=ge=>n.value=!1)})]),default:f(()=>[x("div",Zc,[x("div",Qc,[c(In,{src:k.value,"on-select":M},null,8,["src"])]),x("div",Xc,[c(Fl,{ref_key:"form",ref:o,"label-position":"top"},{default:f(()=>[c(Y,null,{label:f(()=>[x("div",Yc,[R(A(r(t)("common.size"))+" ",1),x("span",eu,"("+A(r(t)("common.imgSizeTip"))+")",1)])]),default:f(()=>{var ge,ro;return[x("div",tu,[c(oe,{modelValue:r(h),"onUpdate:modelValue":O[0]||(O[0]=sn=>U(h)?h.value=sn:null),modelModifiers:{number:!0},class:"flex-1",placeholder:(ge=r(w))==null?void 0:ge.toString()},{append:f(()=>[x("span",nu,A(r(t)("common.width")),1)]),_:1},8,["modelValue","placeholder"]),c(oe,{modelValue:r(y),"onUpdate:modelValue":O[1]||(O[1]=sn=>U(y)?y.value=sn:null),modelModifiers:{number:!0},class:"flex-1",placeholder:(ro=r(v))==null?void 0:ro.toString()},{append:f(()=>[x("span",ou,A(r(t)("common.height")),1)]),_:1},8,["modelValue","placeholder"])])]}),_:1}),c(Y,{label:"src"},{default:f(()=>[c(oe,{modelValue:r(i),"onUpdate:modelValue":O[2]||(O[2]=ge=>U(i)?i.value=ge:null)},null,8,["modelValue"])]),_:1}),c(Y,{label:"srcset"},{default:f(()=>[c(oe,{modelValue:r(m),"onUpdate:modelValue":O[3]||(O[3]=ge=>U(m)?m.value=ge:null)},null,8,["modelValue"])]),_:1}),c(Y,{label:"alt"},{default:f(()=>[c(oe,{modelValue:r(b),"onUpdate:modelValue":O[4]||(O[4]=ge=>U(b)?b.value=ge:null)},null,8,["modelValue"])]),_:1})]),_:1},512)])])]),_:1},8,["model-value","title"])}}}),Jn=p(!1),_t=p();let Bt;const ru=e=>$(void 0,null,function*(){return Bt=new q,_t.value=e,Jn.value=!0,yield Bt.promise}),su=(e,t)=>{if(e){const n=t.filter(o=>o.value!=o.origin);Bt.resolve(n)}else Bt.reject();Jn.value=!1},{t:au}=j.global,iu="editImage",cu=au("common.image"),uu="icon-photo",du=0;function ml(e){if(!we(e,"img"))return;const t=fl(e);t&&(e=t);const n=N(e);if(!n)return!1;const o=D(n.element);return Ae(o)?!1:Fe(o,n.element)?!W(o):W(o,"src")?!1:Oo(o,n.element,"src")?!W(o,"src"):o.find(l=>l.source===null&&l.format=="attribute"&&l.attribute=="src")?!1:vt(o,e)}function mu(e){return $(this,null,function*(){const t=yield Zn(e);t&&ae([t])})}function Zn(e){return $(this,null,function*(){const t=fl(e);t&&(e=t);const{element:n,isSelf:o}=N(e),l=o?e.parentElement:n,s=l.innerHTML;try{const a=yield ru(e);if(!a.length)return;const u=fe(l),i=ve(u,s),d=fu(e,a);if(!d)throw new Error("can not get change");return i.changes.push(...d),i}catch(a){throw e.parentElement.innerHTML=s,new Error("edit image error")}})}function fu(e,t){const n=D(e),o=Te(n);if(o)return[o];const l=z(n,ie);if(!l)return;const{element:s,isSelf:a}=N(e,l),u=te(s);if(a&&!we(e,"picture")){const i=[];for(const d of t){if(d.origin==d.value)continue;const g=qo(n,e,d.name);g?i.push(g):i.push({source:l.source,id:l.id,action:"update",koobooId:u,attribute:d.name,value:e.getAttribute(d.name)})}return i}else return[{source:l.source,id:l.id,action:"update",koobooId:u,value:ne(s.innerHTML)}]}function fl(e){const n=me(e).find(o=>we(o,"picture"));if(n)return n}var pu=Object.freeze(Object.defineProperty({__proto__:null,name:iu,display:cu,icon:uu,order:du,active:ml,invoke:mu,editImage:Zn},Symbol.toStringTag,{value:"Module"}));const qe=p(!1);let Pt;const pl=p(),vu=e=>$(void 0,null,function*(){return pl.value=e,qe.value=!0,Pt=new q,yield Pt.promise}),gu=e=>{e?Pt.resolve():Pt.reject(),qe.value=!1},{t:_u}=j.global,hu="editKeyValue",yu=_u("common.keyValue"),bu="icon-form",xu=0,ku=!0;function wu(e){const t=D(e);return!!pe(t,ft)}function $u(e){return $(this,null,function*(){const t=D(e),n=pe(t,ft);yield vu(n.key),location.reload()})}var Cu=Object.freeze(Object.defineProperty({__proto__:null,name:hu,display:yu,icon:bu,order:xu,immediate:ku,active:wu,invoke:$u},Symbol.toStringTag,{value:"Module"}));const tt=p(!1);let jt;const Qn=p(),Eu=e=>$(void 0,null,function*(){return Qn.value=yield ar(e),tt.value=!0,jt=new q,yield jt.promise}),Su=e=>{e?jt.resolve(Qn.value):jt.reject()},{t:Fu}=j.global,Au="editLabel",Tu=Fu("common.label"),Vu="icon-a-writein",Lu=0,Du=!0;function Mu(e){const t=D(e);return!!pe(t,on)}function Iu(e){return $(this,null,function*(){const t=D(e),n=pe(t,on);yield Eu(n.id),location.reload()})}var Bu=Object.freeze(Object.defineProperty({__proto__:null,name:Au,display:Tu,icon:Vu,order:Lu,immediate:Du,active:Mu,invoke:Iu},Symbol.toStringTag,{value:"Module"}));const{t:Pu}=j.global,ju="editLink",zu=Pu("common.link"),Ou="icon-link1",Nu=0;function vl(e){if(!we(e,"a")||me(e,!0).find(o=>{var l;return((l=o.tagName)==null?void 0:l.toLowerCase())=="svg"}))return;const t=N(e);if(!t)return!1;const n=D(t.element);return Fe(n,t.element)?!W(n):Oo(n,t.element,"href")?!W(n,"href"):W(n,"href")||n.find(o=>o.source===null&&o.format=="attribute"&&o.attribute=="href")?!1:vt(n,e)}function Hu(e){return $(this,null,function*(){const t=yield Xn(e);t&&ae([t])})}function Xn(e){return $(this,null,function*(){const{element:t,isSelf:n}=N(e),o=n?e.parentElement:t,l=o.innerHTML;try{if(yield Qo(e),l==o.innerHTML)return;const s=fe(o),a=ve(s,l),u=Uu(e);if(!u)throw new Error("can not get change");return a.changes.push(u),a}catch(s){throw e.parentElement.innerHTML=l,new Error("edit link error")}})}function Uu(e){const t=D(e);if(Ae(t))return!1;const n=Te(t,e);if(n)return n;const o=qo(t,e,"href");if(o)return o;const l=z(t,ie);if(l){const{element:s,isSelf:a}=N(e,l),u=te(s);return a?{source:l.source,id:l.id,action:"update",koobooId:u,attribute:"href",value:e.getAttribute("href")}:{source:l.source,id:l.id,action:"update",koobooId:u,value:ne(s.innerHTML)}}}var Ru=Object.freeze(Object.defineProperty({__proto__:null,name:ju,display:zu,icon:Ou,order:Nu,active:vl,invoke:Hu,editAnchor:Xn},Symbol.toStringTag,{value:"Module"}));const Wu={class:"px-32 pb-24"},qu={class:"flex w-full justify-end h-10 items-center pr-8"},Ku=V({setup(e){const{t}=H(),n=p(),o=p(),l=p(!1),s=p(!0);let a;return he(()=>o.value,()=>{!a&&o.value&&(a=JSON.stringify(o.value)),l.value=a!=JSON.stringify(o.value)},{immediate:!0}),(u,i)=>{const d=Ee,g=Ln,m=G;return _(),C(m,{modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=h=>s.value=h),width:"800px","close-on-click-modal":!1,title:r(t)("common.menu"),"custom-class":"el-dialog--zero-padding",draggable:"",onClosed:i[3]||(i[3]=h=>r(Ju)(l.value))},{default:f(()=>[c(d,{content:r(t)("common.immediatelyChange")},null,8,["content"]),x("div",Wu,[x("div",qu,[c(g,{icon:"icon-code",tip:r(t)("common.editTemplate"),onClick:i[0]||(i[0]=h=>n.value.onTemplateEdit(o.value))},null,8,["tip"])]),c(cr,{id:r(gl),ref_key:"inner",ref:n,"onUpdate:model":i[1]||(i[1]=h=>o.value=h)},null,8,["id"])])]),_:1},8,["modelValue","title"])}}}),Yn=p(!1);let zt;const gl=p(),Gu=e=>$(void 0,null,function*(){return zt=new q,gl.value=e,Yn.value=!0,yield zt.promise}),Ju=e=>{e?zt.resolve():zt.reject(),Yn.value=!1},{t:Zu}=j.global,Qu="editMenu",Xu=Zu("common.menu"),Yu="icon-menu",ed=0,td=!0;function nd(e){const t=D(e);if(!!t.length)return t[0].source=="menu"}function od(e){return $(this,null,function*(){const t=D(e);yield Gu(t[0].id),location.reload()})}var ld=Object.freeze(Object.defineProperty({__proto__:null,name:Qu,display:Xu,icon:Yu,order:ed,immediate:td,active:nd,invoke:od},Symbol.toStringTag,{value:"Module"}));const rd={class:"px-32 py-24"},sd=V({setup(e){const{t}=H(),n=p(),o=p(!1),l=p(!0),s=()=>$(this,null,function*(){yield n.value.onSave(),o.value=!0,l.value=!1});return(a,u)=>{const i=Ee,d=G;return _(),C(d,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=g=>l.value=g),width:"1100px","close-on-click-modal":!1,title:r(t)("commerce.product"),"custom-class":"el-dialog--zero-padding",onClosed:u[2]||(u[2]=g=>r(id)(o.value))},{footer:f(()=>[c(Se,{onConfirm:s,onCancel:u[0]||(u[0]=g=>l.value=!1)})]),default:f(()=>[c(i,{content:r(t)("common.immediatelyChange")},null,8,["content"]),x("div",rd,[c(Mr,{id:r(_l),ref_key:"form",ref:n},null,8,["id"])])]),_:1},8,["modelValue","title"])}}}),eo=p(!1);let Ot;const _l=p(),ad=e=>$(void 0,null,function*(){return _l.value=e,eo.value=!0,Ot=new q,yield Ot.promise}),id=e=>{e?Ot.resolve():Ot.reject(),eo.value=!1},{t:cd}=j.global,ud="editProduct",dd=cd("commerce.product"),md="icon-form",fd=0,pd=!0;function vd(e){const t=D(e);return!!z(t,Mo)}function gd(e){return $(this,null,function*(){const t=D(e),n=z(t,Mo);yield ad(n.id),location.reload()})}var _d=Object.freeze(Object.defineProperty({__proto__:null,name:ud,display:dd,icon:md,order:fd,immediate:pd,active:vd,invoke:gd},Symbol.toStringTag,{value:"Module"}));const hd={class:"px-32 py-24 space-y-12"},yd={class:"flex-1"},bd={class:"flex flex-col items-center justify-center space-y-8 ml-8"},xd=V({setup(e){const{t}=H(),n=p(!1),o=p(!0),l=p(),s=p([]),a=()=>{const m=_e(yn.value);for(const h of m)h.__edit_repeater_id||(h.__edit_repeater_id=Oe());s.value=m};Gt(a),setTimeout(()=>{document.querySelectorAll(".tox-tinymce-aux").forEach(h=>{var y;(y=l.value)==null||y.appendChild(h)})},500);const u=(m,h)=>{m.innerHTML=h},i=m=>{const h=Eo(m.outerHTML);m.parentElement.insertBefore(h,m.nextSibling),a()},d=m=>{var h;(h=yn.value)==null||h.removeChild(m),a()},g=()=>$(this,null,function*(){n.value=!0,o.value=!1});return(m,h)=>{const y=lr,w=Ln,v=G;return _(),C(v,{modelValue:o.value,"onUpdate:modelValue":h[1]||(h[1]=b=>o.value=b),width:"1000px","close-on-click-modal":!1,title:r(t)("common.editRepeater"),"append-to-body":"","custom-class":"el-dialog--zero-padding",onClosed:h[2]||(h[2]=b=>r($d)(n.value))},{footer:f(()=>[c(Se,{onConfirm:g,onCancel:h[0]||(h[0]=b=>o.value=!1)})]),default:f(()=>[x("div",hd,[(_(!0),S(Z,null,se(s.value,b=>(_(),S("div",{key:b.__edit_repeater_id,class:"space-x-8 flex"},[x("div",yd,[c(y,{"model-value":b.innerHTML,min_height:180,"onUpdate:modelValue":k=>u(b,k)},null,8,["model-value","onUpdate:modelValue"])]),x("div",bd,[x("div",null,[c(w,{class:"text-blue",icon:"icon-copy",tip:r(t)("common.copy"),circle:"",onClick:k=>i(b)},null,8,["tip","onClick"])]),x("div",null,[s.value.length>1?(_(),C(w,{key:0,class:"text-orange",icon:"icon-delete",tip:r(t)("common.delete"),circle:"",onClick:k=>d(b)},null,8,["tip","onClick"])):F("",!0)])])]))),128))]),x("div",{ref_key:"tinymceAuxNewContainer",ref:l},null,512)]),_:1},8,["modelValue","title"])}}}),kd=j.global.t,to=p(!1);let Nt;const yn=p(),wd=e=>$(void 0,null,function*(){return yn.value=e,to.value=!0,Nt=new q,yield Nt.promise}),$d=e=>{e?(wn.success(kd("common.saveSuccess")),Nt.resolve()):Nt.reject(),to.value=!1},{t:Cd}=j.global,Ed="editRepeater",Sd=Cd("common.editRepeater"),Fd="icon-view",Ad=20;function Td(e){var l;const t=yl(e);if(!t||(e=t,qn.includes((l=e.tagName)==null?void 0:l.toLowerCase()))||me(e,!0).find(s=>{var a;return((a=s==null?void 0:s.tagName)==null?void 0:a.toLowerCase())=="svg"}))return!1;const n=N(e);if(!n)return!1;const o=D(n.element);return Ae(o)||o.find(s=>s.format=="text")?!1:Fe(o)?!W(o):W(o)||o.find(s=>s.source===null&&s.format=="html")?!1:Mn(o,e)}function Vd(e){return $(this,null,function*(){e=yl(e);const{element:n}=N(e),o=n.innerHTML;try{if(yield wd(e),o==e.innerHTML)return;const l=fe(n),s=ve(l,o),a=hl(e);if(!a)throw new Error("can not get change");s.changes.push(a),ae([s])}catch(l){n.innerHTML=o}})}function hl(e){const t=D(e),n=Te(t);if(n)return n;const o=z(t,ie);if(!o)return;const{element:l}=N(e,o),s=te(l);return ut(l),{source:o.source,id:o.id,action:"update",koobooId:s,value:ne(l.innerHTML)}}function yl(e){const t=me(e);for(const n of t){const o=_e(n);if(!(o.length<2)&&!([...new Set(o.map(Ld))].length>1))return n}}function Ld(e){var n;return(n=[e,..._e(e)].map(o=>{var l;return(l=o.tagName)==null?void 0:l.toLowerCase()}))==null?void 0:n.join("_")}var Dd=Object.freeze(Object.defineProperty({__proto__:null,name:Ed,display:Sd,icon:Fd,order:Ad,active:Td,invoke:Vd,getChange:hl},Symbol.toStringTag,{value:"Module"}));const Md={key:0,class:"h-600px"},Id=V({setup(e){const{t}=H(),n=p(!0),o=p([]);let l=p(!1);const s=p(!1),a=p();setTimeout(()=>{s.value=!0},100);const u=()=>{l.value=!0,i()},i=()=>{const g=a.value.getSvgString();Pd(l.value,g)},d=K(()=>{if(!bn.value)return"";const g=bn.value.cloneNode(!0);return g.getAttribute("xmlns")||g.setAttribute("xmlns","http://www.w3.org/2000/svg"),g.outerHTML});return kn("values",o.value),(g,m)=>{const h=ue,y=G;return _(),C(y,{modelValue:n.value,"onUpdate:modelValue":m[1]||(m[1]=w=>n.value=w),width:"1000px","close-on-click-modal":!1,title:r(t)("common.svgEditor"),"custom-class":"el-dialog--zero-padding",draggable:"",onClosed:i},{footer:f(()=>[c(h,{round:"",onClick:m[0]||(m[0]=w=>n.value=!1)},{default:f(()=>[R(A(r(t)("common.cancel")),1)]),_:1}),c(h,{type:"primary",round:"",onClick:u},{default:f(()=>[R(A(r(t)("common.save")),1)]),_:1})]),default:f(()=>[s.value?(_(),S("div",Md,[c(fr,{ref_key:"editor",ref:a,svg:r(d),alt:"",ext:"svg",name:"",url:"","site-url":""},null,8,["svg"])])):F("",!0)]),_:1},8,["modelValue","title"])}}}),no=p(!1);let Ht;const bn=p(),Bd=e=>$(void 0,null,function*(){return Ht=new q,bn.value=e,no.value=!0,yield Ht.promise}),Pd=(e,t)=>{e?Ht.resolve(t):Ht.reject(),no.value=!1},{t:jd}=j.global,zd="editSvg",Od=jd("common.editSvg"),Nd="icon-a-writein",Hd=5;function Ud(e){if(e=me(e,!0).find(o=>{var l;return((l=o.tagName)==null?void 0:l.toLowerCase())=="svg"}),!e)return!1;const t=N(e);if(!t)return!1;const n=D(t.element);return Ae(n)||n.find(o=>o.format=="text")?!1:Fe(n)?!W(n):W(n)||n.find(o=>o.source===null&&o.format=="html")?!1:Mn(n,e)}function Rd(e){return $(this,null,function*(){e=me(e,!0).find(o=>{var l;return((l=o.tagName)==null?void 0:l.toLowerCase())=="svg"});const{element:t}=N(e),n=t.innerHTML;try{const o=yield Bd(e),l=document.createElement("div");if(l.innerHTML=o,e.innerHTML=l.firstChild.innerHTML,n==e.innerHTML)return;const s=fe(t),a=ve(s,n),u=Wd(e);if(!u)throw new Error("can not get change");a.changes.push(u),ae([a])}catch(o){t.innerHTML=n}})}function Wd(e){const t=D(e),n=Te(t);if(n)return n;const o=z(t,ie);if(!o)return;const{element:l}=N(e,o),s=te(l);return ut(l),{source:o.source,id:o.id,action:"update",koobooId:s,value:ne(l.innerHTML)}}var qd=Object.freeze(Object.defineProperty({__proto__:null,name:zd,display:Od,icon:Nd,order:Hd,active:Ud,invoke:Rd},Symbol.toStringTag,{value:"Module"}));const Kd=V({props:{modelValue:null},setup(e){const t=e,{t:n}=H();function o(g){return pr(`ve-${g.controlType}`)}const l=p(),s=Zt(),{model:a,containerFields:u,fields:i,rules:d}=br(t.modelValue,s);return he(()=>a.value,Ir(function(g){t.modelValue.props=g},500),{deep:!0}),Gt(()=>{i.value.length?l.value="basic":u.value.length?l.value="container":l.value=void 0}),(g,m)=>{const h=Xt,y=Ao,w=To;return _(),C(w,{modelValue:l.value,"onUpdate:modelValue":m[2]||(m[2]=v=>l.value=v)},{default:f(()=>[r(i).length?(_(),C(y,{key:0,label:r(n)("common.basic"),name:"basic"},{default:f(()=>[c(h,{model:r(a),rules:r(d),"label-position":"top",class:"props-editor-form",onSubmit:m[0]||(m[0]=gn(()=>{},["prevent"]))},{default:f(()=>[(_(!0),S(Z,null,se(r(i),v=>(_(),C(xt(r(io)(v)),{key:v.name,field:v,model:r(a),"css-class":o(v)},null,8,["field","model","css-class"]))),128))]),_:1},8,["model","rules"])]),_:1},8,["label"])):F("",!0),r(u).length?(_(),C(y,{key:1,label:r(n)("ve.containerStyles"),name:"container"},{default:f(()=>[c(h,{model:r(a),rules:r(d),"label-position":"top",class:"props-editor-form",onSubmit:m[1]||(m[1]=gn(()=>{},["prevent"]))},{default:f(()=>[(_(!0),S(Z,null,se(r(u),v=>(_(),C(xt(r(io)(v)),{key:v.name,field:v,model:r(a),"css-class":o(v)},null,8,["field","model","css-class"]))),128))]),_:1},8,["model","rules"])]),_:1},8,["label"])):F("",!0)]),_:1},8,["modelValue"])}}}),Me=p(),nt=p(),Ut=p(),Ie=p(),je=p(),bl=p([]),{updatePage:Gd,getPage:Jd,load:Zd}=ur();function Qd(e){let t=je.value.head.querySelector("style");if(e){if(!t){t=document.createElement("style"),t.innerHTML=e,je.value.head.appendChild(t);return}t.innerHTML=e;return}t&&je.value.head.removeChild(t)}function Xd(e){return $(this,null,function*(){const t=yield Zd();bl.value=t.map(o=>({key:o.name,value:o.path}));const n=yield Jd(e,{type:"Designer"});Ie.value=JSON.parse(n.designConfig),n.layoutId&&n.layoutName?(Me.value=yield dr(n.layoutId,{design:"true",env:"production"}),Ut.value=Me.value.body):(Ut.value=yield mr(),je.value=ql(n.body)),nt.value=n})}function Yd(e,t,n){if(!je.value)throw new Error("document is null");je.value.body.innerHTML=So(t[""],Zt()),Qd(n),e.body=Kl(je.value)}function em(e,t){if(!Me.value)throw new Error("layout is null");e.layoutId=Me.value.id,e.layoutName=Me.value.name;const n=kr(Me.value.name,Me.value.body);for(const o of n.content){const l=t[o.name];if(!l)continue;const s=document.createElement("div");s.innerHTML=So(l,Zt());for(let a=0;a<s.children.length;a++){const u=s.children[a],i=wr(u);o.addons.push(i)}}e.body=$r(n)}function tm(e,t){return $(this,null,function*(){if(!nt.value||!Ut.value||!Ie.value)throw new Error("PageDesigner not initialized yet");e?Ie.value=JSON.parse(e.designConfig):(e=Sn(Ml(nt.value)),e.designConfig=JSON.stringify(Ie.value)),e.type="Designer";const n=yield xr(Ie.value,t!=null?t:!1);if(e.layoutId&&e.layoutName)em(e,n);else{const o=vr(Ie.value.props,t);Yd(e,n,o)}nt.value=yield Gd(e)})}function oo(){return{initPageDesigner:Xd,page:nt,allPages:bl,rootMeta:Ie,template:Ut,onSave:tm}}const nm={class:"mt-8"},om=V({setup(e){const{page:t,rootMeta:n,onSave:o}=oo(),{t:l}=H(),s=K(()=>{var i;const u=(i=t.value)==null?void 0:i.previewUrl;return u?new URL(u).origin:"/"}),a=()=>$(this,null,function*(){const u=xe.value;if(!u||!t.value)return;const[i]=Qt(n.value,d=>d.id===u.id);if(!i){console.log(["error"]);return}i.props=u.props,i.htmlStr=yield gr(i,{baseUrl:s.value,classic:Zt(),rootMeta:n.value}),xe.value=i,yield o(),vo(!0)});return(u,i)=>{var m;const d=Ee,g=G;return _(),C(g,{modelValue:r(de),"onUpdate:modelValue":i[2]||(i[2]=h=>U(de)?de.value=h:null),width:"800px","close-on-click-modal":!1,title:r(l)("ve.editWidget",{name:(m=r(xe))==null?void 0:m.name}),"custom-class":"el-dialog--zero-padding",onClosed:i[3]||(i[3]=h=>r(vo)(!1))},{footer:f(()=>[c(Se,{onConfirm:a,onCancel:i[1]||(i[1]=h=>de.value=!1)})]),default:f(()=>[c(d,{content:r(l)("common.immediatelyChange")},null,8,["content"]),x("div",nm,[r(xe)?(_(),C(Kd,{key:0,modelValue:r(xe),"onUpdate:modelValue":i[0]||(i[0]=h=>U(xe)?xe.value=h:null)},null,8,["modelValue"])):F("",!0)])]),_:1},8,["modelValue","title"])}}}),{rootMeta:Rt,onSave:xl}=oo(),de=p(!1);p();p(!1);let ot;const xe=p(),lm=e=>$(void 0,null,function*(){ot=new q;const[t]=Qt(Rt.value,n=>n.id===e);if(!t){ot.reject();return}return xe.value=Sn(t),de.value=!0,yield ot.promise}),rm=e=>$(void 0,null,function*(){const[t,n]=Qt(Rt.value,l=>l.id===e);if(!t||!n)return;const o=n.children.findIndex(l=>l.id===t.id);if(o>-1){const l=_r(t);l.htmlStr=yield hr(l),n.children.splice(o+1,0,l),yield xl()}return n}),sm=e=>$(void 0,null,function*(){const[t,n]=Qt(Rt.value,l=>l.id===e,Rt.value);if(!t||!n)return;const o=n.children.findIndex(l=>l.id===t.id);return o>-1&&(n.children.splice(o,1),yield xl()),n}),vo=e=>{e?ot.resolve():ot.reject(),de.value=!1},{t:Xe}=j.global;function am(e){return ye(e)}function kl(e){if(!ye(e))return null;const t=[{name:"editWidget",display:Xe("common.edit"),icon:"icon-a-writein",invoke:Cl,immediate:!0,order:0}],o=D(e)[0].type;return["section","column"].includes(o)||(t.push({name:"copyWidget",display:Xe("common.copy"),icon:"icon-copy",invoke:wl,immediate:!0,order:1,confirm:Xe("common.copyTips")}),t.push({name:"deleteWidget",display:Xe("common.remove"),icon:"icon-delete",invoke:$l,immediate:!0,order:2,confirm:Xe("common.deleteTips")})),t}function wl(e){return $(this,null,function*(){const t=D(e),{id:n}=t[0];!n||(yield rm(n),location.reload())})}function $l(e){return $(this,null,function*(){const t=D(e),{id:n}=t[0];!n||(yield sm(n),location.reload())})}function Cl(e){return $(this,null,function*(){const t=D(e),{id:n}=t[0];!n||(yield lm(n),location.reload())})}var im=Object.freeze(Object.defineProperty({__proto__:null,active:am,getWidgetMenus:kl,onCopy:wl,onDelete:$l,invoke:Cl},Symbol.toStringTag,{value:"Module"}));const{t:El}=j.global,cm="enterLink",um=El("common.enterLink"),dm="icon-link1",mm=5;function fm(e){var o;if(e=Sl(e),!e)return;const t=(o=e.getAttribute("href"))==null?void 0:o.toLowerCase();if(!t)return!1;const n=Fo();if(t.startsWith("http")||t.startsWith("//")){for(const l of n.bindings)if(l.fullName&&t.indexOf(l.fullName)>-1)return!0;return!1}return!0}function pm(e){return $(this,null,function*(){Be.value>0&&(yield Qe(El("common.hasUnsaveChangeTip")));const t=Sl(e).getAttribute("href"),n=yield Wr(t);n.canEnter?location.search=yo(location.search,{path:n.url}):Bl(n.message)})}function Sl(e){return me(e,!0).find(n=>we(n,"a"))}var vm=Object.freeze(Object.defineProperty({__proto__:null,name:cm,display:um,icon:dm,order:mm,active:fm,invoke:pm},Symbol.toStringTag,{value:"Module"}));const{t:gm}=j.global,_m="removeDom",hm=gm("common.remove"),ym="icon-delete",bm=10;function xm(e){if(ye(e))return!1;const t=N(e);if(!t)return!1;const n=D(t.element);return Ae(n)?!1:Fe(n,t.element)?!W(n):vt(n,e)}function km(e){const{element:t,isSelf:n}=N(e),o=n?e.parentElement:t,l=o.innerHTML;e.setAttribute(vn,"true");const s=document.createElement("div");s.innerHTML=o.innerHTML,_e(s,!0).forEach(d=>{d.hasAttribute(vn)&&d.remove()});const a=fe(o),u=ve(a,l),i=wm(e);if(!i)throw new Error("can not get change");e.remove(),u.changes.push(i),ae([u])}function wm(e){const t=D(e),n=Te(t,e);if(n)return n;const o=z(t,ie);if(o){const{element:l,isSelf:s}=N(e,o),a=te(l);return ut(l,s?"brothers":"children"),{source:o.source,id:o.id,action:s?"delete":"update",koobooId:a,value:ne(l.innerHTML)}}}var $m=Object.freeze(Object.defineProperty({__proto__:null,name:_m,display:hm,icon:ym,order:bm,active:xm,invoke:km},Symbol.toStringTag,{value:"Module"}));function Cm(){const e={"./click-element.ts":hi,"./copy-dom.ts":Si,"./edit-color.ts":Hi,"./edit-config.ts":ec,"./edit-content.ts":fc,"./edit-database.ts":Sc,"./edit-dom.ts":Ic,"./edit-htmlblock.ts":Jc,"./edit-image.ts":pu,"./edit-key-value.ts":Cu,"./edit-label.ts":Bu,"./edit-link.ts":Ru,"./edit-menu.ts":ld,"./edit-product.ts":_d,"./edit-repeater.ts":Dd,"./edit-style.ts":Gs,"./edit-svg.ts":qd,"./edit-widget.ts":im,"./enter-link.ts":vm,"./remove-dom.ts":$m},t=[];for(const n in e)t.push(e[n]);return t.sort((n,o)=>n.order-o.order)}const Em=Cm();var Sm="/_Admin/assets/icon_scale.bfb10846.svg",Fm="/_Admin/assets/icon_extend.562924ce.svg";const Am=["src"],go=V({props:{src:null,disabled:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=e;function o(){n.disabled||t("click")}return(l,s)=>(_(),S("div",ho({class:["hover:bg-blue/10 cursor-pointer w-24 h-24 p-4 rounded-4px",{"opacity-30":e.disabled,"hover:bg-blue/0":e.disabled,"cursor-not-allowed":e.disabled}]},l.$attrs,{onClick:o}),[x("img",{src:e.src},null,8,Am)],16))}}),Tm={class:"flex items-center cursor-default px-12 py-8 border-b border-solid border-line dark:border-[#555] dark:bg-999"},Vm={class:"ellipsis text-l relative"},Lm=x("div",{class:"flex-1"},null,-1),Dm={class:"flex items-center space-x-4"},Mm=["onClick"],Im={key:0,class:"text-s w-full p-4 pl-12 bg-gray/50 flex items-center"},Bm={class:"transform scale-90 origin-left"},Pm=["onClick"],jm=V({setup(e){const{t}=H(),n=p(!1),o=p(),l=p(),s=p([]),a=p([]),u=K(()=>s.value.filter(E=>!E.immediate)),i=K(()=>s.value.filter(E=>E.immediate)),d=(E,M)=>$(this,null,function*(){if(Be.value&&M){wn.warning(t("common.existOperations"));return}E.confirm&&(yield Cr.confirm(E.confirm,{confirmButtonText:t("common.ok"),cancelButtonText:t("common.cancel"),type:"warning"}).catch(()=>"cancel"))!=="confirm"||(E.invoke(Q.value),m())});function g(){const E=[],M=Q.value;if(!M)return E;const P=kl(M);if(P)return P;for(const I of Em)I!=null&&I.active(M)&&E.push({name:I.name,display:I.display,icon:I.icon,invoke:I.invoke,immediate:I.immediate});return E}const m=()=>{Ue.value=void 0,n.value=!1},h=()=>{const E=a.value.indexOf(Q.value);return a.value[E+1]},y=K(()=>{var M;let E=h();return!(!E||ln.includes((M=E.tagName)==null?void 0:M.toLowerCase()))}),w=()=>{if(!y.value)return;let E=h();Q.value=E,s.value=g()},v=()=>{const E=a.value.indexOf(Q.value);if(E!=0)return a.value[E-1]},b=K(()=>!!v()),k=()=>{let E=v();Q.value=E,s.value=g()};return he([Ue,re],()=>{n.value=!1,a.value=[],Q.value&&(!Ue.value||re.value||(s.value=g(),a.value=me(Q.value,!0),n.value=!0,l.value="click",setTimeout(()=>{var M;(M=o.value)==null||M.click(),l.value="hover"},0)))}),(E,M)=>{const P=Ne,I=Fn;return n.value?(_(),C(I,{key:0,trigger:l.value,placement:"auto","popper-class":"!p-0 overflow-hidden",onAfterLeave:m},{reference:f(()=>[x("div",{ref_key:"triggerRef",ref:o,class:"absolute w-4 h-4",style:ce({top:r(Ue).y+"px",left:r(Ue).x+"px"})},null,4)]),default:f(()=>[x("div",null,[x("div",Tm,[x("div",Vm,[x("span",null,A(r(t)("common.menu")),1)]),Lm,x("div",Dm,[c(go,{src:r(Sm),title:r(t)("common.narrowSelection"),disabled:!r(b),onClick:k},null,8,["src","title","disabled"]),c(go,{title:r(t)("common.expandSelection"),src:r(Fm),disabled:!r(y),onClick:w},null,8,["title","src","disabled"])])]),(_(!0),S(Z,null,se(r(u),B=>(_(),S("div",{key:B.name,class:"hover:bg-blue/10 px-12 py-8 cursor-pointer flex items-center space-x-8",onClick:L=>d(B,!1)},[c(P,{class:Ge(["iconfont",B.icon])},null,8,["class"]),x("span",null,A(B.display),1)],8,Mm))),128)),r(i).length?(_(),S("p",Im,[x("span",Bm,A(r(t)("common.cmsEdit")),1)])):F("",!0),(_(!0),S(Z,null,se(r(i),B=>(_(),S("div",{key:B.name,class:"px-12 py-8 cursor-pointer flex items-center space-x-8",onClick:L=>d(B,!0)},[c(P,{class:Ge(["iconfont",B.icon])},null,8,["class"]),x("span",null,A(B.display),1)],8,Pm))),128))])]),_:1},8,["trigger"])):F("",!0)}}}),zm=["title"],Om={class:"inline-flex"},Nm={key:1},Hm=V({setup(e){const{t}=H(),n=p(!0),o=[],l=p(!1),s=v=>$(this,null,function*(){switch(v.type){case"src":a(v);break;case"inline":u(v);break;case"style":i(v);break}});function a(v){return $(this,null,function*(){const b=ee(T.value),k=ke(b,v.id);if(!k)return;const E=yield Zn(k);E&&(v.url=k.getAttribute("src"),o.push(E))})}function u(v){return $(this,null,function*(){const b=ee(T.value),k=ke(b,v.id);if(!k)return;const E=yield jn(k);E&&(v.url=k.style.backgroundImage,o.push(E))})}function i(v){return $(this,null,function*(){if(!v.element||!v.rule)return;const b="background-image",k=v.rule.style.getPropertyPriority(b),M=`url('${(yield rn())[0].url}')`,P=ol(v.rule,b);v.rule.style.setProperty(b,M,k);const I=D(v.element),B=z(I,ie);P.changes.push({source:B==null?void 0:B.source,id:B==null?void 0:B.id,action:"styleSheet",mediarulelist:v.media,property:b,selector:v.rule.selectorText,url:v.file,koobooId:te(v.element),important:k,value:M}),o.push(P),v.url=M})}function d(v){if(!v.id)return;const b=ee(T.value),k=ke(b,v.id);!k||(k.scrollIntoView({behavior:"smooth"}),$e.value=k)}const g=v=>{if(!v)return t("common.page");const b=v.split("/");return b[b.length-1]},m=v=>{var k;const b=[];if(b.push(g(v.file)),v.id){const E=ee(T.value),M=ke(E,v.id);M&&b.push(...me(M,!0).map(P=>{var I;return(I=P.nodeName)==null?void 0:I.toLowerCase()}).reverse().filter(P=>!["html","body"].includes(P)))}return(k=v.rule)!=null&&k.selectorText&&b.push(v.rule.selectorText),b.filter(E=>!!E).join(" > ")},h=v=>{switch(v.type){case"style":return t("common.style");case"inline":return t("common.inlineStyle");case"src":return t("common.image");default:return""}},y=()=>{l.value=!0,n.value=!1};function w(v){return $(this,null,function*(){!l.value&&o.length&&(yield Qe(t("common.unsavedChangesLeaveTips"))),v()})}return(v,b)=>{var O;const k=Yt,E=Vo,M=en,P=tn,I=nn,B=ue,L=G;return _(),C(L,{"model-value":n.value,width:"800px","close-on-click-modal":!1,title:r(t)("common.globalImageList"),draggable:"","custom-class":"el-dialog--zero-padding","before-close":w,onClosed:b[1]||(b[1]=oe=>r(Rm)(l.value,o))},Jt({default:f(()=>{var oe;return[(oe=r(ht))!=null&&oe.length?(_(),C(P,{key:0},{default:f(()=>[c(M,{data:r(ht),"max-height":"540px",onCellMouseEnter:d,onCellClick:s},{default:f(()=>[c(k,{width:"20"}),c(k,{label:r(t)("common.path")},{default:f(({row:Y})=>[x("div",{class:"ellipsis",title:m(Y)},A(m(Y)),9,zm)]),_:1},8,["label"]),c(k,{label:r(t)("common.type")},{default:f(({row:Y})=>[c(E,{type:"success",round:""},{default:f(()=>[R(A(h(Y)),1)]),_:2},1024)]),_:1},8,["label"]),c(k,{align:"right",width:"120"},{default:f(({row:Y})=>[x("div",Om,[c(In,{src:Y.url,"has-url-wrap":Y.type!="src",class:"h-80px w-80px overflow-hidden"},null,8,["src","has-url-wrap"])])]),_:1}),c(k,{width:"20"})]),_:1},8,["data"])]),_:1})):(_(),S("div",Nm,[c(I)]))]}),_:2},[(O=r(ht))!=null&&O.length?{name:"footer",fn:f(()=>[c(B,{round:"",onClick:b[0]||(b[0]=oe=>w(()=>n.value=!1))},{default:f(()=>[R(A(r(t)("common.cancel")),1)]),_:1}),c(B,{type:"primary",round:"",onClick:y},{default:f(()=>[R(A(r(t)("common.save")),1)]),_:1})])}:void 0]),1032,["model-value","title"])}}}),lo=p(!1);let Wt;const ht=p(),Um=()=>$(void 0,null,function*(){return Wt=new q,ht.value=Wm(),lo.value=!0,yield Wt.promise}),Rm=(e,t)=>{if(e)t.length&&ae(t),Wt.resolve();else{for(const n of[...t].reverse())n.undo();Wt.reject()}lo.value=!1};function Wm(){const e=[],t=$o(T.value);for(const l of t){const s=qm(l);e.push(...s)}const o=ee(T.value).map(l=>Km(l)).filter(l=>l);return e.push(...o),e}function qm(e,t){var o,l,s;const n=[];for(const a of Array.from((o=e.rules)!=null?o:[]))if(!(!a||ye(e.owner))){if($t(a)){const u=a,i=u.style.getPropertyValue("background-image");i&&!Ct.includes(i)&&i.includes("url")&&n.push({url:i,type:"style",element:e.owner,rule:u,file:e.url})}else if(Co(a)){const u=a;for(const i of Array.from((l=u.cssRules)!=null?l:[])){if(!$t(i)||t&&!t.matchMedia(u.media.mediaText).matches)continue;const d=i,g=d.style.getPropertyValue("background-image");g&&!Ct.includes(g)&&g.includes("url")&&n.push({url:g,type:"style",element:e.owner,rule:d,file:e.url,media:(s=u.media)==null?void 0:s.mediaText})}}}return n}function Km(e){if(ye(e))return;const t=Oe();if(ml(e)){e.setAttribute(ze,t);const o=e.getAttribute("src");if(o)return{type:"src",url:o,id:t}}const n=e.style.getPropertyValue("background-image");if(n&&n!="none")return e.setAttribute(ze,t),{type:"inline",url:n,id:t}}const Gm=["title"],Jm=["title"],Zm={key:1},Qm=V({setup(e){const{t}=H(),n=p(!0),o=[],l=p(!1),s=d=>$(this,null,function*(){const g=ee(T.value),m=ke(g,d.id);if(!m)return;const h=yield Xn(m);h&&(d.url=m.getAttribute("href"),o.push(h))}),a=d=>{const g=ee(T.value),m=ke(g,d.id);!m||(m.scrollIntoView({behavior:"smooth"}),$e.value=m)},u=()=>{l.value=!0,n.value=!1};function i(d){return $(this,null,function*(){!l.value&&o.length&&(yield Qe(t("common.unsavedChangesLeaveTips"))),d()})}return(d,g)=>{const m=Yt,h=ue,y=en,w=tn,v=nn,b=G;return _(),C(b,{"model-value":n.value,width:"600px","close-on-click-modal":!1,title:r(t)("common.globalLinkList"),draggable:"","before-close":i,"custom-class":"el-dialog--zero-padding",onClosed:g[1]||(g[1]=k=>r(ef)(l.value,o))},Jt({default:f(()=>[r(yt).length?(_(),C(w,{key:0},{default:f(()=>[c(y,{data:r(yt),"max-height":"540px",onCellMouseEnter:a},{default:f(()=>[c(m,{width:"20px"}),c(m,{label:r(t)("common.url")},{default:f(({row:k})=>[x("div",{class:"ellipsis",title:k.url},A(k.url),9,Gm)]),_:1},8,["label"]),c(m,{label:r(t)("common.content")},{default:f(({row:k})=>[x("div",{class:"ellipsis",title:k.content},A(k.content),9,Jm)]),_:1},8,["label"]),c(m,{width:"100",align:"right"},{default:f(({row:k})=>[c(h,{type:"primary",round:"",size:"small",onClick:E=>s(k)},{default:f(()=>[R(A(r(t)("common.edit")),1)]),_:2},1032,["onClick"])]),_:1}),c(m,{width:"20"})]),_:1},8,["data"])]),_:1})):(_(),S("div",Zm,[c(v)]))]),_:2},[r(yt).length?{name:"footer",fn:f(()=>[c(h,{round:"",onClick:g[0]||(g[0]=k=>i(()=>n.value=!1))},{default:f(()=>[R(A(r(t)("common.cancel")),1)]),_:1}),c(h,{type:"primary",round:"",onClick:u},{default:f(()=>[R(A(r(t)("common.save")),1)]),_:1})])}:void 0]),1032,["model-value","title"])}}}),qt=p(!1);let lt;const yt=p([]),Xm=()=>$(void 0,null,function*(){return lt=new q,yt.value=Ym(),qt.value=!0,yield lt.promise});function Ym(){const e=ee(T.value).filter(n=>!ye(n)),t=[];for(const n of e){if(!vl(n))continue;const o=Oe();n.setAttribute(ze,o),t.push({url:n.getAttribute("href"),id:o,content:n.textContent||n.innerText||""})}return t}const ef=(e,t)=>{if(qt.value=!1,lt.resolve(),e)t.length&&ae(t),lt.resolve();else{for(const n of[...t].reverse())n.undo();lt.reject()}qt.value=!1},tf=V({props:{value:null},emits:["finish"],setup(e,{emit:t}){const n=e,{t:o}=H(),l=p(!0),s=p(n.value);let a=p(!1);const u=()=>{a.value=n.value!=s.value,l.value=!1};return(i,d)=>{const g=ct,m=ue,h=G;return _(),S("div",null,[c(h,{"model-value":l.value,width:"600px","close-on-click-modal":!1,title:r(o)("common.text"),draggable:"",onClosed:d[2]||(d[2]=y=>t("finish",r(a),s.value))},{footer:f(()=>[c(m,{round:"",onClick:d[1]||(d[1]=y=>l.value=!1)},{default:f(()=>[R(A(r(o)("common.cancel")),1)]),_:1}),c(m,{type:"primary",round:"",onClick:u},{default:f(()=>[R(A(r(o)("common.save")),1)]),_:1})]),default:f(()=>[c(g,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=y=>s.value=y),rows:4,type:"textarea"},null,8,["modelValue"])]),_:1},8,["model-value","title"])])}}}),nf=["title"],of={key:1},lf=V({setup(e){const{t}=H(),n=p(!0),o=[],l=p(!1),s=p();let a=p();const u=h=>$(this,null,function*(){const y=ee(T.value),w=ke(y,h.id);if(!w)return;const{element:v}=N(w),b=v.innerHTML;s.value=h,a.value=new q;const k=yield a.value.promise;h.text.data=k,h.content=k;const E=fe(v),M=ve(E,b),P=Kn(w);if(!P)throw new Error("can not get change");M.changes.push(P),o.push(M)}),i=h=>{const y=ee(T.value),w=ke(y,h.id);!w||(w.scrollIntoView({behavior:"smooth"}),$e.value=w)},d=(h,y)=>{var w,v;h?(w=a.value)==null||w.resolve(y):(v=a.value)==null||v.reject(y),a.value=void 0},g=()=>{l.value=!0,n.value=!1};function m(h){return $(this,null,function*(){!l.value&&o.length&&(yield Qe(t("common.unsavedChangesLeaveTips"))),h()})}return(h,y)=>{var P,I;const w=Yt,v=ue,b=en,k=tn,E=nn,M=G;return _(),S(Z,null,[c(M,{"model-value":n.value,width:"600px","close-on-click-modal":!1,title:r(t)("common.globalTextList"),draggable:"","before-close":m,"custom-class":"el-dialog--zero-padding",onClosed:y[1]||(y[1]=B=>r(af)(l.value,o))},Jt({default:f(()=>[r(bt).length?(_(),C(k,{key:0},{default:f(()=>[c(b,{data:r(bt),"max-height":"540px",onCellMouseEnter:i},{default:f(()=>[c(w,{width:"20px"}),c(w,{label:r(t)("common.text")},{default:f(({row:B})=>[x("div",{class:"ellipsis",title:B.content},A(B.content),9,nf)]),_:1},8,["label"]),c(w,{width:"100",align:"right"},{default:f(({row:B})=>[c(v,{type:"primary",round:"",size:"small",onClick:L=>u(B)},{default:f(()=>[R(A(r(t)("common.edit")),1)]),_:2},1032,["onClick"])]),_:1}),c(w,{width:"20"})]),_:1},8,["data"])]),_:1})):(_(),S("div",of,[c(E)]))]),_:2},[r(bt).length?{name:"footer",fn:f(()=>[c(v,{round:"",onClick:y[0]||(y[0]=B=>m(()=>n.value=!1))},{default:f(()=>[R(A(r(t)("common.cancel")),1)]),_:1}),c(v,{type:"primary",round:"",onClick:g},{default:f(()=>[R(A(r(t)("common.save")),1)]),_:1})])}:void 0]),1032,["model-value","title"]),r(a)?(_(),C(tf,{key:0,value:(I=(P=s.value)==null?void 0:P.content)!=null?I:"",onFinish:d},null,8,["value"])):F("",!0)],64)}}}),Kt=p(!1);let rt;const bt=p([]),rf=()=>$(void 0,null,function*(){return rt=new q,bt.value=sf(),Kt.value=!0,yield rt.promise});function sf(){var n;const e=[];for(const o of wo(T.value.body,!0)){if(!Gl(o))continue;const l=o;if(!l.data.trim().replaceAll(`\r
`,"").replaceAll(`
`,""))continue;const a=l.parentElement;if(ye(a))continue;const u=(n=a==null?void 0:a.tagName)==null?void 0:n.toLowerCase();u=="script"||u=="style"||e.push({text:l,el:a})}const t=[];for(const o of e){if(!o.el||!ul(o.el))continue;const l=o.el.getAttribute(ze)||Oe();o.el.setAttribute(ze,l),t.push({text:o.text,id:l,content:o.text.data})}return t}const af=(e,t)=>{if(Kt.value=!1,rt.resolve(),e)t.length&&ae(t),rt.resolve();else{for(const n of[...t].reverse())n.undo();rt.reject()}Kt.value=!1};const cf={class:"mt-8"},uf=V({emits:["save"],setup(e,{expose:t,emit:n}){const o=p("general"),l=p(),{rootProps:s,linkFields:a,generalFields:u,initPageStyles:i}=yr(),d=p(),g=p(!1),{t:m}=H();function h(){g.value=!1}function y(v){const b=JSON.parse(v.designConfig);i(b),l.value=v,d.value=b,g.value=!0}const w=()=>$(this,null,function*(){const v=Sn(s.value);d.value.props=v,console.log(["newProps",v]),l.value.designConfig=JSON.stringify(d.value),n("save",l.value),h(),location.reload()});return t({init:y}),(v,b)=>{const k=Ee,E=Ao,M=To,P=G;return g.value?(_(),C(P,{key:0,modelValue:g.value,"onUpdate:modelValue":b[1]||(b[1]=I=>g.value=I),width:"800px","close-on-click-modal":!1,title:r(m)("common.styles"),"custom-class":"el-dialog--zero-padding",onClosed:h},{footer:f(()=>[c(Se,{onConfirm:w,onCancel:h})]),default:f(()=>[c(k,{content:r(m)("common.immediatelyChange")},null,8,["content"]),x("div",cf,[c(M,{modelValue:o.value,"onUpdate:modelValue":b[0]||(b[0]=I=>o.value=I)},{default:f(()=>[r(u).length?(_(),C(E,{key:0,label:r(m)("common.general"),name:"general"},{default:f(()=>[c(co,{class:"props-editor-form",model:r(s),fields:r(u)},null,8,["model","fields"])]),_:1},8,["label"])):F("",!0),r(a).length?(_(),C(E,{key:1,label:r(m)("common.link"),name:"link"},{default:f(()=>[c(co,{class:"props-editor-form",model:r(s),fields:r(a)},null,8,["model","fields"])]),_:1},8,["label"])):F("",!0)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title"])):F("",!0)}}}),df={class:"space-y-8"},mf=["onClick"],ff={key:0},pf=V({props:{page:null},emits:["save"],setup(e,{emit:t}){const n=e,{t:o}=H(),l=p(),s=p(),a=Xr(),u=K(()=>{var g,m;return((g=n.page)==null?void 0:g.type)==="Designer"&&!((m=n.page)!=null&&m.layoutName)}),i=()=>$(this,null,function*(){const g=Re("path");yield Do(g),setTimeout(()=>{location.reload()},500)});function d(){var g;!n.page||(g=l.value)==null||g.init(n.page)}return(g,m)=>{const h=Ne,y=ue,w=Er,v=Fn,b=Pl;return _(),S(Z,null,[r(re)?F("",!0):(_(),C(Xo,{key:0,handler:s.value,init:{x:r(a).x-100,y:32}},{default:f(()=>[x("div",df,[x("div",{ref_key:"handleElement",ref:s},[c(y,{size:"large",plain:"",circle:"",class:"cursor-move"},{default:f(()=>[c(h,{class:"iconfont icon-move"})]),_:1})],512),x("div",null,[c(v,{placement:"left",trigger:"click"},{reference:f(()=>[x("div",{onClick:m[0]||(m[0]=gn(()=>{},["stop"]))},[c(w,{content:r(o)("common.toggleScreenSize"),placement:"auto"},{default:f(()=>[c(y,{size:"large",plain:"",circle:""},{default:f(()=>[c(h,{class:"iconfont icon-database"})]),_:1})]),_:1},8,["content"])])]),default:f(()=>[x("div",null,[(_(!0),S(Z,null,se(r(At),k=>(_(),S("div",{key:k.name,class:Ge(["py-4 px-8 hover:bg-blue/10 rounded-4px cursor-pointer",r(Je).name==k.name?"text-blue":""]),onClick:E=>r(di)(k.name)},A(k.display),11,mf))),128))])]),_:1})]),r(u)?(_(),S("div",ff,[c(w,{content:r(o)("common.styles"),placement:"auto"},{default:f(()=>[c(y,{size:"large",plain:"",circle:"",onClick:d},{default:f(()=>[c(h,{class:"iconfont icon-page"})]),_:1})]),_:1},8,["content"])])):F("",!0),x("div",null,[c(w,{content:r(o)("common.colors"),placement:"auto"},{default:f(()=>[c(y,{size:"large",plain:"",circle:"",onClick:m[1]||(m[1]=k=>{var E;return r(ll)((E=r(T))==null?void 0:E.documentElement)})},{default:f(()=>[c(h,{class:"iconfont icon-background-color"})]),_:1})]),_:1},8,["content"])]),x("div",null,[c(w,{content:r(o)("common.images"),placement:"auto"},{default:f(()=>[c(y,{size:"large",plain:"",circle:"",onClick:m[2]||(m[2]=k=>r(Um)())},{default:f(()=>[c(h,{class:"iconfont icon-photo"})]),_:1})]),_:1},8,["content"])]),x("div",null,[c(w,{content:r(o)("common.links"),placement:"auto"},{default:f(()=>[c(y,{size:"large",plain:"",circle:"",onClick:m[3]||(m[3]=k=>r(Xm)())},{default:f(()=>[c(h,{class:"iconfont icon-link1"})]),_:1})]),_:1},8,["content"])]),x("div",null,[c(w,{content:r(o)("common.text"),placement:"auto"},{default:f(()=>[c(y,{size:"large",plain:"",circle:"",onClick:m[4]||(m[4]=k=>r(rf)())},{default:f(()=>[c(h,{class:"iconfont icon-menu"})]),_:1})]),_:1},8,["content"])]),x("div",null,[c(w,{content:r(o)("common.undo"),placement:"auto"},{default:f(()=>[c(b,{value:r(Be),hidden:!r(Be),class:"!dark:border-none"},{default:f(()=>[c(y,{size:"large",plain:"",circle:"",disabled:!r(Be),onClick:m[5]||(m[5]=k=>r(qr)())},{default:f(()=>[c(h,{class:"iconfont icon-go-back"})]),_:1},8,["disabled"])]),_:1},8,["value","hidden"])]),_:1},8,["content"])]),x("div",null,[c(w,{content:r(o)("common.redo"),placement:"auto"},{default:f(()=>[c(b,{value:r(an),hidden:!r(an)},{default:f(()=>[c(y,{size:"large",plain:"",circle:"",disabled:!r(an),onClick:m[6]||(m[6]=k=>r(Kr)())},{default:f(()=>[c(h,{class:"iconfont icon-go-back transform rotate-y-180"})]),_:1},8,["disabled"])]),_:1},8,["value","hidden"])]),_:1},8,["content"])]),x("div",null,[c(w,{content:r(o)("common.save"),placement:"auto"},{default:f(()=>[c(y,{size:"large",plain:"",circle:"",disabled:!r(Be),onClick:i},{default:f(()=>[c(h,{class:"iconfont icon-preservation"})]),_:1},8,["disabled"])]),_:1},8,["content"])])])]),_:1},8,["handler","init"])),c(uf,{ref_key:"styleDialogRef",ref:l,onSave:m[7]||(m[7]=k=>t("save",k))},null,512)],64)}}}),vf={key:0,class:"h-full relative bg-gray"},gf=x("div",null,null,-1),_f=V({setup(e){const t=Re("type"),n=Re("id");let o=Re("path");o!=null&&o.startsWith("/")||(o="/"+o);const l=p(),{t:s}=H(),a=jl();a.load(),Fo().loadBindings(),localStorage.setItem("vueuse-color-scheme",Re("scheme"));const{page:i,allPages:d,initPageDesigner:g,onSave:m}=oo();function h(y){return $(this,null,function*(){yield m(y)})}return kn("ve-get-pages",()=>d.value),Gt(()=>$(this,null,function*(){n&&t==="Designer"&&(yield g(n));const y=$n(yo(o,{koobooInline:"design"})),{data:w,headers:v}=yield zl.get(y,{baseURL:""});l.value=w,v["k-culture"]&&(ui.value=v["k-culture"])})),(y,w)=>{const v=Br;return _(),C(v,{locale:r(a).locale},{default:f(()=>[l.value?(_(),S("div",vf,[c(r(ai),{content:l.value,class:"bg-fff"},null,8,["content"]),c(r(ci)),c(r(li)),c(r(jm),{page:r(i)},null,8,["page"]),c(r(pf),{page:r(i),onSave:h},null,8,["page"]),r(Jn)?(_(),C(r(lu),{key:0})):F("",!0),r(lo)?(_(),C(r(Hm),{key:1})):F("",!0),r(Gn)?(_(),C(r(Pc),{key:2})):F("",!0),r(On)?(_(),C(r(Ua),{key:3})):F("",!0),r(qt)?(_(),C(r(Qm),{key:4})):F("",!0),r(Kt)?(_(),C(r(lf),{key:5})):F("",!0),r(Rn)?(_(),C(r(nc),{key:6})):F("",!0),r(eo)?(_(),C(r(sd),{key:7})):F("",!0),c(r(Ui)),r(Bn)?(_(),C(r(Ts),{key:8})):F("",!0),r(no)?(_(),C(r(Id),{key:9})):F("",!0),r(Hn)?(_(),C(r(Di),{key:10})):F("",!0),r(Yn)?(_(),C(r(Ku),{key:11})):F("",!0),r(Wn)?(_(),C(r(vc),{key:12})):F("",!0),r(tt)?(_(),C(ir,{key:13,modelValue:r(tt),"onUpdate:modelValue":w[0]||(w[0]=b=>U(tt)?tt.value=b:null),current:r(Qn),alert:r(s)("common.immediatelyChange"),onSuccess:r(Su)},null,8,["modelValue","current","alert","onSuccess"])):F("",!0),r(qe)?(_(),C(Sr,{key:14,modelValue:r(qe),"onUpdate:modelValue":w[1]||(w[1]=b=>U(qe)?qe.value=b:null),current:r(pl),alert:r(s)("common.immediatelyChange"),onSuccess:r(gu)},null,8,["modelValue","current","alert","onSuccess"])):F("",!0),r(to)?(_(),C(r(xd),{key:15})):F("",!0),r(Ye)?(_(),C(r(Fr),{key:16,modelValue:r(Ye),"onUpdate:modelValue":w[2]||(w[2]=b=>U(Ye)?Ye.value=b:null),multiple:r(Wo),onChoose:r(ss)},null,8,["modelValue","multiple","onChoose"])):F("",!0),r(de)&&r(i)?(_(),C(r(om),{key:17,modelValue:r(de),"onUpdate:modelValue":w[3]||(w[3]=b=>U(de)?de.value=b:null),page:r(i)},null,8,["modelValue","page"])):F("",!0),gf])):F("",!0)]),_:1},8,["locale"])}}});var kg=_f;export{kg as default};
