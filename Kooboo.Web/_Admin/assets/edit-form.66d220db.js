var I=(t,_,i)=>new Promise((l,u)=>{var g=n=>{try{x(i.next(n))}catch(r){u(r)}},k=n=>{try{x(i.throw(n))}catch(r){u(r)}},x=n=>n.done?l(n.value):Promise.resolve(n.value).then(g,k);x((i=i.apply(t,_)).next())});import{_ as T}from"./tooltip.28a451cc.js";import{g as S}from"./i18n.48bd28ac.js";import{b as L,e as R}from"./shipping.f7d1d018.js";import{_ as z}from"./condition.5fbdcdcf.js";import{u as H}from"./commerce.f8d3336c.js";import{_ as q}from"./icon-button.3313e42d.js";import{E as B}from"./index.d4bbb472.js";import{E as G,a as J}from"./index.0d2684bf.js";import{E as F}from"./index.fc90f5ad.js";import{d as M,g as $,c as K,o as b,a as v,F as U,b6 as A,b as e,w as d,j as O,u as o,f as c,t as y,n as P,k as N,aH as Q}from"./url.2e6a77c4.js";import{E as W,a as X}from"./index.6855d037.js";import{E as Y}from"./windi.a5b0b048.js";import{E as Z}from"./index.379e80ad.js";import{E as ee}from"./index.2bc50276.js";const oe={class:"w-840px space-y-8"},le={class:"flex items-center gap-4"},te={class:"dark:text-[#cfd3dc]"},ne={class:"dark:text-[#cfd3dc]"},ae=M({props:{modelValue:null},emits:["update:modelValue"],setup(t,{emit:_}){const i=t,{t:l}=S(),u=$([]);L().then(n=>u.value=n);const g=K(()=>u.value.filter(n=>!i.modelValue.find(r=>n.key==r.name)));function k(){var r;const n=(r=g.value[0])==null?void 0:r.key;!n||_("update:modelValue",[...i.modelValue,{name:n,display:"",estimatedDaysOfArrival:3}])}function x(n){i.modelValue.splice(n,1)}return(n,r)=>{const s=G,V=J,p=F,C=q;return b(),v("div",oe,[(b(!0),v(U,null,A(t.modelValue,(f,h)=>(b(),v("div",{key:h,class:"flex items-center gap-8"},[e(V,{modelValue:f.name,"onUpdate:modelValue":m=>f.name=m},{default:d(()=>[(b(!0),v(U,null,A(u.value,m=>(b(),O(s,{key:m.key,label:m.value,value:m.key},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(p,{modelValue:f.display,"onUpdate:modelValue":m=>f.display=m,class:"w-240px",placeholder:o(l)("common.alias")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),c("div",le,[c("span",te,y(o(l)("common.estimate")),1),e(o(B),{modelValue:f.estimatedDaysOfArrival,"onUpdate:modelValue":m=>f.estimatedDaysOfArrival=m,min:1},null,8,["modelValue","onUpdate:modelValue"]),c("span",ne,y(o(l)("common.daysOfArrival")),1)]),e(C,{circle:"",class:"hover:text-orange text-orange",icon:"icon-delete ",tip:o(l)("common.delete"),onClick:m=>x(h)},null,8,["tip","onClick"])]))),128)),e(C,{circle:"",icon:"icon-a-addto",class:"text-blue hover:text-blue",tip:o(l)("common.add"),onClick:k},null,8,["tip"])])}}}),se={class:"px-24 pt-0 pb-84px space-y-12"},de={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},me={class:"w-16 h-16 flex items-center justify-center transform origin-center scale-75"},ce={class:"grid grid-cols-2 gap-8 mt-8"},ie={class:"bg-fff dark:bg-[#252526] px-24 py-16 rounded-normal"},re={class:"flex gap-x-8"},ue={class:"w-16 h-16 flex items-center justify-center transform origin-center scale-75"},pe={class:"flex items-center"},Ae=M({props:{model:null},setup(t){const _=t,i=$([]),{t:l}=S(),u=H(),g=$(!1);function k(){return I(this,null,function*(){i.value=yield R()})}function x(){_.model.additionalCosts.push({description:"",cost:0,condition:{isAny:!1,items:[]}})}function n(r){_.model.additionalCosts=_.model.additionalCosts.filter(s=>s!=r)}return k(),(r,s)=>{const V=F,p=W,C=B,f=Y,h=Z,m=T,w=X,j=ee;return b(),v("div",se,[c("div",de,[e(w,{"label-position":"top"},{default:d(()=>[e(p,{label:o(l)("common.name")},{default:d(()=>[e(V,{modelValue:t.model.name,"onUpdate:modelValue":s[0]||(s[0]=a=>t.model.name=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:o(l)("common.description")},{default:d(()=>[e(V,{modelValue:t.model.description,"onUpdate:modelValue":s[1]||(s[1]=a=>t.model.description=a),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:`${o(l)("common.baseCost")} (${o(u).settings.currencyCode})`},{default:d(()=>[e(C,{modelValue:t.model.baseCost,"onUpdate:modelValue":s[2]||(s[2]=a=>t.model.baseCost=a),min:1},{suffix:d(()=>[c("div",me,y(o(u).settings.currencyCode),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(h,{placement:"top",content:g.value?o(l)("common.hideAdvanceSettings"):o(l)("common.showAdvanceSettings")},{default:d(()=>[c("div",{class:"flex items-center justify-center h-40px cursor-pointer bg-card dark:bg-444 hover:bg-[#eff6ff] dark:hover:bg-444","data-cy":"show-advance-settings",onClick:s[3]||(s[3]=a=>g.value=!g.value)},[e(f,{class:P(["iconfont icon-pull-down text-s leading-none cursor-pointer transform origin-center transition duration-200 dark:text-fff/86",g.value?"rotate-180":"rotate-0"])},null,8,["class"])])]),_:1},8,["content"]),g.value?(b(),v(U,{key:0},[c("div",ce,[e(p,null,{label:d(()=>[c("span",null,y(o(l)("common.companyCode")),1),e(m,{tip:o(l)("common.expressCompanyCodeTip"),"custom-class":"ml-4"},null,8,["tip"])]),default:d(()=>[e(V,{modelValue:t.model.code,"onUpdate:modelValue":s[4]||(s[4]=a=>t.model.code=a),modelModifiers:{number:!0},class:"max-w-280px",placeholder:"e.g., jtexpress"},null,8,["modelValue"])]),_:1}),e(p,null,{label:d(()=>[c("span",null,y(o(l)("common.trackingNumberMatching")),1),e(m,{tip:o(l)("common.trackingNumberMatchingTip"),"custom-class":"ml-4"},null,8,["tip"])]),default:d(()=>[e(V,{modelValue:t.model.trackingNumberMatching,"onUpdate:modelValue":s[5]||(s[5]=a=>t.model.trackingNumberMatching=a),class:"max-w-280px",placeholder:"e.g., sf.*"},null,8,["modelValue"])]),_:1})]),e(p,{label:o(l)("common.supportCountries")},{default:d(()=>[e(ae,{modelValue:t.model.countries,"onUpdate:modelValue":s[6]||(s[6]=a=>t.model.countries=a)},null,8,["modelValue"])]),_:1},8,["label"])],64)):N("",!0)]),_:1})]),c("div",ie,[e(w,{"label-position":"top"},{default:d(()=>[(b(!0),v(U,null,A(t.model.additionalCosts,(a,D)=>(b(),v("div",{key:D,class:"bg-gray/30 dark:bg-[#252526] px-24 py-16 rounded-normal relative mb-8"},[e(w,{"label-position":"top"},{default:d(()=>[c("div",re,[e(p,{label:o(l)("common.costRule")},{default:d(()=>[e(V,{modelValue:a.cost,"onUpdate:modelValue":E=>a.cost=E,modelModifiers:{number:!0},class:"w-280px"},{suffix:d(()=>[c("div",ue,y(o(u).settings.currencyCode),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),e(p,{label:o(l)("common.description"),class:"flex-1"},{default:d(()=>[e(V,{modelValue:a.description,"onUpdate:modelValue":E=>a.description=E},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])])]),_:2},1024),i.value.length?(b(),O(z,{key:0,condition:a.condition,schemas:i.value,title:o(l)("commerce.order")},null,8,["condition","schemas","title"])):N("",!0),e(f,{class:"text-orange iconfont icon-delete absolute top-12 right-12 cursor-pointer",onClick:E=>n(a)},null,8,["onClick"])]))),128)),e(j,{round:"",onClick:x},{default:d(()=>[c("div",pe,[e(f,{class:"mr-16 iconfont icon-a-addto"}),Q(" "+y(o(l)("common.addCostRule")),1)])]),_:1})]),_:1})])])}}});export{Ae as _};
