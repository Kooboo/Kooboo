var se=Object.defineProperty,le=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var _=(o,s,a)=>s in o?se(o,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[s]=a,R=(o,s)=>{for(var a in s||(s={}))ae.call(s,a)&&_(o,a,s[a]);if(K)for(var a of K(s))ne.call(s,a)&&_(o,a,s[a]);return o},M=(o,s)=>le(o,te(s));import{w as re,s as ie,c as Z,a as ue,v as de,T as ce}from"./i18n.bcd18f8a.js";import{u as fe,a as me,b as pe,E as ye}from"./index.a3d8335f.js";import{b as H,i as ve,E as ge,_ as Q,$ as be,d as Ce,f as he,p as ke,a0 as Ee,R as Ie,u as we,w as Be}from"./windi.19264205.js";import{u as De}from"./index.c80f5028.js";import{F as Te,E as $e}from"./focus-trap.eafcfd1f.js";import{c as Ae}from"./refs.d2253dd4.js";import{d as W,B as G,c as L,o as I,a as U,f as O,r as k,n as b,u as e,t as Fe,b as N,w as h,j,l as Se,k as q,m as Re,g as E,i as J,K as Me,h as Oe,A as Ne,bh as Le,b2 as Pe,e as ze,aF as Ve,az as Ue}from"./url.8f5ec20c.js";import{U as X}from"./event.776e7e11.js";import{b as Y}from"./index.05e21f33.js";import{u as je}from"./index.aec72f69.js";const x=Symbol("dialogInjectionKey"),ee=H({center:{type:Boolean,default:!1},closeIcon:{type:ve,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),qe={close:()=>!0},Ke=["aria-label"],_e=["id"],Ze={name:"ElDialogContent"},Ge=W(M(R({},Ze),{props:ee,emits:qe,setup(o){const s=o,{t:a}=De(),{Close:u}=be,{dialogRef:d,headerRef:m,bodyId:w,ns:n,style:r}=G(x),{focusTrapRef:p}=G(Te),c=Ae(p,d),y=L(()=>s.draggable);return fe(d,m,y),(t,i)=>(I(),U("div",{ref:e(c),class:b([e(n).b(),e(n).is("fullscreen",t.fullscreen),e(n).is("draggable",e(y)),{[e(n).m("center")]:t.center},t.customClass]),style:Re(e(r)),tabindex:"-1",onClick:i[1]||(i[1]=re(()=>{},["stop"]))},[O("header",{ref_key:"headerRef",ref:m,class:b(e(n).e("header"))},[k(t.$slots,"header",{},()=>[O("span",{role:"heading",class:b(e(n).e("title"))},Fe(t.title),3)]),t.showClose?(I(),U("button",{key:0,"aria-label":e(a)("el.dialog.close"),class:b(e(n).e("headerbtn")),type:"button",onClick:i[0]||(i[0]=T=>t.$emit("close"))},[N(e(ge),{class:b(e(n).e("close"))},{default:h(()=>[(I(),j(Se(t.closeIcon||e(u))))]),_:1},8,["class"])],10,Ke)):q("v-if",!0)],2),O("div",{id:e(w),class:b(e(n).e("body"))},[k(t.$slots,"default")],10,_e),t.$slots.footer?(I(),U("footer",{key:0,class:b(e(n).e("footer"))},[k(t.$slots,"footer")],2)):q("v-if",!0)],6))}}));var Je=Q(Ge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Ye=H(M(R({},ee),{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Ce(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}})),He={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[X]:o=>ie(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Qe=(o,s)=>{const u=Ne().emit,{nextZIndex:d}=he();let m="";const w=Y(),n=Y(),r=E(!1),p=E(!1),c=E(!1),y=E(o.zIndex||d());let t,i;const T=ke("namespace",Ee),P=L(()=>{const f={},S=`--${T.value}-dialog`;return o.fullscreen||(o.top&&(f[`${S}-margin-top`]=o.top),o.width&&(f[`${S}-width`]=Ie(o.width))),f});function z(){u("opened")}function $(){u("closed"),u(X,!1),o.destroyOnClose&&(c.value=!1)}function V(){u("close")}function A(){i==null||i(),t==null||t(),o.openDelay&&o.openDelay>0?{stop:t}=Z(()=>F(),o.openDelay):F()}function B(){t==null||t(),i==null||i(),o.closeDelay&&o.closeDelay>0?{stop:i}=Z(()=>l(),o.closeDelay):l()}function D(){function f(S){S||(p.value=!0,r.value=!1)}o.beforeClose?o.beforeClose(f):B()}function v(){o.closeOnClickModal&&D()}function F(){!ue||(r.value=!0)}function l(){r.value=!1}function g(){u("openAutoFocus")}function C(){u("closeAutoFocus")}o.lockScroll&&me(r);function oe(){o.closeOnPressEscape&&D()}return J(()=>o.modelValue,f=>{f?(p.value=!1,A(),c.value=!0,u("open"),y.value=o.zIndex?y.value++:d(),Me(()=>{s.value&&(s.value.scrollTop=0)})):r.value&&B()}),J(()=>o.fullscreen,f=>{!s.value||(f?(m=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=m)}),Oe(()=>{o.modelValue&&(r.value=!0,c.value=!0,A())}),{afterEnter:z,afterLeave:$,beforeLeave:V,handleClose:D,onModalClick:v,close:B,doClose:l,onOpenAutoFocus:g,onCloseAutoFocus:C,onCloseRequested:oe,titleId:w,bodyId:n,closed:p,style:P,rendered:c,visible:r,zIndex:y}},We=["aria-label","aria-labelledby","aria-describedby"],Xe={name:"ElDialog"},xe=W(M(R({},Xe),{props:Ye,emits:He,setup(o,{expose:s}){const a=o,u=Le();je({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!u.title));const d=we("dialog"),m=E(),w=E(),n=E(),{visible:r,titleId:p,bodyId:c,style:y,rendered:t,zIndex:i,afterEnter:T,afterLeave:P,beforeLeave:z,handleClose:$,onModalClick:V,onOpenAutoFocus:A,onCloseAutoFocus:B,onCloseRequested:D}=Qe(a,m);Pe(x,{dialogRef:m,headerRef:w,bodyId:c,ns:d,rendered:t,style:y});const v=pe(V),F=L(()=>a.draggable&&!a.fullscreen);return s({visible:r,dialogContentRef:n}),(l,g)=>(I(),j(Ue,{to:"body",disabled:!l.appendToBody},[N(ce,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(P),onBeforeLeave:e(z),persisted:""},{default:h(()=>[ze(N(e(ye),{"custom-mask-event":"",mask:l.modal,"overlay-class":l.modalClass,"z-index":e(i)},{default:h(()=>[O("div",{role:"dialog","aria-modal":"true","aria-label":l.title||void 0,"aria-labelledby":l.title?void 0:e(p),"aria-describedby":e(c),class:b(`${e(d).namespace.value}-overlay-dialog`),onClick:g[0]||(g[0]=(...C)=>e(v).onClick&&e(v).onClick(...C)),onMousedown:g[1]||(g[1]=(...C)=>e(v).onMousedown&&e(v).onMousedown(...C)),onMouseup:g[2]||(g[2]=(...C)=>e(v).onMouseup&&e(v).onMouseup(...C))},[N(e($e),{loop:"",trapped:e(r),"focus-start-el":"container",onFocusAfterTrapped:e(A),onFocusAfterReleased:e(B),onReleaseRequested:e(D)},{default:h(()=>[e(t)?(I(),j(Je,{key:0,ref_key:"dialogContentRef",ref:n,"custom-class":l.customClass,center:l.center,"close-icon":l.closeIcon,draggable:e(F),fullscreen:l.fullscreen,"show-close":l.showClose,title:l.title,onClose:e($)},Ve({header:h(()=>[l.$slots.title?k(l.$slots,"title",{key:1}):k(l.$slots,"header",{key:0,close:e($),titleId:e(p),titleClass:e(d).e("title")})]),default:h(()=>[k(l.$slots,"default")]),_:2},[l.$slots.footer?{name:"footer",fn:h(()=>[k(l.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","title","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,We)]),_:3},8,["mask","overlay-class","z-index"]),[[de,e(r)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}));var eo=Q(xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const mo=Be(eo);export{mo as E};
