var c=(a,m,r)=>new Promise((t,s)=>{var n=i=>{try{o(r.next(i))}catch(f){s(f)}},e=i=>{try{o(r.throw(i))}catch(f){s(f)}},o=i=>i.done?t(i.value):Promise.resolve(i.value).then(n,e);o((r=r.apply(a,m)).next())});import{A as d}from"./url.4cb47a7a.js";import{a as w,r as g}from"./classCompletion.a22e38a6.js";import{a as v,b as C}from"./extraLib.d94bb2b4.js";import{m as l}from"./userWorker.b3a6730b.js";import{a as u}from"./index.50c16ae5.js";import"./editor.main.d2800f63.js";import"./preload-helper.13a99eb0.js";function p(){return c(this,null,function*(){const{data:a}=yield u.get(d("/_api/v2","KScript/GetKViewSuggestions"));return a})}function k(){return c(this,null,function*(){const{data:a}=yield u.get(d("/_api/v2","KScript/GetDefine"));return a})}function S(){return c(this,null,function*(){const{data:a}=yield u.get(d("/_api/v2","KScript/GetClassSuggestions"));return a})}window._monaco={instance:l,init(a,m,r,t){return c(this,null,function*(){if(t=t!=null?t:{},t.kview===void 0&&(t.kview=!0),t.kscript===void 0&&(t.kscript=!0),t.classCompletion===void 0&&(t.classCompletion=!0),t.kview){const e=yield p();w(e)}if(t.classCompletion){const e=yield S();g(e)}if(t.kscript){const e=yield k();v(e,"default.d.ts")}const s=l.editor.createModel(m,r),n=l.editor.create(a,{value:m,model:s});return C(n),s})}};
